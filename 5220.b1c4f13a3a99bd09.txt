"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="88b3c9c7-9461-5a02-a901-6458fb983298")}catch(e){}}();
(self.webpackChunkassess=self.webpackChunkassess||[]).push([[5220],{84475:(ie,B,m)=>{m.d(B,{R:()=>D,q:()=>$});var t=m(71670),e=m(22560),g=m(2413),O=m(16174),x=m(52736),z=m(45705),k=m(23542),Q=m(58987),Z=m(17665),R=m(94666);function E(d,P){1&d&&(e.ynx(0),e.TgZ(1,"div",5),e._uU(2," Running system check. Please wait "),e.qZA(),e.TgZ(3,"div",6),e._uU(4," We are running this to ensure you are able to attend the test without any hiccups "),e.qZA(),e.BQk())}function S(d,P){1&d&&(e.TgZ(0,"div",7),e._uU(1," System checks successfully completed. "),e.qZA())}function p(d,P){1&d&&(e.TgZ(0,"div",7),e._uU(1," System check failed "),e.qZA())}function A(d,P){if(1&d&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"i",12),e.qZA()(),e.TgZ(4,"div",13),e._uU(5),e.qZA()()),2&d){const o=e.oxw(2).$implicit;e.xp6(5),e.Oqu(o.name)}}function l(d,P){if(1&d&&(e.TgZ(0,"div",9)(1,"div",14),e.O4$(),e.TgZ(2,"svg",15),e._UZ(3,"rect",16),e.TgZ(4,"defs")(5,"pattern",17),e._UZ(6,"use",18),e.qZA(),e._UZ(7,"image",19),e.qZA()()(),e.kcU(),e.TgZ(8,"div",20)(9,"div",21),e._uU(10),e.qZA(),e.TgZ(11,"div",22),e._uU(12),e.qZA()()()),2&d){const o=e.oxw(2).$implicit;e.xp6(10),e.Oqu(o.name),e.xp6(2),e.Oqu(o.loadMsg)}}function f(d,P){if(1&d&&(e.ynx(0),e._uU(1),e.BQk()),2&d){const o=e.oxw(4).$implicit;e.xp6(1),e.AsE(" ",o.data.browser.name," Version ",o.data.browser.fullVersion," ")}}function w(d,P){if(1&d&&(e.ynx(0),e._uU(1),e.BQk()),2&d){const o=e.oxw(4).$implicit;e.xp6(1),e.AsE(" ",o.data.os.name," Version ",o.data.os.version," ")}}function M(d,P){1&d&&(e.ynx(0),e._uU(1," Looks good! "),e.BQk())}function U(d,P){if(1&d&&(e.ynx(0),e._uU(1),e.BQk()),2&d){const o=e.oxw(4).$implicit;e.xp6(1),e.HOy(" ",o.data.speed.upload.toFixed(2)," ",o.data.speed.unit," upload, ",o.data.speed.download.toFixed(2)," ",o.data.speed.unit," download ")}}function V(d,P){if(1&d&&(e.TgZ(0,"div",24)(1,"div")(2,"span",25),e.O4$(),e.TgZ(3,"svg",26),e._UZ(4,"path",27)(5,"path",28),e.qZA()()(),e.kcU(),e.TgZ(6,"div")(7,"div",21),e._uU(8),e.qZA(),e.TgZ(9,"div",22),e.YNc(10,f,2,2,"ng-container",1),e.YNc(11,w,2,2,"ng-container",1),e.YNc(12,M,2,0,"ng-container",1),e.YNc(13,U,2,4,"ng-container",1),e.qZA()()()),2&d){const o=e.oxw(3).$implicit,_=e.oxw();e.xp6(8),e.Oqu(o.name),e.xp6(2),e.Q6J("ngIf",o.type===_.SystemCheckTypeEnum.BROWSER&&o.data),e.xp6(1),e.Q6J("ngIf",o.type===_.SystemCheckTypeEnum.DEVICE&&o.data),e.xp6(1),e.Q6J("ngIf",o.type===_.SystemCheckTypeEnum.FIREWALL),e.xp6(1),e.Q6J("ngIf",o.type===_.SystemCheckTypeEnum.NET_SPEED&&o.data)}}function H(d,P){1&d&&(e.TgZ(0,"span",39),e.O4$(),e.TgZ(1,"svg",40),e._UZ(2,"path",41),e.qZA()())}function q(d,P){1&d&&(e.TgZ(0,"span",42),e.O4$(),e.TgZ(1,"svg",26),e._UZ(2,"path",43),e.qZA()())}function j(d,P){if(1&d&&(e.ynx(0,null,44),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5," You can still take the test but we advise you to switch to a faster internet connection for a much better experience. "),e.qZA(),e.BQk()),2&d){const o=e.oxw(4).$implicit;e.xp6(3),e.hij("",o.error.msg,".")}}function L(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please refer to this "),e.TgZ(5,"a",45),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give webcam/mic permission "),e.qZA(),e.BQk()),2&d){const o=e.oxw(5).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.cameraProctoredArticle,e.LSH)}}function a(d,P){if(1&d&&e.YNc(0,L,8,2,"ng-container",31),2&d){e.oxw();const o=e.MAs(12),_=e.oxw(3).$implicit;e.Q6J("ngIf","no_media_access"===_.error.code)("ngIfElse",o)}}function v(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please refer to this "),e.TgZ(5,"a",45),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give webcam permission "),e.qZA(),e.BQk()),2&d){const o=e.oxw(5).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.cameraProctoredArticle,e.LSH)}}function i(d,P){if(1&d&&e.YNc(0,v,8,2,"ng-container",31),2&d){e.oxw();const o=e.MAs(14),_=e.oxw(3).$implicit;e.Q6J("ngIf","no_webcam_access"===_.error.code)("ngIfElse",o)}}function s(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please refer to this "),e.TgZ(5,"a",45),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give microphone permission "),e.qZA(),e.BQk()),2&d){const o=e.oxw(5).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.microphonePermissionArticle,e.LSH)}}function r(d,P){if(1&d&&e.YNc(0,s,8,2,"ng-container",31),2&d){e.oxw();const o=e.MAs(16),_=e.oxw(3).$implicit;e.Q6J("ngIf","no_microphone_access"===_.error.code)("ngIfElse",o)}}function n(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please refer to "),e.TgZ(5,"a",45),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give microphone permission and "),e.TgZ(8,"a",45),e._uU(9,"article"),e.qZA(),e._uU(10," on how to give webcam permission "),e.qZA(),e.BQk()),2&d){const o=e.oxw(5).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.microphonePermissionArticle,e.LSH),e.xp6(3),e.Q6J("href",_.cameraProctoredArticle,e.LSH)}}function h(d,P){if(1&d&&e.YNc(0,n,11,3,"ng-container",31),2&d){e.oxw();const o=e.MAs(18),_=e.oxw(3).$implicit;e.Q6J("ngIf","no_webcam_and_microphone_access"===_.error.code)("ngIfElse",o)}}function C(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please refer to "),e.TgZ(5,"a",45),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give screen share permission "),e.qZA(),e.BQk()),2&d){const o=e.oxw(5).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.screenSharePermission,e.LSH)}}function c(d,P){if(1&d&&e.YNc(0,C,8,2,"ng-container",31),2&d){e.oxw();const o=e.MAs(20),_=e.oxw(3).$implicit;e.Q6J("ngIf","no_screenshare_access"===_.error.code)("ngIfElse",o)}}function y(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please refer to this "),e.TgZ(5,"a",45),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give clipboard permission "),e.qZA(),e.BQk()),2&d){const o=e.oxw(5).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.clipBoardAccessArticle,e.LSH)}}function I(d,P){if(1&d&&e.YNc(0,y,8,2,"ng-container",31),2&d){e.oxw();const o=e.MAs(22),_=e.oxw(3).$implicit;e.Q6J("ngIf","no_clipboard_access"===_.error.code)("ngIfElse",o)}}function b(d,P){if(1&d&&e._uU(0),2&d){const o=e.oxw(4).$implicit;e.Oqu(o.error.msg)}}function W(d,P){if(1&d&&(e.TgZ(0,"div",24)(1,"div"),e.YNc(2,H,3,0,"span",29),e.YNc(3,q,3,0,"span",30),e.qZA(),e.TgZ(4,"div")(5,"div",21),e._uU(6),e.qZA(),e.TgZ(7,"div",22),e.YNc(8,j,6,1,"ng-container",31),e.YNc(9,a,1,2,"ng-template",null,32,e.W1O),e.YNc(11,i,1,2,"ng-template",null,33,e.W1O),e.YNc(13,r,1,2,"ng-template",null,34,e.W1O),e.YNc(15,h,1,2,"ng-template",null,35,e.W1O),e.YNc(17,c,1,2,"ng-template",null,36,e.W1O),e.YNc(19,I,1,2,"ng-template",null,37,e.W1O),e.YNc(21,b,1,1,"ng-template",null,38,e.W1O),e.qZA()()()),2&d){const o=e.MAs(10),_=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngIf","warn"===_.error.type),e.xp6(1),e.Q6J("ngIf","error"===_.error.type),e.xp6(3),e.Oqu(_.name),e.xp6(2),e.Q6J("ngIf","slow_speed"===_.error.code)("ngIfElse",o)}}function F(d,P){if(1&d&&(e.ynx(0),e.YNc(1,V,14,5,"div",23),e.YNc(2,W,23,5,"div",23),e.BQk()),2&d){const o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!o.error),e.xp6(1),e.Q6J("ngIf",o.error)}}function N(d,P){if(1&d&&(e.ynx(0),e.YNc(1,A,6,1,"div",8),e.YNc(2,l,13,2,"div",8),e.YNc(3,F,3,2,"ng-container",1),e.BQk()),2&d){const o=e.oxw().$implicit,_=e.oxw();e.xp6(1),e.Q6J("ngIf",o.state===_.SystemCheckStateEnum.PENDING),e.xp6(1),e.Q6J("ngIf",o.state===_.SystemCheckStateEnum.ONGOING),e.xp6(1),e.Q6J("ngIf",o.state===_.SystemCheckStateEnum.COMPLETED)}}function oe(d,P){if(1&d&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"i",12),e.qZA()(),e.TgZ(4,"div",13),e._uU(5),e.qZA()()),2&d){const o=e.oxw(2).$implicit;e.xp6(5),e.Oqu(o.name)}}function ce(d,P){if(1&d&&(e.TgZ(0,"div",53),e._uU(1," Click 'Start Mic Test' to check your microphone. "),e.TgZ(2,"a",54),e._uU(3," Configure Your Microphone "),e.qZA()()),2&d){const o=e.oxw(4);e.xp6(2),e.Q6J("href",o.audioVideoDeviceConfiguration,e.LSH)}}function de(d,P){1&d&&e._UZ(0,"div",59)}function ee(d,P){if(1&d&&(e.TgZ(0,"div",55),e.O4$(),e.TgZ(1,"svg",26),e._UZ(2,"path",56),e.qZA(),e.kcU(),e.TgZ(3,"div",57),e.YNc(4,de,1,0,"div",58),e.qZA()()),2&d){const o=e.oxw(4);e.xp6(4),e.Q6J("ngForOf",o.audioAnalyzerBars)}}function Y(d,P){1&d&&(e.TgZ(0,"div",53),e._uU(1," Please say, 'The quick brown fox jumps over the lazy dog.' "),e.qZA())}const J=function(d){return{disabled:d}};function ne(d,P){if(1&d){const o=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"div",9)(3,"div",9),e.O4$(),e.TgZ(4,"svg",46),e._UZ(5,"path",47),e.qZA()(),e.kcU(),e.TgZ(6,"div",20)(7,"div",21),e._uU(8),e.qZA()()(),e.TgZ(9,"div",48)(10,"div",49)(11,"div")(12,"button",50),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).startMicrophoneTest()}),e.TgZ(13,"div"),e._uU(14),e.qZA()(),e.YNc(15,ce,4,1,"div",51),e.qZA(),e.YNc(16,ee,5,1,"div",52),e.qZA(),e.YNc(17,Y,2,0,"div",51),e.qZA()(),e.BQk()}if(2&d){const o=e.oxw(2).$implicit,_=e.oxw();e.xp6(8),e.Oqu(o.name),e.xp6(4),e.Q6J("ngClass",e.VKq(6,J,"ONGOING"===_.microphoneTestState)),e.xp6(2),e.hij(" ","READY"===_.microphoneTestState||"STOPPED"===_.microphoneTestState?"Start mic test":"Testing..."," "),e.xp6(1),e.Q6J("ngIf","READY"===_.microphoneTestState),e.xp6(1),e.Q6J("ngIf","ONGOING"===_.microphoneTestState),e.xp6(1),e.Q6J("ngIf","ONGOING"===_.microphoneTestState)}}function le(d,P){if(1&d&&(e.TgZ(0,"div",24)(1,"div")(2,"span",25),e.O4$(),e.TgZ(3,"svg",26),e._UZ(4,"path",27)(5,"path",28),e.qZA()()(),e.kcU(),e.TgZ(6,"div")(7,"div",21),e._uU(8),e.qZA(),e.TgZ(9,"div",22),e._uU(10,"Microphone test completed successfully"),e.qZA()()()),2&d){const o=e.oxw(3).$implicit;e.xp6(8),e.Oqu(o.name)}}function ae(d,P){1&d&&(e.TgZ(0,"span",42),e.O4$(),e.TgZ(1,"svg",26),e._UZ(2,"path",43),e.qZA()())}function he(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4," Please "),e.TgZ(5,"a",54),e._uU(6,"configure your microphone"),e.qZA(),e._uU(7," and try again. "),e.qZA(),e.BQk()),2&d){const o=e.oxw(4).$implicit,_=e.oxw();e.xp6(2),e.Oqu(o.error.msg),e.xp6(3),e.Q6J("href",_.audioVideoDeviceConfiguration,e.LSH)}}function ue(d,P){if(1&d&&(e.TgZ(0,"div",24)(1,"div"),e.YNc(2,ae,3,0,"span",30),e.qZA(),e.TgZ(3,"div")(4,"div",21),e._uU(5),e.qZA(),e.TgZ(6,"div",60),e.YNc(7,he,8,2,"ng-container",31),e.qZA()()()),2&d){const o=e.oxw(3).$implicit,_=e.oxw();e.xp6(2),e.Q6J("ngIf","error"===o.error.type),e.xp6(3),e.Oqu(o.name),e.xp6(2),e.Q6J("ngIf","microphone_test_fail"===o.error.code)("ngIfElse",_.no_media_access)}}function _e(d,P){if(1&d&&(e.ynx(0),e.YNc(1,le,11,1,"div",23),e.YNc(2,ue,8,4,"div",23),e.BQk()),2&d){const o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!o.error),e.xp6(1),e.Q6J("ngIf",o.error)}}function me(d,P){if(1&d&&(e.ynx(0),e.YNc(1,oe,6,1,"div",8),e.YNc(2,ne,18,8,"ng-container",1),e.YNc(3,_e,3,2,"ng-container",1),e.BQk()),2&d){const o=e.oxw().$implicit,_=e.oxw();e.xp6(1),e.Q6J("ngIf",o.state===_.SystemCheckStateEnum.PENDING),e.xp6(1),e.Q6J("ngIf",o.state===_.SystemCheckStateEnum.ONGOING),e.xp6(1),e.Q6J("ngIf",o.state===_.SystemCheckStateEnum.COMPLETED)}}function u(d,P){if(1&d&&(e.ynx(0),e.YNc(1,N,4,3,"ng-container",1),e.YNc(2,me,4,3,"ng-container",1),e.BQk()),2&d){const o=P.$implicit,_=e.oxw();e.xp6(1),e.Q6J("ngIf",o.type!==_.SystemCheckTypeEnum.MICTEST),e.xp6(1),e.Q6J("ngIf",o.type===_.SystemCheckTypeEnum.MICTEST)}}function T(d,P){if(1&d&&(e.ynx(0),e.TgZ(1,"div",61),e._UZ(2,"div",62),e.TgZ(3,"div",63)(4,"span"),e.O4$(),e.TgZ(5,"svg",64),e._UZ(6,"path",65)(7,"path",66)(8,"path",67),e.qZA()(),e.kcU(),e.TgZ(9,"div",68)(10,"p",69),e._uU(11,"Click on hide"),e.qZA(),e.TgZ(12,"div")(13,"p",70),e._uU(14," For a smoother experience during your assessment, click 'Hide.' The screen share will automatically disconnect once your assessment is complete. "),e.qZA()()()()(),e.BQk()),2&d){const o=e.oxw();e.xp6(3),e.Q6J("ngStyle",o.getDocumentCenterElementsOffset())}}const D=d=>{let _,P=d.checks.length>0?d.checks[d.checks.length-1]:null,o=g.k6.PENDING;for(let G of d.checks){if(G.state===g.k6.ONGOING){o=g.k6.ONGOING,P=G;break}if(G.state===g.k6.COMPLETED&&(o=g.k6.COMPLETED,_=G.error?.type,"error"===_))break}return{activeCheck:P,state:o,..._&&{error:_}}};let $=(()=>{class d{constructor(o,_,G,te){this._testPortalService=o,this._http=_,this._ref=G,this._screenShareService=te,this.SystemCheckTypeEnum=g.FM,this.SystemCheckStateEnum=g.k6,this.cameraProctoredArticle=z.z.camera_for_video_proctored_test,this.clipBoardAccessArticle=z.z.clipboard_access_for_test,this.screenSharePermission=z.z.grant_screen_share_access_for_test,this.microphonePermissionArticle=z.z.microphone_permission_for_test,this.audioVideoDeviceConfiguration=z.z.configuring_audio_and_video_input_devices,this.showScreenSharingPopup=!1,this.onSystemChecksUpdate=new e.vpe,this.analyzeMicrophoneAudio=()=>{const X=document.querySelectorAll(".audio-visualizer-bar");navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(re=>{const pe=new AudioContext,fe=pe.createAnalyser(),Ee=pe.createMediaStreamSource(re),we=Date.now();let ve=!1,Ce=0;Ee.connect(fe),fe.fftSize=2048;const Ae=new Uint8Array(fe.frequencyBinCount),ye=()=>{if(ve)return;fe.getByteFrequencyData(Ae);const Pe=Ae.reduce((ge,Se)=>ge+Se,0)/Ae.length,xe=Math.min(Math.floor(4.5*Pe/6.4),40);Ce=Math.max(Ce,xe),X.forEach((ge,Se)=>{ge.style.backgroundColor=Se<xe?"green":"lightgray"}),Date.now()-we<5e3?requestAnimationFrame(ye):(ve=!0,Ce>10?this.setSystemCheckResponse({}):this.setSystemCheckResponse(null,{type:"error",code:"microphone_test_fail",msg:"Microphone test failed."}),re.getTracks().forEach(ge=>ge.stop()))};ye()}).catch(re=>{console.error("Error while testing the microphone: ",re),this.setSystemCheckResponse(null,{type:"error",code:"microphone_test_fail",msg:"Microphone test failed."})})}}set _config(o){this.config={...g.Rk,...o}}set _systemChecks(o){this.systemChecksMeta=o.meta,this.systemChecksComputed=o.computed,this.systemChecksComputed.state!==g.k6.COMPLETED&&this.runSystemCheck()}ngOnInit(){this.audioAnalyzerBars=Array(40).fill(0).map((o,_)=>_)}emitSystemChecks(o){const _={meta:o,computed:D(o)};this.onSystemChecksUpdate.emit(_)}setSystemCheckResponse(o,_){const G=(0,x.ZP)(this.systemChecksMeta,te=>{const se=te.checks;let K=se.findIndex(re=>re.state===g.k6.ONGOING),X=se[K];X.state=g.k6.COMPLETED,o&&(X.data=o),_&&(X.error=_),"error"!==_?.type&&K<se.length-1&&(se[K+1].state=g.k6.ONGOING)});this.emitSystemChecks(G)}setUnexpectedFail(){const o=G=>{switch(G){case g.FM.BROWSER:return"Failed to get browser information";case g.FM.DEVICE:return"Failed to get device information";case g.FM.FIREWALL:return"Failed to check firewall restrictions";case g.FM.NET_SPEED:return"Failed to check net speed"}},_=(0,x.ZP)(this.systemChecksMeta,G=>{const te=G.checks;let se=te.findIndex(X=>X.state===g.k6.ONGOING),K=te[se];K.state=g.k6.COMPLETED,K.error={type:"error",code:"unexpected",msg:o(K.type)}});this.emitSystemChecks(_)}runSystemCheck(){var o=this;return(0,t.Z)(function*(){const _=function(){var se=(0,t.Z)(function*(K){try{const X=o.systemChecksMeta;let{error:re,...pe}=yield K.bind(o)();if(o.systemChecksMeta.id!==X.id)return;pe=0===Object.keys(pe).length?null:pe,o.setSystemCheckResponse(pe,re)}catch(X){console.error(X),o.setUnexpectedFail()}});return function(X){return se.apply(this,arguments)}}(),[G,te]=[o._http,o._testPortalService];switch(o.systemChecksComputed.activeCheck.type){case g.FM.BROWSER:const{blockNonChromeBrowsers:se}=o.config;yield _((0,t.Z)(function*(){const K=yield O.Kg(se,o.config.isDisableMultiScreenOn,o.config.needClipboard);if(K.error?.code||!o.config.isDisableMultiScreenOn&&!o.config.isScreenRecordingOn)return K;const X=K.browser;if(o.config.isDisableMultiScreenOn){if(!("getScreenDetails"in window))return{browser:X,error:{type:"error",code:"multi_screen_error",msg:"Screen detection is enabled. You need to use latest chrome or edge browser to proceed"}};try{yield window.getScreenDetails()}catch{return{browser:X,error:{type:"error",code:"multi_screen_error",msg:"Please give access to window-management in your browser"}}}if(window.screen.isExtended)return{browser:X,error:{type:"error",msg:"Please disconnect any external display(s)",code:"multi_screen_error"}}}if(o.config.isScreenRecordingOn){const re=yield O.Mc({isScreenRecordingWithoutAudioOn:o.config.isScreenRecordingWithoutAudioOn});if(re?.error?.code)return re.browser=X,re;o._screenShareService.setScreenShareStream(re.stream),o.showScreenSharingPopup=!0,setTimeout(()=>{o.showScreenSharingPopup=!1},5e3)}return K}));break;case g.FM.DEVICE:yield _(()=>O.Pz(o.config));break;case g.FM.FIREWALL:yield _(()=>O.$z(G,te));break;case g.FM.NET_SPEED:yield _(()=>O.Lo(G,te));break;case g.FM.MICTEST:o.microphoneTestState="READY"}})()}getDocumentCenterElementsOffset(){const G=(te=>{let se=0,K=0;for(;null!==te;)se+=te.offsetTop,K+=te.offsetLeft,te=te.offsetParent;return{top:se,left:K}})(document.getElementById("document-center"));return{top:G.top-310+"px",left:G.left+"px"}}startMicrophoneTest(){this.microphoneTestState="ONGOING",setTimeout(()=>{this.analyzeMicrophoneAudio()},1e3)}}return d.\u0275fac=function(o){return new(o||d)(e.Y36(k.X),e.Y36(Q.eN),e.Y36(e.sBO),e.Y36(Z.d,12))},d.\u0275cmp=e.Xpm({type:d,selectors:[["system-check"]],inputs:{_config:["config","_config"],_systemChecks:["systemChecks","_systemChecks"]},outputs:{onSystemChecksUpdate:"onSystemChecksUpdate"},decls:7,vars:5,consts:[[1,"padding-bottom-16"],[4,"ngIf"],["class","text-sm font-weight-500 text-gray-800",4,"ngIf"],[1,"grid","row-gap-16","padding-top-8"],[4,"ngFor","ngForOf"],[1,"text-sm","font-weight-500","text-gray-800","margin-bottom-4","loading-ellipses"],[1,"text-xs","text-gray-600"],[1,"text-sm","font-weight-500","text-gray-800"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],[1,"angle-icon-container",2,"display","table"],[2,"display","table-cell","vertical-align","middle","text-align","center"],[1,"angle","right","icon"],[1,"text-sm","text-gray-400","font-weight-500","margin-left-8"],[1,"flex","items-center","spin-center"],["width","21","height","20","viewBox","0 0 21 20","fill","none","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["x","0.5","width","20","height","20","fill","url(#pattern0)"],["id","pattern0","patternContentUnits","objectBoundingBox","width","1","height","1"],[0,"xlink","href","#image0_3853:4480","transform","scale(0.015625)"],["id","image0_3853:4480","width","64","height","64",0,"xlink","href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABylJREFUeF7dW01oG0cYfS6iLEUUUUQRxRRTTNHBlFBMMSWHUkLRwQdTQgnFFB1M8cEHH3rwIRQfcvAhhxxMESEEU0zRwRRTTDEhFB1MCCUEEUwwRQRRTBBBFFNEEGHolDc733q0u3LWcdxqd8FY1q6l/d73vjffz+wYzvno/q10swUcHALtTh/tLtDp9s23do6A1u3i2Dnfwokffy5fvv+n0rsP+mjsA+3DPmiuB5jfUABy9jcyBEDvudLb94H6Xh/tDg3sAzkv+N1XfR+ErAFAwzcaQL3RxxFdTAOdIzDcvhcGIbUhoP4hzYG1baDfc2geAoB2uyAQgEIe8HKAlwd2vk+hBhz+pfTqJtBs+WIWxHiI3jxXKgIzkx5mykC55P+dfyt3LtrzKmJ66hu5+8g3nrFsPGvj3AWBRs5Ne5ibAcbfHR1j4wBKDAApX9sBGO8Dhzqmf6noYbECVC4AuTdH23CxIREA6oXSq1vAbjO6jPGDPA9YnoXxeO6NdBieGAAav7IJNA6O1/JAyeF7e3kOKL6dLsMTAUDar24Djfv+5W6cU8Vp+OVP02l4IgDWf1W6zphn5maTGHqflL+xAEy9n27jadNQDTBqX3fkzi5xXMNp/OSIq3vSJTEWAK7zizXgqDf4MfR8jca/l37PDw0Bxv3yBpMcP1uTAoavs0J7160RBuw8VPrGdlT0jOB9kh3PxzKAhU11HaaoYaYnJWxlCrj6VfaMj4jgrd+Uru9ZbKzokfr15dHK35MKXJLrghCg96+sA32/vgmO5Qowm0HqR0Jg657SNa75Tjk7UQRqi+lLb5N4PgLAwk2lO12r+vbsyixw6aPsxT5XOqlZTAi0nvpLn6S6fI8Jz8ZStrxPw112EAQDwPodpU2l56S7rOwWPs+G98OGCwgBAEu3lWa72j1q1dFvZiSN9RMBYN++Whv8qFIBuPVtNrwvlg0DYWzvD6XZ2HR79azxl77IJgDujIKJ3tjmPb+f756g+l/8MHsAuCkOjTeZ4PVflG6w8HEaHmvz2Sl33RAYmFAJAN/9ZAXQaWlz+cunpKl5GiEMJbk+AxZuK+3W/az5NzMmgAJSL5QHGADmf1DazOvswZ7++tfZiv84ACQcxi7/oLRMbD0FlErA9YyWvmRAZBUgA0wGaEfYZEDWARBGmGVw/qZlgAVhogBcz2gIdOM0YOlHpc1Y2x4UwVvfZFMDYgG4+nO0Dtiopme2d5pl8Cjm4rFrd5Rut4G+bFvJAWtzwPg72WIBawEC4IpggRqw9dAvhd0TixezlwpzBSAAbsZrRPDBE6VvNAZPfFYG5lM+8wuznfEfzgQNA1gOr2w51WAOKOWBa19mKwQOY1aAkswGKYSd0BhslTqQ0pF32PuMf25cCx/j0hLb/F1pzv/NYSfBc2Vg9uNssID0lxVANID0LwoArWdKr9317ZcLSh5AFqRtx8cw74dTYAKQFwDMRoid42mwuTgHVKeB6Q/SzQKqf5j+dDLjP2iKErW7j5WuN33Dg8qwAKxcSi8L6Nh2TOwL/XnqeDTGjVA7djTmgHBlGriYUha4se/iMGG9PwAA/9h6FBXDQg5YqaSvQyTeD/cBXe9HAOi9UHptFziyo3Epk2fGgfmUDUhbocRHxL3seD8CAN/Ye6L0tqTGTijMTaUnFEj9uHWf1Kfyu+EQ2SFidoTuwTzYIDmBWR65KswAkyNeJFH144SPDHBjX0CI3STF9HiNGyWkV8id3Q4Io5ohivFx/f8478eGgCCz/1TpjQfHG6WCBCkPVC+M3s7QYcYTDBrPrC9mRRy+T5AX7zxWutH2vT8QDh5QnRqdngFjXmjvjvh520x4mPPHGX8iA3iSerC9D9w/HEyQTLKUAyqTwPT/vGeQVR4FL2w4759LXlzcnyiCcbk0M8QDGZ/blUFYUS76QPzXkyQ6h/VbXJvLPJWSwPiXMkDAECY0uzYcYkKiMgEQjPMunqS0JeXDXg90KqHxiQGQcNhtAc1D+8WSI9gVgjfDRspM6XyACAznkyrWM7KTVSa9EvMvo/2pQiAcEvvPlCYQwTjNAmCus6AUPB+EcgEonvH5IFPN9YC2k5QFgux+NwBmecPU/pVEcNg/dZ8rvXsAtPtOLzHECAGEYJAZEx7A1/wZFiamc2ueRQIobOa13ITDNKlYhQGMdxofzvKG3f+ZGODqAoWRy2Rk7Mybddrs9FjQjbXnzGNz8hyCe0cxoRWU6OJxR4gn2MMM5fdJDJdrEj0zdNIHsoBqdgAKpNlf7BgV9tQwQ4QtkXzDAWPgGopczv85q+ieGQABh7F60AEOjoAOQ2NISLiGSOeJ7wWCFjLaBYWleek1Gf7aGBDHDmoEgWj3/DgWA91rJZkK3gvRO9AQjuzzAHuUpxW4JKHw2hgw7MsYImQEB7AicDKhMX0H0QSDkp/AGLHksnqCYCYxLsk1/wKlHCFG4IB2ZwAAAABJRU5ErkJggg=="],[1,"margin-left-8"],[1,"text-sm","text-gray-800","font-weight-500"],[1,"text-xs","text-gray-500"],["class","flex",4,"ngIf"],[1,"flex"],[1,"flex","items-center","text-green-700","margin-right-8",2,"margin-top","2px"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 7.61305 18.0518 5.32387 16.364 3.63604C14.6761 1.94821 12.3869 1 10 1C7.61305 1 5.32387 1.94821 3.63604 3.63604C1.94821 5.32387 1 7.61305 1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442Z","fill","none"],["d","M7 10L9 12L13 8M19 10C19 11.1819 18.7672 12.3522 18.3149 13.4442C17.8626 14.5361 17.1997 15.5282 16.364 16.364C15.5282 17.1997 14.5361 17.8626 13.4442 18.3149C12.3522 18.7672 11.1819 19 10 19C8.8181 19 7.64778 18.7672 6.55585 18.3149C5.46392 17.8626 4.47177 17.1997 3.63604 16.364C2.80031 15.5282 2.13738 14.5361 1.68508 13.4442C1.23279 12.3522 1 11.1819 1 10C1 7.61305 1.94821 5.32387 3.63604 3.63604C5.32387 1.94821 7.61305 1 10 1C12.3869 1 14.6761 1.94821 16.364 3.63604C18.0518 5.32387 19 7.61305 19 10Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","flex items-center text-orange-700 margin-right-8","style","margin-top: 2px",4,"ngIf"],["class","flex items-center text-red-700 margin-right-8","style","margin-top: 2px",4,"ngIf"],[4,"ngIf","ngIfElse"],["no_media_access",""],["no_webcam_access",""],["no_microphone_access",""],["no_webcam_and_microphone_access",""],["no_screenshare_access",""],["no_clipboard_access",""],["generic_msg",""],[1,"flex","items-center","text-orange-700","margin-right-8",2,"margin-top","2px"],["width","21","height","19","viewBox","0 0 21 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4994 6.49975V10.4998M10.4994 13.4998H10.5094M3.57144 17.4998H17.4274C18.9674 17.4998 19.9294 15.8328 19.1594 14.4998L12.2314 2.49975C11.4614 1.16675 9.53744 1.16675 8.76744 2.49975L1.83944 14.4998C1.06944 15.8328 2.03144 17.4998 3.57144 17.4998Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","items-center","text-red-700","margin-right-8",2,"margin-top","2px"],["d","M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 11.1819 18.7672 12.3522 18.3149 13.4442C17.8626 14.5361 17.1997 15.5282 16.364 16.364C15.5282 17.1997 14.5361 17.8626 13.4442 18.3149C12.3522 18.7672 11.1819 19 10 19C8.8181 19 7.64778 18.7672 6.55585 18.3149C5.46392 17.8626 4.47177 17.1997 3.63604 16.364C2.80031 15.5282 2.13738 14.5361 1.68508 13.4442C1.23279 12.3522 1 11.1819 1 10C1 7.61305 1.94821 5.32387 3.63604 3.63604C5.32387 1.94821 7.61305 1 10 1C12.3869 1 14.6761 1.94821 16.364 3.63604C18.0518 5.32387 19 7.61305 19 10Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["slow_speed",""],["target","_blank",3,"href"],["width","14","height","20","viewBox","0 0 14 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.25 9C13.6297 9 13.9435 9.28215 13.9932 9.64823L14 9.75V10.25C14 13.8094 11.245 16.7254 7.75098 16.9817L7.75 19.25C7.75 19.6642 7.41421 20 7 20C6.6203 20 6.30651 19.7178 6.25685 19.3518L6.25 19.25L6.25002 16.9818C2.83323 16.7316 0.122835 13.938 0.00406027 10.4863L0 10.25V9.75C0 9.33579 0.335786 9 0.75 9C1.1297 9 1.44349 9.28215 1.49315 9.64823L1.5 9.75V10.25C1.5 13.077 3.73445 15.3821 6.5336 15.4956L6.75 15.5H7.25C10.077 15.5 12.3821 13.2656 12.4956 10.4664L12.5 10.25V9.75C12.5 9.33579 12.8358 9 13.25 9ZM7 0C9.20914 0 11 1.79086 11 4V10C11 12.2091 9.20914 14 7 14C4.79086 14 3 12.2091 3 10V4C3 1.79086 4.79086 0 7 0ZM7 1.5C5.61929 1.5 4.5 2.61929 4.5 4V10C4.5 11.3807 5.61929 12.5 7 12.5C8.38071 12.5 9.5 11.3807 9.5 10V4C9.5 2.61929 8.38071 1.5 7 1.5Z","fill","#242424"],[1,"margin-left-24","margin-top-12","margin-bottom-12"],[1,"flex","gap-8","items-center","microphone-test-container"],[1,"button","white-button","text-xs","margin-0-important","padding-horizontal-8","padding-vertical-4",3,"ngClass","click"],["class","text-gray-500 text-xs margin-top-12",4,"ngIf"],["class","flex gap-8 items-center audio-visualizer",4,"ngIf"],[1,"text-gray-500","text-xs","margin-top-12"],["target","_blank",1,"text-gray-500","text-underline",3,"href"],[1,"flex","gap-8","items-center","audio-visualizer"],["d","M10 3C6.13401 3 3 6.13401 3 10V11H4.5C4.77614 11 5 11.2239 5 11.5V17.5C5 17.7761 4.77614 18 4.5 18H4C2.89543 18 2 17.1046 2 16V10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10V16C18 17.1046 17.1046 18 16 18H15.5C15.2239 18 15 17.7761 15 17.5V11.5C15 11.2239 15.2239 11 15.5 11H17V10C17 6.13401 13.866 3 10 3ZM3 16C3 16.5523 3.44772 17 4 17V12H3V16ZM17 16V12H16V17C16.5523 17 17 16.5523 17 16ZM10.5 10.5C10.5 10.2239 10.2761 10 10 10C9.72386 10 9.5 10.2239 9.5 10.5V17.5C9.5 17.7761 9.72386 18 10 18C10.2761 18 10.5 17.7761 10.5 17.5V10.5ZM7.5 12C7.77614 12 8 12.2239 8 12.5V16.5C8 16.7761 7.77614 17 7.5 17C7.22386 17 7 16.7761 7 16.5V12.5C7 12.2239 7.22386 12 7.5 12ZM13 12.5C13 12.2239 12.7761 12 12.5 12C12.2239 12 12 12.2239 12 12.5V16.5C12 16.7761 12.2239 17 12.5 17C12.7761 17 13 16.7761 13 16.5V12.5Z","fill","#71717A"],[1,"flex","gap-4"],["class","height-16px rounded-6 audio-visualizer-bar","style","background-color: #d4d4d8; width: 4px",4,"ngFor","ngForOf"],[1,"height-16px","rounded-6","audio-visualizer-bar",2,"background-color","#d4d4d8","width","4px"],[1,"text-xs","text-gray-500","flex","gap-4","items-center"],[1,"top-0","left-0","width-100","height-100","position-fixed",2,"background-color","rgba(24, 24, 27, 0.8)"],["id","document-center",2,"height","25px","width","25px","position","absolute","left","calc(50% - 12px)","top","calc(100vh - 50px)"],[1,"flex","box-shadow-none",2,"position","absolute",3,"ngStyle"],["width","316","height","348","viewBox","0 0 316 348","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M309.535 86.7757C183.413 59.5969 105.5 64.5 42.0001 274.5","stroke","white","stroke-width","6","stroke-linecap","round"],["d","M78.1416 245.952C59.039 252.655 44.426 264.003 41.0001 277.487","stroke","white","stroke-width","6","stroke-linecap","round"],["d","M29.1868 230.039C40.8785 246.906 46.0994 264.803 40.8456 277.689","stroke","white","stroke-width","6","stroke-linecap","round"],[1,"text-white","padding-horizontal-12",2,"width","344px","height","100px","margin-top","70px"],[1,"text-size-16","font-weight-500"],[1,"text-size-14","font-weight-400"]],template:function(o,_){1&o&&(e.TgZ(0,"div",0),e.YNc(1,E,5,0,"ng-container",1),e.YNc(2,S,2,0,"div",2),e.YNc(3,p,2,0,"div",2),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,u,3,2,"ng-container",4),e.qZA(),e.YNc(6,T,15,1,"ng-container",1)),2&o&&(e.xp6(1),e.Q6J("ngIf",_.systemChecksComputed.state===_.SystemCheckStateEnum.ONGOING),e.xp6(1),e.Q6J("ngIf",_.systemChecksComputed.state===_.SystemCheckStateEnum.COMPLETED&&"error"!==_.systemChecksComputed.error),e.xp6(1),e.Q6J("ngIf",_.systemChecksComputed.state===_.SystemCheckStateEnum.COMPLETED&&"error"===_.systemChecksComputed.error),e.xp6(2),e.Q6J("ngForOf",_.systemChecksMeta.checks),e.xp6(1),e.Q6J("ngIf",_.showScreenSharingPopup))},directives:[R.O5,R.sg,R.mk,R.PC],styles:["*[_ngcontent-%COMP%]:not(i):not(pre){font-family:Inter!important}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%], .text-base[_ngcontent-%COMP%], .text-xl[_ngcontent-%COMP%]{line-height:150%}.button[_ngcontent-%COMP%]{margin-bottom:0}.audio-visualizer-bar[_ngcontent-%COMP%]{transition:background-color .1s}i[_ngcontent-%COMP%]{margin-right:0!important}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}@media screen and (max-width: 900px){.microphone-test-container[_ngcontent-%COMP%]{display:block!important}.audio-visualizer[_ngcontent-%COMP%]{margin-top:12px}}"]}),d})()},16174:(ie,B,m)=>{m.d(B,{$z:()=>H,Kg:()=>U,Lo:()=>a,Mc:()=>R,Pz:()=>V});var t=m(71670),e=m(84401),O=m(54750),x=m(58987);const z={blockNonChromeBrowsers:!0,chromeLowestVersion:100},k=function(){var s=(0,t.Z)(function*(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return console.error("Microphone access not supported in this browser"),!1;try{return yield navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(r){return console.error("Error accessing microphone:",JSON.stringify(r)),!1}});return function(){return s.apply(this,arguments)}}(),Q=function(){var s=(0,t.Z)(function*(){try{const r=yield window.electronAPI.requestScreenShare();if(!r.success||!r.sourceId)return console.error("Error requesting screen share:",r.message),!1;const n=r.sourceId;console.log("Screen source ID received:",n);const h={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n}},audio:!1};return yield navigator.mediaDevices.getUserMedia(h)}catch(r){return console.error("Error accessing screen sharing:",r),!1}});return function(){return s.apply(this,arguments)}}(),Z=function(){var s=(0,t.Z)(function*(){const r_720={width:{ideal:1280,max:1280},height:{ideal:720,max:720}};if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)return console.error("Screen sharing not supported in this browser"),!1;try{const n=yield navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"monitor",frameRate:{ideal:15,max:30},...r_720},audio:!1});return"monitor"===n.getVideoTracks()[0].getSettings().displaySurface&&n}catch(n){return console.error("Error accessing screen sharing:",JSON.stringify(n)),!1}});return function(){return s.apply(this,arguments)}}(),R=function(){var s=(0,t.Z)(function*(r){if(r.isScreenRecordingWithoutAudioOn){const n=yield Z();return n?{stream:n}:{error:{type:"error",msg:"Please share your entire screen to proceed",code:"no_screenshare_access"}}}if(!r.isScreenRecordingWithoutAudioOn){const n=yield k();if(!n)return{error:{type:"error",msg:"Please grant microphone access to proceed",code:"no_microphone_access"}};const h=window.electronAPI&&window.electronAPI.requestScreenShare?yield Q():yield Z();if(!h)return{error:{type:"error",msg:"Please share your entire screen to proceed",code:"no_screenshare_access"}};const C=n.getAudioTracks()[0];return C&&h.addTrack(C),{stream:h}}});return function(n){return s.apply(this,arguments)}}(),E={blockNonChromeBrowsers:!1,chromeLowestVersion:48},S=()=>new Promise((s,r)=>{e.load(()=>{s(e)})}),p=s=>new Promise((r,n)=>{s.generateWriteSignatureForSystemCheck((h,C)=>{C?n(C):r(h)})}),A=(s,r,n)=>new Promise(function(){var h=(0,t.Z)(function*(C,c){let y=new x.WM({"Content-Type":"text/plain"});s.put(n,r,{headers:y,reportProgress:!0,observe:"events"}).subscribe(function(){var I=(0,t.Z)(function*(b){b.type===x.dt.Response&&C()});return function(b){return I.apply(this,arguments)}}(),I=>{c(I)})});return function(C,c){return h.apply(this,arguments)}}()),l=(s,r)=>new Promise((n,h)=>{s.generateReadSignatureForSystemCheck({key:r},(C,c)=>{C?h(C):n(c.url)})}),f=function(){var s=(0,t.Z)(function*(r){return yield(yield(yield fetch(r)).blob()).text()});return function(n){return s.apply(this,arguments)}}(),U=function(){var s=(0,t.Z)(function*(r,n,h){let c;const y=(yield S()).browser;return c=((s,r)=>r.blockNonChromeBrowsers&&!s.isChrome?"You cannot access this on a browser other than Chrome":s.isChrome&&s.version<r.chromeLowestVersion?`You cannot access this on ${s.name} browser with version lower than ${r.chromeLowestVersion}`:void 0)(y,{...E,blockNonChromeBrowsers:r,...n?{...z}:{}}),c?{browser:y,error:{type:"error",msg:c,code:"not_supported_browser"}}:(()=>{let s="testLocalStorage";try{return localStorage.setItem(s,s),localStorage.getItem(s)===s&&(localStorage.removeItem(s),!0)}catch(r){return console.error(r),!1}})()?window.indexedDB?h&&!(yield v())?{browser:y,error:{type:"error",code:"no_clipboard_access",msg:"No access to clipboard"}}:{browser:y}:{browser:y,error:{type:"error",msg:c,code:"indexeddb_no_access"}}:{browser:y,error:{type:"error",msg:c,code:"localstorage_no_access"}}});return function(n,h,C){return s.apply(this,arguments)}}(),V=function(){var s=(0,t.Z)(function*(r){const n=yield S(),{blockMobile:h,needWebcam:C,needAudio:c,needSpeakers:y,needWebRTC:I,needWebSockets:b,needStreamCapturing:W,needScreenCapturing:F}=r;if(h&&n.isMobileDevice)return{error:{type:"error",code:"no_mobile_access",msg:"You cannot access this link on your phone / tablet. Switch to your computer/laptop."}};if(C&&!n.hasWebcam)return{error:{type:"error",code:"no_webcam",msg:"Couldn't detect any webcam associated with this device. Please try using another system."}};if(c&&!n.hasMicrophone)return{error:{type:"error",code:"no_mic",msg:"Couldn't detect any mic associated with this device. Please try using another system."}};if(C&&!n.isWebsiteHasWebcamPermissions||c&&!n.isWebsiteHasMicrophonePermissions){try{yield navigator.mediaDevices.getUserMedia({video:!!C,audio:!!c})}catch(N){if(N instanceof DOMException&&"NotAllowedError"===N.name){const{code:oe,msg:ce}=yield i(C,c);return{error:{type:"error",code:oe,msg:ce}}}return console.error(JSON.stringify(N)),{error:{type:"error",code:"no_webcam_access",msg:"Couldn't get access to "+(C&&c?"webcam or microphone":C?"webcam":"microphone")}}}if(y&&!n.hasSpeakers)return{error:{type:"error",code:"no_speakers",msg:"Couldn't detect any speakers associated with this device. Please try using another system."}};if(I&&!n.isWebRTCSupported)return{error:{type:"error",code:"no_webrtc",msg:"This device doesn't support WebRTC. Please try using another system."}};if(b){if(!n.isWebSocketsSupported)return{error:{type:"error",code:"no_websockets",msg:"This device doesn't support Web Sockets. Please try using another system."}};if(n.isWebSocketsBlocked)return{error:{type:"error",code:"websockets_blocked",msg:"Web Sockets are blocked on this device. Please try using another system."}}}if(W&&!n.isVideoSupportsStreamCapturing)return{error:{type:"error",code:"no_live_streaming",msg:"This device doesn't support live video streaming. Please try using another system."}};if(F&&!n.isScreenCapturingSupported)return{error:{type:"error",code:"no_screen_capturing",msg:"This device doesn't support screen capture. Please try using another system."}}}return{os:{name:n.osName,version:n.osVersion}}});return function(n){return s.apply(this,arguments)}}(),H=function(){var s=(0,t.Z)(function*(r,n){try{yield new Promise((b,W)=>{n.getOnlineStatus((F,N)=>{F?W(F):b()})})}catch(b){return console.error(b),{error:{type:"error",code:"api_domain_connection_rejected",msg:"Couldn't connect to api.wecreateproblems.com"}}}let[h,C]=["",""],c=O.P.getRandomString(1024);try{let b=yield p(n);h=b.url,C=b.key}catch(b){return console.error(b),{error:{type:"error",code:"file_upload_failed",msg:"Couldn't upload file"}}}try{yield A(r,c,h)}catch(b){return console.error(b),{error:{type:"error",code:"file_upload_failed",msg:"Couldn't upload file"}}}let y="";try{y=yield l(n,C)}catch(b){return console.error(b),{error:{type:"error",code:"file_download_failed",msg:"Couldn't download file"}}}let I="";try{I=yield f(y)}catch(b){return console.error(b),{error:{type:"error",code:"file_download_failed",msg:"Couldn't download file"}}}return c!==I?{error:{type:"error",code:"upload_download_mismatch",msg:"Upload/Download failed"}}:{}});return function(n,h){return s.apply(this,arguments)}}(),q=(s,r)=>{const n=(s*=8)/(r/=1e3),h=n/1e3;return{bps:n,kbps:h,mbps:h/1e3}},j=(s,r,n)=>new Promise(function(){var h=(0,t.Z)(function*(C,c){let y=O.P.getRandomString(n),{url:I,key:b}=yield p(r),W=Date.now();yield A(s,y,I);let F=Date.now()-W;C({key:b,speed:q(n,F)})});return function(C,c){return h.apply(this,arguments)}}()),L=(s,r,n)=>new Promise(function(){var h=(0,t.Z)(function*(C,c){let y=yield l(s,n),I=new Headers;I.append("pragma","no-cache"),I.append("cache-control","no-cache");let b={method:"GET",headers:I},W=Date.now();yield fetch(y,b).then(N=>N.blob()).then(N=>N.text());let F=Date.now()-W;C(q(r,F))});return function(C,c){return h.apply(this,arguments)}}()),a=function(){var s=(0,t.Z)(function*(r,n,h={minUpload:5,minDownload:5}){const W=function(){var ee=(0,t.Z)(function*(){const Y={};let J;const{speed:ne,key:le}=yield j(r,n,102400);if(Y[102400]=le,ne.mbps<1)J=ne;else{const{speed:ae,key:he}=yield j(r,n,512e3);if(Y[512e3]=he,ae.mbps<5)J=ae;else{const{speed:ue,key:_e}=yield j(r,n,2097152);if(Y[2097152]=_e,ue.mbps<20)J=ue;else{const{speed:me,key:u}=yield j(r,n,2097152);Y[5242880]=u,J=me}}}return{speed:J,keyMap:Y}});return function(){return ee.apply(this,arguments)}}(),F=function(){var ee=(0,t.Z)(function*(Y){let J;const ne=yield L(n,102400,Y[102400]);if(ne.mbps<1)J=ne;else{const le=yield L(n,512e3,Y[512e3]);if(le.mbps<5)J=le;else{const ae=yield L(n,2097152,Y[2097152]);J=ae.mbps<20?ae:yield L(n,5242880,Y[5242880])}}return J});return function(J){return ee.apply(this,arguments)}}();let{speed:N,keyMap:oe}=yield W();oe={102400:"speed-test-100KB.txt",512e3:"speed-test-500KB.txt",2097152:"speed-test-2MB.txt",5242880:"speed-test-5MB.txt",...oe};let de,ce=yield F(oe);return N.mbps<h.minUpload&&ce.mbps<h.minDownload?de={type:"warn",code:"slow_speed",msg:`Both upload and download speed are less than the recommended value (upload: ${h.minUpload} mbps, download: ${h.minDownload} mbps)`}:N.mbps<h.minUpload?de={type:"warn",code:"slow_speed",msg:`Upload speed is less than the recommended value (${h.minUpload} mbps)`}:ce.mbps<h.minDownload&&(de={type:"warn",code:"slow_speed",msg:`Download speed is less than the recommended value (${h.minDownload} mbps)`}),{speed:{upload:N.mbps,download:ce.mbps,unit:"Mbps"},...de&&{error:de}}});return function(n,h){return s.apply(this,arguments)}}(),v=function(){var s=(0,t.Z)(function*(){try{const r=yield navigator.permissions.query({name:"clipboard-read"});if("granted"===r.state)return!0;if("prompt"===r.state)return yield navigator.clipboard.readText(),!0}catch(r){return console.error(r),!1}});return function(){return s.apply(this,arguments)}}(),i=function(){var s=(0,t.Z)(function*(r,n){const h=yield S(),C=r&&!h.isWebsiteHasWebcamPermissions,c=n&&!h.isWebsiteHasMicrophonePermissions;return C&&c?{code:"no_webcam_and_microphone_access",msg:"Access to webcam and microphone denied"}:C?{code:"no_webcam_access",msg:"Access to webcam denied"}:c?{code:"no_microphone_access",msg:"Access to microphone denied"}:void 0});return function(n,h){return s.apply(this,arguments)}}()},2413:(ie,B,m)=>{m.d(B,{FM:()=>t,OF:()=>O,Rk:()=>g,k6:()=>e});var t=(()=>{return(x=t||(t={})).BROWSER="BROWSER",x.FIREWALL="FIREWALL",x.NET_SPEED="NET_SPEED",x.DEVICE="DEVICE",x.MICTEST="MICTEST",t;var x})(),e=(()=>{return(x=e||(e={})).PENDING="PENDING",x.ONGOING="ONGOING",x.COMPLETED="COMPLETED",e;var x})();const g={blockNonChromeBrowsers:!1,blockMobile:!1,needWebcam:!1,needAudio:!1,needSpeakers:!1,needWebRTC:!1,needWebSockets:!1,needStreamCapturing:!1,needScreenCapturing:!1,isScreenRecordingOn:!1,isDisableMultiScreenOn:!1,needClipboard:!1,isScreenRecordingWithoutAudioOn:!1},O={[t.BROWSER]:{type:t.BROWSER,name:"Browser Compatibility",loadMsg:"Checking if your browser is compatible...",state:e.PENDING},[t.DEVICE]:{type:t.DEVICE,name:"Device Compatibility",loadMsg:"Checking if your device is compatible...",state:e.PENDING},[t.FIREWALL]:{type:t.FIREWALL,name:"Network firewall",loadMsg:"Checking if your firewall is allowing access...",state:e.PENDING},[t.NET_SPEED]:{type:t.NET_SPEED,name:"Network speed",loadMsg:"Checking your network speed...",state:e.PENDING},[t.MICTEST]:{type:t.MICTEST,name:"Microphone Test",loadMsg:"Checking your microphone...",state:e.PENDING}}},69142:(ie,B,m)=>{m.d(B,{O:()=>t});const t={PY2:"import sys\nimport numpy as np\nimport pandas as pd\nimport sklearn\nimport statsmodels.api as sm\n\nraw_data = pd.read_csv(sys.stdin)\n  \n# write your code here",PY3:"import sys\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport sklearn\nimport scipy\nimport seaborn as sns\nimport statsmodels.api as sm\n\nraw_data = pd.read_csv(sys.stdin)\n\n# write your code here",R:'data <- read.table(stdin(), header=TRUE, sep=",")\n# Write your code here'}},30341:(ie,B,m)=>{m.d(B,{l:()=>e});var t=m(22560);let e=(()=>{class g{constructor(x){this.onViewInit=new t.vpe,this.element=x.nativeElement}set _stream(x){this.stream=x,this.setupFeed()}ngAfterViewInit(){this.setupFeed(),this.onViewInit.emit(this.element)}setupFeed(){this.stream&&(this.element.srcObject=this.stream)}}return g.\u0275fac=function(x){return new(x||g)(t.Y36(t.SBq))},g.\u0275dir=t.lG2({type:g,selectors:[["","video-feed",""]],inputs:{_stream:["stream","_stream"]},outputs:{onViewInit:"onViewInit"}}),g})()},21827:(ie,B,m)=>{m.d(B,{F:()=>O,s:()=>e});var t=m(22560),e=(()=>{return(x=e||(e={})).SEC="SEC",x.MIN="MIN",x.HR="HR",x.DAY="DAY",e;var x})();const g=Object.keys(e);let O=(()=>{class x{transform(k,Q="fixed",Z=e.SEC,R=e.MIN){const E=g.indexOf(Z),S=g.indexOf(R);let p=Math.ceil(k/1e3),A=0;switch(Z){case e.SEC:A=p;break;case e.MIN:A=Math.ceil(p/60);break;case e.HR:A=Math.ceil(p/60/60);break;case e.DAY:A=Math.ceil(p/60/60/24)}let l=[],f=0;for(let M=E;M<S;M++)switch(g[M]){case e.SEC:case e.MIN:f=Math.floor(A/60),l.push(A-60*f),A=f;break;case e.HR:f=Math.floor(A/24),l.push(A-24*f),A=f}return l.push(A),l=l.reverse(),"dynamic"===Q&&(l=l.reduce((M,U)=>((M.length>0||U>0)&&M.push(U),M),[])),l.map(M=>String(M).padStart(2,"0")).join(":")}}return x.\u0275fac=function(k){return new(k||x)},x.\u0275pipe=t.Yjl({name:"countdownTimer",type:x,pure:!0}),x})()},49153:(ie,B,m)=>{m.d(B,{I:()=>Q});var t=m(32258),e=m(37317),g=m(3786),O=m(58993),x=m(22560),z=m(23542),k=m(55931);let Q=(()=>{class Z{constructor(E,S){this._testPortalService=E,this.store=S,this.codeReplayAuditPushIntervalTargetCounter=10,this.codeReplayAuditPushIntervalCurrentCounter=0,this.stopAuditFlag=!1,this.testInstanceId="",this.syncingAudits=!1,this.disableCodeAudit=!1,this.batchLength=25}initAuditService(){this.store.select(t.VA).subscribe(E=>{this.testInstanceId=E}),this.store.select(t.wg).subscribe(E=>{this.auditSettings=E,E.forcePushAudits&&this.pushAuditToServer()}),this.store.select(t.BV).subscribe(E=>{this.auditController=E}),this.store.select(g.k9).subscribe(E=>this.sessionController=E),this.auditSettings.pauseAuditSync||setTimeout(()=>this.pushAuditToServer(),this.auditSettings.auditUpdateInterval)}setAuditService(E,S,p){this.testId=E,this.userId=S,p&&(this.codeReplayAuditPushIntervalTargetCounter=0,this.auditUpdateInterval=12e4)}startAuditService(){localStorage&&localStorage.getItem(`${this.userId}/${this.testId}/auditQueue`)&&(this.auditQueue=JSON.parse(localStorage.getItem(`${this.userId}/${this.testId}/auditQueue`))),this.stopAuditFlag=!1,this.auditUpdater=setTimeout(()=>this.pushAuditToServer(),this.auditUpdateInterval)}setAndStartAuditService(E,S,p){this.setAuditService(E,S,p),this.startAuditService()}stopAuditService(){this.stopAuditFlag=!0,clearTimeout(this.auditUpdater)}toggleReplayAudits(E){this.disableCodeAudit=E}addCodeReplayAudit(E){if(this.disableCodeAudit)return;const S=E.questionId;this.codeReplayAudit[S]||(this.codeReplayAudit[S]=[]),delete E.questionId,this.codeReplayAudit[S].push(E)}addAudit(E){const S=["event","eventDetails","message"];for(const A of S)if(!E[A])return;-1!==["extended_screen","session_change","section_change","question_change","answer","reset_answer","finish","flag","copy_paste","unwanted_action","sherlock_background_app_violation","sherlock_external_device_violation","fullscreen_voilation","proctoring_voilation","start_test","status","finish_test","proctor_image","language_change","launch_vm","restart_vm","vm_interaction","launch_ide","audio_violation"].indexOf(E.event)&&(this.auditQueue.push({timestamp:Date.now(),source:window.location.href,user:this.userId,...E}),"finish_test"===E.event&&this.pushAuditToServer())}processCodeReplayAuditForPush(){if(this.codeReplayAuditPushIntervalCurrentCounter===this.codeReplayAuditPushIntervalTargetCounter){this.codeReplayAuditPushIntervalCurrentCounter=0;for(const E of Object.keys(this.codeReplayAudit)){const S=this.codeReplayAudit[E];S&&S.length>0&&(this.auditQueue.push({event:"code_change",source:window.location.href,timestamp:Date.now(),user:this.userId,message:"e",eventDetails:JSON.stringify({questionId:E,audit:S})}),delete this.codeReplayAudit[E])}}else this.codeReplayAuditPushIntervalCurrentCounter++}pushAuditToServer(){if(this.syncingAudits||!this.sessionController.isValid)return;const E=Object.keys(this.auditController.auditQueue);if(0===E.length)return void setTimeout(()=>this.pushAuditToServer(),this.auditSettings.auditUpdateInterval);this.syncingAudits=!0,E.sort((A,l)=>Number(A.split("|")[0])-Number(l.split("|")[0]));const S=E.splice(0,this.batchLength),p=S.map(A=>this.auditController.auditQueue[A]);this._testPortalService.audit(this.testInstanceId,p,(A,l)=>{A?(console.error(`[Audit][pushAuditToServer] Error while saving audits to server. ${JSON.stringify(A)}`),this.store.dispatch((0,e.Nt)({typeOfAPI:"audit"}))):this.store.dispatch((0,e.N$)({hashKeys:S})),this.syncingAudits=!1,E.length?this.pushAuditToServer():setTimeout(()=>this.pushAuditToServer(),this.auditSettings.auditUpdateInterval)})}secureTick(){return new Promise((E,S)=>{this._testPortalService.secureTick(this.testInstanceId,this.sessionController.sessionId,(p,A)=>(p&&"session_id_mismatch"===p.error.errorCode&&this.store.dispatch((0,O.qH)()),E(null)))})}}return Z.\u0275fac=function(E){return new(E||Z)(x.LFG(z.X),x.LFG(k.yh))},Z.\u0275prov=x.Yz7({token:Z,factory:Z.\u0275fac}),Z})()},37317:(ie,B,m)=>{m.d(B,{AR:()=>ne,Bq:()=>e,Ce:()=>s,Cj:()=>Q,Do:()=>w,Dv:()=>c,EH:()=>x,Fi:()=>F,GQ:()=>M,Hm:()=>J,In:()=>ee,LL:()=>W,LX:()=>C,N$:()=>R,N3:()=>O,Nt:()=>ue,P8:()=>ae,Sc:()=>a,TF:()=>I,Vd:()=>h,Wi:()=>v,_C:()=>i,a0:()=>H,bQ:()=>_e,cN:()=>de,eL:()=>A,eR:()=>L,ee:()=>g,fi:()=>N,g2:()=>y,gX:()=>le,gk:()=>b,hT:()=>f,he:()=>V,i5:()=>ce,ko:()=>S,l:()=>oe,ll:()=>l,mm:()=>he,nn:()=>z,q_:()=>k,rB:()=>n,rM:()=>q,rg:()=>r,sw:()=>Z,tT:()=>Y,u4:()=>p,ut:()=>j,xZ:()=>U,yi:()=>E});var t=m(55931);const e="[Candidate Editor Component Core]",g=(0,t.PH)("[Candidate Editor Component Core] Add candidate answer to queue",(0,t.Ky)()),O=(0,t.PH)("[Candidate Editor Component Core] reset candidate answer"),x=(0,t.PH)("[Candidate Editor Component Core] Mark answer as saved",(0,t.Ky)()),z=(0,t.PH)("[Candidate Editor Component Core] Mark answers for retry",(0,t.Ky)()),k=(0,t.PH)("[Candidate Editor Component Core] Set time of test",(0,t.Ky)()),Q=(0,t.PH)("[Candidate Editor Component Core] Tick time by 1 second"),Z=(0,t.PH)("[Candidate Editor Component Core] Initialize candidate editor core",(0,t.Ky)()),R=(0,t.PH)("[Candidate Editor Component Core] Mark synced audits",(0,t.Ky)()),E=(0,t.PH)("[Candidate Editor Component Core] Add event to audit queue",(0,t.Ky)()),S=(0,t.PH)("[Candidate Editor Component Core] Continue to test"),p=(0,t.PH)("[Candidate Editor Component] Flag / un-flag a question",(0,t.Ky)()),A=(0,t.PH)("[Candidate Editor Component Core] Toggle webcam stream"),l=(0,t.PH)("[Candidate Editor Component Core] Toggle finish test modal",(0,t.Ky)()),f=(0,t.PH)("[Candidate Editor Component Core] Finish test"),w=(0,t.PH)("[Candidate Editor Component Core] Check and show proctor message",(0,t.Ky)()),M=(0,t.PH)("[Candidate Editor Component Core] Sync reload settings",(0,t.Ky)()),U=(0,t.PH)("[Candidate Editor Component Core] Mark proctor message as seen",(0,t.Ky)()),V=(0,t.PH)("[Candidate Editor Component Core] Device went offline"),H=(0,t.PH)("[Candidate Editor Component Core] Device is back online"),q=(0,t.PH)("[Candidate Editor Component Core] Entering fullscreen mode"),j=(0,t.PH)("[Candidate Editor Component Core] Fullscreen violation detected"),L=(0,t.PH)("[Candidate Editor Component Core] Audio violation detected",(0,t.Ky)()),a=(0,t.PH)("[Candidate Editor Component Core] Validating video violation",(0,t.Ky)()),v=(0,t.PH)("[Candidate Editor Component Core] Set Screen Recording To Off"),i=(0,t.PH)("[Candidate Editor Component Core] Set Screen Recording To On"),s=(0,t.PH)("[Candidate Editor Component Core] Set Audio Recording To Off"),r=(0,t.PH)("[Candidate Editor Component Core] Set Audio Recording To On"),n=(0,t.PH)("[Candidate Editor Component Core] Set Screen Checks Failed"),h=(0,t.PH)("[Candidate Editor Component Core] Set Screen Is Extended",(0,t.Ky)()),C=(0,t.PH)("[Candidate Editor Component Core] Made tab change violation"),c=(0,t.PH)("[Candidate Editor Component Core] Made External Device violation"),y=(0,t.PH)("[Candidate Editor Component Core] Captured External Device violation"),I=(0,t.PH)("[Candidate Editor Component Core] Made Unauthorized App violation"),b=(0,t.PH)("[Candidate Editor Component Core] Captured Unauthorized App violation"),W=(0,t.PH)("[Candidate Editor Component Core] Update tab change count",(0,t.Ky)()),F=(0,t.PH)("[Candidate Editor Component Core] Back on tab"),N=(0,t.PH)("[Candidate Editor Component Core] Handle copy / cut event",(0,t.Ky)()),oe=(0,t.PH)("[Candidate Editor Component Core] Handle paste event",(0,t.Ky)()),ce=(0,t.PH)("[Candidate Editor Component Core] Reset clipboard.",(0,t.Ky)()),de=(0,t.PH)("[Candidate Editor Component Core] expand/collapse side bar"),ee=(0,t.PH)("[Candidate Editor Component Core] toggle dark mode"),Y=(0,t.PH)("[Candidate Editor Component Core] Reload Page"),J=(0,t.PH)("[Candidate Editor Component Core] Show reload notification"),ne=(0,t.PH)("[Candidate Editor Component Core] Initialize qtype if not already initialized",(0,t.Ky)()),le=(0,t.PH)("[Candidate Editor Component Core] Add to Code replay Audit",(0,t.Ky)()),ae=(0,t.PH)("[Candidate Editor Component Core] Add Code Audit to Audit Queue"),he=(0,t.PH)("[Candidate Editor Component Core] Add Question code to answers property",(0,t.Ky)()),ue=(0,t.PH)("[Candidate Editor Component Core] API call failed",(0,t.Ky)()),_e=(0,t.PH)("[Candidate Editor Component Core] Sign Honor Code")},32258:(ie,B,m)=>{m.d(B,{$V:()=>z,$j:()=>Y,BV:()=>M,B_:()=>h,E8:()=>me,EV:()=>b,F8:()=>c,Fv:()=>ne,JQ:()=>n,K3:()=>de,KV:()=>f,KY:()=>ue,Kf:()=>A,MJ:()=>q,Ob:()=>N,Pe:()=>oe,Ph:()=>W,Qk:()=>v,St:()=>s,U:()=>i,UH:()=>j,U_:()=>U,VA:()=>R,WS:()=>S,_c:()=>E,bQ:()=>L,bi:()=>F,cs:()=>C,ey:()=>he,f0:()=>l,f7:()=>I,fE:()=>J,jg:()=>p,jn:()=>Q,kC:()=>y,kP:()=>a,lM:()=>Z,mo:()=>V,ow:()=>ce,sx:()=>r,w1:()=>H,wb:()=>ae,wg:()=>w,yE:()=>_e});var t=m(55931),e=m(28702),g=m(54750),O=m(20432),x=m(41552);const z=900,k=u=>u.candidateEditorCoreState,Q=(0,t.P1)(k,u=>({time:u.time,showWarning:u.time<z,formattedTime:{sec:u.time%60,min:Math.floor(u.time%3600/60),hr:Math.floor(u.time/3600)}})),Z=(0,t.P1)(k,u=>u.answerQueue),R=(0,t.P1)(k,u=>u.testInstanceId),E=(0,t.P1)(k,u=>u.answers),S=u=>(0,t.P1)(k,T=>{let D="";return T.answers[u]&&T.answers[u].syncedWithServer?D="Answer Saved":Object.keys(T.answerQueue).forEach($=>{T.answerQueue[$].questionId===u&&(D="Saving...")}),D}),p=(u,T)=>!(u&&!u[T])&&!(0===JSON.parse(u&&u[T].answer||"[]").length&&!(u&&u[T].answerKey||"").length||!u[T].syncedWithServer),A=u=>(0,t.P1)(E,T=>{const D=T[u]?.answer;return g.P.isEmpty(D)?[]:JSON.parse(D)}),l=u=>(0,t.P1)(E,T=>T[u]?.answerKey||""),f=u=>(0,t.P1)(E,T=>T[u]?.videoDuration||""),w=(0,t.P1)(k,u=>u.auditSettings),M=(0,t.P1)(k,u=>u.auditController),U=(0,t.P1)(k,u=>u.proctorSettings),V=(0,t.P1)(U,u=>u.blockMobileAndUnwantedBrowsers),H=(0,t.P1)(k,u=>u.proctorViolationState),q=(0,t.P1)(k,u=>u.lastReloadAt),j=(0,t.P1)(k,u=>u.showWebcamStream),L=(0,t.P1)(k,u=>u.showViolationModal),a=(0,t.P1)(k,u=>u.isFinished),v=(0,t.P1)(H,u=>{let T=0;return Object.keys(u.apiFailCount).forEach(D=>{T=u.apiFailCount[D]>T?u.apiFailCount[D]:T}),T}),i=(0,t.P1)(k,u=>({showFinishTestModal:u.showFinishTestModal,finishTestReason:u.finishTestReason})),s=(0,t.P1)(k,u=>u.isSideBarExpanded),r=(0,t.P1)(k,u=>u.darkMode),n=(0,t.P1)(k,u=>u.proctorViolationState.isOffline),h=(0,t.P1)(k,u=>u.flaggedQuestions),C=(0,t.P1)(k,u=>u.showReloadToast),c=(0,t.P1)(k,u=>{const T=[];return Object.keys(u.proctorMessages).length&&Object.keys(u.proctorMessages).forEach(D=>{u.proctorMessages[D].seenAt||T.push(u.proctorMessages[D])}),T}),y=(0,t.P1)(k,u=>u.qTypes),I=(0,t.P1)(y,u=>u.videoExplanation),b=(0,t.P1)(y,u=>{let T=O.V.NOTLOADED;return Object.keys(u).forEach(D=>{D===e.ON.VIDEO_EXPLANATION&&Object.keys(u[D]).forEach($=>{u[D][$].videoFileUploadingStatus===O.V.LOADING&&(T=O.V.LOADING)})}),T}),W=(0,t.P1)(y,u=>{let T=!1;return Object.keys(u).forEach(D=>{D===e.ON.VIDEO_EXPLANATION&&Object.keys(u[D]).forEach($=>{u[D][$].recordingState!==x.S.NOT_RECORDING&&"no-action"!==u[D][$].timeBoundDescriptionState&&(T=!0)})}),T}),F=(u,T)=>(0,t.P1)(y,D=>D[u]&&D[u][T]?D[u][T]:{}),N=(0,t.P1)(y,u=>{let T=!1;return Object.keys(u).forEach(D=>{D===e.ON.VIDEO_EXPLANATION&&Object.keys(u[D]).forEach($=>{u[D][$].recordingState===x.S.IN_RECORDING&&(T=!0)})}),T}),oe=(0,t.P1)(k,u=>u.auditController.codeReplayAudit),ce=(0,t.P1)(k,u=>u.isReplayOn),de=(0,t.P1)(k,u=>u.localStorageDump),ee=(0,t.P1)(k,u=>u.sectionBasedTimer),Y=(0,t.P1)(ee,u=>u.value),J=(0,t.P1)(ee,u=>u.sectionDetails),ne=(0,t.P1)(ee,u=>u.activeSectionHash),le=(0,t.P1)(ee,ne,(u,T)=>{if(T)return u.sectionDetails[T]}),ae=(0,t.P1)(ee,u=>u.sectionHashIndexMap),he=(0,t.P1)(ee,u=>u.submitSectionLoading),ue=(0,t.P1)(le,u=>({time:u?.timeLeft,showWarning:u?.timeLeft<z,formattedTime:{sec:u?.timeLeft%60,min:Math.floor(u?.timeLeft%3600/60),hr:Math.floor(u?.timeLeft/3600)}})),_e=(0,t.P1)(ae,ne,(u,T)=>{if(u){const D=u[T];return Object.keys(u).find(d=>u[d]===D+1)||null}}),me=(0,t.P1)(ee,ne,_e,ue,(u,T,D,$)=>({show:u.showSectionSwitchModal,activeSectionHash:T,nextSectionHash:D,activeSectionHashTimeleft:$.time}))},58993:(ie,B,m)=>{m.d(B,{Bf:()=>e,E5:()=>Z,Ff:()=>k,L7:()=>O,TY:()=>Q,WW:()=>x,bc:()=>E,j6:()=>g,qH:()=>R,yl:()=>z});var t=m(55931);const e=(0,t.PH)("[Candidate Editor Component] Go to next question"),g=(0,t.PH)("[Candidate Editor Component] Go to previous question"),O=(0,t.PH)("[Candidate Editor Component] jump to a particular question",(0,t.Ky)()),x=(0,t.PH)("[Candidate Editor Component Core] Data Initialized Successfully"),z=(0,t.PH)("[Candidate Editor Component] add questions to redux",(0,t.Ky)()),k=(0,t.PH)("[Candidate Editor Component] Populate state from audit",(0,t.Ky)()),Q=(0,t.PH)("[Candidate Editor Component] populate state from local storage"),Z=(0,t.PH)("[Candidate Editor Component] toggle show calculator"),R=(0,t.PH)("[Candidate Editor Component] Mark session invalid"),E=(0,t.PH)("[Candidate Editor Component] set if the device is Mobile Device",(0,t.Ky)())},3786:(ie,B,m)=>{m.d(B,{$K:()=>i,$j:()=>n,B9:()=>A,C3:()=>x,Ch:()=>f,DX:()=>E,KJ:()=>Z,LW:()=>L,Mw:()=>r,RO:()=>l,Tq:()=>O,UB:()=>k,UD:()=>p,UI:()=>w,Ve:()=>q,_x:()=>h,b2:()=>H,cj:()=>M,k9:()=>U,mM:()=>V,n7:()=>S,oe:()=>s,pl:()=>R,t8:()=>z,w6:()=>Q,xf:()=>j,yR:()=>C,z9:()=>a});var t=m(55931),e=m(32258);const g=c=>c.candidateEditorState,O=(0,t.P1)(g,c=>c.dataInitializedSuccessfully),x=(0,t.P1)(g,c=>c.sections),z=(0,t.P1)(x,c=>c.reduce((y,I)=>I.questions.reduce((b,W)=>(b[W.hash]=W,b),y),{})),k=(0,t.P1)(z,c=>Object.keys(c)),Q=c=>(0,t.P1)(z,y=>y[c]),Z=(0,t.P1)(g,c=>({currentQuestionIndex:c.currentQuestionIndex,currentSectionIndex:c.currentSectionIndex})),R=(0,t.P1)(g,c=>c.candidateEmail),E=(0,t.P1)(g,c=>c.testInstanceId),S=(0,t.P1)(g,c=>c.sections[c.currentSectionIndex]?.questions[c.currentQuestionIndex]),p=(0,t.P1)(g,c=>c.sections[c.currentSectionIndex]?.questions[c.currentQuestionIndex].hash),A=(0,t.P1)(g,c=>c.sections[c.currentSectionIndex]?.questions[c.currentQuestionIndex].type),l=(0,t.P1)(g,c=>({quizId:c.quizId,name:c.quizName,duration:c.quizDuration,totalQuestions:c.sections.reduce((y,I)=>y+I.questions.length,0),showLeaderboard:c.showLeaderboard,quizDuration:c.quizDuration,quizNomenclature:c.quizNomenclature,quizNomenclatureLower:c.quizNomenclatureLower,orgLogo:c.orgLogo,orgBanner:c.orgBanner,redirectUrl:c.redirectUrl,intellisenseDisabled:c.intellisenseDisabled})),f=(0,t.P1)(g,c=>c.hackathonMode),w=(0,t.P1)(g,c=>c.isMobileDevice),M=(0,t.P1)(g,c=>c.inAdaptiveMode),U=(0,t.P1)(g,c=>c.sessionController),V=(0,t.P1)(g,c=>c.sections.map((y,I)=>({hash:y.hash,name:y.name||`Section ${I+1}`,questions:y.questions.map(b=>b.hash)}))),H=(0,t.P1)(g,c=>c.sections[c.currentSectionIndex]?.name),q=(0,t.P1)(g,c=>c.sections[c.currentSectionIndex]&&"paragraph"===c.sections[c.currentSectionIndex].t?c.sections[c.currentSectionIndex]?.description:""),j=(0,t.P1)(g,c=>c.calculator),L=(0,t.P1)(g,c=>c.isWatermarkEnabled),a=(0,t.P1)(g,c=>c.quizName),v=(0,t.P1)(g,c=>{const y=[];let I=0;const b=c.sections.reduce((W,F)=>{const N=F.questions.length;return I+=1,y.push(N),W+N},0);return{questionCount:y,sectionCount:I,totalQuestions:b}}),i=(0,t.P1)(e._c,g,(c,y)=>{const I=y.sections.reduce((F,N)=>F+N.questions.length,0);let b=0;Object.entries(c).forEach(([F,N])=>{"answerAttemptCounter"!=F&&(JSON.parse(N.answer).length||N.answerKey)&&(b+=N.syncedWithServer?1:0)});let W=0;return y.inAdaptiveMode&&(W=I-(y.sections.slice(0,y.currentSectionIndex).reduce((N,oe)=>N+oe.questions.length,0)+y.currentQuestionIndex+1)),{totalQuestions:I,attempted:b,skipped:W,nearestPercent:Math.round(b/I*100)}}),s=(0,t.P1)(g,c=>({name:c.candidateName,email:c.candidateEmail})),r=(0,t.P1)(g,c=>!(c.isSectionBasedTimer&&0===c.currentQuestionIndex||0===c.currentSectionIndex&&0===c.currentQuestionIndex)),n=(0,t.P1)(g,c=>c.isSectionBasedTimer),h=(0,t.P1)(g,v,(c,y)=>(!c.isSectionBasedTimer||c.currentQuestionIndex+1!==y.questionCount[c.currentSectionIndex])&&(c.currentSectionIndex+1<y.sectionCount||c.currentQuestionIndex+1<y.questionCount[c.currentSectionIndex])),C=(0,t.P1)(g,c=>c.baseImageUrl)},41552:(ie,B,m)=>{m.d(B,{S:()=>e,W:()=>g});var t=m(20432),e=(()=>{return(O=e||(e={})).IN_RECORDING="in_recording",O.COUNTDOWN="countdown",O.NOT_RECORDING="not_recording",e;var O})();const g={cameraFeedStatus:t.V.NOTLOADED,videoFileUploadingStatus:t.V.NOTLOADED,recordingState:e.NOT_RECORDING,endRecording:!1}},17665:(ie,B,m)=>{m.d(B,{d:()=>R});var t=m(71670),e=m(42321),g=m(90220),O=m(54750),x=m(37317),z=m(32258),k=m(3786),Q=m(22560),Z=m(55931);let R=class{constructor(S,p){var A=this;this.store=S,this.ngZone=p,this.isFirstBlob=!1,this.pastViolations={},this.recordingStopped=!1,this.sessionId=O.P.getRandomString(8),this.store.select(z.w1).pipe((0,g.t)(this)).subscribe(l=>{this.proctorViolationState=l}),this.store.select(z.U_).pipe((0,g.t)(this)).subscribe(l=>{this.proctorSettings=l}),this.store.select(k.k9).subscribe(l=>{this.sessionController&&this.s3Settings&&this.sessionController.isValid!==l.isValid&&(l.isValid||setTimeout(()=>{this.store.dispatch((0,x.Wi)()),this.stopRecording(),this.stopScreenStream()},1e3)),this.sessionController=l}),this.ngZone.runOutsideAngular(()=>{this.checkScreenRecordingInterval=setInterval((0,t.Z)(function*(){!A.proctorSettings.screenRecording&&!A.proctorSettings.disableMultiScreen||!A.testId||A.recordingStopped||(yield A.areMultipleScreensPresent())||!A.proctorSettings.screenRecording||A.proctorViolationState.isScreenRecordingOff||(A.screenStream?.active?A.screenStream.getTracks().forEach(f=>{(!f.enabled||"live"!==f.readyState)&&("video"===f.kind&&A.store.dispatch((0,x.Wi)()),"audio"===f.kind&&A.store.dispatch((0,x.Ce)()),A.stopScreenStream(),A.stopRecording())}):A.store.dispatch((0,x.Wi)()))}),1e3)})}deviceChangeHandler(){this.screenStream&&(this.store.dispatch((0,x.Ce)()),this.stopScreenStream(),this.stopRecording())}addViolationInScreenRecording(S){const p=(new Date).getTime();this.pastViolations[p]=S}setTestId(S){this.testId=S}setS3Settings(S){this.s3Settings=S}setScreenShareStream(S){this.screenStream=S,this.screenStream.getTracks().forEach(p=>{p.addEventListener("ended",()=>{"video"===p.kind&&this.store.dispatch((0,x.Wi)()),"audio"===p.kind&&this.store.dispatch((0,x.Ce)()),this.stopScreenStream(),this.stopRecording()})})}startRecording(){if(!this.screenStream)return;const S=O.P.getRandomString(8);this.isFirstBlob=!0,this.screenShareRecorder=new MediaRecorder(this.screenStream),this.sessionId=S,this.chunkStartTime=(new Date).getTime(),this.screenShareRecorder.ondataavailable=p=>{p.data.size>0&&(this.uploadPart(p.data,this.sessionId,this.isFirstBlob,JSON.parse(JSON.stringify(this.pastViolations)),this.chunkStartTime),this.pastViolations={},this.chunkStartTime=(new Date).getTime(),this.isFirstBlob=!1)},this.screenShareRecorder.onstop=()=>{},this.screenShareRecorder.start(1e4)}stopRecording(){!this.screenShareRecorder||(console.log("Stopping recording"),this.recordingStopped=!0,this.screenShareRecorder.stop(),this.screenShareRecorder=null)}stopScreenStream(){!this.screenStream||(this.stopStream(this.screenStream),this.screenStream=null)}stopStream(S){const p=S.getTracks();for(let A=0;A<p.length;A++)p[A].stop()}areMultipleScreensPresent(){var S=this;return(0,t.Z)(function*(){if("getScreenDetails"in window){const p=window.screen.isExtended;return S.proctorViolationState.isScreenExtended!==p&&S.store.dispatch((0,x.Vd)({value:p})),p}return S.store.dispatch((0,x.rB)()),!0})()}setupMultiScreenChecks(){return(0,t.Z)(function*(){})()}uploadPart(S,p,A,l,f,w=0){var M=this;return(0,t.Z)(function*(){const U=(new Date).getTime(),V=`temp/${M.testId}/${p}-${U}-${A?1:0}`,H=`temp-${M.testId}-${p}-${U}-${A?1:0}.webm`;Date.now(),l[f]="chunk_started";const j=new File([S],H,{type:S.type}),L=new FormData;L.append("key",V),L.append("acl",M.s3Settings.bucketAcl),L.append("policy",M.s3Settings.encodedPolicy),L.append("x-amz-algorithm","AWS4-HMAC-SHA256"),L.append("x-amz-credential",M.s3Settings.amzCred),L.append("x-amz-date",M.s3Settings.expDate),L.append("X-Amz-Signature",M.s3Settings.sign),L.append("x-amz-meta-proctoringInfo",JSON.stringify(l)),L.append("Content-Type",j.type),L.append("file",j);const a=new XMLHttpRequest,v="https://"+M.s3Settings.bucket+".s3.amazonaws.com/";a.upload.addEventListener("progress",()=>{},!1),a.addEventListener("error",i=>{console.error(i),w<2?(w+=1,setTimeout(()=>M.uploadPart(S,p,A,l,f,w),3e3*w)):w>=2&&(M.store.dispatch((0,x.Nt)({typeOfAPI:"screenRecordingUpload"})),M.sessionId===p&&A&&M.startRecording())},!1),a.onreadystatechange=()=>{4===a.readyState&&(204===a.status||console.error(`[${M.testId}] Screen Recording Chunk Upload failed with status ${a.status}: ${a.statusText}`))},a.open("POST",v,!0),a.send(L)})()}cleanup(){clearInterval(this.checkScreenRecordingInterval)}};R.\u0275fac=function(S){return new(S||R)(Q.LFG(Z.yh),Q.LFG(Q.R0b))},R.\u0275prov=Q.Yz7({token:R,factory:R.\u0275fac}),R=(0,e.gn)([(0,g.c)()],R)},44462:(ie,B,m)=>{m.d(B,{Mq:()=>q,fX:()=>L,zE:()=>j});var t=m(22560),e=m(94666),g=m(92218),O=m(55901),x=m(80823);const z=["gutterEls"];function k(a,v){if(1&a){const i=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("mousedown",function(r){t.CHM(i);const n=t.oxw().index;return t.oxw().startDragging(r,2*n+1,n+1)})("touchstart",function(r){t.CHM(i);const n=t.oxw().index;return t.oxw().startDragging(r,2*n+1,n+1)})("mouseup",function(r){t.CHM(i);const n=t.oxw().index;return t.oxw().clickGutter(r,n+1)})("touchend",function(r){t.CHM(i);const n=t.oxw().index;return t.oxw().clickGutter(r,n+1)}),t._UZ(2,"div",4),t.qZA()}if(2&a){const i=t.oxw().index,s=t.oxw();t.Udp("flex-basis",s.gutterSize,"px")("order",2*i+1)}}function Q(a,v){1&a&&t.YNc(0,k,3,4,"div",1),2&a&&t.Q6J("ngIf",!1===v.last)}const Z=["*"];function R(a){return void 0!==a.changedTouches&&a.changedTouches.length>0?{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY}:void 0!==a.clientX&&void 0!==a.clientY?{x:a.clientX,y:a.clientY}:null}function E(a,v){const i=a.nativeElement.getBoundingClientRect();return"horizontal"===v?i.width:i.height}function S(a){return"boolean"==typeof a?a:"false"!==a}function p(a,v){return null==a?v:(a=Number(a),!isNaN(a)&&a>=0?a:v)}function A(a,v){if("percent"===a){const i=v.reduce((s,r)=>null!==r?s+r:s,0);return v.every(s=>null!==s)&&i>99.9&&i<100.1}if("pixel"===a)return 1===v.filter(i=>null===i).length}function l(a){return null===a.size?null:!0===a.component.lockSize?a.size:null===a.component.minSize?null:a.component.minSize>a.size?a.size:a.component.minSize}function f(a){return null===a.size?null:!0===a.component.lockSize?a.size:null===a.component.maxSize?null:a.component.maxSize<a.size?a.size:a.component.maxSize}function w(a,v,i,s){return v.reduce((r,n)=>{const h=function M(a,v,i,s){return 0===i?{areaSnapshot:v,pixelAbsorb:0,percentAfterAbsorption:v.sizePercentAtStart,pixelRemain:0}:0===v.sizePixelAtStart&&i<0?{areaSnapshot:v,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:i}:"percent"===a?function U(a,v,i){const r=(a.sizePixelAtStart+v)/i*100;if(v>0){if(null!==a.area.maxSize&&r>a.area.maxSize){const n=a.area.maxSize/100*i;return{areaSnapshot:a,pixelAbsorb:n,percentAfterAbsorption:a.area.maxSize,pixelRemain:a.sizePixelAtStart+v-n}}return{areaSnapshot:a,pixelAbsorb:v,percentAfterAbsorption:r>100?100:r,pixelRemain:0}}if(v<0){if(null!==a.area.minSize&&r<a.area.minSize){const n=a.area.minSize/100*i;return{areaSnapshot:a,pixelAbsorb:n,percentAfterAbsorption:a.area.minSize,pixelRemain:a.sizePixelAtStart+v-n}}return r<0?{areaSnapshot:a,pixelAbsorb:-a.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:v+a.sizePixelAtStart}:{areaSnapshot:a,pixelAbsorb:v,percentAfterAbsorption:r,pixelRemain:0}}}(v,i,s):"pixel"===a?function V(a,v,i){const s=a.sizePixelAtStart+v;return v>0?null!==a.area.maxSize&&s>a.area.maxSize?{areaSnapshot:a,pixelAbsorb:a.area.maxSize-a.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:s-a.area.maxSize}:{areaSnapshot:a,pixelAbsorb:v,percentAfterAbsorption:-1,pixelRemain:0}:v<0?null!==a.area.minSize&&s<a.area.minSize?{areaSnapshot:a,pixelAbsorb:a.area.minSize+v-s,percentAfterAbsorption:-1,pixelRemain:s-a.area.minSize}:s<0?{areaSnapshot:a,pixelAbsorb:-a.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:v+a.sizePixelAtStart}:{areaSnapshot:a,pixelAbsorb:v,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(v,i):void 0}(a,n,r.remain,s);return r.list.push(h),r.remain=h.pixelRemain,r},{remain:i,list:[]})}function H(a,v){"percent"===a?v.areaSnapshot.area.size=v.percentAfterAbsorption:"pixel"===a&&null!==v.areaSnapshot.area.size&&(v.areaSnapshot.area.size=v.areaSnapshot.sizePixelAtStart+v.pixelAbsorb)}let q=(()=>{class a{constructor(i,s,r,n){this.ngZone=i,this.elRef=s,this.cdRef=r,this.renderer=n,this._direction="horizontal",this._unit="percent",this._gutterSize=11,this._gutterStep=1,this._restrictMove=!1,this._useTransition=!1,this._disabled=!1,this._dir="ltr",this._gutterDblClickDuration=0,this.dragStart=new t.vpe(!1),this.dragEnd=new t.vpe(!1),this.gutterClick=new t.vpe(!1),this.gutterDblClick=new t.vpe(!1),this.dragProgressSubject=new g.xQ,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction}set direction(i){this._direction="vertical"===i?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(i){this._unit="pixel"===i?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(i){this._gutterSize=p(i,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(i){this._gutterStep=p(i,1)}get gutterStep(){return this._gutterStep}set restrictMove(i){this._restrictMove=S(i)}get restrictMove(){return this._restrictMove}set useTransition(i){this._useTransition=S(i),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(i){this._disabled=S(i),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(i){this._dir="rtl"===i?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(i){this._gutterDblClickDuration=p(i,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new O.y(i=>this.transitionEndSubscriber=i).pipe((0,x.b)(20))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(i){const s={component:i,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===i.visible?(this.displayedAreas.push(s),this.build(!0,!0)):this.hiddenAreas.push(s)}removeArea(i){if(this.displayedAreas.some(s=>s.component===i)){const s=this.displayedAreas.find(r=>r.component===i);this.displayedAreas.splice(this.displayedAreas.indexOf(s),1),this.build(!0,!0)}else if(this.hiddenAreas.some(s=>s.component===i)){const s=this.hiddenAreas.find(r=>r.component===i);this.hiddenAreas.splice(this.hiddenAreas.indexOf(s),1)}}updateArea(i,s,r){!0===i.visible&&this.build(s,r)}showArea(i){const s=this.hiddenAreas.find(n=>n.component===i);if(void 0===s)return;const r=this.hiddenAreas.splice(this.hiddenAreas.indexOf(s),1);this.displayedAreas.push(...r),this.build(!0,!0)}hideArea(i){const s=this.displayedAreas.find(n=>n.component===i);if(void 0===s)return;const r=this.displayedAreas.splice(this.displayedAreas.indexOf(s),1);r.forEach(n=>{n.order=0,n.size=0}),this.hiddenAreas.push(...r),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(i=>null===i.size?"*":i.size)}setVisibleAreaSizes(i){if(i.length!==this.displayedAreas.length)return!1;const s=i.map(n=>p(n,null));return!1!==A(this.unit,s)&&(this.displayedAreas.forEach((n,h)=>n.component._size=s[h]),this.build(!1,!0),!0)}build(i,s){if(this.stopDragging(),!0===i&&(this.displayedAreas.every(r=>null!==r.component.order)&&this.displayedAreas.sort((r,n)=>r.component.order-n.component.order),this.displayedAreas.forEach((r,n)=>{r.order=2*n,r.component.setStyleOrder(r.order)})),!0===s){const r=A(this.unit,this.displayedAreas.map(n=>n.component.size));switch(this.unit){case"percent":{const n=100/this.displayedAreas.length;this.displayedAreas.forEach(h=>{h.size=r?h.component.size:n,h.minSize=l(h),h.maxSize=f(h)});break}case"pixel":if(r)this.displayedAreas.forEach(n=>{n.size=n.component.size,n.minSize=l(n),n.maxSize=f(n)});else{const n=this.displayedAreas.filter(h=>null===h.component.size);if(0===n.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((h,C)=>{h.size=0===C?null:h.component.size,h.minSize=0===C?null:l(h),h.maxSize=0===C?null:f(h)});else if(n.length>1){let h=!1;this.displayedAreas.forEach(C=>{null===C.component.size?!1===h?(C.size=null,C.minSize=null,C.maxSize=null,h=!0):(C.size=100,C.minSize=null,C.maxSize=null):(C.size=C.component.size,C.minSize=l(C),C.maxSize=f(C))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const i=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(s=>{s.component.setStyleFlex(0,0,`calc( ${s.size}% - ${s.size/100*i}px )`,null!==s.minSize&&s.minSize===s.size,null!==s.maxSize&&s.maxSize===s.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(i=>{null===i.size?i.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?i.component.setStyleFlex(0,0,"100%",!1,!1):i.component.setStyleFlex(0,0,`${i.size}px`,null!==i.minSize&&i.minSize===i.size,null!==i.maxSize&&i.maxSize===i.size)})}clickGutter(i,s){const r=R(i);this.startPoint&&this.startPoint.x===r.x&&this.startPoint.y===r.y&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",s),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",s),this.stopDragging()},this.gutterDblClickDuration))}startDragging(i,s,r){i.preventDefault(),i.stopPropagation(),this.startPoint=R(i),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.snapshot={gutterNum:r,lastSteppedOffset:0,allAreasSizePixel:E(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(n=>{const h={area:n,sizePixelAtStart:E(n.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?n.size:-1};n.order<s?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[h]:this.snapshot.areasBeforeGutter.unshift(h):n.order>s&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[h]):this.snapshot.areasAfterGutter.push(h))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((n,h)=>n+h.sizePercentAtStart,0),0!==this.snapshot.areasBeforeGutter.length&&0!==this.snapshot.areasAfterGutter.length&&(this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.dragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.dragEvent.bind(this)))}),this.displayedAreas.forEach(n=>n.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0))}dragEvent(i){if(i.preventDefault(),i.stopPropagation(),null!==this._clickTimeout&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1===this.isDragging||(this.endPoint=R(i),null===this.endPoint))return;if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let s="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(s=-s);const r=Math.round(s/this.gutterStep)*this.gutterStep;if(r===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=r;let n=w(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),h=w(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==n.remain&&0!==h.remain?Math.abs(n.remain)===Math.abs(h.remain)||(Math.abs(n.remain)>Math.abs(h.remain)?h=w(this.unit,this.snapshot.areasAfterGutter,r+n.remain,this.snapshot.allAreasSizePixel):n=w(this.unit,this.snapshot.areasBeforeGutter,-(r-h.remain),this.snapshot.allAreasSizePixel)):0!==n.remain?h=w(this.unit,this.snapshot.areasAfterGutter,r+n.remain,this.snapshot.allAreasSizePixel):0!==h.remain&&(n=w(this.unit,this.snapshot.areasBeforeGutter,-(r-h.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const C=[...n.list,...h.list],c=C.find(y=>0!==y.percentAfterAbsorption&&y.percentAfterAbsorption!==y.areaSnapshot.area.minSize&&y.percentAfterAbsorption!==y.areaSnapshot.area.maxSize);c&&(c.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-C.filter(y=>y!==c).reduce((y,I)=>y+I.percentAfterAbsorption,0))}n.list.forEach(C=>H(this.unit,C)),h.list.forEach(C=>H(this.unit,C)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(i){if(i&&(i.preventDefault(),i.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(s=>s.component.unlockEvents());this.dragListeners.length>0;){const s=this.dragListeners.pop();s&&s()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(i,s){const r=this.getVisibleAreaSizes();"start"===i?this.dragStart.emit({gutterNum:s,sizes:r}):"end"===i?this.dragEnd.emit({gutterNum:s,sizes:r}):"click"===i?this.gutterClick.emit({gutterNum:s,sizes:r}):"dblclick"===i?this.gutterDblClick.emit({gutterNum:s,sizes:r}):"transitionEnd"===i?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(r)):"progress"===i&&this.dragProgressSubject.next({gutterNum:s,sizes:r})}ngOnDestroy(){this.stopDragging()}collapseArea(i,s,r){const n=this.displayedAreas.find(c=>c.component===i);if(void 0===n)return;const h="right"===r?1:-1;n.sizeBeforeCollapse||(n.sizeBeforeCollapse=n.size,n.gutterBeforeCollapse=h),n.size=s;const C=this.gutterEls.find(c=>c.nativeElement.style.order===`${n.order+h}`);C&&this.renderer.addClass(C.nativeElement,"as-split-gutter-collapsed"),this.updateArea(i,!1,!1)}expandArea(i){const s=this.displayedAreas.find(n=>n.component===i);if(void 0===s||!s.sizeBeforeCollapse)return;s.size=s.sizeBeforeCollapse,s.sizeBeforeCollapse=null;const r=this.gutterEls.find(n=>n.nativeElement.style.order===`${s.order+s.gutterBeforeCollapse}`);r&&this.renderer.removeClass(r.nativeElement,"as-split-gutter-collapsed"),this.updateArea(i,!1,!1)}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.Qsj))},a.\u0275cmp=t.Xpm({type:a,selectors:[["as-split"]],viewQuery:function(i,s){if(1&i&&t.Gf(z,5),2&i){let r;t.iGM(r=t.CRH())&&(s.gutterEls=r)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick",transitionEnd:"transitionEnd"},exportAs:["asSplit"],ngContentSelectors:Z,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","as-split-gutter",3,"flex-basis","order","mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"as-split-gutter",3,"mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(i,s){1&i&&(t.F$t(),t.Hsn(0),t.YNc(1,Q,1,1,"ng-template",0)),2&i&&(t.xp6(1),t.Q6J("ngForOf",s.displayedAreas))},directives:[e.sg,e.O5],styles:['[_nghost-%COMP%]{align-items:stretch;display:flex;flex-wrap:nowrap;height:100%;justify-content:flex-start;overflow:hidden;width:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{align-items:center;background-color:#eee;display:flex;flex-grow:0;flex-shrink:0;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;height:100%;width:100%}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:col-resize;flex-direction:row;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==")}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:row-resize;flex-direction:column;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC")}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url()}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}'],changeDetection:0}),a})(),j=(()=>{class a{constructor(i,s,r,n){this.ngZone=i,this.elRef=s,this.renderer=r,this.split=n,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}set order(i){this._order=p(i,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(i){this._size=p(i,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(i){this._minSize=p(i,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(i){this._maxSize=p(i,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(i){this._lockSize=S(i),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(i){this._visible=S(i),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",i=>{"flex-basis"===i.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(i){this.renderer.setStyle(this.elRef.nativeElement,"order",i)}setStyleFlex(i,s,r,n,h){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",i),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",s),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",r),!0===n?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===h?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const i=this.lockListeners.pop();i&&i()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(i=0,s="right"){this.split.collapseArea(this,i,s)}expand(){this.split.expandArea(this)}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(q))},a.\u0275dir=t.lG2({type:a,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),a})(),L=(()=>{class a{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:a,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:a,providers:[]}}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[e.ez]]}),a})()},79006:(ie,B,m)=>{m.d(B,{BF:()=>k,Tm:()=>R,i3:()=>Q});var t=m(22560),e=m(94666);const g=["video"],O=["canvas"];function x(p,A){if(1&p){const l=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(l),t.oxw().rotateVideoInput(!0)}),t.qZA()}}class z{constructor(A,l,f){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=l,this._imageAsDataUrl=A,this._imageData=f}static getDataFromDataUrl(A,l){return A.replace(`data:${l};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=z.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class k{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((A,l)=>{navigator.mediaDevices.enumerateDevices().then(f=>{A(f.filter(w=>"videoinput"===w.kind))}).catch(f=>{l(f.message||f)})}):Promise.reject("enumerateDevices() not supported.")}}let Q=(()=>{class p{constructor(){this.width=640,this.height=480,this.videoOptions=p.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=p.DEFAULT_IMAGE_TYPE,this.imageQuality=p.DEFAULT_IMAGE_QUALITY,this.imageCapture=new t.vpe,this.initError=new t.vpe,this.imageClick=new t.vpe,this.cameraSwitched=new t.vpe,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(l){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=l.subscribe(()=>{this.takeSnapshot()})}set switchCamera(l){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=l.subscribe(f=>{"string"==typeof f?this.switchToVideoInput(f):this.rotateVideoInput(!1!==f)})}static getMediaConstraintsForDevice(l,f){const w=f||this.DEFAULT_VIDEO_OPTIONS;return l&&(w.deviceId={exact:l}),w}static getDeviceIdFromMediaStreamTrack(l){if(l.getSettings&&l.getSettings()&&l.getSettings().deviceId)return l.getSettings().deviceId;if(l.getConstraints&&l.getConstraints()&&l.getConstraints().deviceId){const f=l.getConstraints().deviceId;return p.getValueFromConstrainDOMString(f)}}static getFacingModeFromMediaStreamTrack(l){if(l){if(l.getSettings&&l.getSettings()&&l.getSettings().facingMode)return l.getSettings().facingMode;if(l.getConstraints&&l.getConstraints()&&l.getConstraints().facingMode){const f=l.getConstraints().facingMode;return p.getValueFromConstrainDOMString(f)}}}static isUserFacing(l){const f=p.getFacingModeFromMediaStreamTrack(l);return!!f&&"user"===f.toLowerCase()}static getValueFromConstrainDOMString(l){if(l){if(l instanceof String)return String(l);if(Array.isArray(l)&&Array(l).length>0)return String(l[0]);if("object"==typeof l){if(l.exact)return String(l.exact);if(l.ideal)return String(l.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(l=>{this.initError.next({message:l}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const l=this.nativeVideoElement,f={width:this.width,height:this.height};l.videoWidth&&(f.width=l.videoWidth,f.height=l.videoHeight);const w=this.canvas.nativeElement;w.width=f.width,w.height=f.height;const M=w.getContext("2d");M.drawImage(l,0,0);const U=this.imageType?this.imageType:p.DEFAULT_IMAGE_TYPE,H=w.toDataURL(U,this.imageQuality?this.imageQuality:p.DEFAULT_IMAGE_QUALITY);let q=null;this.captureImageData&&(q=M.getImageData(0,0,w.width,w.height)),this.imageCapture.next(new z(H,U,q))}rotateVideoInput(l){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(l?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(l){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(l,this.videoOptions)}videoResize(){}get videoWidth(){const l=this.getVideoAspectRatio();return Math.min(this.width,this.height*l)}get videoHeight(){const l=this.getVideoAspectRatio();return Math.min(this.height,this.width/l)}get videoStyleClasses(){let l="";return this.isMirrorImage()&&(l+="mirrored "),l.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const l=this.nativeVideoElement;return l.videoWidth&&l.videoWidth>0&&l.videoHeight&&l.videoHeight>0?l.videoWidth/l.videoHeight:this.width/this.height}initWebcam(l,f){const w=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const M=p.getMediaConstraintsForDevice(l,f);navigator.mediaDevices.getUserMedia({video:M}).then(U=>{this.mediaStream=U,w.srcObject=U,w.play(),this.activeVideoSettings=U.getVideoTracks()[0].getSettings();const V=p.getDeviceIdFromMediaStreamTrack(U.getVideoTracks()[0]);this.cameraSwitched.next(V),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=V?this.availableVideoInputs.findIndex(H=>H.deviceId===V):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(U=>{this.initError.next({message:U.message,mediaStreamError:U})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let l="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?l=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(l=this.mirrorImage.x.toLowerCase())),l){case"always":return!0;case"never":return!1}}return p.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach(l=>l.stop())}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((l,f)=>{k.getAvailableVideoInputs().then(w=>{this.availableVideoInputs=w,l(w)}).catch(w=>{this.availableVideoInputs=[],f(w)})})}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["webcam"]],viewQuery:function(l,f){if(1&l&&(t.Gf(g,7),t.Gf(O,7)),2&l){let w;t.iGM(w=t.CRH())&&(f.video=w.first),t.iGM(w=t.CRH())&&(f.canvas=w.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera",mirrorImage:"mirrorImage"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(l,f){1&l&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return f.imageClick.next()}),t.TgZ(1,"video",1,2),t.NdJ("resize",function(){return f.videoResize()}),t.qZA(),t.YNc(3,x,1,0,"div",3),t._UZ(4,"canvas",4,5),t.qZA()),2&l&&(t.xp6(1),t.Tol(f.videoStyleClasses),t.Q6J("width",f.videoWidth)("height",f.videoHeight),t.xp6(2),t.Q6J("ngIf",f.allowCameraSwitch&&f.availableVideoInputs.length>1&&f.videoInitialized),t.xp6(1),t.Q6J("width",f.width)("height",f.height))},directives:[e.O5],styles:['.webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}']}),p.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},p.DEFAULT_IMAGE_TYPE="image/jpeg",p.DEFAULT_IMAGE_QUALITY=.92,p})(),R=(()=>{class p{}return p.\u0275fac=function(l){return new(l||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[[e.ez]]}),p})()}}]);

//# debugId=88b3c9c7-9461-5a02-a901-6458fb983298
