
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ebe42ece-318e-5e73-8bd1-66eae0379e2c")}catch(e){}}();
(self.webpackChunkassess=self.webpackChunkassess||[]).push([[5970],{45970:(xn,Pt,ke)=>{"use strict";ke.r(Pt),ke.d(Pt,{TestPortalModule:()=>zz});var gt=ke(14540),Ue=ke(94666),Qe=ke(40609),be=ke(91457),Xe=ke(44462),e=ke(22560),ct=ke(23542);let St=(()=>{class t{constructor(n,i){this._testportalSerive=n,this._route=i}ngOnInit(){}test(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(ct.X),e.Y36(gt.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-testportal"]],decls:1,vars:0,consts:[["oncontextmenu","return false"]],template:function(n,i){1&n&&e._UZ(0,"router-outlet",0)},directives:[gt.lC],styles:[""]}),t})();var Le=ke(71670),fe=ke(42321),z=ke(92340),Y=ke(58993),F=ke(3786),Q=ke(32258),H=ke(37317),me=ke(63794),te=ke(28702),xe=ke(34214),he=ke(20432);const Fe=["https://www.linkedin.com/company/wecreateproblems/mycompany/","https://twitter.com/wcreateproblems"],Yt="[Candidate Feedback Component]",At="candidate-feedback-form";var on=(()=>{return(t=on||(on={})).TEXT="text",t.STAR="star",t.OBJECTIVE="objective",t.MULTIPLE="multiple",on;var t})();const ot={initDataLoadState:{state:he.V.NOTLOADED},feedbackFormArray:(0,xe.TX)(At,[]),submitFeedbackApiStatus:{state:he.V.NOTLOADED}};var $e=ke(91698),ee=ke(54750),J=ke(55931);const mn=`${H.Bq} - PROJECT -`,lr=(0,J.PH)(`${mn} launch VM`,(0,J.Ky)()),qe=(0,J.PH)(`${mn} launchVM success`,(0,J.Ky)()),sn=(0,J.PH)(`${mn} launch VM fail`,(0,J.Ky)()),Sn=(0,J.PH)(`${mn} restart VM`,(0,J.Ky)()),Dr=(0,J.PH)(`${mn} restart VM success`,(0,J.Ky)()),qr=(0,J.PH)(`${mn} restartVM fail`,(0,J.Ky)()),ma=(0,J.PH)(`${mn} update VM status`,(0,J.Ky)()),Vt=(0,J.PH)(`${mn} Update instance details`,(0,J.Ky)()),et=(0,J.PH)(`${mn} update VM status success`,(0,J.Ky)()),zn=(0,J.PH)(`${mn} update VM status fail`,(0,J.Ky)()),Vr=(0,J.PH)(`${mn} update VM interaction`,(0,J.Ky)()),dr=(0,J.PH)(`${mn} update VM interaction success`,(0,J.Ky)()),Zn=(0,J.PH)(`${mn} update VM interaction fail`,(0,J.Ky)());var Gn=(()=>{return(t=Gn||(Gn={})).PROJECT="PROJECT",t.DEVEOPS_WINDOWS="DEVOPS_WINDOWS",t.DEVEOPS_LINUX="DEVOPS_LINUX",Gn;var t})(),Ln=(()=>{return(t=Ln||(Ln={})).PENDING="pending",t.RUNNING="running",t.SHUTING_DOWN="shutting-down",t.TERMINATED="terminated",t.STOPPING="stopping",t.STOPPED="stopped",Ln;var t})();const Pi={launchVMApiLoadInfo:{state:he.V.NOTLOADED},restartVMApiLoadInfo:{state:he.V.NOTLOADED},vmStateApiLoadInfo:{state:he.V.NOTLOADED},vmInteractionApiLoadInfo:{state:he.V.NOTLOADED}},ii=(t,r)=>t?t.startsWith("wecp_projects_")?Gn.PROJECT:Gn.DEVEOPS_WINDOWS:r?Gn.DEVEOPS_LINUX:void 0,Hn=(t,r,n,i)=>{const a=ii(t.vmQuestionId,t.linuxQuestionId);if(a===Gn.DEVEOPS_LINUX){const o=`https://devops.wecreateproblems.com/?hostname=43.205.51.246&port=22&username=${t.linuxQuestionId}&password=MUl3MUVyNUp4aVlqNWN2TQ==`;return{vmLink:o,vmHealthLink:o}}if(a===Gn.DEVEOPS_WINDOWS)return{vmLink:`https://www.remotespark.com/view/rdpdirect.html?server=${n}&port=3389&user=Administrator&pwd=${r}&keyboard=1033&width=0&height=0&fullBrowser=Full%20browser&fullScreen=Full%20screen&server_bpp=16&timezone=(GMT)%20GMT%20Standard%20Time&soundPref=0&mapClipboard=on&mapPrinter=on&mapDisk=on&startProgram=noapp&smoothfont=on&=Open&clear=Clear&delete=Delete&save=Save&connect=Connect&gateway=www.remotespark.com`};if(a===Gn.PROJECT){if(t.devOpsAsProject){const o=`https://devops.wecreateproblems.com/?hostname=${i}&port=22&username=${t.devOpsAsProjectUsername}&password=${t.devOpsAsProjectPassword}`;return{vmLink:o,vmHealthLink:o}}return{vmLink:`https://${n.split(".")[0]}.projects.wecreateproblems.com?folder=/home/ubuntu/root/`,vmHealthLink:`https://${n.split(".")[0]}.projects.wecreateproblems.com/project-app-health`}}},ai=(t,r,n,i,a,o,c)=>{t.dispatch((0,H.yi)({eventType:"launch_vm",message:"Request for launching instance",eventDetails:{questionId:a.hash}})),t.dispatch(lr({qType:a.type,questionHash:a.hash})),a.vmQuestionId||a.linuxQuestionId?r.launchVM(a.vmQuestionId||a.linuxQuestionId,{quizId:n.quizId,testId:i,questionHash:a.hash},function(){var d=(0,Le.Z)(function*(s,p){if(s)$e.m.logComponentError(o,c,`Failed to launch vm: ${s}`),t.dispatch(sn({qType:a.type,questionHash:a.hash,error:s}));else{const l=new Date,u={instanceId:p.InstanceId,vmState:p.State?.Name,password:p.password,launchTime:p.LaunchTime,...p.PublicDnsName&&p.PublicIpAddress?Hn(a,p.password,p.PublicDnsName,p.PublicIpAddress):{}};if([Ln.PENDING,Ln.RUNNING].includes(u.vmState)){let f=5e3;if(u.launchTime){const h=new Date(u.launchTime),w=l.getTime()-h.getTime();f=Math.max(45e3-w,5e3)}yield ee.P.sleep(f)}t.dispatch(qe({qType:a.type,questionHash:a.hash,instanceDetails:u}))}});return function(s,p){return d.apply(this,arguments)}}()):t.dispatch(sn({qType:a.type,questionHash:a.hash,error:{errorType:"bad_request",errorMessage:"VM Question ID can't be empty"}}))},Zi=(t,r,n,i,a,o)=>{t.dispatch((0,H.yi)({eventType:"restart_vm",message:"Request for restarting instance",eventDetails:{instanceId:i,questionId:n.hash}})),t.dispatch(Sn({qType:n.type,questionHash:n.hash})),r.restartVM(i,{vmQuestionId:n.vmQuestionId},function(){var c=(0,Le.Z)(function*(d,s){if(d)$e.m.logComponentError(a,o,`Failed to restart vm: ${d}`),t.dispatch(qr({qType:n.type,questionHash:n.hash,error:d}));else{const p=new Date,l={instanceId:s.InstanceId,vmState:s.State?.Name,password:s.password,launchTime:s.LaunchTime,...s.PublicDnsName&&s.PublicIpAddress?Hn(n,s.password,s.PublicDnsName,s.PublicIpAddress):{}};if(![Ln.PENDING,Ln.RUNNING].includes(l.vmState)){let f="Internal server error";return l.vmState===Ln.STOPPING&&(f="Server can't be restarted immediately. Please wait for 1-2 min before trying again"),void t.dispatch(qr({qType:n.type,questionHash:n.hash,error:{errorType:"server_error",errorMessage:"Internal server error"},instanceDetails:l}))}const u=45e3,m=5e3;let g=m;if(l.launchTime){const f=new Date(l.launchTime),h=p.getTime()-f.getTime();g=Math.max(u-h,m)}yield ee.P.sleep(g),t.dispatch(Dr({qType:n.type,questionHash:n.hash,instanceDetails:l}))}});return function(d,s){return c.apply(this,arguments)}}())};var Qn=ke(90056);const en="[Code Editor Component]",Vn=[10,11,12,14,16,18,20].sort(),Sr={count:5,interval:6e4},Jr={fontSize:14,editor:{},isReplayOn:!1},ce=(0,J.PH)(`${en} increase font size`),_e=(0,J.PH)(`${en} decrease font size`),Ne=(0,J.PH)(`${en} init code editor for question`,(0,J.Ky)()),ve=(0,J.PH)(`${en} init stub for question - api call started`,(0,J.Ky)()),Ye=(0,J.PH)(`${en} init stub for question`,(0,J.Ky)()),st=(0,J.PH)(`${en} goto custom input mode`,(0,J.Ky)()),pt=(0,J.PH)(`${en} goto testcase mode`,(0,J.Ky)()),tt=(0,J.PH)(`${en} custom input text change`,(0,J.Ky)()),Je=(0,J.PH)(`${en} change language`,(0,J.Ky)()),_t=(0,J.PH)(`${en} change code`,(0,J.Ky)()),Rn=((0,J.PH)(`${en} poll test case result`),(0,J.PH)(`${en} onLastActionBtnClick`,(0,J.Ky)())),Jn=(0,J.PH)(`${en} start execution`,(0,J.Ky)()),Wr=(0,J.PH)(`${en} start polling test cases`,(0,J.Ky)()),fa=(0,J.PH)(`${en} stop polling test case execution`,(0,J.Ky)()),ga=(0,J.PH)(`${en} manually poll test case execution result`,(0,J.Ky)()),Li=(0,J.PH)(`${en} process test-case execution result`,(0,J.Ky)()),Ri=(0,J.PH)(`${en} test-case execution error`,(0,J.Ky)()),oi=(0,J.PH)(`${en} sync editor with code`,(0,J.Ky)()),ha=(t,r,n,i=!1)=>{localStorage&&!i&&(n=void 0===n?null:n,localStorage.setItem(`${t}|${r}`,JSON.stringify(n)))},si=(t,r,n=!1)=>{if(localStorage&&!n)return JSON.parse(localStorage.getItem(`${t}|${r}`))},Ui=t=>{const r=["TEXT","Perl","OBJC"],n=t.filter(i=>!r.includes(i.name));return 0===n.length?t[0]:n[0]},Bi=t=>t.map(r=>{const i=r.status||"PE",a={WA:"Wrong Answer",IR:"Runtime Error",RTE:"Runtime Error",TLE:"Time Limit Exceeded",AC:"Accepted",PE:"Pending"}[i]||i;return{...r,status:i,statusMsg:a}}),un=(t,r)=>({...t,editor:{...t.editor,[r.questionHash]:{...r}}}),Nn=(t,r)=>t.editor[r].customInput?"customExecution":"execution",vn=$e.m.produceOnWrapper(),$a=(0,J.Lq)(Jr,vn(ce,(t,r)=>(t.fontSize=Vn[Vn.indexOf(t.fontSize)+1],t)),vn(_e,(t,r)=>(t.fontSize=Vn[Vn.indexOf(t.fontSize)-1],t)),vn(Ne,(t,r)=>{if(t.editor[r.questionHash])return t;let n=Qn.M.filter(i=>i.enabled);return r.allowedLanguages?.length&&(n=n.filter(i=>-1!==r.allowedLanguages.indexOf(i.name))),{...t,testId:r.testId,isReplayOn:r.isReplayOn,editor:{...t.editor,[r.questionHash]:{customInput:!1,questionHash:r.questionHash,allowedLanguages:n,code:{},language:Ui(n),stubID:r.stubID,stubLoadStatus:{state:he.V.NOTLOADED},enabled:!0,testcases:r.testcases,execution:{},customExecution:{},lastNExecutionTimes:[]}}}}),vn(Je,(t,r)=>{const n=t.editor[r.questionHash];let i=!1,a=r.getFromLocalStorage?si(t.testId,`${r.questionHash}|language`,t.isReplayOn):r.language;a=n.allowedLanguages.find(c=>c.name===a),a||(a=Ui(n.allowedLanguages)),ha(t.testId,`${r.questionHash}|language`,a.name,t.isReplayOn);let o=si(t.testId,`${r.questionHash}|${a.name}`,t.isReplayOn)||`/* loading code ... // ${r.questionHash} ${a.name} */`;return o&&o!==`/* loading code ... // ${r.questionHash} ${a.name} */`&&(i=!0),i||n.stub&&(o=n.stub[a.name]||Qn.M.find(c=>c.name===a.name)?.baseCode||`/* ${r.questionHash} | ${a.name}: Write your code here. */`,i=!0),un(t,{...n,code:{...n.code,[a.name]:o},language:a,enabled:i})}),vn(ve,(t,r)=>un(t,{...t.editor[r.questionHash],stubLoadStatus:{state:he.V.LOADING}})),vn(Ye,(t,r)=>un(t,{...t.editor[r.questionHash],stubLoadStatus:{state:he.V.LOADED},enabled:!0,stub:r.stub})),vn(st,(t,r)=>un(t,{...t.editor[r.questionHash],customInput:!0})),vn(pt,(t,r)=>un(t,{...t.editor[r.questionHash],customInput:!1})),vn(tt,(t,r)=>un(t,{...t.editor[r.questionHash],customInputText:r.value})),vn(_t,(t,r)=>{const n=t.editor[r.questionHash].language.name;return ha(t.testId,`${r.questionHash}|${t.editor[r.questionHash].language.name}`,r.code,t.isReplayOn),un(t,{...t.editor[r.questionHash],code:{...t.editor[r.questionHash].code,[n]:r.code}})}),vn(Rn,(t,r)=>un(t,{...t.editor[r.questionHash],lastActionBtn:r.btnType})),vn(Jn,(t,r)=>{const n=Date.now();let i=t.editor[r.questionHash].lastNExecutionTimes;return r.sample||(i=[n,...i].slice(0,Sr.count)),un(t,{...t.editor[r.questionHash],lastNExecutionTimes:i,[Nn(t,r.questionHash)]:{...r.submitType&&{submitType:r.submitType},runStatus:"start",runCount:0,pollTestCaseResult:!1,runSample:r.sample,execHash:ee.P.getRandomString(16),timestamp:n}})}),vn(Wr,(t,r)=>{let n=Nn(t,r.questionHash),i=t.editor[r.questionHash][n],a=t.editor[r.questionHash].testcases;return(i.runSample||"sample"===i.submitType)&&(a=a.filter(o=>o.sample)),un(t,{...t.editor[r.questionHash],[n]:{...i,runStatus:"polling",pollTestCaseResult:!0,runCount:0,id:r.id,langName:r.langName,sourceCode:r.sourceCode,testCaseExecutionResult:a,timestamp:Date.now()}})}),vn(Ri,(t,r)=>un(t,{...t.editor[r.questionHash],[Nn(t,r.questionHash)]:{...t.editor[r.questionHash][Nn(t,r.questionHash)],runStatus:"execution-error",pollTestCaseResult:!1,error:r.error,timestamp:Date.now()}})),vn(fa,(t,r)=>un(t,{...t.editor[r.questionHash],[Nn(t,r.questionHash)]:{...t.editor[r.questionHash][Nn(t,r.questionHash)],runStatus:"idle",pollTestCaseResult:!1,timestamp:Date.now()}})),vn(ga,(t,r)=>un(t,{...t.editor[r.questionHash],[Nn(t,r.questionHash)]:{...t.editor[r.questionHash][Nn(t,r.questionHash)],runStatus:"polling",pollTestCaseResult:!0,runCount:14,timestamp:Date.now()}})),vn(Li,(t,r)=>{let n=Nn(t,r.questionHash),i={...t.editor[r.questionHash][n],timestamp:Date.now()};const a=d=>d.runCount>=15?{...d,runStatus:"manual_fetch",pollTestCaseResult:!1}:{...d,runCount:d.runCount+1};if(r.deferTestCaseProcessing)return i={...i,runStatus:"deferred",pollTestCaseResult:!1},un(t,{...t.editor[r.questionHash],[n]:i});if(!1===r.compilationStatus)return i={...i,runStatus:"compilation-error",pollTestCaseResult:!1,compilationMessage:r.compilationMessage},un(t,{...t.editor[r.questionHash],[n]:i});if(!0!==r.compilationStatus)return un(t,{...t.editor[r.questionHash],[n]:a(i)});if(r.custom&&r.testcaseResult[0])return un(t,{...t.editor[r.questionHash],[n]:{...i,testCaseExecutionResult:Bi([r.testcaseResult[0]]),runStatus:"custom-result",pollTestCaseResult:!1}});let o=!1;const c=ee.P.deepClone(i.testCaseExecutionResult);for(let d in c){const s=r.testcaseResult.find(p=>p.testcase_id===i.testCaseExecutionResult[d].testcase_id);s?c[d]=ee.P.deepClone(s):o=!0}return un(t,o?{...t.editor[r.questionHash],[n]:a({...i,testCaseExecutionResult:Bi(c),testCasesPassed:c.filter(d=>"AC"===d.status).length,runStatus:"partial-polling"})}:{...t.editor[r.questionHash],[n]:{...i,testCaseExecutionResult:Bi(c),pollTestCaseResult:!1,testCasesPassed:c.filter(d=>"AC"===d.status).length,runStatus:"result"}})}),vn(oi,(t,r)=>un(t,{...t.editor[r.questionHash],lastEditorSyncTime:Date.now()}))),Yr=t=>t.codeEditorState,Ga=(0,J.P1)(Yr,t=>t.fontSize),Ka=(0,J.P1)(Yr,t=>t.fontSize>=Vn[Vn.length-1]),Xa=(0,J.P1)(Yr,t=>t.fontSize<=Vn[0]),eo=(0,J.P1)(Q.sx,F.Ch,(t,r)=>`<div \n      style="margin-left: -14px; margin-right: -14px; margin-top: -12px; margin-bottom: -12px" \n      class="info-tooltip grid row-gap-4 padding-vertical-12 padding-horizontal-16 text-xs text-font-inter  ${t?"bg-gray-700 text-gray-300":"text-gray-500 border-1 bg-gray-50 border-gray-100"}">\n      <ol>\n        <li>\n          <span>The program can be executed any number of times.</span>\n          ${r?'<span>However, there is a limit on how many times you can <span class="font-weight-700">submit</span> per minute (upto 5 times a minute)</span>':""}\n        </li>\n        <li>\n          <span>The execution yielding highest score is taken into consideration for the final scoring.</span>\n        </li>\n        <li>\n          <span>Use 'Run Code' to debug the code by running your code against sample testcases.</span>\n        </li>\n        <li>\n          <span>'Submit' button will run your code against all the testcases.</span><br> \n          ${r?'<span><span class="font-weight-700">Note: </span>you can run against all the testcases only after you have passed all the sample testcases</span>':""}\n        </li>\n        <li>\n          <span>Languages are version independent if it is not explicitly specified.</span>\n        </li>\n      </ol>\n    </div>\n  `),Fi=t=>(0,J.P1)(Yr,r=>r.editor[t]);var $r=ke(41552),yr=(()=>{return(t=yr||(yr={})).TRAIN="TRAIN",t.TEST="TEST",yr;var t})();const C={pauseAuditSync:!1,forcePushAudits:!1,auditUpdateInterval:5e3,answerUpdateInterval:500,disableCodeAudit:!1},k={copypaste:!1,enableTermination:!1,fullscreen:!1,skipBaseImageAnalysis:!1,skipImageAnalysisRatio:0,skipRekognitionFallbackRatio:0,snapInterval:30,tabChange:!1,useBaseImageFallback:!1,useOnlineApi:!1,video:!1,violationCount:5,blockMobileAndUnwantedBrowsers:!1},q={value:!1,duration:0,sign:"",bucket:"",expDate:"",bucketAcl:"",encodedPolicy:"",amzCred:""},L={isFullscreenDisabled:!1,isTabChanged:!1,isNoFace:!1,isOtherFace:!1,isMultipleFace:!1,isOffline:!1,isWebcamOff:!1,isScreenRecordingOff:!1,isAudioRecordingOff:!1,isScreenExtended:!1,isScreenCheckFailed:!1,clipboardReset:!1,copiedContent:"",tabChangeCount:0,showHonorCodeModal:!1,honorCodeSigned:!1,externalDevice:!1,isUnauthorizedApp:!1,apiFailCount:{}},R={[te.ON.MCQ_SINGLE]:{},[te.ON.MCQ_MULTIPLE]:{},[te.ON.SUBJECTIVE_MANUAL]:{},[te.ON.WORK_SAMPLE]:{},[te.ON.VIDEO_EXPLANATION]:$r.W,[te.ON.MACHINE_LEARNING]:{fileBtnStatus:{[yr.TRAIN]:he.J.NORMAL,[yr.TEST]:he.J.NORMAL},submissionStatus:{state:he.V.NOTLOADED}},[te.ON.PROJECT]:Pi,[te.ON.DEVOPS]:Pi},K={time:0,testInstanceId:"",answers:{},answerQueue:{},answerAttemptCounter:0,showWebcamStream:!0,showViolationModal:!1,showFinishTestModal:!1,finishTestReason:"candidateTriggered",auditSettings:C,auditController:{auditQueue:{},codeReplayAudit:{}},proctorMessages:{},proctorSettings:k,localStorageDump:q,proctorViolationState:L,isSideBarExpanded:!1,darkMode:!1,flaggedQuestions:[],lastReloadAt:0,showReloadToast:!1,qTypes:{},isReplayOn:!1,isFinished:!1,sectionBasedTimer:{value:!1}},ae=(0,J.PH)("[Candidate Editor Component Core] Section Based Timer Open Switch Section Modal",(0,J.Ky)()),ue=(0,J.PH)("[Candidate Editor Component Core] Section Based Timer Close Switch Section Modal"),se=(0,J.PH)("[Candidate Editor Component Core] Section is being submitted"),ge=(0,J.PH)("[Candidate Editor Component Core] Submit Section Failed"),Se=(0,J.PH)("[Candidate Editor Component Core] Section Based Timer Successful Section Submit",(0,J.Ky)()),De=(0,J.PH)("[Candidate Editor Component Core] Section Based Timer Sync Active Section",(0,J.Ky)()),rt=(0,J.PH)("[Candidate Editor Component] Make Active Section Current Section On Screen",(0,J.Ky)()),ft=`${H.Bq} - VIDEO EXPLANATION -`,ht=(0,J.PH)(`${ft} set submission video file details`,(0,J.Ky)()),tn=((0,J.PH)(`${ft} saving time left when video was saved `,(0,J.Ky)()),(0,J.PH)(`${ft} uploading video file `,(0,J.Ky)())),Xn=(0,J.PH)(`${ft} uploading video file failed `,(0,J.Ky)()),Wt=(0,J.PH)(`${ft}l loading web camera failed `,(0,J.Ky)()),An=(0,J.PH)(`${ft} loading web camera  success `,(0,J.Ky)()),Hi=(0,J.PH)(`${ft} loading web camera   `,(0,J.Ky)()),pr=(0,J.PH)(`${ft} Start Count Down   `,(0,J.Ky)()),va=(0,J.PH)(`${ft} Start Recording   `,(0,J.Ky)()),Qi=(0,J.PH)(`${ft} Stop Recording   `,(0,J.Ky)()),ci=(0,J.PH)(`${ft} Initiate View Question Discription`,(0,J.Ky)()),_a=(0,J.PH)(`${ft} Start View Question Discription Countdown `,(0,J.Ky)()),er=(0,J.PH)(`${ft} Stop View Question Discription Countdown `,(0,J.Ky)()),ui=(0,J.PH)(`${ft} Toggle  End Recording From Prevent Navigation Modal`,(0,J.Ky)()),Nr=(0,J.PH)(`${ft} Queue Navigation Action`,(0,J.Ky)());var li=ke(92218),On=ke(36312),Gt=ke(80823),Te=ke(90220),kn=ke(63017),ao=ke(97282),Ps=ke(60758),Zs=ke(49153),Ls=ke(94817),zo=ke(17665);let hu=(()=>{class t{constructor(){this.dbName="wecreateproblems",this.dbVersion=1,this.storeName="submissions"}openDatabase(n){return new Promise((i,a)=>{const o=indexedDB.open(this.dbName,this.dbVersion);o.onerror=c=>{console.error("Database error:",c.target.error),a(c.target.error)},o.onsuccess=c=>{this.db=c.target.result,console.log("Database opened successfully"),i()},o.onupgradeneeded=c=>{this.db=c.target.result,console.log("Upgrading database..."),n.forEach(d=>{let s;this.db.objectStoreNames.contains(d.storeName)?(s=c.target.transaction.objectStore(d.storeName),console.log(`Object store ${d.storeName} already exists`)):(s=this.db.createObjectStore(d.storeName,{keyPath:d.keyPath}),console.log(`Object store ${d.storeName} created`)),d.indices&&d.indices.forEach(p=>{s.indexNames.contains(p.name)?console.warn(`Index ${p.name} already exists on store ${d.storeName}`):(s.createIndex(p.name,p.keyPath,p.options),console.log(`Index ${p.name} created on store ${d.storeName}`))})})}})}addItem(n,i){return new Promise((a,o)=>{const s=this.db.transaction([n],"readwrite").objectStore(n).add(i);s.onsuccess=p=>{a(p.target.result)},s.onerror=p=>{console.error("Add item error:",p.target.error),o(p.target.error)}})}getItem(n,i){return new Promise((a,o)=>{const s=this.db.transaction([n],"readonly").objectStore(n).get(i);s.onsuccess=p=>{a(p.target.result)},s.onerror=p=>{console.error("Get item error:",p.target.error),o(p.target.error)}})}getAllItems(n){return new Promise((i,a)=>{const d=this.db.transaction([n],"readonly").objectStore(n).getAll();d.onsuccess=s=>{i(s.target.result)},d.onerror=s=>{console.error("Get all items error:",s.target.error),a(s.target.error)}})}updateItem(n,i){return new Promise((a,o)=>{const s=this.db.transaction([n],"readwrite").objectStore(n).put(i);s.onsuccess=p=>{a(p.target.result)},s.onerror=p=>{console.error("Update item error:",p.target.error),o(p.target.error)}})}deleteItem(n,i){return new Promise((a,o)=>{const s=this.db.transaction([n],"readwrite").objectStore(n).delete(i);s.onsuccess=()=>{a()},s.onerror=p=>{console.error("Delete item error:",p.target.error),o(p.target.error)}})}clearStore(n){return new Promise((i,a)=>{const d=this.db.transaction([n],"readwrite").objectStore(n).clear();d.onsuccess=()=>{console.log(`All items cleared from ${n}`),i()},d.onerror=s=>{console.error("Clear store error:",s.target.error),a(s.target.error)}})}count(n){return new Promise((i,a)=>{const d=this.db.transaction([n],"readonly").objectStore(n).count();d.onsuccess=s=>{i(s.target.result)},d.onerror=s=>{console.error("Count items error:",s.target.error),a(s.target.error)}})}getItemByIndex(n,i,a){return new Promise((o,c)=>{const l=this.db.transaction(n,"readonly").objectStore(n).index(i).get(a);l.onsuccess=u=>{o(u.target.result)},l.onerror=u=>{console.error("Get item by index error:",u.target.error),c(u.target.error)}})}getItemsByIndex(n,i,a){return new Promise((o,c)=>{const l=this.db.transaction(n,"readonly").objectStore(n).index(i).getAll(a);l.onsuccess=u=>{o(u.target.result)},l.onerror=u=>{console.error("Get items by index error:",u.target.error),c(u.target.error)}})}deleteDatabase(){return new Promise((n,i)=>{this.db.close();const a=indexedDB.deleteDatabase(this.dbName);a.onsuccess=()=>{console.log(`Database ${this.dbName} deleted successfully`),n()},a.onerror=o=>{console.error("Delete database error:",o.target.error),i(o.target.error)},a.onblocked=()=>{console.warn("Database deletion blocked")}})}closeDb(){this.db.close()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ho=ke(39921),di=ke(14526);let pi=class{constructor(r){this.store=r,this.closePreventNavigationModal=new e.vpe,this.store.select(F.UD).pipe((0,Te.t)(this)).subscribe(n=>{this.currentActiveQuestionHash=n,this.show&&this.closeModal()}),this.store.select(Q.f7).subscribe(n=>{n&&Object.keys(n).includes(this.currentActiveQuestionHash)?(this.currentVideoQuestionDataStoreMap=n[this.currentActiveQuestionHash]||null,this.currentVideoQuestionDataStoreMap&&"not_recording"===this.currentVideoQuestionDataStoreMap.recordingState&&this.show&&this.closeModal()):this.currentVideoQuestionDataStoreMap=null})}ngOnInit(){}closeModal(){this.closePreventNavigationModal.emit()}endRecordingAndSubmit(){this.store.dispatch(ui({questionHash:this.currentActiveQuestionHash})),this.closeModal()}};pi.\u0275fac=function(r){return new(r||pi)(e.Y36(J.yh))},pi.\u0275cmp=e.Xpm({type:pi,selectors:[["prevent-navigation-modal"]],inputs:{show:"show"},outputs:{closePreventNavigationModal:"closePreventNavigationModal"},decls:16,vars:1,consts:[["modal-new","",1,"ui","tiny","modal","rounded-8",3,"show"],[1,"flex","text-font-inter","text-gray-600","text-base","padding-16"],[1,"cursor-pointer","margin-left-auto",3,"click"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 1L13 13M1 13L13 1L1 13Z","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"divider","width-100","border-bottom-solid","border-gray-200"],[1,"text-sm","text-gray-900","text-font-inter","padding-16"],[1,"flex","justify-end","items-center","col-gap-12","padding-vertical-12","padding-horizontal-16"],[1,"button","white-button","margin-0-important",3,"click"],[1,"button","blue-button","flex","items-center","margin-0-important",3,"click"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Switching questions will submit your recording "),e.TgZ(3,"span",2),e.NdJ("click",function(){return n.closeModal()}),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"path",4),e.qZA()()(),e.kcU(),e._UZ(6,"div",5),e.TgZ(7,"div",6),e._uU(8," If you switch to another question, your recording will be submitted automatically, and you won\u2019t be able to answer this question again "),e.qZA(),e._UZ(9,"div",5),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return n.closeModal()}),e._uU(12,"Back"),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return n.endRecordingAndSubmit()}),e.TgZ(14,"span"),e._uU(15,"End recording and switch"),e.qZA()()()()),2&r&&e.Q6J("show",n.show)},directives:[di.m],encapsulation:2}),pi=(0,fe.gn)([(0,Te.c)()],pi);const vu=function(t,r,n){return{activeQuestion:t,attempted:r,flagged:n}};function j1(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",13)(1,"button",29),e.NdJ("click",function(){const o=e.CHM(n).index,c=e.oxw(2).index;return e.oxw(3).changeCurrent(o,c)}),e._uU(2),e.qZA()()}if(2&t){const n=r.$implicit,i=r.index,a=e.oxw(5);e.xp6(1),e.ekj("dark",a.darkMode),e.Q6J("ngClass",e.kEZ(4,vu,n===a.activeQuestionHash,a.isAttempted(n),a.isFlagged(n))),e.xp6(1),e.hij(" ",i+1," ")}}function G1(t,r){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,j1,3,8,"div",28),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.questions)}}const _u=function(t){return{"pointer-event-none ":t}};function K1(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",30),e._uU(2),e.qZA(),e.TgZ(3,"div",31)(4,"div",32),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(2).$implicit;return e.oxw(3).openSwitchSectionModal(a.hash)}),e._uU(5),e.qZA(),e.O4$(),e.TgZ(6,"svg",33),e._UZ(7,"path",34),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngClass",i.darkMode?"bg-gray-700 ":"bg-gray-100"),e.xp6(1),e.hij(" Starts in ",i.getTimer(i.activeSectionTimeLeft)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(4,_u,i.blockMobileViewControls)),e.xp6(2),e.hij(" Go to ",n.name," ")}}function X1(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",35),e._uU(2," Submitted "),e.qZA(),e.BQk())}function ev(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,K1,8,6,"ng-container",0),e.YNc(2,X1,3,0,"ng-container",0),e.qZA()),2&t){const n=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.hash===i.nextActiveSectionHash),e.xp6(1),e.Q6J("ngIf",i.sectionDetails[n.hash]&&i.sectionDetails[n.hash].finished)}}function tv(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",24)(2,"h5",25),e._uU(3),e.qZA(),e.YNc(4,G1,2,1,"div",26),e.YNc(5,ev,3,2,"div",0),e.qZA(),e._UZ(6,"div",27),e.BQk()),2&t){const n=r.$implicit,i=r.index,a=e.oxw(3);e.xp6(1),e.Q6J("id","section-container-"+i),e.xp6(2),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngIf",!a.sectionBasedTimer||a.sectionBasedTimer&&n.hash===a.activeSectionHash),e.xp6(1),e.Q6J("ngIf",a.sectionBasedTimer),e.xp6(1),e.ekj("dark",a.darkMode)}}function nv(t,r){1&t&&(e.TgZ(0,"div",36),e._UZ(1,"img",37),e.qZA()),2&t&&e.uIk("data-content","Sherlock is actively monitoring this test to ensure fairness and integrity. Any violations will be detected and flagged immediately")}function rv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",38)(1,"div",39),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleFlag()}),e.qZA()()}if(2&t){const n=e.oxw(3);e.ekj("dark",n.darkMode),e.uIk("data-content","Flag this question"),e.xp6(1),e.ekj("dark",n.darkMode)}}const xu=function(t,r){return{"border-video-icon":t,"border-video-icon-dark-mode":r}};function iv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",13)(1,"div",40)(2,"div",41),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleWebcamStream()}),e.qZA()()()}if(2&t){const n=e.oxw(3);e.xp6(1),e.ekj("dark",n.darkMode),e.Q6J("ngClass",e.WLB(4,xu,n.isShowWebcamStream&&!n.darkMode,n.isShowWebcamStream&&n.darkMode)),e.uIk("data-html",(n.isShowWebcamStream?"Close":"Open")+" video feed")}}const yu=function(t,r){return{"border-calculator-icon":t,"border-calculator-icon-dark-mode":r}};function av(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",13)(1,"div",42)(2,"div",43),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleShowCalculator()}),e.qZA()()()}if(2&t){const n=e.oxw(3);e.xp6(1),e.ekj("dark",n.darkMode),e.Q6J("ngClass",e.WLB(4,yu,n.calculator.showCalculator&&!n.darkMode,n.calculator.showCalculator&&n.darkMode)),e.uIk("data-html",(n.calculator.showCalculator?"Close":"Open")+" Calculator")}}const ov=function(t,r,n){return{"overflow-navigator-gradient ":t,dark:r,white:n}};function sv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e.YNc(2,tv,7,6,"ng-container",8),e.qZA(),e._UZ(3,"div",9),e.TgZ(4,"div",10),e.YNc(5,nv,2,1,"div",11),e.TgZ(6,"div",12)(7,"div",13),e.YNc(8,rv,2,5,"div",14),e.qZA(),e.TgZ(9,"div",13)(10,"div",15)(11,"div",16),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleDarkMode()}),e.qZA()()(),e.YNc(12,iv,3,7,"div",17),e.YNc(13,av,3,7,"div",17),e.TgZ(14,"div",13)(15,"div",18),e._UZ(16,"div",19),e.qZA()()(),e.TgZ(17,"div",20)(18,"div",21),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleFinishTestModal()}),e._UZ(19,"div",22),e.TgZ(20,"div",23),e._uU(21),e.qZA()()()()()}if(2&t){const n=e.oxw(2);e.ekj("dark",n.darkMode),e.xp6(1),e.ekj("dark",n.darkMode),e.xp6(1),e.Q6J("ngForOf",n.navigator),e.xp6(1),e.Q6J("ngClass",e.kEZ(22,ov,n.atBottomOfScroll("question-navigator"),n.darkMode,!n.darkMode)),e.xp6(1),e.ekj("dark",n.darkMode),e.xp6(1),e.Q6J("ngIf",n.sherlock),e.xp6(3),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(2),e.ekj("dark",n.darkMode),e.uIk("data-html","Change theme"),e.xp6(1),e.ekj("dark",n.darkMode),e.xp6(1),e.Q6J("ngIf",n.proctorSettings.video&&!n.proctorSettings.screenRecording&&!n.proctorSettings.screenRecordingWithoutAudio),e.xp6(1),e.Q6J("ngIf",n.calculator.enableCalculator),e.xp6(2),e.ekj("dark",n.darkMode),e.uIk("data-html",n.candidateDetails.name+"<br>"+n.candidateDetails.email),e.xp6(3),e.uIk("data-content","Submit "+n.quizNomenclature),e.xp6(3),e.hij(" Submit ",n.quizNomenclature," ")}}function cv(t,r){if(1&t&&(e.TgZ(0,"div",56)(1,"div"),e._UZ(2,"img",65),e.qZA()()),2&t){const n=e.oxw(4);e.ekj("dark",n.darkMode),e.uIk("data-html","Sherlock is actively monitoring this test to ensure fairness and integrity. Any violations will be detected and flagged immediately")}}function uv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",66)(1,"div",67),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).toggleFlag()}),e.qZA()()}if(2&t){const n=e.oxw(4);e.ekj("dark",n.darkMode),e.uIk("data-content","Flag this question"),e.xp6(1),e.ekj("dark",n.darkMode)}}function lv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",68)(1,"div",69),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).toggleWebcamStream()}),e.qZA()()}if(2&t){const n=e.oxw(4);e.ekj("dark",n.darkMode),e.Q6J("ngClass",e.WLB(4,xu,n.isShowWebcamStream&&!n.darkMode,n.isShowWebcamStream&&n.darkMode)),e.uIk("data-html",(n.isShowWebcamStream?"Close":"Open")+" video feed")}}function dv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",70)(1,"div",71),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).toggleShowCalculator()}),e.qZA()()}if(2&t){const n=e.oxw(4);e.ekj("dark",n.darkMode),e.Q6J("ngClass",e.WLB(4,yu,n.calculator.showCalculator&&!n.darkMode,n.calculator.showCalculator&&n.darkMode)),e.uIk("data-html",(n.calculator.showCalculator?"Close":"Open")+" Calculator")}}function pv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",53),e.YNc(1,cv,3,3,"div",54),e.YNc(2,uv,2,5,"div",55),e.TgZ(3,"div",56)(4,"div",16),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleDarkMode()}),e.qZA()(),e.YNc(5,lv,2,7,"div",57),e.YNc(6,dv,2,7,"div",58),e.TgZ(7,"div",59),e._UZ(8,"div",60),e.qZA(),e.TgZ(9,"div",61),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).showOptions=!1}),e._UZ(10,"div",62),e.qZA(),e.TgZ(11,"div",63),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleFinishTestModal()}),e._UZ(12,"div",64),e.qZA()()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.sherlock),e.xp6(1),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.ekj("dark",n.darkMode),e.uIk("data-html","Change theme"),e.xp6(1),e.ekj("dark",n.darkMode),e.xp6(1),e.Q6J("ngIf",n.proctorSettings.video&&!n.proctorSettings.screenRecording&&!n.proctorSettings.screenRecordingWithoutAudio),e.xp6(1),e.Q6J("ngIf",n.calculator.enableCalculator),e.xp6(1),e.ekj("dark",n.darkMode),e.uIk("data-html",n.candidateDetails.name+"<br>"+n.candidateDetails.email),e.xp6(2),e.ekj("dark",n.darkMode),e.xp6(2),e.ekj("dark",n.darkMode),e.uIk("data-content","Submit "+n.quizNomenclature)}}function mv(t,r){1&t&&(e.TgZ(0,"div",78)(1,"div"),e._UZ(2,"img",65),e.qZA()()),2&t&&e.uIk("data-content","Sherlock is actively monitoring this test to ensure fairness and integrity. Any violations will be detected and flagged immediately")}function fv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",79)(1,"div",67),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).toggleFlag()}),e.qZA()()}if(2&t){const n=e.oxw(4);e.ekj("dark",n.darkMode),e.uIk("data-content","Flag this question")}}function gv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",72),e.YNc(1,mv,3,1,"div",73),e.YNc(2,fv,2,3,"div",74),e.TgZ(3,"div",75),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).showOptions=!0}),e._UZ(4,"div",76),e.qZA(),e.TgZ(5,"div",63),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleFinishTestModal()}),e._UZ(6,"div",64),e.TgZ(7,"div",77),e._uU(8,"Submit"),e.qZA()()()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.sherlock),e.xp6(1),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.ekj("dark",n.darkMode),e.uIk("data-content","Additional options"),e.xp6(2),e.ekj("dark",n.darkMode),e.uIk("data-content","Submit "+n.quizNomenclature)}}const bu=function(t){return{"stroke-dashoffset":t}};function hv(t,r){if(1&t&&(e.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"div",47),e._uU(4),e.qZA(),e.O4$(),e.TgZ(5,"svg"),e._UZ(6,"circle",48)(7,"circle",49),e.qZA()(),e.kcU(),e.TgZ(8,"div",50),e._uU(9,"Answered"),e.qZA()(),e.YNc(10,pv,13,17,"div",51),e.YNc(11,gv,9,8,"div",52),e.qZA()),2&t){const n=e.oxw(2);e.ekj("dark",n.darkMode),e.xp6(4),e.Oqu((null==n.attemptedData?null:n.attemptedData.attempted)+"/"+(null==n.attemptedData?null:n.attemptedData.totalQuestions)),e.xp6(3),e.Q6J("ngStyle",e.VKq(6,bu,126-126*(null==n.attemptedData?null:n.attemptedData.nearestPercent)/100)),e.xp6(3),e.Q6J("ngIf",n.showOptions),e.xp6(1),e.Q6J("ngIf",!n.showOptions)}}function vv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",80),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).gutterClick()}),e._UZ(1,"div",81),e.qZA()}if(2&t){const n=e.oxw(2);e.ekj("dark",n.darkMode)("expanded",n.isSidebarExpanded)}}function _v(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div")(2,"div",2)(3,"div"),e._uU(4),e.qZA()(),e.YNc(5,sv,22,26,"div",3),e.YNc(6,hv,12,8,"ng-template",null,4,e.W1O),e.YNc(8,vv,2,4,"div",5),e.qZA(),e.BQk()),2&t){const n=e.MAs(7),i=e.oxw();e.xp6(2),e.ekj("extended-timer",i.isSidebarExpanded),e.xp6(2),e.Oqu(i.getTimerHandler()),e.xp6(1),e.Q6J("ngIf",i.isSidebarExpanded)("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",!i.inAdaptiveMode&&!i.sectionBasedTimer)}}const wu=function(t,r){return{"text-gray-700":t,"text-gray-200":r}};function xv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",98),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleWebcamStream()}),e.TgZ(1,"div",99),e.O4$(),e.TgZ(2,"svg",118),e._UZ(3,"path",119),e.qZA()(),e.kcU(),e.TgZ(4,"div",102),e._uU(5),e.qZA()()}if(2&t){const n=e.oxw(2);e.xp6(4),e.Q6J("ngClass",e.WLB(2,wu,!n.darkMode,n.darkMode)),e.xp6(1),e.hij(" ",(n.isShowWebcamStream?"Close":"Open")+" video feed"," ")}}const yv=function(t,r,n){return{"div-disabled":t,"opacity-50":r,"pointer-event-none":n}};function bv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",120),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).goToPreviousQuestion()}),e.TgZ(1,"div"),e.O4$(),e.TgZ(2,"svg",121),e._UZ(3,"path",122),e.qZA()(),e.kcU(),e.TgZ(4,"div",123),e._uU(5,"Previous"),e.qZA()()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",e.kEZ(1,yv,!n.hasPrevious,!n.hasPrevious||n.blockMobileViewControls,n.blockMobileViewControls))}}function wv(t,r){1&t&&e._UZ(0,"div",124)}function Cv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",125),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).closeMobileOptions()}),e.qZA()}}function Mv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",13)(1,"button",29),e.NdJ("click",function(){const o=e.CHM(n).index,c=e.oxw(2).index;return e.oxw(3).changeCurrent(o,c)}),e._uU(2),e.qZA()()}if(2&t){const n=r.$implicit,i=r.index,a=e.oxw(5);e.xp6(1),e.ekj("dark",a.darkMode),e.Q6J("ngClass",e.kEZ(4,vu,n===a.activeQuestionHash,a.isAttempted(n),a.isFlagged(n))),e.xp6(1),e.hij(" ",i+1," ")}}function Sv(t,r){if(1&t&&(e.TgZ(0,"div",132),e.YNc(1,Mv,3,8,"div",28),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.questions)}}function Nv(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",30),e._uU(2),e.qZA(),e.TgZ(3,"div",133)(4,"div",32),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(2).$implicit;return e.oxw(3).openSwitchSectionModal(a.hash)}),e._uU(5),e.qZA(),e.O4$(),e.TgZ(6,"svg",33),e._UZ(7,"path",34),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngClass",i.darkMode?"bg-gray-700 ":"bg-gray-100"),e.xp6(1),e.hij(" Starts in ",i.getTimer(i.activeSectionTimeLeft)," "),e.xp6(3),e.hij(" Go to ",n.name," ")}}function Av(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",35),e._uU(2," Submitted "),e.qZA(),e.BQk())}function Tv(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Nv,8,3,"ng-container",0),e.YNc(2,Av,3,0,"ng-container",0),e.qZA()),2&t){const n=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.hash===i.nextActiveSectionHash),e.xp6(1),e.Q6J("ngIf",i.sectionDetails[n.hash]&&i.sectionDetails[n.hash].finished)}}function Iv(t,r){if(1&t&&(e.O4$(),e.kcU(),e.ynx(0),e.TgZ(1,"div",130)(2,"h5",25),e._uU(3),e.qZA(),e.YNc(4,Sv,2,1,"div",131),e.YNc(5,Tv,3,2,"div",0),e.qZA(),e._UZ(6,"div",27),e.BQk()),2&t){const n=r.$implicit,i=e.oxw(3);e.xp6(3),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngIf",!i.sectionBasedTimer||i.sectionBasedTimer&&n.hash===i.activeSectionHash),e.xp6(1),e.Q6J("ngIf",i.sectionBasedTimer),e.xp6(1),e.ekj("dark",i.darkMode)}}function Ev(t,r){if(1&t&&(e.TgZ(0,"div",126)(1,"div",127),e.O4$(),e.TgZ(2,"svg",128),e._UZ(3,"rect",129),e.qZA()(),e.YNc(4,Iv,7,5,"ng-container",8),e.qZA()),2&t){const n=e.oxw(2);e.ekj("dark",n.darkMode),e.xp6(4),e.Q6J("ngForOf",n.navigator)}}const Cu=function(t){return{"pointer-event-none opacity-50 ":t}};function Ov(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",120),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).goToNextQuestion()}),e.TgZ(1,"div",134),e._uU(2,"Next"),e.qZA(),e.TgZ(3,"div"),e.O4$(),e.TgZ(4,"svg",121),e._UZ(5,"path",135),e.qZA()()()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",e.VKq(1,Cu,n.blockMobileViewControls))}}function kv(t,r){1&t&&(e.TgZ(0,"div",137)(1,"div",134),e._uU(2,"Next"),e.qZA(),e.TgZ(3,"div"),e.O4$(),e.TgZ(4,"svg",121),e._UZ(5,"path",135),e.qZA()()())}function Dv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",138),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleFinishTestModal()}),e._UZ(2,"div",139),e.TgZ(3,"div",23),e._uU(4),e.qZA()()()}if(2&t){const n=e.oxw(3);e.xp6(4),e.hij(" Submit ",n.quizNomenclature," ")}}function qv(t,r){if(1&t&&(e.ynx(0),e.YNc(1,kv,6,0,"div",136),e.YNc(2,Dv,5,1,"div",0),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",n.inAdaptiveMode)}}const Mu=function(t,r){return{"text-gray-500":t,"text-gray-100":r}};function Pv(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",82)(2,"div",83)(3,"div",84)(4,"label",85)(5,"span"),e.O4$(),e.TgZ(6,"svg",86),e._UZ(7,"path",87),e.qZA()()(),e.kcU(),e._UZ(8,"input",88),e.TgZ(9,"div",89),e.NdJ("click",function(){return e.CHM(n),e.oxw().closeMobileOptions()}),e.qZA(),e.TgZ(10,"div",90)(11,"div",83)(12,"div"),e.O4$(),e.TgZ(13,"svg",91),e._UZ(14,"path",92),e.qZA()(),e.kcU(),e.TgZ(15,"div",93)(16,"span",94),e._uU(17),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"span",95),e._uU(20),e.qZA()()(),e._UZ(21,"div",96),e.YNc(22,xv,6,5,"div",97),e.TgZ(23,"div",98),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleDarkMode()}),e.TgZ(24,"div",99),e.O4$(),e.TgZ(25,"svg",100),e._UZ(26,"path",101),e.qZA()(),e.kcU(),e.TgZ(27,"div",102),e._uU(28," Change theme "),e.qZA()(),e.TgZ(29,"div",98),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleFinishTestModal()}),e.TgZ(30,"div",99),e.O4$(),e.TgZ(31,"svg",103),e._UZ(32,"path",104),e.qZA()(),e.kcU(),e.TgZ(33,"div",105),e._uU(34),e.qZA()()()(),e.TgZ(35,"div",106),e._uU(36),e.qZA()(),e.TgZ(37,"div",107),e._uU(38),e.qZA()(),e.TgZ(39,"div",108),e.YNc(40,bv,6,5,"div",109),e.YNc(41,wv,1,0,"ng-template",null,110,e.W1O),e.TgZ(43,"div",9)(44,"label",111)(45,"span")(46,"div",46)(47,"div",47),e._uU(48),e.qZA(),e.O4$(),e.TgZ(49,"svg"),e._UZ(50,"circle",112)(51,"circle",113),e.qZA()()()(),e.kcU(),e._UZ(52,"input",114),e.YNc(53,Cv,1,0,"div",115),e.YNc(54,Ev,5,3,"div",116),e.qZA(),e.YNc(55,Ov,6,3,"div",117),e.YNc(56,qv,3,2,"ng-container",0),e.qZA(),e.BQk()}if(2&t){const n=e.MAs(42),i=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(23,Cu,i.blockMobileViewControls)),e.xp6(7),e.ekj("dark",i.darkMode),e.xp6(6),e.Q6J("ngClass",e.WLB(25,Mu,!i.darkMode,i.darkMode)),e.xp6(1),e.Oqu(i.candidateDetails.name),e.xp6(2),e.Q6J("ngClass",e.WLB(28,Mu,!i.darkMode,i.darkMode)),e.xp6(1),e.Oqu(i.candidateDetails.email),e.xp6(1),e.ekj("dark",i.darkMode),e.xp6(1),e.Q6J("ngIf",i.proctorSettings.video),e.xp6(5),e.Q6J("ngClass",e.WLB(31,wu,!i.darkMode,i.darkMode)),e.xp6(7),e.hij("Submit ",i.quizNomenclature,""),e.xp6(2),e.hij(" ",i.quizName.length>20?i.quizName.slice(0,20)+"...":i.quizName," "),e.xp6(2),e.Oqu(i.getTimerHandler()),e.xp6(2),e.Q6J("ngIf",!i.inAdaptiveMode)("ngIfElse",n),e.xp6(3),e.Q6J("ngClass",e.VKq(34,_u,i.blockMobileViewControls)),e.xp6(5),e.Oqu(i.attemptedData.attempted+"/"+i.attemptedData.totalQuestions),e.xp6(3),e.Q6J("ngStyle",e.VKq(36,bu,107-107*i.attemptedData.nearestPercent/100)),e.xp6(2),e.Q6J("ngIf",!i.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",!i.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",i.hasNext),e.xp6(1),e.Q6J("ngIf",!i.hasNext)}}let Zv=(()=>{class t{constructor(n,i,a){this.store=n,this._auditService=i,this.ngZone=a,this.changeCurrentEvent=new e.vpe,this.isSidebarExpanded=!1,this.questionIndex=0,this.sectionIndex=0,this.activeQuestionHash="",this.darkMode=!1,this.navigator=[],this.sherlock=!1,this.showOptions=!1,this.isShowWebcamStream=!1,this.answerDetails={},this.flaggedQuestions=[],this.lastQuestionAudit={sectionIndex:0,questionIndex:0,questionHash:""},this.blockMobileViewControls=!1,this.svgColor="#2563EB",this.showPreventNavigationModal=!1}ngOnInit(){var n=this;this.store.select(F.mM).subscribe(i=>{this.navigator=i}),this.store.select(F.KJ).subscribe(i=>{this.sectionIndex=i.currentSectionIndex,this.questionIndex=i.currentQuestionIndex,this.activeQuestionHash=this.navigator[i.currentSectionIndex].questions[i.currentQuestionIndex],this.auditQuestionChange()}),this.store.select(Q.UH).subscribe(i=>{this.isShowWebcamStream=i}),this.store.select(Q.U_).subscribe(i=>{this.proctorSettings=i,this.sherlock=this.proctorSettings.sherlock}),this.store.select(Q.St).subscribe(i=>this.isSidebarExpanded=i),this.store.select(F.mM).subscribe(i=>this.navigator=i),this.store.select(Q.sx).subscribe(i=>this.darkMode=i),this.store.select(F.$K).subscribe(i=>this.attemptedData=i),this.store.select(Q.jn).subscribe(function(){var i=(0,Le.Z)(function*(a){return n.timer=a});return function(a){return i.apply(this,arguments)}}()),this.store.select(F.xf).subscribe(i=>this.calculator=i),this.store.select(Q._c).subscribe(i=>{this.answerDetails=i}),this.store.select(Q.B_).subscribe(i=>{this.flaggedQuestions=i}),this.store.select(F.UI).subscribe(i=>this.isMobileDevice=i),this.store.select(F.RO).subscribe(i=>{this.showLeaderboard=i.showLeaderboard,this.quizId=i.quizId,this.quizNomenclature=i.quizNomenclature,this.quizNomenclatureLower=i.quizNomenclatureLower}),this.store.select(F.DX).subscribe(i=>this.testId=i),this.store.select(F.z9).subscribe(i=>this.quizName=i),this.store.select(F.oe).subscribe(i=>this.candidateDetails=i),this.store.select(F.cj).subscribe(i=>this.inAdaptiveMode=i),this.store.select(F.Mw).subscribe(i=>this.hasPrevious=i),this.store.select(F._x).subscribe(i=>this.hasNext=i),this.store.select(Q.$j).subscribe(i=>this.sectionBasedTimer=i),this.store.select(Q.Fv).subscribe(i=>{this.activeSectionHash=i,this.navigator.forEach((a,o)=>{a.hash===i&&(this.activeSectionName=a.name,document.getElementById("section-container-"+o)&&setTimeout(()=>{const d=document.getElementById("section-container-"+o)?.offsetTop;document.getElementById("question-navigator").scrollTop=d},500))})}),this.store.select(F.UD).subscribe(i=>this.currentActiveQuestionHash=i),this.store.select(Q.f7).subscribe(i=>{this.currentVideoQuestionDataStoreMap=i&&Object.keys(i).includes(this.currentActiveQuestionHash)&&i[this.currentActiveQuestionHash]||null}),this.store.select(Q.yE).subscribe(i=>this.nextActiveSectionHash=i),this.store.select(Q.KY).subscribe(i=>this.activeSectionTimeLeft=i),this.store.select(Q.fE).subscribe(i=>this.sectionDetails=i),this.store.select(Q.Ph).subscribe(i=>this.blockMobileViewControls=i),window.electronAPI?.onViolationMessage(i=>{this.ngZone.run(()=>{this.svgColor="#DC2626",setTimeout(()=>{this.ngZone.run(()=>{this.svgColor="#2563EB"})},5e3)})})}changeCurrent(n,i){n===this.questionIndex&&i===this.sectionIndex||(!this.currentVideoQuestionDataStoreMap||"in_recording"!==this.currentVideoQuestionDataStoreMap.recordingState&&"countdown"!==this.currentVideoQuestionDataStoreMap.timeBoundDescriptionState?this.store.dispatch((0,Y.L7)({questionIndex:n,sectionIndex:i})):(this.store.dispatch(Nr({questionHash:this.currentActiveQuestionHash,queuedAction:"go_to_question",data:{questionIndex:n,sectionIndex:i}})),this.showPreventNavigationModal=!0))}toggleShowCalculator(){this.store.dispatch((0,Y.E5)())}toggleFlag(){this.store.dispatch((0,H.u4)({questionHash:this.activeQuestionHash}))}toggleWebcamStream(){this.store.dispatch((0,H.eL)())}toggleDarkMode(){this.store.dispatch((0,H.In)())}toggleFinishTestModal(){this.store.dispatch((0,H.ll)({finishTestReason:"candidateTriggered"}))}gutterClick(){this.store.dispatch((0,H.cN)())}getTimer(n){if(n.time>Q.$V&&!this.isMobileDevice)return Math.round(n.time/60)+" min ";{const i=n.formattedTime.hr,a=n.formattedTime.min,o=n.formattedTime.sec;return(i<10&&i>=0?"0":"")+i+":"+(a<10&&a>=0?"0":"")+a+":"+(o<10&&o>=0?"0":"")+o}}getTimerHandler(){return this.sectionBasedTimer?`${this.activeSectionName.length>15?this.activeSectionName.slice(0,15)+"...":this.activeSectionName} ends in ${this.getTimer(this.activeSectionTimeLeft)}`:this.getTimer(this.timer)+" left"}goToNextQuestion(){!this.currentVideoQuestionDataStoreMap||"in_recording"!==this.currentVideoQuestionDataStoreMap.recordingState&&"countdown"!==this.currentVideoQuestionDataStoreMap.timeBoundDescriptionState?this.store.dispatch((0,Y.Bf)()):(this.store.dispatch(Nr({questionHash:this.currentActiveQuestionHash,queuedAction:"next_question",data:null})),this.showPreventNavigationModal=!0)}goToPreviousQuestion(){!this.currentVideoQuestionDataStoreMap||"in_recording"!==this.currentVideoQuestionDataStoreMap.recordingState&&"countdown"!==this.currentVideoQuestionDataStoreMap.timeBoundDescriptionState?this.store.dispatch((0,Y.j6)()):(this.store.dispatch(Nr({questionHash:this.currentActiveQuestionHash,queuedAction:"previous_question",data:null})),this.showPreventNavigationModal=!0)}closePreventNavigationModal(){this.showPreventNavigationModal=!1}auditQuestionChange(){this.lastQuestionAudit.questionHash!==this.activeQuestionHash&&(this.store.dispatch((0,H.yi)({eventType:this.sectionIndex===this.lastQuestionAudit.sectionIndex?"question_change":"section_change",message:`Switch to section index: ${this.sectionIndex}, question index: ${this.questionIndex}`,eventDetails:{localTimestamp:Date.now(),section:this.navigator[this.sectionIndex].hash,question:this.navigator[this.sectionIndex].questions[this.questionIndex]}})),this.lastQuestionAudit={sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,questionHash:this.activeQuestionHash},this._auditService.secureTick())}isAttempted(n){return(0,Q.jg)(this.answerDetails,n)}isFlagged(n){return n!==this.activeQuestionHash&&!!this.flaggedQuestions.includes(n)}closeMobileOptions(){$("#toggle")[0].checked&&$("#toggle")[0].click(),$("#mobile-navigator-toggle")[0].checked&&$("#mobile-navigator-toggle")[0].click()}atBottomOfScroll(n){const i=document.getElementById(n);return!!i&&(i.scrollHeight-i.scrollTop-2>=i.clientHeight||void 0)}openSwitchSectionModal(n){this.store.dispatch(ae({hash:n}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.yh),e.Y36(Zs.I),e.Y36(e.R0b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["candidate-editor-sidebar"]],inputs:{test:"test",showAttempted:"showAttempted",showSaveToServer:"showSaveToServer",visitedQuestions:"visitedQuestions",importantQuestions:"importantQuestions",savedToServer:"savedToServer"},outputs:{changeCurrentEvent:"changeCurrentEvent"},decls:3,vars:3,consts:[[4,"ngIf"],[3,"show","closePreventNavigationModal"],[1,"timer","position-fixed","top-0","flex","items-center","justify-center"],["class","sideNav bg-gray-50",3,"dark",4,"ngIf","ngIfElse"],["minimizeSideNav",""],["class","sidebar-gutter-holder",3,"dark","expanded","click",4,"ngIf"],[1,"sideNav","bg-gray-50"],["id","question-navigator",1,"navigator"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"padding-8","extended-options"],["class","flex tw-justify-center cursor-pointer","popup-no-target","","data-position","right center",4,"ngIf"],[1,"ui","three","column","grid","margin-0-important"],[1,"ui","column","padding-0-important","margin-top-8"],["class","option flag-icon-holder margin-horizontal-4","popup-no-target","","data-position","right center",3,"dark",4,"ngIf"],["popup-no-target","","data-position","right center",1,"option","dark-theme-icon-holder","margin-horizontal-4"],[1,"cursor-pointer","option-icon","margin-auto","dark-theme-icon",3,"click"],["class","ui column padding-0-important margin-top-8",4,"ngIf"],["popup-no-target","","data-position","right center",1,"option","profile-icon-holder","margin-horizontal-4"],[1,"option-icon","profile-icon","margin-auto"],[1,"flex","justify-center"],["popup-no-target","","data-position","right center",1,"option","flex","items-center","finish-test-icon-holder","cursor-pointer","margin-top-12",3,"click"],[1,"cursor-pointer","option-icon","finish-test-icon"],[1,"text-xs","text-gray-700","margin-left-8","text-blue-600","font-weight-500"],[1,"padding-12",3,"id"],[1,"text-font-inter","font-weight-500","text-xs","text-gray-500"],["class","ui three column grid margin-0-important",4,"ngIf"],[1,"line"],["class","ui column padding-0-important margin-top-8",4,"ngFor","ngForOf"],[1,"ui","button","tiny","questionButton","text-font-inter","font-weight-500","text-gray-500",2,"position","relative",3,"ngClass","click"],[1,"padding-vertical-2","padding-horizontal-4","rounded-8","text-gray-500","text-xs","fit-content-width",3,"ngClass"],[1,"flex","items-center","margin-top-8",3,"ngClass"],[1,"text-sm","text-blue-600","cursor-pointer",3,"click"],["width","6","height","8","viewBox","0 0 6 8","fill","none","xmlns","http://www.w3.org/2000/svg",1,"margin-left-8"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.10534 7.29411C0.974112 7.16284 0.900391 6.98483 0.900391 6.79921C0.900391 6.6136 0.974112 6.43558 1.10534 6.30431L3.41044 3.99921L1.10534 1.69411C0.977831 1.56209 0.907274 1.38527 0.908869 1.20173C0.910464 1.01819 0.984082 0.842624 1.11387 0.712838C1.24365 0.583052 1.41922 0.509434 1.60276 0.507839C1.7863 0.506244 1.96312 0.5768 2.09514 0.704311L4.89514 3.50431C5.02637 3.63558 5.10009 3.8136 5.10009 3.99921C5.10009 4.18483 5.02637 4.36284 4.89514 4.49411L2.09514 7.29411C1.96387 7.42534 1.78586 7.49906 1.60024 7.49906C1.41463 7.49906 1.23661 7.42534 1.10534 7.29411Z","fill","#2563EB"],[1,"padding-vertical-2","padding-horizontal-4","rounded-8","text-green-600","bg-green-100","text-xs","fit-content-width"],["popup-no-target","","data-position","right center",1,"flex","tw-justify-center","cursor-pointer"],["src","./../../../../assets/images/sherlock-capsule.svg"],["popup-no-target","","data-position","right center",1,"option","flag-icon-holder","margin-horizontal-4"],[1,"cursor-pointer","option-icon","margin-auto","flag-icon",3,"click"],["popup-no-target","","data-position","right center",1,"option","video-icon-holder","margin-horizontal-4",3,"ngClass"],[1,"cursor-pointer","option-icon","margin-auto","video-icon",3,"click"],["popup-no-target","","data-position","right center",1,"option","calculator-icon-holder","margin-horizontal-4",3,"ngClass"],[1,"cursor-pointer","option-icon","margin-auto","calculator-icon",3,"click"],[1,"minimizeSideNav","bg-gray-50"],[1,"margin-auto"],[1,"circle"],[1,"text"],["cx","23","cy","23","r","20",1,"bg"],["cx","23","cy","23","r","20",1,"progress","two",3,"ngStyle"],[1,"text-gray-500","font-weight-400",2,"font-size","10px"],["class","candidate-options minimised-all-options",4,"ngIf"],["class","candidate-options",4,"ngIf"],[1,"candidate-options","minimised-all-options"],["class","option dark-theme-icon-holder margin-bottom-12 scroll-up","popup-no-target","","data-position","right center",3,"dark",4,"ngIf"],["class","option flag-icon-holder margin-bottom-12 scroll-up","popup-no-target","","data-position","right center",3,"dark",4,"ngIf"],["popup-no-target","","data-position","right center",1,"option","dark-theme-icon-holder","margin-bottom-12","scroll-up"],["class","option video-icon-holder margin-bottom-12 scroll-up","popup-no-target","","data-position","right center",3,"ngClass","dark",4,"ngIf"],["class","option calculator-icon-holder margin-bottom-12 scroll-up","popup-no-target","","data-position","right center",3,"ngClass","dark",4,"ngIf"],["popup-no-target","","data-position","right center",1,"option","profile-icon-holder","margin-bottom-12","scroll-up"],[1,"option-icon","profile-icon"],[1,"option","less-option-icon-holder","margin-bottom-12","cursor-pointer",3,"click"],[1,"option-icon","less-option-icon"],["popup-no-target","","data-position","right center",1,"option","finish-test-icon-holder","margin-bottom-24","cursor-pointer",3,"click"],[1,"cursor-pointer","option-icon","finish-test-icon","margin-auto"],["src","./../../../../assets/images/sherlock-round.svg"],["popup-no-target","","data-position","right center",1,"option","flag-icon-holder","margin-bottom-12","scroll-up"],[1,"cursor-pointer","option-icon","flag-icon",3,"click"],["popup-no-target","","data-position","right center",1,"option","video-icon-holder","margin-bottom-12","scroll-up",3,"ngClass"],[1,"cursor-pointer","option-icon","video-icon",3,"click"],["popup-no-target","","data-position","right center",1,"option","calculator-icon-holder","margin-bottom-12","scroll-up",3,"ngClass"],[1,"cursor-pointer","option-icon","calculator-icon",3,"click"],[1,"candidate-options"],["class","margin-bottom-12 cursor-pointer","popup-no-target","","data-position","right center",4,"ngIf"],["class","option flag-icon-holder margin-bottom-12","popup-no-target","","data-position","right center",3,"dark",4,"ngIf"],["popup-no-target","","data-position","right center",1,"option","additional-option-icon-holder","margin-bottom-12","cursor-pointer",3,"click"],[1,"cursor-pointer","option-icon","additional-option-icon"],[1,"flex","items-center","text-sm","text-blue-600","margin-top-4"],["popup-no-target","","data-position","right center",1,"margin-bottom-12","cursor-pointer"],["popup-no-target","","data-position","right center",1,"option","flag-icon-holder","margin-bottom-12"],[1,"sidebar-gutter-holder",3,"click"],[1,"sidebar-gutter"],[1,"mobile-header"],[1,"flex","items-center"],[1,"flex",3,"ngClass"],["for","toggle",1,"padding-12"],["width","4","height","18","viewBox","0 0 4 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2 2V2.01M2 9V9.01M2 16V16.01M2 3C1.73478 3 1.48043 2.89464 1.29289 2.70711C1.10536 2.51957 1 2.26522 1 2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043 1.10536 1.73478 1 2 1C2.26522 1 2.51957 1.10536 2.70711 1.29289C2.89464 1.48043 3 1.73478 3 2C3 2.26522 2.89464 2.51957 2.70711 2.70711C2.51957 2.89464 2.26522 3 2 3ZM2 10C1.73478 10 1.48043 9.89464 1.29289 9.70711C1.10536 9.51957 1 9.26522 1 9C1 8.73478 1.10536 8.48043 1.29289 8.29289C1.48043 8.10536 1.73478 8 2 8C2.26522 8 2.51957 8.10536 2.70711 8.29289C2.89464 8.48043 3 8.73478 3 9C3 9.26522 2.89464 9.51957 2.70711 9.70711C2.51957 9.89464 2.26522 10 2 10ZM2 17C1.73478 17 1.48043 16.8946 1.29289 16.7071C1.10536 16.5196 1 16.2652 1 16C1 15.7348 1.10536 15.4804 1.29289 15.2929C1.48043 15.1054 1.73478 15 2 15C2.26522 15 2.51957 15.1054 2.70711 15.2929C2.89464 15.4804 3 15.7348 3 16C3 16.2652 2.89464 16.5196 2.70711 16.7071C2.51957 16.8946 2.26522 17 2 17Z","stroke","#FAFAFA","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["type","checkbox","id","toggle",2,"opacity","0"],[1,"mobile-header-dimmer",3,"click"],[1,"mobile-header-options"],["width","20","height","21","viewBox","0 0 20 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.121 16.304C5.21942 15.1179 7.58958 14.4963 10 14.5C12.5 14.5 14.847 15.155 16.879 16.304M13 8.5C13 9.29565 12.6839 10.0587 12.1213 10.6213C11.5587 11.1839 10.7956 11.5 10 11.5C9.20435 11.5 8.44129 11.1839 7.87868 10.6213C7.31607 10.0587 7 9.29565 7 8.5C7 7.70435 7.31607 6.94129 7.87868 6.37868C8.44129 5.81607 9.20435 5.5 10 5.5C10.7956 5.5 11.5587 5.81607 12.1213 6.37868C12.6839 6.94129 13 7.70435 13 8.5ZM19 10.5C19 11.6819 18.7672 12.8522 18.3149 13.9442C17.8626 15.0361 17.1997 16.0282 16.364 16.864C15.5282 17.6997 14.5361 18.3626 13.4442 18.8149C12.3522 19.2672 11.1819 19.5 10 19.5C8.8181 19.5 7.64778 19.2672 6.55585 18.8149C5.46392 18.3626 4.47177 17.6997 3.63604 16.864C2.80031 16.0282 2.13738 15.0361 1.68508 13.9442C1.23279 12.8522 1 11.6819 1 10.5C1 8.11305 1.94821 5.82387 3.63604 4.13604C5.32387 2.44821 7.61305 1.5 10 1.5C12.3869 1.5 14.6761 2.44821 16.364 4.13604C18.0518 5.82387 19 8.11305 19 10.5Z","stroke","#71717A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"padding-left-12"],[1,"text-sm",3,"ngClass"],[1,"text-xs",2,"word-break","break-word",3,"ngClass"],[1,"line","margin-top-16"],["class","flex items-center margin-top-16 height-24",3,"click",4,"ngIf"],[1,"flex","items-center","margin-top-16","height-24",3,"click"],[1,"width-24","height-24"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.1938 13.8222C14.9222 14.1753 16.7164 14.0127 18.3531 13.3545C17.6831 15.0218 16.5295 16.4505 15.0407 17.4567C13.5519 18.4629 11.7961 19.0005 9.99914 19.0005C7.90952 18.9982 5.88576 18.2692 4.27479 16.9383C2.66382 15.6074 1.56597 13.7575 1.16945 11.7059C0.772929 9.65423 1.10243 7.52854 2.10146 5.6932C3.1005 3.85787 4.70685 2.42722 6.64514 1.64648C5.98694 3.28326 5.82429 5.07738 6.17741 6.80584C6.53054 8.5343 7.38386 10.1209 8.63131 11.3683C9.87876 12.6158 11.4653 13.4691 13.1938 13.8222Z","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-sm","padding-left-12",3,"ngClass"],["width","24","height","22","viewBox","0 0 24 22","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.8333 15.6667L22.5 11.0001M22.5 11.0001L17.8333 6.33341M22.5 11.0001H6.16667M13.1667 15.6667V16.8334C13.1667 17.7617 12.7979 18.6519 12.1415 19.3083C11.4852 19.9647 10.5949 20.3334 9.66667 20.3334H5C4.07174 20.3334 3.1815 19.9647 2.52513 19.3083C1.86875 18.6519 1.5 17.7617 1.5 16.8334V5.16675C1.5 4.23849 1.86875 3.34825 2.52513 2.69187C3.1815 2.0355 4.07174 1.66675 5 1.66675H9.66667C10.5949 1.66675 11.4852 2.0355 12.1415 2.69187C12.7979 3.34825 13.1667 4.23849 13.1667 5.16675V6.33341","stroke","#2563EB","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-sm","text-blue-600","padding-left-12"],[1,"break-word","overflow-ellipses","margin-horizontal-15"],[1,"flex","justify-center",2,"width","120px","padding-right","12"],[1,"mobile-footer"],["class","flex cursor-pointer",3,"ngClass","click",4,"ngIf","ngIfElse"],["placeholderDiv",""],["for","mobile-navigator-toggle"],["cx","20","cy","20","r","17",1,"bg"],["cx","20","cy","20","r","17",1,"progress","two",3,"ngStyle"],["type","checkbox","id","mobile-navigator-toggle",2,"opacity","0"],["class","mobile-footer-dimmer",3,"click",4,"ngIf"],["class","mobile-navigator",3,"dark",4,"ngIf"],["class","flex cursor-pointer",3,"ngClass","click",4,"ngIf"],["width","24","height","24","fill","none","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","stroke","#3F3F46","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"flex","cursor-pointer",3,"ngClass","click"],["width","8","height","14","viewBox","0 0 8 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.25 12.25L1 7L6.25 1.75","stroke","#FAFAFA","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"padding-left-8"],[2,"height","20px","width","70px"],[1,"mobile-footer-dimmer",3,"click"],[1,"mobile-navigator"],[1,"flex","justify-center","padding-8"],["width","40","height","6","viewBox","0 0 40 6","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","40","height","6","rx","3","fill","#E4E4E7"],[1,"padding-12"],["class","ui six column grid margin-0-important",4,"ngIf"],[1,"ui","six","column","grid","margin-0-important"],[1,"flex","items-center","margin-top-8"],[1,"padding-right-8"],["d","M1.25 1.75L6.5 7L1.25 12.25","stroke","#FAFAFA","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","flex cursor-pointer div-disabled opacity-50",4,"ngIf"],[1,"flex","cursor-pointer","div-disabled","opacity-50"],[1,"option","flex","items-center","finish-test-icon-holder","cursor-pointer",3,"click"],[1,"cursor-pointer","option-icon","finish-test-icon","mobile"]],template:function(n,i){1&n&&(e.YNc(0,_v,9,6,"ng-container",0),e.YNc(1,Pv,57,38,"ng-container",0),e.TgZ(2,"prevent-navigation-modal",1),e.NdJ("closePreventNavigationModal",function(){return i.closePreventNavigationModal()}),e.qZA()),2&n&&(e.Q6J("ngIf",!i.isMobileDevice),e.xp6(1),e.Q6J("ngIf",i.isMobileDevice),e.xp6(1),e.Q6J("show",i.showPreventNavigationModal))},directives:[Ue.O5,Ue.sg,Ue.mk,Ho.P,Ue.PC,pi],styles:['*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.navigator[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.navigator[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:inherit}.navigator[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e5e7eb}.navigator[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:vertical:hover{background-color:#9ca3af}.navigator.dark[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:inherit}.navigator.dark[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#52525b}.navigator.dark[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:vertical:hover{background-color:#9ca3af}.navigator[_ngcontent-%COMP%]{margin-top:40px;overflow-y:auto!important;scrollbar-color:light}.questionButton[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;padding:0;background:var(--gray-50);color:#71717a;border:1px solid #e4e4e7}.questionButton[_ngcontent-%COMP%]:hover{border:1px solid #9ca3af;background:#f3f4f6}.questionButton.dark[_ngcontent-%COMP%]{background:var(--gray-700);color:var(--gray-500);border:none}.questionButton.activeQuestion[_ngcontent-%COMP%]{background-color:#2563eb!important;color:#fff!important}.questionButton.flagged[_ngcontent-%COMP%]{border:1px solid #facc15!important;color:#eab308!important;background:#fffbeb!important}.overflow-navigator-gradient[_ngcontent-%COMP%]{position:relative;order:2}.overflow-navigator-gradient[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;width:100%;height:75px}.overflow-navigator-gradient.white[_ngcontent-%COMP%]:after{background:linear-gradient(180deg,rgba(255,255,255,0) 0%,#ffffff 100%)}.overflow-navigator-gradient.dark[_ngcontent-%COMP%]:after{background:linear-gradient(180deg,rgba(39,39,42,0) 0%,#27272a 100%)}.questionButton.dark.flagged[_ngcontent-%COMP%]{border:1px solid #facc15;color:#eab308;background:var(--gray-800)}.flagged[_ngcontent-%COMP%]:hover{background:#fef3c7}.questionButton.attempted[_ngcontent-%COMP%]{border:1px solid #16a34a;color:#15803d;background:#f0fdf4}.attempted[_ngcontent-%COMP%]:hover{background:#d1fae5}.questionButton.dark.attempted[_ngcontent-%COMP%]{border:1px solid #16a34a;color:#15803d;background:var(--gray-800)}.line[_ngcontent-%COMP%]{height:1px;width:100%;background:#e5e5e5}.line.dark[_ngcontent-%COMP%]{background:#52525b}.sideNav[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:space-between;border-right:1px solid #e4e4e7}.sideNav.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border:none}.minimizeSideNav[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;height:100vh;border-right:1px solid #e4e4e7}.minimizeSideNav.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border:none}.timer[_ngcontent-%COMP%]{position:absolute;top:0;height:40px;background-color:#52525b;color:#fff;font-size:12px;font-family:Inter;font-weight:500;text-align:center;z-index:10;width:5%;padding:12px 8px;transition:width .3s ease}.timer.extended-timer[_ngcontent-%COMP%]{width:10%}.candidate-options[_ngcontent-%COMP%]{position:absolute;bottom:0;width:5%;display:flex;flex-direction:column;align-items:center}.option-icon-extended[_ngcontent-%COMP%]{width:30px;height:30px;background-size:15px 20px;background-repeat:no-repeat!important}.finish-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.extended-options[_ngcontent-%COMP%]{order:3;flex-shrink:0;border-top:1px solid #e5e5e5;padding-top:20px}.extended-options.dark[_ngcontent-%COMP%]{border-top:1px solid #52525b!important}.mobile-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px;height:50px;background:#3f3f46;color:#fafafa;position:fixed;top:0;width:100%;z-index:100;align-items:center;box-shadow:0 2px 4px #0000000f,0 4px 6px #0000001a}.mobile-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px;height:50px;background:#3f3f46;color:#fafafa;position:fixed;bottom:0;width:100%;z-index:10;align-items:center}.mobile-header-options[_ngcontent-%COMP%]{position:absolute;top:50px;left:9px;width:min(60%,300px);visibility:hidden;background-color:#fafafa;border-radius:0 0 8px 8px;padding:8px 12px 16px;color:#3f3f46;z-index:15;box-shadow:inset 0 11px 8px -10px #0000000f,inset 0 -11px 8px -10px #0000000f}.mobile-header-options.dark[_ngcontent-%COMP%]{background:#27272a}.mobile-header-dimmer[_ngcontent-%COMP%], .mobile-footer-dimmer[_ngcontent-%COMP%]{visibility:hidden}#toggle[_ngcontent-%COMP%]:checked ~ .mobile-header-dimmer[_ngcontent-%COMP%]{visibility:visible;top:50px!important;position:absolute;bottom:50px!important;left:0!important;width:100vw;height:calc(100vh - 100px);text-align:center;vertical-align:middle;background-color:#0003;line-height:1;animation-fill-mode:both;animation-duration:.5s;transition:background-color .5s linear;flex-direction:column;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;will-change:opacity;z-index:10}#toggle[_ngcontent-%COMP%]:checked ~ .mobile-header-options[_ngcontent-%COMP%]{visibility:visible}.mobile-navigator[_ngcontent-%COMP%]{visibility:hidden;bottom:50px;left:0;right:0;height:50vh;overflow:scroll;position:absolute;background-color:#fafafa;border-radius:8px 8px 0 0;padding:8px 12px 16px;color:#3f3f46;z-index:15;box-shadow:inset 0 11px 8px -10px #0000000f,inset 0 -11px 8px -10px #0000000f}.mobile-navigator.dark[_ngcontent-%COMP%]{background:#27272a}#mobile-navigator-toggle[_ngcontent-%COMP%]:checked ~ .mobile-footer-dimmer[_ngcontent-%COMP%]{visibility:visible;top:unset!important;position:absolute;bottom:50px!important;left:0!important;width:100vw;height:calc(100vh - 100px);text-align:center;vertical-align:middle;background-color:#0003;line-height:1;animation-fill-mode:both;animation-duration:.5s;transition:background-color .5s linear;flex-direction:column;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;will-change:opacity;z-index:10}#mobile-navigator-toggle[_ngcontent-%COMP%]:checked ~ .mobile-navigator[_ngcontent-%COMP%]{visibility:visible}@media screen and (max-width: 1240px){.questionButton[_ngcontent-%COMP%]{height:30px;width:30px}}@media screen and (max-width: 1200px),screen and (max-height: 435px){.circle[_ngcontent-%COMP%]{width:40px!important;height:40px!important}.circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px!important;height:40px!important}.circle[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{stroke-dasharray:107!important}.circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{top:35%!important;color:#fafafa!important}}.circle[_ngcontent-%COMP%]{display:inline-block;position:relative;width:45px;height:45px}.circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:45px;height:45px}.circle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{fill:none;stroke-width:2px;stroke:#d4d4d8}.circle[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{fill:none;stroke-width:3px;stroke:#3b82f6;stroke-linecap:round;stroke-dasharray:125.6;transform:rotate(-90deg);transform-origin:50% 50%;animation:two 3.5s ease-in-out,appear 2s}.circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;width:100%;top:37%;font-size:10px;text-align:center;font-weight:500;line-height:15px;color:#71717a}.option[_ngcontent-%COMP%]{padding:4px;border-radius:.5rem}.option.dark[_ngcontent-%COMP%]:hover{opacity:.5}.option-icon[_ngcontent-%COMP%]{height:24px;width:24px;background-size:24px 24px;background-repeat:no-repeat!important}.flag-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23EAB308" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path></svg>\')}.flag-icon-holder[_ngcontent-%COMP%]:hover   .flag-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23B45309" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path></svg>\')}.flag-icon-holder[_ngcontent-%COMP%]:hover{background:#fef9c3}.flag-icon.dark[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23EAB308" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path></svg>\')}.flag-icon-holder.dark[_ngcontent-%COMP%]:hover   .flag-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23CA8A04" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path></svg>\')}.flag-icon-holder.dark[_ngcontent-%COMP%]:hover{opacity:1;background:#fde047}.additional-option-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%2371717A" aria-hidden="true" > <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" ></path> </svg>\')}.additional-option-icon-holder[_ngcontent-%COMP%]:hover   .additional-option-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23616161" aria-hidden="true" > <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" ></path> </svg>\')}.additional-option-icon-holder[_ngcontent-%COMP%]:hover{background:#eeeeee}.dark-theme-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%2371717A" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>\')}.dark-theme-icon-holder[_ngcontent-%COMP%]:hover   .dark-theme-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23616161" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>\')}.dark-theme-icon-holder[_ngcontent-%COMP%]:hover{background:#eeeeee}.dark-theme-icon.dark[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M9 1.5V2.33333M9 15.6667V16.5M16.5 9H15.6667M2.33333 9H1.5M14.3033 14.3033L13.7142 13.7142M4.28583 4.28583L3.69667 3.69667M14.3033 3.69667L13.7142 4.28583M4.28583 13.7142L3.69667 14.3033M12.3333 9C12.3333 9.88405 11.9821 10.7319 11.357 11.357C10.7319 11.9821 9.88405 12.3333 9 12.3333C8.11594 12.3333 7.2681 11.9821 6.64298 11.357C6.01786 10.7319 5.66667 9.88405 5.66667 9C5.66667 8.11594 6.01786 7.2681 6.64298 6.64298C7.2681 6.01786 8.11594 5.66667 9 5.66667C9.88405 5.66667 10.7319 6.01786 11.357 6.64298C11.9821 7.2681 12.3333 8.11594 12.3333 9Z" stroke="%2371717A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </svg>\')!important}.video-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%2371717A" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>\')}.video-icon-holder[_ngcontent-%COMP%]:hover   .video-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23616161" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>\')}.video-icon-holder[_ngcontent-%COMP%]:hover{background:#eeeeee}.calculator-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%2371717A" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>\')}.calculator-icon-holder[_ngcontent-%COMP%]:hover   .calculator-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23616161" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>\')}.calculator-icon-holder[_ngcontent-%COMP%]:hover{background:#eeeeee}.border-video-icon[_ngcontent-%COMP%] > .video-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%233F3F46" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>\')}.border-video-icon-dark-mode[_ngcontent-%COMP%] > .video-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23D4D4D8" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>\')}.border-calculator-icon[_ngcontent-%COMP%] > .calculator-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%233F3F46" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>\')}.border-calculator-icon-dark-mode[_ngcontent-%COMP%] > .calculator-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23D4D4D8" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>\')}.profile-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%2371717A" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>\')}.profile-icon-holder[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23616161" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>\')}.profile-icon-holder[_ngcontent-%COMP%]:hover{background:#eeeeee}.less-option-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg width="16" height="9" viewBox="0 0 16 9" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M15 1L8 8L1 1" stroke="%2371717A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </svg>\')}.less-option-icon-holder[_ngcontent-%COMP%]:hover   .less-option-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8,\t<svg width="16" height="9" viewBox="0 0 16 9" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M15 1L8 8L1 1" stroke="%23616161" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </svg>\')}.less-option-icon-holder[_ngcontent-%COMP%]:hover{background:#eeeeee}.finish-test-icon-holder[_ngcontent-%COMP%]{padding:4px 8px}.finish-test-icon-holder[_ngcontent-%COMP%]:hover{background:var(--blue-100)}.finish-test-icon.mobile[_ngcontent-%COMP%]{height:16px;width:16px;background-size:16px 16px;background-repeat:no-repeat!important}']}),t})(),Lv=(()=>{class t{constructor(n){this.store=n,this.viewQuestion=new e.vpe,this.store.select(F.n7).subscribe(i=>{this.currentQuestion=i})}viewQuestionButtonClick(){this.store.dispatch(_a({questionHash:this.currentQuestion.hash}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["view-question-description-instructions"]],inputs:{descriptionTimeToView:"descriptionTimeToView"},outputs:{viewQuestion:"viewQuestion"},decls:23,vars:1,consts:[[1,"flex","gap-12","border-1","border-blue-300","rounded-8","bg-blue-50","padding-16"],["src","/assets/images/timer.svg"],[1,"text-gray-900"],[1,"font-medium","text-base"],[1,"text-sm","margin-vertical-12"],[2,"margin-top","4px","padding-left","32px"],[1,"margin-bottom-12","text-red-600","text-base","font-weight-500"],[1,"button","white-button","margin-0-important",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div"),e._UZ(2,"img",1),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._uU(5,"This question requires a video response"),e.qZA(),e.TgZ(6,"div",4),e._uU(7," You will have "),e.TgZ(8,"strong"),e._uU(9),e.qZA(),e._uU(10," to read the question before the recording starts automatically. You will only have one chance to record your response. During the recording, the following will be monitored: "),e.TgZ(11,"ul",5)(12,"li"),e._uU(13,"Your eye and posture movements. Hence maintain a steady posture focusing only on your screen."),e.qZA(),e.TgZ(14,"li"),e._uU(15,"Your surrounding environment. Any voice other than yours will be flagged as a violation."),e.qZA(),e.TgZ(16,"li"),e._uU(17,"All tab and window changes. Ensure to stay in the assessment window until the final submission."),e.qZA()()(),e.TgZ(18,"div",6),e._uU(19," WARNING: Reading answers from external sources during video questions will result in immediate termination and blacklisting "),e.qZA(),e.TgZ(20,"div")(21,"button",7),e.NdJ("click",function(){return i.viewQuestionButtonClick()}),e._uU(22," Start Answering "),e.qZA()()()()),2&n&&(e.xp6(9),e.hij("",i.descriptionTimeToView," seconds"))},styles:[""]}),t})();var Qo=ke(68518),Rv=ke(80942),Uv=ke(25738),Bv=ke(7238);const Fv=function(t,r){return{"text-gray-50":t,"text-gray-600":r}};function zv(t,r){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",e.WLB(2,Fv,n.darkMode,!n.darkMode)),e.xp6(1),e.hij(" ",n.sectionName," ")}}function Hv(t,r){if(1&t&&e._UZ(0,"div",18),2&t){const n=e.oxw();e.ekj("dark",n.darkMode)}}function Qv(t,r){1&t&&(e.TgZ(0,"div",19),e._UZ(1,"i",20),e.qZA())}function Vv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",26)(1,"button",27),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).goToPreviousQuestion()}),e.TgZ(2,"div",28),e._UZ(3,"i",29),e.TgZ(4,"div",30),e._uU(5," Previous "),e.qZA()()()()}if(2&t){const n=e.oxw(2);e.ekj("cursor-not-allowed",!n.hasPrevious),e.xp6(1),e.ekj("dark",n.darkMode),e.Q6J("disabled",!n.hasPrevious),e.xp6(2),e.Q6J("ngClass",n.darkMode?"text-gray-300":"text-gray-500"),e.xp6(1),e.Q6J("ngClass",n.darkMode?"text-gray-300":"text-gray-500")}}function Jv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",26)(1,"button",31),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).goToNextQuestion()}),e.TgZ(2,"div",28)(3,"div",32),e._uU(4,"Next"),e.qZA(),e._UZ(5,"i",33),e.qZA()()()}}function Wv(t,r){1&t&&(e.TgZ(0,"div",35)(1,"button",36)(2,"div",28)(3,"div",32),e._uU(4,"Next"),e.qZA(),e._UZ(5,"i",33),e.qZA()()()),2&t&&e.uIk("data-content","This is the last question")}const Yv=function(t){return{dark:t}};function $v(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",26)(1,"button",37),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleFinishTestModal()}),e.TgZ(2,"div",28),e._UZ(3,"div",38),e.TgZ(4,"div",39),e._uU(5),e.qZA()()()()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,Yv,n.darkMode)),e.xp6(4),e.hij("Submit ",n.quizNomenclature,"")}}function jv(t,r){if(1&t&&(e.ynx(0),e.YNc(1,Wv,6,1,"div",34),e.YNc(2,$v,6,4,"div",24),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",n.inAdaptiveMode&&!n.isSectionBasedTimer)}}function Gv(t,r){if(1&t&&(e.TgZ(0,"div",21)(1,"div",22),e.YNc(2,Vv,6,7,"div",23),e.YNc(3,Jv,6,0,"div",24),e.YNc(4,jv,3,2,"ng-container",25),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",n.hasNext),e.xp6(1),e.Q6J("ngIf",!n.hasNext)}}function Kv(t,r){1&t&&(e.TgZ(0,"div",43),e._uU(1,"Flagged"),e.qZA())}function Xv(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleFlag()}),e.qZA()}}function e0(t,r){if(1&t&&(e.TgZ(0,"div",40),e.YNc(1,Kv,2,0,"div",41),e.YNc(2,Xv,1,0,"div",42),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isFlagged(n.question.hash)),e.xp6(1),e.Q6J("ngIf",!n.inAdaptiveMode)}}function t0(t,r){if(1&t&&e._UZ(0,"div",45),2&t){const n=e.oxw();e.Q6J("ngClass",n.darkMode?"text-gray-300 bg-gray-800":"bg-gray-50")("innerHTML",n.sectionDescription,e.oJD)}}function n0(t,r){if(1&t&&e._UZ(0,"view-question-description-instructions",46),2&t){const n=e.oxw();e.Q6J("descriptionTimeToView",n.question.descriptionTimeToView||20)}}const Vo=function(t){return{"no-select":t}};function r0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-quill-editor",47),e.NdJ("dataChange",function(a){return e.CHM(n),e.oxw().question.description=a}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("data",n.question.description)("modules",n.editorOption)("readOnly",!0)("darkMode",n.darkMode)("disableTextSelection",!0)("watermark",n.isWatermarkEnabled?n.candidateEmail:"")("ngClass",e.VKq(7,Vo,n.proctorSettings.copypaste))}}function i0(t,r){if(1&t&&e._UZ(0,"app-template-generator",48),2&t){const n=e.oxw();e.Q6J("codeTemplateRenderer",null==n.question?null:n.question.codeTemplateRenderer)("darkMode",n.darkMode)("ngClass",e.VKq(3,Vo,n.proctorSettings.copypaste))}}const a0=function(){return[]};function o0(t,r){if(1&t&&e._UZ(0,"ds-template-preview",49),2&t){const n=e.oxw();e.Q6J("darkMode",n.darkMode)("languages",(null==n.question?null:n.question.allowedLanguages)||e.DdM(4,a0))("dsTemplateRenderer",null==n.question?null:n.question.dsTemplateRenderer)("ngClass",e.VKq(5,Vo,n.proctorSettings.copypaste))}}function s0(t,r){if(1&t&&e._UZ(0,"db-template-preview",50),2&t){const n=e.oxw();e.Q6J("darkMode",n.darkMode)("dbTemplateRenderer",null==n.question?null:n.question.dbTemplateRenderer)("ngClass",e.VKq(3,Vo,n.proctorSettings.copypaste))}}const c0=function(t){return{"margin-bottom-24":t}},u0=function(t){return{top:t}},l0=function(t,r,n,i){return{"text-gray-50":t,"text-gray-900":r,"no-select":n,"blur-text":i}};let d0=(()=>{class t{constructor(n){this.store=n,this.QuestionTypesEnum=te.ON,this.sectionIndex=0,this.questionIndex=0,this.darkMode=!1,this.editorOption={toolbar:!1,clipboard:{matchVisual:!1},imageReload:!0},this.inAdaptiveMode=!1,this.questionTypeMap=te.GQ,this.isSectionBasedTimer=!1,this.proctorSettings=k,this.showPreventNavigationModal=!1}ngOnInit(){this.store.select(Q.VA).subscribe(n=>this.testId=n).unsubscribe(),this.store.select(Q._c).subscribe(n=>this.answerDetails=n),this.store.select(F.n7).subscribe(n=>{if(this.question=n,n.timeBoundDescription){const i=ee.P.getFromLocalStorage(`${this.testId}|${this.question.hash}|attempted`),o=this.isAttempted(this.question?.hash)?"attemped":i?"incomplete-attempt":"no-action";this.store.dispatch(ci({questionHash:this.question.hash,state:o}))}}),this.store.select(F.KJ).subscribe(n=>{this.sectionIndex=n.currentSectionIndex,this.questionIndex=n.currentQuestionIndex}),this.store.select(F.Ve).subscribe(n=>this.sectionDescription=n),this.store.select(Q.$j).subscribe(n=>this.isSectionBasedTimer=n),this.store.select(Q.sx).subscribe(n=>this.darkMode=n),this.store.select(F.UI).subscribe(n=>this.isMobileDevice=n),this.store.select(F.cj).subscribe(n=>this.inAdaptiveMode=n),this.store.select(F.Mw).subscribe(n=>this.hasPrevious=n),this.store.select(F._x).subscribe(n=>this.hasNext=n),this.store.select(Q.B_).subscribe(n=>{this.flaggedQuestions=n}),this.store.select(F.LW).subscribe(n=>this.isWatermarkEnabled=n),this.store.select(F.oe).subscribe(n=>this.candidateEmail=n.email),this.store.select(F.b2).subscribe(n=>this.sectionName=n),this.store.select(F.RO).subscribe(n=>{this.quizNomenclature=n.quizNomenclature,this.quizNomenclatureLower=n.quizNomenclatureLower}),this.store.select(Q.f7).subscribe(n=>{this.currentVideoQuestionDataStoreMap=n&&Object.keys(n).includes(this.question.hash)&&n[this.question.hash]||null}),this.store.select(Q.U_).subscribe(n=>{this.proctorSettings=n})}goToNextQuestion(){!this.currentVideoQuestionDataStoreMap||"in_recording"!==this.currentVideoQuestionDataStoreMap.recordingState&&"countdown"!==this.currentVideoQuestionDataStoreMap.timeBoundDescriptionState?this.store.dispatch((0,Y.Bf)()):(this.store.dispatch(Nr({questionHash:this.question.hash,queuedAction:"next_question",data:null})),this.showPreventNavigationModal=!0)}goToPreviousQuestion(){!this.currentVideoQuestionDataStoreMap||"in_recording"!==this.currentVideoQuestionDataStoreMap.recordingState&&"countdown"!==this.currentVideoQuestionDataStoreMap.timeBoundDescriptionState?this.store.dispatch((0,Y.j6)()):(this.store.dispatch(Nr({questionHash:this.question.hash,queuedAction:"previous_question",data:null})),this.showPreventNavigationModal=!0)}toggleFlag(){this.store.dispatch((0,H.u4)({questionHash:this.question?.hash}))}isFlagged(n){return!!this.flaggedQuestions.includes(n)}isAttempted(n){return(0,Q.jg)(this.answerDetails,n)}toggleFinishTestModal(){this.store.dispatch((0,H.ll)({finishTestReason:"candidateTriggered"}))}closePreventNavigationModal(){this.showPreventNavigationModal=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["candidate-editor-question"]],decls:19,vars:31,consts:[[1,"padding-24","padding-top-0","position-relative",3,"ngClass"],[1,"ui","grid","question-header",3,"ngStyle"],[3,"ngClass"],["class","text-font-inter text-xs font-weight-500",3,"ngClass",4,"ngIf"],[1,"text-font-inter","font-weight-500","text-size-16","line-height-24","flex",3,"ngClass"],["class","option-icon flag-icon margin-left-8",3,"dark",4,"ngIf"],["class","margin-left-8",4,"ngIf"],["class","ui eight wide column text-align-right",4,"ngIf"],["class","ui six wide column text-align-right margin-bottom-12 justify-end items-center","style","margin-top: -2px; display: flex",4,"ngIf"],[1,"line","bg-gray-200",2,"margin-left","-10px"],["class","padding-vertical-12 padding-horizontal-8 margin-bottom-8 text-font-inter text-sm","style","border-radius: 8px",3,"ngClass","innerHTML",4,"ngIf"],[3,"descriptionTimeToView",4,"ngIf","ngIfElse"],["show_question_description",""],["class","margin-vertical-20","mode","view",3,"codeTemplateRenderer","darkMode","ngClass",4,"ngIf"],["class","margin-vertical-20",3,"darkMode","languages","dsTemplateRenderer","ngClass",4,"ngIf"],["class","margin-vertical-20",3,"darkMode","dbTemplateRenderer","ngClass",4,"ngIf"],[3,"show","closePreventNavigationModal"],[1,"text-font-inter","text-xs","font-weight-500",3,"ngClass"],[1,"option-icon","flag-icon","margin-left-8"],[1,"margin-left-8"],[1,"check","circle","outline","icon",2,"color","#16a34a"],[1,"ui","eight","wide","column","text-align-right"],[1,"flex","justify-end","height-100","margin-vertical-auto"],["class","margin-vertical-auto",3,"cursor-not-allowed",4,"ngIf"],["class","margin-vertical-auto",4,"ngIf"],[4,"ngIf"],[1,"margin-vertical-auto"],[1,"button","white-button","navButton","margin-bottom-0",3,"disabled","click"],[1,"flex","items-center"],[1,"small","chevron","left","icon",3,"ngClass"],[1,"text-size-12","margin-left-4","font-weight-500",3,"ngClass"],[1,"button","new-button","navButton","margin-bottom-0",3,"click"],[1,"margin-right-4","text-size-12"],[1,"small","chevron","right","icon"],["popup-no-target","","data-position","bottom center","class","cursor-not-allowed margin-vertical-auto",4,"ngIf"],["popup-no-target","","data-position","bottom center",1,"cursor-not-allowed","margin-vertical-auto"],["disabled","",1,"button","new-button","navButton","margin-bottom-0"],[1,"button","finish-test-button","form-button","auto-width","navButton",3,"ngClass","click"],[1,"cursor-pointer","option-icon","finish-test-icon","margin-right-4"],[1,"text-size-12"],[1,"ui","six","wide","column","text-align-right","margin-bottom-12","justify-end","items-center",2,"margin-top","-2px","display","flex"],["class","text-xs text-yellow-500 margin-right-8",4,"ngIf"],["class","cursor-pointer option-icon-extended flag-icon",3,"click",4,"ngIf"],[1,"text-xs","text-yellow-500","margin-right-8"],[1,"cursor-pointer","option-icon-extended","flag-icon",3,"click"],[1,"padding-vertical-12","padding-horizontal-8","margin-bottom-8","text-font-inter","text-sm",2,"border-radius","8px",3,"ngClass","innerHTML"],[3,"descriptionTimeToView"],["placeholder","No Question Description Found",3,"data","modules","readOnly","darkMode","disableTextSelection","watermark","ngClass","dataChange"],["mode","view",1,"margin-vertical-20",3,"codeTemplateRenderer","darkMode","ngClass"],[1,"margin-vertical-20",3,"darkMode","languages","dsTemplateRenderer","ngClass"],[1,"margin-vertical-20",3,"darkMode","dbTemplateRenderer","ngClass"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,zv,2,5,"div",3),e.TgZ(4,"div",4),e._uU(5),e.YNc(6,Hv,1,2,"div",5),e.YNc(7,Qv,2,0,"div",6),e.qZA()(),e.YNc(8,Gv,5,3,"div",7),e.YNc(9,e0,3,2,"div",8),e._UZ(10,"div",9),e.qZA(),e.YNc(11,t0,1,2,"div",10),e.YNc(12,n0,1,1,"view-question-description-instructions",11),e.YNc(13,r0,1,9,"ng-template",null,12,e.W1O),e.YNc(15,i0,1,5,"app-template-generator",13),e.YNc(16,o0,1,7,"ds-template-preview",14),e.YNc(17,s0,1,5,"db-template-preview",15),e.qZA(),e.TgZ(18,"prevent-navigation-modal",16),e.NdJ("closePreventNavigationModal",function(){return i.closePreventNavigationModal()}),e.qZA()),2&n){const a=e.MAs(14);e.Q6J("ngClass",e.VKq(22,c0,i.isMobileDevice)),e.xp6(1),e.ekj("dark",i.darkMode),e.Q6J("ngStyle",e.VKq(24,u0,i.isMobileDevice?"50px":"0px")),e.xp6(1),e.Q6J("ngClass",i.isMobileDevice?"ui ten wide column":"ui eight wide column"),e.xp6(1),e.Q6J("ngIf",i.inAdaptiveMode),e.xp6(1),e.Q6J("ngClass",e.l5B(26,l0,i.darkMode,!i.darkMode,i.proctorSettings.copypaste,(null==i.question?null:i.question.timeBoundDescription)&&"no-action"===(null==i.currentVideoQuestionDataStoreMap?null:i.currentVideoQuestionDataStoreMap.timeBoundDescriptionState)&&!i.isAttempted(null==i.question?null:i.question.hash))),e.xp6(1),e.AsE(" ",i.questionIndex+1,". ",(null==i.question?null:i.question.title)||(null==i.questionTypeMap[null==i.question?null:i.question.type]?null:i.questionTypeMap[null==i.question?null:i.question.type].name)," "),e.xp6(1),e.Q6J("ngIf",i.isFlagged(null==i.question?null:i.question.hash)&&!i.isMobileDevice),e.xp6(1),e.Q6J("ngIf",i.isAttempted(null==i.question?null:i.question.hash)),e.xp6(1),e.Q6J("ngIf",!i.isMobileDevice),e.xp6(1),e.Q6J("ngIf",i.isMobileDevice),e.xp6(1),e.ekj("bg-gray-700",i.darkMode),e.xp6(1),e.Q6J("ngIf",i.sectionDescription),e.xp6(1),e.Q6J("ngIf",(null==i.question?null:i.question.type)===i.QuestionTypesEnum.VIDEO_EXPLANATION&&(null==i.question?null:i.question.timeBoundDescription)&&"no-action"===(null==i.currentVideoQuestionDataStoreMap?null:i.currentVideoQuestionDataStoreMap.timeBoundDescriptionState)&&!i.isAttempted(null==i.question?null:i.question.hash))("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",((null==i.question?null:i.question.type)===i.QuestionTypesEnum.PROGRAMMING_GENERAL||(null==i.question?null:i.question.type)===i.QuestionTypesEnum.DEBUGGING)&&(null==i.question?null:i.question.codeTemplateRenderer)),e.xp6(1),e.Q6J("ngIf",(null==i.question?null:i.question.type)===i.QuestionTypesEnum.DATA_SCIENCE),e.xp6(1),e.Q6J("ngIf",(null==i.question?null:i.question.type)===i.QuestionTypesEnum.DATABASE&&(null==i.question?null:i.question.dbTemplateRenderer)),e.xp6(1),e.Q6J("show",i.showPreventNavigationModal)}},directives:[Ue.mk,Ue.PC,Ue.O5,Ho.P,Lv,Qo.g,Rv.$,Uv.O,Bv.d,pi],styles:['.line[_ngcontent-%COMP%]{height:1px;width:100%}.navButton[_ngcontent-%COMP%]{display:inline-block;height:24px;margin-left:8px;padding:0 8px}.navigate-icon[_ngcontent-%COMP%]{height:16px;width:16px;background-size:16px 16px}.navButton-border[_ngcontent-%COMP%]{border:1px solid #e4e4e7}.header[_ngcontent-%COMP%]{z-index:50;padding-top:12px;top:0;height:auto;background:white;position:sticky;margin-bottom:5px}.header.dark[_ngcontent-%COMP%]{background-color:var(--gray-900);opacity:1}.navButtonIcon[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;line-height:15px}[_nghost-%COMP%]     pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}[_nghost-%COMP%]     .ql-container.ql-snow{border:0!important;min-height:20vh}[_nghost-%COMP%]     .ql-editor{padding:0!important;z-index:1;position:inherit}.flagIcon[_ngcontent-%COMP%]{height:15px;width:15px;background-size:15px 15px}.white-button.dark[_ngcontent-%COMP%]{background-color:var(--gray-700)!important;border:none}.flag-icon[_ngcontent-%COMP%]{height:20px;width:24px;background-size:20px 20px;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%23EAB308" aria-hidden="true" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path></svg>\')}.question-header[_ngcontent-%COMP%]{z-index:5;height:auto;background:white;position:sticky;margin-bottom:24px}.question-header.dark[_ngcontent-%COMP%]{background:var(--gray-900)!important;opacity:1}.question-header[_ngcontent-%COMP%]   .ui.eight.wide.column[_ngcontent-%COMP%]{padding-top:16px!important}.finish-test-icon[_ngcontent-%COMP%]{height:16px;width:16px;background-size:16px 16px;background-repeat:no-repeat!important}.button.finish-test-button[_ngcontent-%COMP%]{color:var(--blue-600);background-color:inherit}.button.finish-test-button[_ngcontent-%COMP%]:hover{background-color:var(--blue-100)}.button.finish-test-button.dark[_ngcontent-%COMP%]:hover{opacity:.5}.blur-text[_ngcontent-%COMP%]{filter:blur(5px)}.no-select[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important}\n/*# sourceMappingURL=candidate-editor-question.component.css.map*/']}),t})();function p0(t,r){if(1&t&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.ekj("dark",n.darkMode),e.xp6(1),e.hij(" ",n.label," ")}}function m0(t,r){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,p0,2,3,"span",13),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.label)}}function f0(t,r){1&t&&e.GkF(0)}function g0(t,r){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,f0,1,0,"ng-container",16),e.qZA()),2&t){e.oxw(2);const n=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function h0(t,r){1&t&&e.GkF(0)}function v0(t,r){if(1&t&&(e.TgZ(0,"as-split-area",17),e.YNc(1,h0,1,0,"ng-container",16),e.qZA()),2&t){e.oxw(2);const n=e.MAs(3);e.Q6J("size",50)("minSize",45),e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function _0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",3)(1,"as-split",4)(2,"as-split-area",5),e._UZ(3,"candidate-editor-sidebar"),e.qZA(),e.TgZ(4,"as-split-area",6)(5,"as-split",7),e.NdJ("dragStart",function(){return e.CHM(n),e.oxw()._dragEvent(!0)})("dragEnd",function(){return e.CHM(n),e.oxw()._dragEvent(!1)}),e.TgZ(6,"as-split-area",8)(7,"div")(8,"div")(9,"div"),e._UZ(10,"candidate-editor-question"),e.qZA(),e.YNc(11,m0,2,1,"div",9),e.qZA(),e.YNc(12,g0,2,1,"div",10),e.qZA()(),e.YNc(13,v0,2,3,"as-split-area",11),e.qZA()()()()}if(2&t){const n=e.oxw();e.ekj("bg-gray-900",n.darkMode),e.xp6(1),e.ekj("expanded",n.isSideBarExpanded)("collapsed",!n.isSideBarExpanded)("dark",n.darkMode),e.xp6(1),e.ekj("dark",n.darkMode)("bg-gray-800",n.darkMode),e.Q6J("size",n.isSideBarExpanded?10:5)("maxSize",n.isSideBarExpanded?10:5),e.xp6(2),e.ekj("dark",n.darkMode),e.Q6J("size",n.isSideBarExpanded?90:95),e.xp6(2),e.ekj("dark",n.darkMode),e.Q6J("size",n.split?50:100)("minSize",30),e.xp6(3),e.Udp("width",n.split?"100%":"70%"),e.xp6(2),e.Q6J("ngIf",!n.split),e.xp6(1),e.Q6J("ngIf",!n.split),e.xp6(1),e.Q6J("ngIf",n.split)}}function x0(t,r){1&t&&e.GkF(0)}function y0(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div"),e._UZ(3,"candidate-editor-sidebar"),e.TgZ(4,"div",19),e._UZ(5,"candidate-editor-question"),e.qZA(),e.TgZ(6,"div",12)(7,"span",14),e._uU(8),e.qZA()()(),e.TgZ(9,"div",20),e.YNc(10,x0,1,0,"ng-container",16),e.qZA()(),e.BQk()),2&t){const n=e.oxw(),i=e.MAs(3);e.xp6(1),e.ekj("bg-gray-900",n.darkMode),e.xp6(6),e.ekj("dark",n.darkMode),e.xp6(1),e.Oqu(n.label),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function b0(t,r){1&t&&e.Hsn(0)}const w0=["*"];let Su=(()=>{class t{constructor(n){this.store=n,this.split=!1,this.label="",this.isDragging=new e.vpe,this.isSideBarExpanded=!1,this.darkMode=!1,this.isMobileDevice=!1,this.inAdaptiveMode=!1,this.splitQUestionTypes=[te.ON.PROGRAMMING_GENERAL,te.ON.DEBUGGING,te.ON.DATA_SCIENCE,te.ON.DATABASE,te.ON.PROJECT,te.ON.DEVOPS,te.ON.VIDEO_EXPLANATION]}ngOnInit(){this.store.select(Q.St).subscribe(n=>this.isSideBarExpanded=n),this.store.select(Q.sx).subscribe(n=>this.darkMode=n),this.store.select(F.UI).subscribe(n=>this.isMobileDevice=n),this.store.select(F.cj).subscribe(n=>this.inAdaptiveMode=n),this.store.select(F.B9).subscribe(n=>{this.currentQuestionType=n,this.split=this.splitQUestionTypes.includes(this.currentQuestionType),this.label=this.getLabel()})}getLabel(){return["Multiple Choice","Checkboxes"].includes(this.currentQuestionType)?"Answer Options":["Subjective","workSample"].includes(this.currentQuestionType)?"Answer":""}_dragEvent(n){this.isDragging.emit(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["candidate-editor-layout"]],inputs:{label:"label"},outputs:{isDragging:"isDragging"},ngContentSelectors:w0,decls:4,vars:2,consts:[["style","width: 100vw; height: 100vh","class","bg-white",3,"bg-gray-900",4,"ngIf"],[4,"ngIf"],["content",""],[1,"bg-white",2,"width","100vw","height","100vh"],["direction","horizontal","useTransition","true","gutterSize","0",1,"candidate-sidebar-gutter"],["lockSize","true",1,"overflow-y-hidden-overlay","bg-gray-50",3,"size","maxSize"],["lockSize","true",1,"overflow-y-hidden-overlay",3,"size"],["direction","horizontal","gutterSize","8",3,"dragStart","dragEnd"],[1,"overflow-y-hidden-overlay",3,"size","minSize"],["class","line-text padding-top-24",4,"ngIf"],["class","padding-horizontal-24","style","width: 70%",4,"ngIf"],[3,"size","minSize",4,"ngIf"],[1,"line-text","padding-top-24"],["class","text-font-inter font-weight-500 text-gray-900",3,"dark",4,"ngIf"],[1,"text-font-inter","font-weight-500","text-gray-900"],[1,"padding-horizontal-24",2,"width","70%"],[4,"ngTemplateOutlet"],[3,"size","minSize"],[1,"bg-white"],[1,"question-holder"],[1,"padding-horizontal-24",2,"padding-bottom","50px"]],template:function(n,i){1&n&&(e.F$t(),e.YNc(0,_0,14,26,"div",0),e.YNc(1,y0,11,6,"ng-container",1),e.YNc(2,b0,1,0,"ng-template",null,2,e.W1O)),2&n&&(e.Q6J("ngIf",!i.isMobileDevice),e.xp6(1),e.Q6J("ngIf",i.isMobileDevice))},directives:[Ue.O5,Xe.Mq,Xe.zE,Zv,d0,Ue.tP],styles:[".line-text[_ngcontent-%COMP%]{width:68%;border-bottom:1px solid #e4e4e7;line-height:.1em;margin:10px 0 32px}.line-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px 0 24px}.question-holder[_ngcontent-%COMP%]{top:50px;position:relative}.line-text[_ngcontent-%COMP%]   span.dark[_ngcontent-%COMP%]{color:var(--gray-200);background:var(--gray-900)}\n/*# sourceMappingURL=candidate-editor-layout.component.css.map*/"]}),t})();function C0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const o=e.CHM(n).$implicit;return e.oxw(2).markAnswer(o.hash)}),e.TgZ(1,"div",8),e._UZ(2,"input",9)(3,"label",10),e.qZA()()}if(2&t){const n=r.$implicit,i=e.oxw(2);e.ekj("dark",i.darkMode),e.xp6(2),e.Q6J("checked",n.hash===i.answer),e.xp6(1),e.ekj("dark",i.darkMode),e.Q6J("innerHTML",n.value,e.oJD)}}function M0(t,r){if(1&t&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13),e._uU(3),e.qZA()()()),2&t){const n=e.oxw(2);e.xp6(3),e.hij(" ",n.answerStatus," ")}}function S0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._uU(3,"Select any one option"),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(){return e.CHM(n),e.oxw().resetAnswer()}),e._uU(5,"Clear Answer"),e.qZA()(),e.YNc(6,C0,4,6,"div",5),e.YNc(7,M0,4,1,"div",6),e.qZA()}if(2&t){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.question.options),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn)}}let mi=class{constructor(r){this.store=r,this.darkMode=!1,this.subscriptionsLoaded=!1,this.store.select(Q.ow).subscribe(n=>this.isReplayOn=n),this.store.select(Q.sx).subscribe(n=>this.darkMode=n)}ngOnInit(){this.store.dispatch((0,H.AR)({qType:te.ON.MCQ_SINGLE,questionHash:this.questionHash})),this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r}),this.store.select((0,Q.Kf)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answer=r.length>0?r[0]:""}),this.store.select((0,Q.WS)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerStatus=r}),this.subscriptionsLoaded=!0}saveToStore(r){this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:ee.P.isEmpty(r)?[]:[r]}))}resetAnswer(){this.saveToStore(null)}markAnswer(r){this.saveToStore(r)}};function N0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const o=e.CHM(n).$implicit;return e.oxw(2).markAnswer(o.hash)}),e.TgZ(1,"div",8),e._UZ(2,"input",9)(3,"label",10),e.qZA()()}if(2&t){const n=r.$implicit,i=e.oxw(2);e.ekj("dark",i.darkMode),e.xp6(2),e.Q6J("checked",i.answers.includes(n.hash)),e.xp6(1),e.ekj("dark",i.darkMode),e.Q6J("innerHTML",n.value,e.oJD)}}function A0(t,r){if(1&t&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13),e._uU(3),e.qZA()()()),2&t){const n=e.oxw(2);e.xp6(3),e.hij(" ",n.answerStatus," ")}}function T0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._uU(3,"Select one or more options"),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(){return e.CHM(n),e.oxw().resetAnswer()}),e._uU(5,"Clear Answer"),e.qZA()(),e.YNc(6,N0,4,6,"div",5),e.YNc(7,A0,4,1,"div",6),e.qZA()}if(2&t){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.question.options),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn)}}mi.\u0275fac=function(r){return new(r||mi)(e.Y36(J.yh))},mi.\u0275cmp=e.Xpm({type:mi,selectors:[["mcq-single"]],inputs:{questionHash:"questionHash"},decls:1,vars:1,consts:[["class","margin-bottom-80",4,"ngIf"],[1,"margin-bottom-80"],[1,"margin-bottom-8","flex","justify-between"],[1,"text-font-inter","text-size-12","text-gray-400"],[1,"font-weight-500","text-xs","text-blue-500","cursor-pointer",3,"click"],["class","mcq-option margin-bottom-12",3,"dark","click",4,"ngFor","ngForOf"],["class","margin-top-8",4,"ngIf"],[1,"mcq-option","margin-bottom-12",3,"click"],[1,"ui","radio","checkbox"],["type","radio",3,"checked"],[1,"pos","cursor-pointer",3,"innerHTML"],[1,"margin-top-8"],[1,"flex","flex-wrap","gap-8"],[1,"margin-left-auto","text-xs","text-gray-400"]],template:function(r,n){1&r&&e.YNc(0,S0,8,2,"div",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Ue.sg],styles:["*[_ngcontent-%COMP%]:not(i):not(.code-font):not(.pre){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%]{line-height:150%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.mcq-option[_ngcontent-%COMP%]{padding:12px 8px;cursor:pointer;border-radius:8px;border:1px solid #e4e4e7;box-shadow:0 1px 2px #0000000d}.mcq-option[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.answer-textarea[_ngcontent-%COMP%], .answer-input[_ngcontent-%COMP%]{border:1px solid;width:100%;padding:8px;border-radius:2px}.answer-textarea[_ngcontent-%COMP%]{resize:none;border-radius:8px}.answer-textarea[autosize][_ngcontent-%COMP%]{padding-bottom:0}.answer-textarea[_ngcontent-%COMP%]::placeholder, .answer-input[_ngcontent-%COMP%]::placeholder{font-weight:500}.answer-textarea[_ngcontent-%COMP%]:focus-visible, .answer-input[_ngcontent-%COMP%]:focus-visible{outline:none}.answer-textarea.light[_ngcontent-%COMP%], .answer-input.light[_ngcontent-%COMP%]{border-color:var(--gray-200);box-shadow:0 1px 2px #0000000d;color:var(--gray-700)}.answer-textarea.light[_ngcontent-%COMP%]::placeholder, .answer-input.light[_ngcontent-%COMP%]::placeholder{color:var(--gray-300)}.answer-textarea.light[_ngcontent-%COMP%]:focus-visible, .answer-input.light[_ngcontent-%COMP%]:focus-visible{border-color:#60a5fa}.answer-textarea.error.light[_ngcontent-%COMP%], .answer-input.error.light[_ngcontent-%COMP%]{border-color:var(--red-600);background-color:var(--red-50)}.answer-textarea.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error), .answer-input.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error){background-color:var(--gray-50)}.answer-textarea.dark[_ngcontent-%COMP%], .answer-input.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-800);color:var(--gray-300);box-shadow:0 1px 2px #0000000d}.answer-textarea.dark[_ngcontent-%COMP%]::placeholder, .answer-input.dark[_ngcontent-%COMP%]::placeholder{color:var(--gray-500)}.answer-textarea.error.dark[_ngcontent-%COMP%], .answer-input.error.dark[_ngcontent-%COMP%]{color:var(--red-400);border-color:var(--red-700)}",".pos[_ngcontent-%COMP%]{word-wrap:break-word;cursor:pointer!important;word-break:break-all}.mcq-option.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border:none}.mcq-option.dark[_ngcontent-%COMP%]:hover{background-color:var(--wecp-gray-700);border:none}label.dark[_ngcontent-%COMP%]{color:var(--gray-300)!important}"]}),mi=(0,fe.gn)([(0,Te.c)()],mi);let fi=class{constructor(r){this.store=r,this.darkMode=!1,this.subscriptionsLoaded=!1,this.store.select(Q.ow).subscribe(n=>this.isReplayOn=n),this.store.select(Q.sx).subscribe(n=>this.darkMode=n)}ngOnInit(){this.store.dispatch((0,H.AR)({qType:te.ON.MCQ_SINGLE,questionHash:this.questionHash})),this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r}),this.store.select((0,Q.Kf)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answers=r}),this.store.select((0,Q.WS)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerStatus=r}),this.subscriptionsLoaded=!0}saveToStore(r){this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:r}))}resetAnswer(){this.saveToStore([])}markAnswer(r){let n=ee.P.deepClone(this.answers);const i=n.indexOf(r);-1===i?n.push(r):n.splice(i,1),this.saveToStore(n)}};function I0(t,r){if(1&t&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.hij("Make sure to keep you word count below ",n.question.wordLimit," words")}}function E0(t,r){1&t&&(e.TgZ(0,"span",16),e._uU(1,"You have reached the word limit. Additional words won't be saved"),e.qZA())}fi.\u0275fac=function(r){return new(r||fi)(e.Y36(J.yh))},fi.\u0275cmp=e.Xpm({type:fi,selectors:[["mcq-checkbox"]],inputs:{questionHash:"questionHash"},decls:1,vars:1,consts:[["class","margin-bottom-80",4,"ngIf"],[1,"margin-bottom-80"],[1,"margin-bottom-8","flex","justify-between"],[1,"text-font-inter","text-size-12","text-gray-400"],[1,"font-weight-500","text-xs","text-blue-500","cursor-pointer",3,"click"],["class","mcq-option margin-bottom-12",3,"dark","click",4,"ngFor","ngForOf"],["class","margin-top-8",4,"ngIf"],[1,"mcq-option","margin-bottom-12",3,"click"],[1,"ui","checkbox"],["type","checkbox",3,"checked"],[1,"pos",3,"innerHTML"],[1,"margin-top-8"],[1,"flex","flex-wrap","gap-8"],[1,"margin-left-auto","text-xs","text-gray-400"]],template:function(r,n){1&r&&e.YNc(0,T0,8,2,"div",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Ue.sg],styles:["*[_ngcontent-%COMP%]:not(i):not(.code-font):not(.pre){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%]{line-height:150%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.mcq-option[_ngcontent-%COMP%]{padding:12px 8px;cursor:pointer;border-radius:8px;border:1px solid #e4e4e7;box-shadow:0 1px 2px #0000000d}.mcq-option[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.answer-textarea[_ngcontent-%COMP%], .answer-input[_ngcontent-%COMP%]{border:1px solid;width:100%;padding:8px;border-radius:2px}.answer-textarea[_ngcontent-%COMP%]{resize:none;border-radius:8px}.answer-textarea[autosize][_ngcontent-%COMP%]{padding-bottom:0}.answer-textarea[_ngcontent-%COMP%]::placeholder, .answer-input[_ngcontent-%COMP%]::placeholder{font-weight:500}.answer-textarea[_ngcontent-%COMP%]:focus-visible, .answer-input[_ngcontent-%COMP%]:focus-visible{outline:none}.answer-textarea.light[_ngcontent-%COMP%], .answer-input.light[_ngcontent-%COMP%]{border-color:var(--gray-200);box-shadow:0 1px 2px #0000000d;color:var(--gray-700)}.answer-textarea.light[_ngcontent-%COMP%]::placeholder, .answer-input.light[_ngcontent-%COMP%]::placeholder{color:var(--gray-300)}.answer-textarea.light[_ngcontent-%COMP%]:focus-visible, .answer-input.light[_ngcontent-%COMP%]:focus-visible{border-color:#60a5fa}.answer-textarea.error.light[_ngcontent-%COMP%], .answer-input.error.light[_ngcontent-%COMP%]{border-color:var(--red-600);background-color:var(--red-50)}.answer-textarea.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error), .answer-input.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error){background-color:var(--gray-50)}.answer-textarea.dark[_ngcontent-%COMP%], .answer-input.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-800);color:var(--gray-300);box-shadow:0 1px 2px #0000000d}.answer-textarea.dark[_ngcontent-%COMP%]::placeholder, .answer-input.dark[_ngcontent-%COMP%]::placeholder{color:var(--gray-500)}.answer-textarea.error.dark[_ngcontent-%COMP%], .answer-input.error.dark[_ngcontent-%COMP%]{color:var(--red-400);border-color:var(--red-700)}",".pos[_ngcontent-%COMP%]{word-wrap:break-word;cursor:pointer!important;word-break:break-all}.mcq-option.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border:none}.mcq-option.dark[_ngcontent-%COMP%]:hover{background-color:var(--wecp-gray-700);border:none}label.dark[_ngcontent-%COMP%]{color:var(--gray-300)!important}\n/*# sourceMappingURL=mcq-checkbox.component.css.map*/"]}),fi=(0,fe.gn)([(0,Te.c)()],fi);const O0=function(t){return{"text-red-600 ":t}};function k0(t,r){if(1&t&&(e.TgZ(0,"div",10)(1,"span"),e._uU(2," Word limit: "),e.TgZ(3,"span",11),e._uU(4),e.qZA(),e._uU(5," / "),e.TgZ(6,"span",12),e._uU(7),e.qZA()(),e.YNc(8,I0,2,1,"span",13),e.YNc(9,E0,2,0,"span",14),e.qZA()),2&t){const n=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.VKq(5,O0,n.typedInAnswerWordCount>n.question.wordLimit)),e.xp6(1),e.Oqu(n.typedInAnswerWordCount),e.xp6(3),e.Oqu(n.question.wordLimit),e.xp6(1),e.Q6J("ngIf",n.typedInAnswerWordCount<=n.question.wordLimit),e.xp6(1),e.Q6J("ngIf",n.typedInAnswerWordCount>n.question.wordLimit)}}function D0(t,r){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" You have typed in ",n.typedInAnswerWordCount," words ")}}function q0(t,r){if(1&t&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.getStatus()," ")}}const P0=function(){return{minHeight:"80px"}};function Z0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div")(2,"div",2)(3,"div",3),e.NdJ("click",function(){return e.CHM(n),e.oxw().resetAnswer()}),e._uU(4,"Clear Answer"),e.qZA()(),e.TgZ(5,"div")(6,"app-quill-editor",4),e.NdJ("dataChange",function(a){return e.CHM(n),e.oxw().onAnswerTypeIn(a)})("onDebounceChanged",function(a){return e.CHM(n),e.oxw().onDebounceChange(a)}),e.qZA(),e.TgZ(7,"div",5)(8,"div",6),e.YNc(9,k0,10,7,"div",7),e.YNc(10,D0,2,1,"div",8),e.YNc(11,q0,2,1,"div",9),e.qZA()()()()()}if(2&t){const n=e.oxw();e.xp6(6),e.Q6J("id",n.questionHash)("data",n.typedInAnswer)("modules",n.editorOption)("styles",e.DdM(8,P0))("darkMode",n.isDarkMode),e.xp6(3),e.Q6J("ngIf",n.isWordLimitSet),e.xp6(1),e.Q6J("ngIf",!n.isWordLimitSet&&n.typedInAnswerWordCount>0),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn)}}let gi=class{constructor(r){this.store=r,this.subscriptionsLoaded=!1,this.typedInAnswer="",this.typedInAnswerWordCount=0,this.store.select(Q.ow).pipe((0,Te.t)(this)).subscribe(n=>{this.isReplayOn=n}),this.store.select(Q.sx).pipe((0,Te.t)(this)).subscribe(n=>{this.isDarkMode=n}),this.editorOption={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],["clean"]],clipboard:{matchVisual:!1}}}ngOnInit(){this.store.dispatch((0,H.AR)({qType:te.ON.SUBJECTIVE_MANUAL,questionHash:this.questionHash})),this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r,this.isWordLimitSet=!ee.P.isEmpty(this.question.wordLimit)}),this.store.select((0,Q.Kf)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answer=r.length>0?r[0]:"",this.isReplayOn&&this.updateTypedInAnswer(this.answer)}),this.store.select((0,Q.WS)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerStatus=r}),this.updateTypedInAnswer(this.answer),this.subscriptionsLoaded=!0}getStatus(){return this.typedInAnswer&&this.answer.trim()!==this.typedInAnswer.trim()?"Typing...":this.answerStatus}ngOnDestroy(){this.saveAnswer(this.typedInAnswer)}updateTypedInAnswer(r){this.typedInAnswer=r,this.typedInAnswerWordCount=ee.P.getWordCount(r)}saveToStore(r){this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:ee.P.isEmpty(r)?[""]:[r]}))}saveAnswer(r){r=(r||"").trim(),this.answer!==r&&(this.isWordLimitSet&&(r=ee.P.keepFirstNWords(r,this.question.wordLimit),this.answer===r)||this.saveToStore(r))}onAnswerTypeIn(r){this.updateTypedInAnswer(r)}onDebounceChange(r){this.saveAnswer(this.typedInAnswer)}resetAnswer(){this.updateTypedInAnswer("")}};gi.\u0275fac=function(r){return new(r||gi)(e.Y36(J.yh))},gi.\u0275cmp=e.Xpm({type:gi,selectors:[["subjective-manual"]],inputs:{questionHash:"questionHash"},decls:1,vars:1,consts:[["class","margin-bottom-80",4,"ngIf"],[1,"margin-bottom-80"],[1,"margin-bottom-8","flex","justify-end"],[1,"font-weight-500","text-xs","text-blue-500","cursor-pointer",3,"click"],["placeholder","Start typing here! Your answers get saved automatically.",3,"id","data","modules","styles","darkMode","dataChange","onDebounceChanged"],[1,"margin-top-8"],[1,"flex","flex-wrap","gap-8"],["class","text-xs text-gray-400 flex flex-wrap gap-8",4,"ngIf"],["class","text-xs text-gray-400",4,"ngIf"],["class","margin-left-auto text-xs text-gray-400",4,"ngIf"],[1,"text-xs","text-gray-400","flex","flex-wrap","gap-8"],[1,"font-weight-500",3,"ngClass"],[1,"font-weight-500"],["class","font-weight-500 text-gray-400",4,"ngIf"],["class","font-weight-500 text-red-600",4,"ngIf"],[1,"font-weight-500","text-gray-400"],[1,"font-weight-500","text-red-600"],[1,"text-xs","text-gray-400"],[1,"margin-left-auto","text-xs","text-gray-400"]],template:function(r,n){1&r&&e.YNc(0,Z0,12,9,"div",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Qo.g,Ue.mk],styles:["*[_ngcontent-%COMP%]:not(i):not(.code-font):not(.pre){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%]{line-height:150%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.mcq-option[_ngcontent-%COMP%]{padding:12px 8px;cursor:pointer;border-radius:8px;border:1px solid #e4e4e7;box-shadow:0 1px 2px #0000000d}.mcq-option[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.answer-textarea[_ngcontent-%COMP%], .answer-input[_ngcontent-%COMP%]{border:1px solid;width:100%;padding:8px;border-radius:2px}.answer-textarea[_ngcontent-%COMP%]{resize:none;border-radius:8px}.answer-textarea[autosize][_ngcontent-%COMP%]{padding-bottom:0}.answer-textarea[_ngcontent-%COMP%]::placeholder, .answer-input[_ngcontent-%COMP%]::placeholder{font-weight:500}.answer-textarea[_ngcontent-%COMP%]:focus-visible, .answer-input[_ngcontent-%COMP%]:focus-visible{outline:none}.answer-textarea.light[_ngcontent-%COMP%], .answer-input.light[_ngcontent-%COMP%]{border-color:var(--gray-200);box-shadow:0 1px 2px #0000000d;color:var(--gray-700)}.answer-textarea.light[_ngcontent-%COMP%]::placeholder, .answer-input.light[_ngcontent-%COMP%]::placeholder{color:var(--gray-300)}.answer-textarea.light[_ngcontent-%COMP%]:focus-visible, .answer-input.light[_ngcontent-%COMP%]:focus-visible{border-color:#60a5fa}.answer-textarea.error.light[_ngcontent-%COMP%], .answer-input.error.light[_ngcontent-%COMP%]{border-color:var(--red-600);background-color:var(--red-50)}.answer-textarea.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error), .answer-input.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error){background-color:var(--gray-50)}.answer-textarea.dark[_ngcontent-%COMP%], .answer-input.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-800);color:var(--gray-300);box-shadow:0 1px 2px #0000000d}.answer-textarea.dark[_ngcontent-%COMP%]::placeholder, .answer-input.dark[_ngcontent-%COMP%]::placeholder{color:var(--gray-500)}.answer-textarea.error.dark[_ngcontent-%COMP%], .answer-input.error.dark[_ngcontent-%COMP%]{color:var(--red-400);border-color:var(--red-700)}","grammarly-extension{display:none!important}"]}),gi=(0,fe.gn)([(0,Te.c)()],gi);var xa=ke(25537);const Rs=(0,J.PH)(`${H.Bq} - WORK SAMPLE - set submission file name`,(0,J.Ky)()),Nu=(t,r,n)=>[te.ON.WORK_SAMPLE,te.ON.MACHINE_LEARNING].includes(n?.type)?`${{[te.ON.WORK_SAMPLE]:"work-sample",[te.ON.MACHINE_LEARNING]:"ai-coding"}[n.type]}/${t}/${r||"Guest"}${n.hash}`:"",F0=["fileUpload"];function z0(t,r){1&t&&(e.TgZ(0,"span",24),e._uU(1,"You have reached the word limit. Additional words won't be saved"),e.qZA())}const H0=function(t){return{"text-red-600 ":t}};function Q0(t,r){if(1&t&&(e.TgZ(0,"div",20)(1,"span"),e._uU(2," Word limit: "),e.TgZ(3,"span",21),e._uU(4),e.qZA(),e._uU(5," / "),e.TgZ(6,"span",22),e._uU(7),e.qZA()(),e.YNc(8,z0,2,0,"span",23),e.qZA()),2&t){const n=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.VKq(4,H0,n.typedInAnswerWordCount>n.question.wordLimit)),e.xp6(1),e.Oqu(n.typedInAnswerWordCount),e.xp6(3),e.Oqu(n.question.wordLimit),e.xp6(1),e.Q6J("ngIf",n.typedInAnswerWordCount>n.question.wordLimit)}}function V0(t,r){if(1&t&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" You have typed in ",n.typedInAnswerWordCount," words ")}}function J0(t,r){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.getStatus()," ")}}const W0=function(){return{minHeight:"80px"}};function Y0(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("click",function(){return e.CHM(n),e.oxw().triggerUpload()}),e.TgZ(2,"div",3)(3,"div",4),e._uU(4," Upload your project "),e.qZA(),e.TgZ(5,"div",5)(6,"file-upload",6,7),e.NdJ("click",function(a){return a.stopPropagation()})("fileUploaded",function(a){return e.CHM(n),e.oxw().fileUploaded(a)})("fileRemoved",function(){return e.CHM(n),e.oxw().fileRemoved()}),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e.TgZ(10,"div",10),e._uU(11,"Upload File"),e.qZA()()(),e.TgZ(12,"div",11),e._uU(13," Allowed formats - xls/xlsx, csv, png, jpg, pdf "),e.qZA()()(),e.TgZ(14,"div")(15,"div",12)(16,"div",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().resetAnswer()}),e._uU(17,"Clear Answer"),e.qZA()(),e.TgZ(18,"div")(19,"app-quill-editor",14),e.NdJ("dataChange",function(a){return e.CHM(n),e.oxw().onAnswerTypeIn(a)})("onDebounceChanged",function(a){return e.CHM(n),e.oxw().onDebounceChange(a)}),e.qZA(),e.TgZ(20,"div",15)(21,"div",16),e.YNc(22,Q0,9,6,"div",17),e.YNc(23,V0,2,1,"div",18),e.YNc(24,J0,2,1,"div",19),e.qZA()()()()()}if(2&t){const n=e.oxw();e.xp6(1),e.ekj("dark",n.isDarkMode),e.xp6(2),e.Q6J("ngClass",n.isDarkMode?"text-gray-300":"text-gray-500"),e.xp6(3),e.Q6J("isDarkMode",n.isDarkMode)("allowDeletion",!0)("keyToUse",n.keyToUse)("bucket",n.S3BucketEnum.SUBMISSION)("uploadedKey",n.answerKey)("uploadedFileName",n.submissionFileName||"File submitted")("maxFileSizeInMB",100),e.xp6(3),e.uIk("stroke",n.isDarkMode?"#F4F4F5":"#4B5563"),e.xp6(10),e.Q6J("id",n.questionHash)("data",n.typedInAnswer)("modules",n.editorOption)("styles",e.DdM(18,W0)),e.xp6(3),e.Q6J("ngIf",n.isWordLimitSet),e.xp6(1),e.Q6J("ngIf",!n.isWordLimitSet&&n.typedInAnswerWordCount>0),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn)}}let hi=class{constructor(r){this.store=r,this.S3BucketEnum=xa.O,this.subscriptionsLoaded=!1,this.typedInAnswer="",this.typedInAnswerWordCount=0,this.store.select(Q.ow).pipe((0,Te.t)(this)).subscribe(n=>{this.isReplayOn=n}),this.store.select(Q.sx).pipe((0,Te.t)(this)).subscribe(n=>{this.isDarkMode=n}),this.editorOption={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],["clean"]],clipboard:{matchVisual:!1}}}ngOnInit(){var t;this.store.dispatch((0,H.AR)({qType:te.ON.WORK_SAMPLE,questionHash:this.questionHash})),this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r,this.isWordLimitSet=!ee.P.isEmpty(r.wordLimit)}),this.store.select((0,Q.Kf)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answer=r.length>0?r[0]:"",this.isReplayOn&&this.updateTypedInAnswer(this.answer)}),this.store.select((0,Q.f0)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerKey=r}),this.store.select((t=this.questionHash,(0,J.P1)((0,F.w6)(t),Q.VA,F.pl,(r,n,i)=>Nu(n,i,r)))).pipe((0,Te.t)(this)).subscribe(r=>{this.keyToUse=r}),this.store.select((t=>(0,J.P1)((t=>(0,J.P1)((0,Q.bi)(te.ON.WORK_SAMPLE,t),r=>r))(t),r=>r.submissionFileName))(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.submissionFileName=r}),this.store.select((0,Q.WS)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerStatus=r}),this.updateTypedInAnswer(this.answer),this.subscriptionsLoaded=!0}ngOnDestroy(){this.saveAnswer(this.typedInAnswer)}updateTypedInAnswer(r){this.typedInAnswer=r,this.typedInAnswerWordCount=ee.P.getWordCount(r)}getStatus(){return this.typedInAnswer&&this.answer.trim()!==this.typedInAnswer.trim()?"Typing...":this.answerStatus}saveToStore(r,n){this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:ee.P.isEmpty(r)?[""]:[r],answerKey:ee.P.isEmpty(n)?"":n}))}saveAnswer(r){r=(r||"").trim(),this.answer!==r&&(this.isWordLimitSet&&(r=ee.P.keepFirstNWords(r,this.question.wordLimit),this.answer===r)||this.saveToStore(r,this.answerKey))}onAnswerTypeIn(r){this.updateTypedInAnswer(r)}onDebounceChange(r){this.saveAnswer(this.typedInAnswer)}resetAnswer(){this.updateTypedInAnswer("")}triggerUpload(){this.fileUploadComponent.openFileWindow()}fileUploaded(r){this.store.dispatch(Rs({questionHash:this.question.hash,fileName:r.fileName})),this.saveToStore(this.answer,r.fileKey)}fileRemoved(){this.store.dispatch(Rs({questionHash:this.question.hash,fileName:""})),this.saveToStore(this.answer,"")}};hi.\u0275fac=function(r){return new(r||hi)(e.Y36(J.yh))},hi.\u0275cmp=e.Xpm({type:hi,selectors:[["work-sample"]],viewQuery:function(r,n){if(1&r&&e.Gf(F0,5),2&r){let i;e.iGM(i=e.CRH())&&(n.fileUploadComponent=i.first)}},inputs:{questionHash:"questionHash"},decls:1,vars:1,consts:[["class","margin-bottom-80",4,"ngIf"],[1,"margin-bottom-80"],[1,"file-upload","flex","items-center","justify-center","margin-bottom-48",3,"click"],[1,"text-center"],[1,"text-sm","font-weight-500","margin-bottom-16",3,"ngClass"],[1,"flex","justify-center"],[3,"isDarkMode","allowDeletion","keyToUse","bucket","uploadedKey","uploadedFileName","maxFileSizeInMB","click","fileUploaded","fileRemoved"],["fileUpload",""],["width","17","height","16","viewBox","0 0 17 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.16699 10.6665V11.3332C3.16699 11.8636 3.37771 12.3723 3.75278 12.7474C4.12785 13.1225 4.63656 13.3332 5.16699 13.3332H11.8337C12.3641 13.3332 12.8728 13.1225 13.2479 12.7474C13.6229 12.3723 13.8337 11.8636 13.8337 11.3332V10.6665M11.167 5.33317L8.50033 2.6665M8.50033 2.6665L5.83366 5.33317M8.50033 2.6665V10.6665","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"margin-left-8"],[1,"text-sm","font-weight-500","text-gray-400","margin-top-16"],[1,"margin-bottom-8","flex","justify-end"],[1,"font-weight-500","text-xs","text-blue-500","cursor-pointer",3,"click"],["placeholder","Start typing here! Your answers get saved automatically.",3,"id","data","modules","styles","dataChange","onDebounceChanged"],[1,"margin-top-8"],[1,"flex","flex-wrap","gap-8"],["class","text-xs text-gray-400 flex flex-wrap gap-8",4,"ngIf"],["class","text-xs text-gray-400",4,"ngIf"],["class","margin-left-auto text-xs text-gray-400",4,"ngIf"],[1,"text-xs","text-gray-400","flex","flex-wrap","gap-8"],[1,"font-weight-500",3,"ngClass"],[1,"font-weight-500"],["class","font-weight-500 text-red-600",4,"ngIf"],[1,"font-weight-500","text-red-600"],[1,"text-xs","text-gray-400"],[1,"margin-left-auto","text-xs","text-gray-400"]],template:function(r,n){1&r&&e.YNc(0,Y0,25,19,"div",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Ue.mk,xa.Y,Qo.g],styles:["*[_ngcontent-%COMP%]:not(i):not(.code-font):not(.pre){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%]{line-height:150%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.mcq-option[_ngcontent-%COMP%]{padding:12px 8px;cursor:pointer;border-radius:8px;border:1px solid #e4e4e7;box-shadow:0 1px 2px #0000000d}.mcq-option[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.answer-textarea[_ngcontent-%COMP%], .answer-input[_ngcontent-%COMP%]{border:1px solid;width:100%;padding:8px;border-radius:2px}.answer-textarea[_ngcontent-%COMP%]{resize:none;border-radius:8px}.answer-textarea[autosize][_ngcontent-%COMP%]{padding-bottom:0}.answer-textarea[_ngcontent-%COMP%]::placeholder, .answer-input[_ngcontent-%COMP%]::placeholder{font-weight:500}.answer-textarea[_ngcontent-%COMP%]:focus-visible, .answer-input[_ngcontent-%COMP%]:focus-visible{outline:none}.answer-textarea.light[_ngcontent-%COMP%], .answer-input.light[_ngcontent-%COMP%]{border-color:var(--gray-200);box-shadow:0 1px 2px #0000000d;color:var(--gray-700)}.answer-textarea.light[_ngcontent-%COMP%]::placeholder, .answer-input.light[_ngcontent-%COMP%]::placeholder{color:var(--gray-300)}.answer-textarea.light[_ngcontent-%COMP%]:focus-visible, .answer-input.light[_ngcontent-%COMP%]:focus-visible{border-color:#60a5fa}.answer-textarea.error.light[_ngcontent-%COMP%], .answer-input.error.light[_ngcontent-%COMP%]{border-color:var(--red-600);background-color:var(--red-50)}.answer-textarea.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error), .answer-input.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error){background-color:var(--gray-50)}.answer-textarea.dark[_ngcontent-%COMP%], .answer-input.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-800);color:var(--gray-300);box-shadow:0 1px 2px #0000000d}.answer-textarea.dark[_ngcontent-%COMP%]::placeholder, .answer-input.dark[_ngcontent-%COMP%]::placeholder{color:var(--gray-500)}.answer-textarea.error.dark[_ngcontent-%COMP%], .answer-input.error.dark[_ngcontent-%COMP%]{color:var(--red-400);border-color:var(--red-700)}",".file-upload[_ngcontent-%COMP%]{min-height:170px;border:2px dashed var(--gray-300);border-radius:8px;cursor:pointer}.file-upload[_ngcontent-%COMP%]:hover{background-color:var(--gray-100)}.file-upload.dark[_ngcontent-%COMP%]{background-color:inherit;border-color:var(--gray-500)}.file-upload.dark[_ngcontent-%COMP%]:hover{background-color:var(--gray-700)}  grammarly-extension{display:none!important}"]}),hi=(0,fe.gn)([(0,Te.c)()],hi);const ya=t=>(0,J.P1)((0,Q.bi)(te.ON.VIDEO_EXPLANATION,t),r=>r);var t_=ke(30341);function n_(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",13),e._UZ(1,"path",14),e.qZA())}function r_(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",15),e._UZ(1,"path",16)(2,"path",17),e.qZA())}function i_(t,r){if(1&t&&(e.YNc(0,n_,2,0,"svg",11),e.YNc(1,r_,3,0,"svg",12)),2&t){const n=r.inRecording;e.Q6J("ngIf",!n),e.xp6(1),e.Q6J("ngIf",n)}}function a_(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",19),e._UZ(1,"path",20),e.qZA())}function o_(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",15),e._UZ(1,"path",21)(2,"path",22),e.qZA())}function s_(t,r){if(1&t&&(e.YNc(0,a_,2,0,"svg",18),e.YNc(1,o_,3,0,"svg",12)),2&t){const n=r.isPaused;e.Q6J("ngIf",!n),e.xp6(1),e.Q6J("ngIf",n)}}function c_(t,r){if(1&t&&e._UZ(0,"video",23),2&t){const n=e.oxw();e.Q6J("src",n.submissionFileDetails.submissionFileUrl,e.LSH)}}function u_(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Record a video of yourself answering the question"),e.qZA())}function l_(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," Check your preview before recording "),e.qZA())}function d_(t,r){1&t&&e._UZ(0,"span",36)}function p_(t,r){if(1&t&&(e.TgZ(0,"div",37),e._uU(1," Your video is being monitored "),e.qZA()),2&t){const n=e.oxw(3);e.Q6J("ngClass",n.isDarkMode?"text-white":"text-gray-700")}}function m_(t,r){if(1&t&&(e.TgZ(0,"div",37),e._uU(1," Your response is now being recorded "),e.qZA()),2&t){const n=e.oxw(3);e.Q6J("ngClass",n.isDarkMode?"text-white":"text-gray-700")}}function f_(t,r){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,d_,1,0,"span",34),e.YNc(2,p_,2,1,"div",35),e.YNc(3,m_,2,1,"div",35),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf","countdown"===n.timeBoundDescriptionState||n.inRecording),e.xp6(1),e.Q6J("ngIf","countdown"===n.timeBoundDescriptionState),e.xp6(1),e.Q6J("ngIf",n.inRecording)}}function g_(t,r){1&t&&e._UZ(0,"div",42)}function h_(t,r){if(1&t&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.countdown," ")}}const v_=function(t,r){return{"in-recording ":t,"z-10":r}};function __(t,r){if(1&t&&(e.TgZ(0,"div",38),e.YNc(1,g_,1,0,"div",39),e._UZ(2,"video",40),e.YNc(3,h_,2,1,"div",41),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",e.WLB(5,v_,n.inRecording,!n.isMobileDevice)),e.xp6(1),e.Q6J("ngIf",n.inRecording),e.xp6(1),e.Q6J("stream",n.stream)("muted",!0),e.xp6(1),e.Q6J("ngIf",n.countdown>0&&!n.inRecording)}}function x_(t,r){}function y_(t,r){if(1&t&&(e.TgZ(0,"div",44)(1,"div",45),e.YNc(2,x_,0,0,"ng-template",46),e.qZA()()),2&t){e.oxw(2);const n=e.MAs(5);e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function b_(t,r){if(1&t&&(e.TgZ(0,"div",53)(1,"p",54),e._uU(2),e.qZA(),e.TgZ(3,"p",55),e._uU(4),e.qZA()()),2&t){const n=e.oxw(3);e.Q6J("ngClass",n.isDarkMode?"text-white":"text-gray-600"),e.xp6(2),e.hij("",n.inRecording?"Time Left":"Time",":"),e.xp6(2),e.hij("\xa0",n.formatTime(n.timeRemaining),"")}}function w_(t,r){}const C_=function(t){return{inRecording:t}};function M_(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",56)(1,"button",57),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).togglePlay()}),e.YNc(2,w_,0,0,"ng-template",58),e._uU(3),e.qZA()()}if(2&t){const n=e.oxw(3),i=e.MAs(1);e.xp6(1),e.Q6J("disabled",n.countdown>0),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(4,C_,n.inRecording)),e.xp6(1),e.hij("",n.inRecording?"Stop and Submit":"Record your answer"," ")}}function S_(t,r){if(1&t&&(e.TgZ(0,"div",59),e._uU(1," You can start answering in "),e.TgZ(2,"div",60),e._UZ(3,"img",61),e._uU(4),e.qZA()()),2&t){const n=e.oxw(3);e.Q6J("ngClass",n.isDarkMode?"text-white":"text-gray-600"),e.xp6(4),e.hij(" ",n.viewDescriptionCountdown," ")}}function N_(t,r){1&t&&(e.TgZ(0,"div",62)(1,"span",63),e.O4$(),e.TgZ(2,"svg",64),e._UZ(3,"path",65),e.qZA()(),e.kcU(),e.TgZ(4,"span",66),e._uU(5," You can record your video only once. Practise your answer before you click on "),e.TgZ(6,"b"),e._uU(7,"Start Recording"),e.qZA()()())}function A_(t,r){if(1&t&&(e.TgZ(0,"div",47)(1,"div",48),e.YNc(2,b_,5,3,"div",49),e.YNc(3,M_,4,6,"div",50),e.YNc(4,S_,5,2,"div",51),e.qZA(),e.YNc(5,N_,8,0,"div",52),e.qZA()),2&t){const n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!(null!=n.question&&n.question.timeBoundDescription)||n.inRecording),e.xp6(1),e.Q6J("ngIf",!(null!=n.question&&n.question.timeBoundDescription)||n.inRecording),e.xp6(1),e.Q6J("ngIf",(null==n.question?null:n.question.timeBoundDescription)&&"countdown"===n.timeBoundDescriptionState),e.xp6(1),e.Q6J("ngIf",!(null!=n.question&&n.question.timeBoundDescription))}}function T_(t,r){if(1&t&&(e.TgZ(0,"div",67)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4,"Video submitted "),e._UZ(5,"i",68),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(2),e.hij("Duration: ",n.formatTime(n.timeLimit-n.timeRemaining),"")}}function I_(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",69),e._uU(1," Error while uploading the video "),e.TgZ(2,"button",70),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).uploadAgain()}),e._uU(3," Upload again "),e.qZA()()}}function E_(t,r){1&t&&(e.TgZ(0,"div",71)(1,"div",72),e._UZ(2,"div",73),e.TgZ(3,"p",74),e._uU(4," Uploading response in the background. Please proceed to the next question. "),e.qZA()()())}const O_=function(t){return{"z-10":t}};function k_(t,r){if(1&t&&(e.TgZ(0,"div",24),e.YNc(1,f_,4,3,"div",25),e.YNc(2,__,4,8,"div",26),e.YNc(3,y_,3,1,"div",27),e.TgZ(4,"div",28),e.YNc(5,A_,6,4,"div",29),e.YNc(6,T_,6,1,"div",30),e.YNc(7,I_,4,0,"div",31),e.YNc(8,E_,5,0,"div",32),e.qZA()()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==n.question?null:n.question.timeBoundDescription)&&("countdown"===n.timeBoundDescriptionState||n.inRecording)),e.xp6(1),e.Q6J("ngIf",!n.recordingComplete),e.xp6(1),e.Q6J("ngIf",n.recordingComplete&&!n.inRecording),e.xp6(1),e.Q6J("ngClass",e.VKq(8,O_,!n.isMobileDevice)),e.xp6(1),e.Q6J("ngIf",!n.recordingComplete&&n.uploadStatus===n.ApiStateEnum.NOTLOADED),e.xp6(1),e.Q6J("ngIf",n.uploadStatus===n.ApiStateEnum.LOADED),e.xp6(1),e.Q6J("ngIf",n.uploadStatus===n.ApiStateEnum.ERROR),e.xp6(1),e.Q6J("ngIf",n.uploadStatus===n.ApiStateEnum.LOADING)}}function D_(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",75),e._uU(2," Allow permissions for camera and mic from task bar of your browser "),e.TgZ(3,"div",76)(4,"button",77),e.NdJ("click",function(){return e.CHM(n),e.oxw().requestCameraAndMic()}),e._uU(5," Try Again "),e.qZA()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngClass",n.isDarkMode?"text-gray-300":"text-gray-700")}}function q_(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",78),e._UZ(2,"div",79),e.qZA(),e.BQk())}const P_=function(t){return{"margin-bottom-12":t}};function Z_(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",80),e._UZ(2,"video",81),e.TgZ(3,"div",82)(4,"div",83),e._uU(5),e.qZA(),e.TgZ(6,"div",83),e._uU(7,"Video Submitted "),e._UZ(8,"i",68),e.qZA()()(),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,P_,n.isMobileDevice)),e.xp6(1),e.Q6J("src",n.submissionFileDetails.submissionFileUrl,e.LSH),e.xp6(3),e.hij("Duration: ",n.formatTime(n.videoDuration),"")}}function L_(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",84)(2,"div",85),e.O4$(),e.TgZ(3,"svg",86),e._UZ(4,"path",87),e.qZA()(),e.kcU(),e.TgZ(5,"div",88)(6,"span",63),e.O4$(),e.TgZ(7,"svg",64),e._UZ(8,"path",65),e.qZA()(),e.kcU(),e.TgZ(9,"span",66),e._uU(10," This question is currently locked as you have already made an attempt. "),e._UZ(11,"br"),e.TgZ(12,"b"),e._uU(13,"Please proceed to the next question."),e.qZA()()()(),e.BQk())}const R_=function(t){return{loading:t}};function U_(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",89)(1,"div",90),e._uU(2," Before you record your answer "),e.TgZ(3,"span",91),e.NdJ("click",function(){return e.CHM(n),e.oxw().showStartRecordingVideoWarningModal=!1}),e.O4$(),e.TgZ(4,"svg",92),e._UZ(5,"path",93),e.qZA()()(),e.kcU(),e._UZ(6,"div",94),e.TgZ(7,"div",95)(8,"div",96),e._uU(9," You can record your video only once, so it's important to make sure everything is set before you start. "),e.qZA(),e.TgZ(10,"div",97)(11,"div",98),e._uU(12,"Please follow these preparation steps:"),e.qZA(),e.TgZ(13,"div",99)(14,"p",100),e._uU(15,"\u2022 Practice your answer to ensure clarity and conciseness"),e.qZA(),e.TgZ(16,"p",100),e._uU(17,"\u2022 Check your environment for a distraction-free area"),e.qZA()()()(),e._UZ(18,"div",101),e.TgZ(19,"div",102)(20,"button",103),e.NdJ("click",function(){return e.CHM(n),e.oxw().showStartRecordingVideoWarningModal=!1}),e._uU(21," I'm not ready "),e.qZA(),e.TgZ(22,"button",104),e.NdJ("click",function(){return e.CHM(n),e.oxw().startCountdown()}),e.TgZ(23,"span"),e._uU(24,"Acknowledge and record"),e.qZA()()()()}if(2&t){const n=e.oxw();e.Q6J("show",n.showStartRecordingVideoWarningModal),e.xp6(22),e.Q6J("ngClass",e.VKq(2,R_,n.isButtonLoading))}}const B_=function(t,r){return[t,r]};let Vi=class{constructor(r,n,i){this.store=r,this._testPortalService=n,this._toastr=i,this.saveRecordedVideo=new e.vpe,this.mediaRecorder=null,this.recordedBlobs=[],this.recordingComplete=!1,this.timer=0,this.timeString="00:00:00",this.ApiStateEnum=he.V,this.showStartRecordingVideoWarningModal=!1,this.successSoundFilePath="assets/audio/joinedNotification.mp3",this.extraRecordedBlobs=[],this.extraMediaRecorder=null}ngOnInit(){var r=this;return(0,Le.Z)(function*(){var t;r.store.dispatch((0,H.AR)({qType:te.ON.VIDEO_EXPLANATION,questionHash:r.questionHash})),r.store.select((0,F.w6)(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.question=n,r.timeLimit=n.videoTimeLimit?60*n.videoTimeLimit*1e3:12e4,r.timeRemaining=r.timeLimit,r.viewDescriptionCountdown=r.question.descriptionTimeToView||20}),r.store.select((0,Q.f0)(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.answerKey=n}),r.store.select((t=r.questionHash,(0,J.P1)(ya(t),r=>r?.submissionFileDetails?r?.submissionFileDetails:{submissionFileKey:"",submissionFileUrl:""}))).pipe((0,Te.t)(r)).subscribe(n=>{r.submissionFileDetails=n}),r.store.select((t=>(0,J.P1)(ya(t),r=>r?.timeBoundDescriptionState))(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.timeBoundDescriptionState=n,"countdown"===r.timeBoundDescriptionState&&(ee.P.setToLocalStorage(`${r.testId}|${r.question.hash}|attempted`,!0),r.recordQuestionDescriptionReadTime(r.stream),r.store.dispatch(pr({questionHash:r.questionHash})),r.videoDescriptionCountdown=setInterval(()=>{r.viewDescriptionCountdown--,0===r.viewDescriptionCountdown&&(r.stopQuestionDescriptionReadTimeRecording(),ee.P.playAudio(r.successSoundFilePath),r.store.dispatch(er({questionHash:r.questionHash})),clearInterval(r.videoDescriptionCountdown),r.inRecording=!0,r.startRecording(r.stream))},1e3))}),r.store.select((t=>(0,J.P1)(ya(t),r=>r?.endRecording))(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{if(n&&("countdown"===r.timeBoundDescriptionState?(r.stopQuestionDescriptionReadTimeRecording(),r.store.dispatch(er({questionHash:r.questionHash})),clearInterval(r.videoDescriptionCountdown)):r.inRecording&&r.stopTimer(),r.store.dispatch(ui({questionHash:r.currentActiveQuestionHash})),r.endRecordingQueuedAction))switch(r.endRecordingQueuedAction.action){case"go_to_question":r.store.dispatch((0,Y.L7)(r.endRecordingQueuedAction.data));break;case"next_question":r.store.dispatch((0,Y.Bf)());break;case"previous_question":r.store.dispatch((0,Y.j6)())}}),r.store.select((t=>(0,J.P1)(ya(t),r=>r?.endRecordingQueuedAction))(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.endRecordingQueuedAction=n}),r.store.select((0,Q.KV)(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.videoDuration=n}),r.store.select((t=>(0,J.P1)(ya(t),r=>r?.videoFileUploadingStatus))(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.uploadStatus=n}),r.store.select(F.UI).pipe((0,Te.t)(r)).subscribe(n=>{r.isMobileDevice=n}),r.store.select((t=>(0,J.P1)(ya(t),r=>r?.cameraFeedStatus))(r.questionHash)).pipe((0,Te.t)(r)).subscribe(n=>{r.cameraFeedStatus=n}),r.store.select(Q.U).pipe((0,Te.t)(r)).subscribe(n=>r.showFinishTestModal=n),r.store.select(Q.sx).pipe((0,Te.t)(r)).subscribe(n=>{r.isDarkMode=n}),r.store.select(F.$j).pipe((0,Te.t)(r)).subscribe(n=>r.isSectionBasedTimer=n),r.store.select(F.UD).pipe((0,Te.t)(r)).subscribe(n=>r.currentActiveQuestionHash=n),r.sectionOverEventSubscription=r.sectionOver.subscribe(n=>{n&&r.inRecording&&r.isSectionBasedTimer&&r.currentActiveQuestionHash===r.questionHash&&r.stopRecording()}),r.answerKey?r.fetchSignatureUrl():(r.store.dispatch(Hi({questionHash:r.questionHash})),r.requestCameraAndMic(),r.deviceChange.subscribe(n=>{r.deviceChangeHandler()})),window.addEventListener("beforeunload",n=>{r.uploadStatus===he.V.LOADING&&(n.returnValue="An upload is in progress. Are you sure you want to leave?")})})()}requestCameraAndMic(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(r=>{this.store.dispatch(An({questionHash:this.questionHash})),this.stream=r}).catch(r=>{this.store.dispatch(Wt({questionHash:this.questionHash}))})}deviceChangeHandler(){const r=this.stream?.getTracks();if(r.length)for(let n=0;n<r.length;n++)r[n].stop();this.store.dispatch(Wt({questionHash:this.questionHash})),this.countdown>0||this.inRecording&&(clearInterval(this.getTimer),this.mediaRecorder?.stop(),this.mediaRecorder=null,this.recordingComplete=!1,this.inRecording=!1,this.timeRemaining=this.timeLimit)}ngOnDestroy(){this.stream&&this.stream.getTracks().forEach(r=>r.stop()),this.getTimer&&clearInterval(this.getTimer)}togglePlay(){this.inRecording?this.stopTimer():this.showStartRecordingVideoWarningModal=!0}startCountdown(){this.showStartRecordingVideoWarningModal=!1,this.store.dispatch(pr({questionHash:this.questionHash})),this.recordingComplete&&(this.recordingComplete=!1),this.countdown=3;const r=setInterval(()=>{this.countdown--,0===this.countdown&&(clearInterval(r),this.inRecording=!0,this.startRecording(this.stream))},1e3)}stopTimer(){clearInterval(this.getTimer),this.stopRecording()}startRecording(r){this.store.dispatch(va({questionHash:this.questionHash})),this.store.dispatch((0,H.yi)({eventType:"start_video_recording",message:"Users started video recording",eventDetails:{time:Date.now(),questionDetail:this.questionHash}})),this.startTimer(),this.recordedBlobs=[];let n={mimeType:"video/webm;codecs=vp9"};MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:"video/webm"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:""})));try{this.mediaRecorder=new MediaRecorder(r,n)}catch(i){return void console.error("Exception while creating MediaRecorder:",JSON.stringify(i))}this.mediaRecorder.ondataavailable=i=>{i.data&&i.data.size>0&&this.recordedBlobs.push(i.data)},this.mediaRecorder.start(10)}uploadAgain(){this.uploadStatus!==he.V.LOADING&&this.saveRecordedVideo.emit({questionHash:this.questionHash,duration:this.timeLimit-this.timeRemaining,recordedBlobs:this.recordedBlobs})}stopRecording(){this.store.dispatch(Qi({questionHash:this.questionHash})),this.store.dispatch((0,H.yi)({eventType:"stop_video_recording",message:"Users stopped video recording",eventDetails:{time:Date.now(),questionDetail:this.questionHash}})),this.mediaRecorder?.stop(),this.mediaRecorder=null,this.recordingComplete=!0,this.inRecording=!1,this.saveRecordedVideo.emit({questionHash:this.questionHash,duration:this.timeLimit-this.timeRemaining,recordedBlobs:this.recordedBlobs,isAnswer:!0})}saveToStore(r,n){this.store.dispatch((0,H.ee)({questionHash:this.questionHash,answer:ee.P.isEmpty(r)?[""]:[r],answerKey:ee.P.isEmpty(n)?"":n,videoDuration:this.timeLimit-this.timeRemaining}))}startTimer(){let r=this.timeLimit;this.getTimer=setInterval(()=>{r-=1e3,this.timeRemaining=r,(0===r||"candidateTriggered"!==this.showFinishTestModal.finishTestReason&&this.showFinishTestModal.showFinishTestModal)&&this.stopTimer()},1e3)}formatTime(r){const n=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);return`${n.toString()}m ${i.toString()}s`}fetchSignatureUrl(){this.submissionFileDetails.submissionFileUrl||this._testPortalService.generateCustomReadSignature({key:`submissions:${this.answerKey}`,region:"ap-south-1"},(i,a)=>{i?this._toastr.show("failed to load the video","Error while fetching the video",me.Tb[me.hd.ERROR]).toastRef.componentInstance.error():this.store.dispatch(ht({questionHash:this.questionHash,fileDetails:{submissionFileKey:this.answerKey,submissionFileUrl:a.url}}))})}recordQuestionDescriptionReadTime(r){this.extraRecordedBlobs=[];let n={mimeType:"video/webm;codecs=vp9"};MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:"video/webm"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:""})));try{this.extraMediaRecorder=new MediaRecorder(r,n)}catch(i){return void console.error("Exception while creating MediaRecorder:",JSON.stringify(i))}this.extraMediaRecorder.ondataavailable=i=>{i.data&&i.data.size>0&&this.extraRecordedBlobs.push(i.data)},this.extraMediaRecorder.start(10)}stopQuestionDescriptionReadTimeRecording(){this.extraMediaRecorder?.stop(),this.extraMediaRecorder=null,this.saveRecordedVideo.emit({questionHash:this.questionHash,fileKey:`video-explanation/description-read/${this.testId}/${this.question.hash}`,recordedBlobs:this.extraRecordedBlobs,isAnswer:!1})}};Vi.\u0275fac=function(r){return new(r||Vi)(e.Y36(J.yh),e.Y36(ct.X),e.Y36(Ls._W))},Vi.\u0275cmp=e.Xpm({type:Vi,selectors:[["app-video-explanation"]],inputs:{questionHash:"questionHash",testId:"testId",deviceChange:"deviceChange",sectionOver:"sectionOver"},outputs:{saveRecordedVideo:"saveRecordedVideo"},decls:20,vars:13,consts:[["recordingIcon",""],["pauseIcon",""],["recordedVideoPlayer",""],["direction","vertical","unit","pixel","gutterSize","8"],[1,"video-recording-split-area",3,"size"],[1,"width-100","height-100","items-center","margin-top-50"],[1,"margin-vertical-20","items-center"],[1,"text-center","text-base","margin-bottom-4",2,"order","1",3,"ngClass"],[4,"ngIf"],["class","flex flex-col items-center video-container margin-horizontal-auto",4,"ngIf"],["class","ui tiny modal","modal-new","","style","border-radius: 12px",3,"show",4,"ngIf"],["width","14","height","11","viewBox","0 0 14 11","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","17","viewBox","0 0 16 17","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","14","height","11","viewBox","0 0 14 11","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9 4.16667L12.0353 2.64933C12.1369 2.59856 12.2499 2.57459 12.3633 2.5797C12.4768 2.58481 12.5871 2.61883 12.6837 2.67854C12.7804 2.73824 12.8602 2.82165 12.9155 2.92085C12.9709 3.02004 12.9999 3.13174 13 3.24533V7.75467C12.9999 7.86826 12.9709 7.97996 12.9155 8.07915C12.8602 8.17835 12.7804 8.26176 12.6837 8.32146C12.5871 8.38117 12.4768 8.41519 12.3633 8.4203C12.2499 8.42541 12.1369 8.40144 12.0353 8.35067L9 6.83333V4.16667ZM2.33333 9.5H7.66667C8.02029 9.5 8.35943 9.35952 8.60948 9.10948C8.85952 8.85943 9 8.52029 9 8.16667V2.83333C9 2.47971 8.85952 2.14057 8.60948 1.89052C8.35943 1.64048 8.02029 1.5 7.66667 1.5H2.33333C1.97971 1.5 1.64057 1.64048 1.39052 1.89052C1.14048 2.14057 1 2.47971 1 2.83333V8.16667C1 8.52029 1.14048 8.85943 1.39052 9.10948C1.64057 9.35952 1.97971 9.5 2.33333 9.5Z","stroke","#DC2626","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","16","height","17","viewBox","0 0 16 17","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.5433 10.7961C13.8448 10.0681 14 9.28793 14 8.5C14 6.9087 13.3679 5.38258 12.2426 4.25736C11.1174 3.13214 9.5913 2.5 8 2.5C6.4087 2.5 4.88258 3.13214 3.75736 4.25736C2.63214 5.38258 2 6.9087 2 8.5C2 9.28793 2.15519 10.0681 2.45672 10.7961C2.75825 11.5241 3.20021 12.1855 3.75736 12.7426C4.31451 13.2998 4.97595 13.7417 5.7039 14.0433C6.43185 14.3448 7.21207 14.5 8 14.5C8.78793 14.5 9.56815 14.3448 10.2961 14.0433C11.0241 13.7417 11.6855 13.2998 12.2426 12.7426C12.7998 12.1855 13.2417 11.5241 13.5433 10.7961Z","stroke","#DC2626","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M6 7.16667C6 6.98986 6.07024 6.82029 6.19526 6.69526C6.32029 6.57024 6.48986 6.5 6.66667 6.5H9.33333C9.51014 6.5 9.67971 6.57024 9.80474 6.69526C9.92976 6.82029 10 6.98986 10 7.16667V9.83333C10 10.0101 9.92976 10.1797 9.80474 10.3047C9.67971 10.4298 9.51014 10.5 9.33333 10.5H6.66667C6.48986 10.5 6.32029 10.4298 6.19526 10.3047C6.07024 10.1797 6 10.0101 6 9.83333V7.16667Z","stroke","#DC2626","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["width","14","height","15","viewBox","0 0 14 15","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","14","height","15","viewBox","0 0 14 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.66667 5.5V9.5M8.33333 5.5V9.5M13 7.5C13 8.28793 12.8448 9.06815 12.5433 9.7961C12.2417 10.5241 11.7998 11.1855 11.2426 11.7426C10.6855 12.2998 10.0241 12.7417 9.2961 13.0433C8.56815 13.3448 7.78793 13.5 7 13.5C6.21207 13.5 5.43185 13.3448 4.7039 13.0433C3.97595 12.7417 3.31451 12.2998 2.75736 11.7426C2.20021 11.1855 1.75825 10.5241 1.45672 9.7961C1.15519 9.06815 1 8.28793 1 7.5C1 5.9087 1.63214 4.38258 2.75736 3.25736C3.88258 2.13214 5.4087 1.5 7 1.5C8.5913 1.5 10.1174 2.13214 11.2426 3.25736C12.3679 4.38258 13 5.9087 13 7.5Z","stroke","#71717A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M7.70464 6.52421L9.83597 7.94554C9.92727 8.00643 10.0021 8.08957 10.0539 8.18633C10.1057 8.28309 10.1328 8.39114 10.1328 8.50088C10.1328 8.61062 10.1057 8.71866 10.0539 8.81542C10.0021 8.91218 9.92727 8.99466 9.83597 9.05554L7.70464 10.4769C7.60424 10.5439 7.48753 10.5823 7.36698 10.5882C7.24643 10.594 7.12655 10.5671 7.02013 10.5101C6.91371 10.4532 6.82474 10.3684 6.76272 10.2649C6.7007 10.1613 6.66795 10.0429 6.66797 9.92221V7.08021C6.66771 6.9594 6.70028 6.84079 6.76221 6.73706C6.82413 6.63333 6.91307 6.54837 7.01954 6.49127C7.126 6.43417 7.24598 6.40708 7.36665 6.41288C7.48732 6.41868 7.60414 6.45716 7.70464 6.52421Z","stroke","#71717A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M13.5433 10.7961C13.8448 10.0681 14 9.28793 14 8.5C14 6.9087 13.3679 5.38258 12.2426 4.25736C11.1174 3.13214 9.5913 2.5 8 2.5C6.4087 2.5 4.88258 3.13214 3.75736 4.25736C2.63214 5.38258 2 6.9087 2 8.5C2 9.28793 2.15519 10.0681 2.45672 10.7961C2.75825 11.5241 3.20021 12.1855 3.75736 12.7426C4.31451 13.2998 4.97595 13.7417 5.7039 14.0433C6.43185 14.3448 7.21207 14.5 8 14.5C8.78793 14.5 9.56815 14.3448 10.2961 14.0433C11.0241 13.7417 11.6855 13.2998 12.2426 12.7426C12.7998 12.1855 13.2417 11.5241 13.5433 10.7961Z","stroke","#71717A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["controlsList","nofullscreen noremoteplayback nodownload","disablePictureInPicture","","controls","",3,"src"],[1,"flex","flex-col","items-center","video-container","margin-horizontal-auto"],["class","margin-vertical-20 width-100 flex justify-start items-center text-sm",4,"ngIf"],["class","position-relative rounded-12 width-100 height-100 shadow-mds",3,"ngClass",4,"ngIf"],["class","width-100",4,"ngIf"],[1,"margin-top-12","flex","items-center","width-100","justify-between","padding-bottom-20",3,"ngClass"],["class","flex flex-col width-100",4,"ngIf"],["class","flex text-gray-700 font-weight-500 justify-between width-100",4,"ngIf"],["class","flex items-center text-red-600 font-weight-500",4,"ngIf"],["class","flex flex-col gap-4 justify-between width-100 text-gray-700 font-weight-500",4,"ngIf"],[1,"margin-vertical-20","width-100","flex","justify-start","items-center","text-sm"],["class","live-ping",4,"ngIf"],["style","order: 1",3,"ngClass",4,"ngIf"],[1,"live-ping"],[2,"order","1",3,"ngClass"],[1,"position-relative","rounded-12","width-100","height-100","shadow-mds",3,"ngClass"],["class","pulser rounded-12",4,"ngIf"],["disablePictureInPicture","","video-feed","","autoplay","",1,"rounded-12",3,"stream","muted"],["class","font-weight-500 text-center recording-countdown text-3xl flex items-center justify-center text-white bg-black-50percent rounded-full position-absolute",4,"ngIf"],[1,"pulser","rounded-12"],[1,"font-weight-500","text-center","recording-countdown","text-3xl","flex","items-center","justify-center","text-white","bg-black-50percent","rounded-full","position-absolute"],[1,"width-100"],[1,"rounded-6","video-container"],[3,"ngTemplateOutlet"],[1,"flex","flex-col","width-100"],[1,"flex","items-center","text-sm"],["class","flex whitespace-nowrap",3,"ngClass",4,"ngIf"],["class","flex items-center margin-left-60",4,"ngIf"],["class","flex gap-8 whitespace-nowrap",3,"ngClass",4,"ngIf"],["class","bg-yellow-100 border-1 border-yellow-300 rounded-12 text-sm flex items-center margin-top-24 padding-horizontal-12 padding-vertical-8",4,"ngIf"],[1,"flex","whitespace-nowrap",3,"ngClass"],[1,"font-weight-400","margin-bottom-0"],[1,"font-weight-500","margin-bottom-0"],[1,"flex","items-center","margin-left-60"],[1,"button","bg-red-100","hover-bg-red-200","cursor-pointer","border-1","border-red-200","padding-horizontal-12","padding-vertical-8","rounded-8","text-red-700","flex","items-center","gap-4","margin-bottom-0","margin-right-2",3,"disabled","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-8","whitespace-nowrap",3,"ngClass"],[1,"flex","gap-4","items-center","text-yellow-600"],["src","/assets/images/yellow-timer.svg"],[1,"bg-yellow-100","border-1","border-yellow-300","rounded-12","text-sm","flex","items-center","margin-top-24","padding-horizontal-12","padding-vertical-8"],[1,"width-24","text-yellow-700","margin-right-12","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"width-100"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"],[1,"flex-1"],[1,"flex","text-gray-700","font-weight-500","justify-between","width-100"],[1,"check","icon","margin-left-4"],[1,"flex","items-center","text-red-600","font-weight-500"],[1,"button","light-red-button","flex","items-center","margin-left-16",3,"click"],[1,"flex","flex-col","gap-4","justify-between","width-100","text-gray-700","font-weight-500"],[1,"items-center","flex","gap-8"],[1,"ui","small","active","inline","loader","margin-right-8"],[1,"text-gray-500","font-weight-500","text-sm","margin-0-important"],[1,"flex","flex-col","justify-center","items-center","rounded-6","padding-vertical-16","margin-horizontal-auto",3,"ngClass"],[1,"flex"],[1,"button","margin-top-12","light-red-button","flex","items-center",3,"click"],[1,"flex","justify-center","items-center","rounded-6","video-container","margin-horizontal-auto"],[1,"ui","active","inline","loader"],[1,"flex","flex-col","rounded-6","video-container","margin-horizontal-auto",3,"ngClass"],["disablePictureInPicture","","controlsList","nofullscreen noremoteplayback nodownload","controls","","preload","metadata",3,"src"],[1,"flex","justify-between","margin-top-12"],[1,"text-gray-600"],[1,"flex","flex-col","items-center","margin-horizontal-auto"],[1,"flex","video-container","rounded-6","items-center","bg-gray-100"],["width","43","height","48","viewBox","0 0 43 48","fill","none","xmlns","http://www.w3.org/2000/svg",2,"margin-left","calc(50% - 22px)"],["d","M10.5649 11.4345C10.2525 11.1221 9.74595 11.1221 9.43353 11.4345C9.12111 11.7469 9.12111 12.2535 9.43353 12.5659L11.6002 14.7325C10.1869 15.3495 9.19922 16.7595 9.19922 18.4001V29.6001C9.19922 31.8092 10.9901 33.6001 13.1992 33.6001H24.3992C26.0398 33.6001 27.4498 32.6124 28.0668 31.1991L33.4335 36.5659C33.746 36.8783 34.2525 36.8783 34.5649 36.5659C34.8773 36.2535 34.8773 35.7469 34.5649 35.4345L10.5649 11.4345ZM26.7792 29.9115C26.6265 31.0899 25.6192 32.0001 24.3992 32.0001H13.1992C11.8737 32.0001 10.7992 30.9256 10.7992 29.6001V18.4001C10.7992 17.1801 11.7094 16.1728 12.8878 16.0201L26.7792 29.9115ZM26.7992 25.4059L32.35 30.9567C33.3961 31.6187 34.7992 30.8732 34.7992 29.6002V18.4002C34.7992 17.0818 33.294 16.3292 32.2392 17.1202L28.3992 20.0002V18.4001C28.3992 16.1909 26.6084 14.4001 24.3992 14.4001H15.7934L17.3934 16.0001H24.3992C25.7247 16.0001 26.7992 17.0746 26.7992 18.4001V25.4059ZM28.3992 22.0002L33.1992 18.4002V29.6002L28.3992 26.0002V22.0002Z","fill","#52525B"],[1,"bg-yellow-100","border-1","border-yellow-300","rounded-12","text-sm","flex","items-center","margin-top-24","padding-horizontal-12","padding-vertical-8",2,"max-width","490px"],["modal-new","",1,"ui","tiny","modal",2,"border-radius","12px",3,"show"],[1,"flex","text-font-inter","text-gray-900","text-size-16","font-weight-500","padding-vertical-16","padding-horizontal-24","items-center"],[1,"cursor-pointer","margin-left-auto",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.39705 4.55379L4.46967 4.46967C4.73594 4.2034 5.1526 4.1792 5.44621 4.39705L5.53033 4.46967L12 10.939L18.4697 4.46967C18.7626 4.17678 19.2374 4.17678 19.5303 4.46967C19.8232 4.76256 19.8232 5.23744 19.5303 5.53033L13.061 12L19.5303 18.4697C19.7966 18.7359 19.8208 19.1526 19.6029 19.4462L19.5303 19.5303C19.2641 19.7966 18.8474 19.8208 18.5538 19.6029L18.4697 19.5303L12 13.061L5.53033 19.5303C5.23744 19.8232 4.76256 19.8232 4.46967 19.5303C4.17678 19.2374 4.17678 18.7626 4.46967 18.4697L10.939 12L4.46967 5.53033C4.2034 5.26406 4.1792 4.8474 4.39705 4.55379L4.46967 4.46967L4.39705 4.55379Z","fill","#A1A1AA"],[1,"divider","width-100","border-bottom-solid","border-gray-200","margin-vertical-0"],[1,"padding-vertical-16","padding-horizontal-24","flex","flex-col","gap-16","common-border-bottom"],[1,"text-font-inter","text-gray-900","text-sm","font-weight-400"],[1,"flex","flex-col","gap-8"],[1,"text-sm","font-weight-500","text-gray-900","line-height-20"],[1,"flex","flex-col","text-size-14","font-weight-400","text-gray-900"],[1,"margin-vertical-0","line-height-24"],[1,"divider","border-bottom-solid","border-gray-200"],[1,"flex","justify-end","items-center","col-gap-12","padding-vertical-16","padding-horizontal-24"],[1,"button","white-button","margin-0-important",3,"click"],[1,"button","blue-button","flex","items-center","margin-0-important",3,"ngClass","click"]],template:function(r,n){1&r&&(e.YNc(0,i_,2,2,"ng-template",null,0,e.W1O),e.YNc(2,s_,2,2,"ng-template",null,1,e.W1O),e.YNc(4,c_,1,1,"ng-template",null,2,e.W1O),e.ynx(6),e.TgZ(7,"as-split",3)(8,"as-split-area",4)(9,"div",5)(10,"div",6)(11,"div",7),e.YNc(12,u_,2,0,"div",8),e.YNc(13,l_,2,0,"div",8),e.qZA()(),e.YNc(14,k_,9,10,"div",9),e.YNc(15,D_,6,1,"ng-container",8),e.YNc(16,q_,3,0,"ng-container",8),e.YNc(17,Z_,9,5,"ng-container",8),e.YNc(18,L_,14,0,"ng-container",8),e.qZA()()(),e.BQk(),e.YNc(19,U_,25,4,"div",10)),2&r&&(e.xp6(8),e.Q6J("size","*"),e.xp6(3),e.Q6J("ngClass",n.isDarkMode?"text-white":"text-gray-700"),e.xp6(1),e.Q6J("ngIf",!(null!=n.question&&n.question.timeBoundDescription)),e.xp6(1),e.Q6J("ngIf",(null==n.question?null:n.question.timeBoundDescription)&&!("countdown"===n.timeBoundDescriptionState||"incomplete-attempt"===n.timeBoundDescriptionState||n.inRecording)&&n.uploadStatus===n.ApiStateEnum.NOTLOADED),e.xp6(1),e.Q6J("ngIf",n.cameraFeedStatus===n.ApiStateEnum.LOADED&&n.stream&&!n.answerKey&&"incomplete-attempt"!==n.timeBoundDescriptionState),e.xp6(1),e.Q6J("ngIf",n.cameraFeedStatus===n.ApiStateEnum.ERROR&&n.uploadStatus!==n.ApiStateEnum.LOADED),e.xp6(1),e.Q6J("ngIf",n.cameraFeedStatus===n.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.uploadStatus===n.ApiStateEnum.LOADED&&n.answerKey),e.xp6(1),e.Q6J("ngIf",n.cameraFeedStatus!==n.ApiStateEnum.LOADING&&(null==n.question?null:n.question.timeBoundDescription)&&"incomplete-attempt"===n.timeBoundDescriptionState&&!e.WLB(10,B_,n.ApiStateEnum.LOADED,n.uploadStatus===n.ApiStateEnum.LOADING).includes(n.uploadStatus)),e.xp6(1),e.Q6J("ngIf",n.showStartRecordingVideoWarningModal))},directives:[Ue.O5,Xe.Mq,Xe.zE,Ue.mk,t_.l,Ue.tP,di.m],styles:['*[_ngcontent-%COMP%]:not(i):not(pre){font-family:Inter!important}.video-recording-split-area[_ngcontent-%COMP%]{overflow:hidden!important}.video-container[_ngcontent-%COMP%]{width:100%;max-width:490px;aspect-ratio:490/270}video[_ngcontent-%COMP%]{height:100%;width:100%;overflow:hidden;object-fit:cover;position:inherit}.in-recording[_ngcontent-%COMP%]{border:2px solid var(--red-600)}.pulser[_ngcontent-%COMP%]{box-shadow:0 0 #ff5252;animation:pulse-red 4s infinite cubic-bezier(.17,.67,.86,.56);position:absolute;width:100%;height:100%;background:#ff5252}.recording-countdown[_ngcontent-%COMP%]{width:40px;height:40px;top:45%;left:45%;transition:transform .5s ease-in-out;animation:pulse-countdown 1s infinite cubic-bezier(.17,.67,.86,.56)}@keyframes pulse-countdown{0%{opacity:0;transform:scale(1)}20%{opacity:1}60%{opacity:1}to{opacity:0;transform:scale(2)}}@keyframes pulse-red{0%{transform:scale(1);box-shadow:0 0 0 2px #ff525266}50%{transform:scale(1.01);box-shadow:0 0 1px 10px #ff52521a}to{transform:scale(1);box-shadow:0 0 0 2px #ff525266}}.video-icon[_ngcontent-%COMP%]{background-image:url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#DC2626" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>\')}.option-icon[_ngcontent-%COMP%]{height:24px;width:24px;background-size:24px 24px;background-repeat:no-repeat!important}.overlay[_ngcontent-%COMP%]{position:fixed;height:100vh;width:100vw;background:rgba(0,0,0,.2);top:0;left:0;z-index:5}.margin-left-60[_ngcontent-%COMP%]{margin-left:60px}']}),Vi=(0,fe.gn)([(0,Te.c)()],Vi);const Jo=t=>(0,J.P1)((0,Q.bi)(te.ON.MACHINE_LEARNING,t),r=>r),Ji=`${H.Bq} - ML -`,Au=(0,J.PH)(`${Ji} download file`,(0,J.Ky)()),Tu=(0,J.PH)(`${Ji} download file success`,(0,J.Ky)()),Iu=(0,J.PH)(`${Ji} download file fail`,(0,J.Ky)()),Us=(0,J.PH)(`${Ji} set submission file name`,(0,J.Ky)()),Eu=(0,J.PH)(`${Ji} run judge`,(0,J.Ky)()),Ou=(0,J.PH)(`${Ji} run judge success`,(0,J.Ky)()),ku=(0,J.PH)(`${Ji} run judge fail`,(0,J.Ky)()),J_=["fileUpload"];function W_(t,r){if(1&t&&(e.TgZ(0,"div",23),e.ALo(1,"async"),e._uU(2," Evaluating your submission, please wait "),e.qZA()),2&t){const n=e.oxw(3);e.Q6J("ngClass",e.lcZ(1,1,n.isDarkMode$)?"text-gray-500":"text-gray-400")}}function Y_(t,r){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.submissionStatus.error.errorMessage," ")}}function $_(t,r){if(1&t&&(e.TgZ(0,"div")(1,"span",25),e.ALo(2,"async"),e._uU(3,"Evaluation completed. Your score is:"),e.qZA(),e.TgZ(4,"span",26),e.ALo(5,"async"),e._uU(6),e.qZA()()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.lcZ(2,3,n.isDarkMode$)?"text-gray-400":"text-gray-500"),e.xp6(3),e.Q6J("ngClass",e.lcZ(5,5,n.isDarkMode$)?"text-gray-300":"text-gray-700"),e.xp6(2),e.Oqu(n.submission.score)}}function j_(t,r){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,W_,3,3,"div",20),e.YNc(2,Y_,2,1,"div",21),e.YNc(3,$_,7,7,"div",22),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.submissionStatus.state===n.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.submissionStatus.state===n.ApiStateEnum.ERROR),e.xp6(1),e.Q6J("ngIf",n.submissionStatus.state===n.ApiStateEnum.LOADED)}}const Du=function(t,r){return{loading:t,dark:r}},G_=function(t){return{"div-disabled":t}},X_=function(){return["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".csv","application/vnd.ms-excel"]},ex=function(){return[3]};function tx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.ALo(2,"async"),e._uU(3," Download to view file format or something that supports these files "),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return a.downloadFile(a.FileBtnTypeEnum.TRAIN)}),e.ALo(6,"async"),e._uU(7," Train file "),e.O4$(),e.TgZ(8,"svg",5),e._UZ(9,"path",6),e.qZA()(),e.kcU(),e.TgZ(10,"button",7),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return a.downloadFile(a.FileBtnTypeEnum.TEST)}),e.ALo(11,"async"),e._uU(12," Test file "),e.O4$(),e.TgZ(13,"svg",5),e._UZ(14,"path",6),e.qZA()()(),e.kcU(),e.TgZ(15,"div",8)(16,"span",9),e.ALo(17,"async"),e._uU(18,"Answer"),e.qZA()(),e.TgZ(19,"div",10)(20,"div",11),e.ALo(21,"async"),e._uU(22," Upload your file "),e.qZA(),e.TgZ(23,"div",12)(24,"file-upload",13,14),e.NdJ("fileUploaded",function(a){return e.CHM(n),e.oxw().fileUploaded(a)})("fileRemoved",function(){return e.CHM(n),e.oxw().fileRemoved()}),e.ALo(26,"async"),e.O4$(),e.TgZ(27,"svg",15),e._UZ(28,"path",16),e.qZA(),e.kcU(),e.TgZ(29,"div",17),e._uU(30,"Upload and Evaluate"),e.qZA()()(),e.YNc(31,j_,4,3,"div",18),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.lcZ(2,15,n.isDarkMode$)?"text-gray-300":"text-gray-500"),e.xp6(4),e.Q6J("ngClass",e.WLB(27,Du,n.fileBtnStatus[n.FileBtnTypeEnum.TRAIN]===n.BtnStateEnum.LOADING,e.lcZ(6,17,n.isDarkMode$))),e.xp6(5),e.Q6J("ngClass",e.WLB(30,Du,n.fileBtnStatus[n.FileBtnTypeEnum.TEST]===n.BtnStateEnum.LOADING,e.lcZ(11,19,n.isDarkMode$))),e.xp6(6),e.ekj("dark",e.lcZ(17,21,n.isDarkMode$)),e.xp6(4),e.Q6J("ngClass",e.lcZ(21,23,n.isDarkMode$)?"text-gray-300":"text-gray-500"),e.xp6(4),e.Q6J("ngClass",e.VKq(33,G_,n.submissionStatus.state===n.ApiStateEnum.LOADING))("fileTypes",e.DdM(35,X_))("isDarkMode",e.lcZ(26,25,n.isDarkMode$))("keyToUse",n.keyToUse)("bucket",n.S3BucketEnum.SUBMISSION)("uploadedKey",n.answerKey)("uploadedFileName",n.submissionFileName||"Submission uploaded"),e.xp6(4),e.uIk("stroke",n.isDarkMode?"#F4F4F5":"#4B5563"),e.xp6(3),e.Q6J("ngIf",e.DdM(36,ex).includes(null==n.fileUploadComponent?null:n.fileUploadComponent.state)&&n.submissionStatus.state!==n.ApiStateEnum.NOTLOADED)}}let vi=class{constructor(r,n){this.store=r,this._testPortalService=n,this.FileBtnTypeEnum=yr,this.BtnStateEnum=he.J,this.ApiStateEnum=he.V,this.S3BucketEnum=xa.O,this.subscriptionsLoaded=!1,this.store.select(Q.VA).pipe((0,Te.t)(this)).subscribe(i=>{this.testId=i})}ngOnInit(){var t;this.store.dispatch((0,H.AR)({qType:te.ON.MACHINE_LEARNING,questionHash:this.questionHash})),this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r}),this.store.select((0,Q.f0)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerKey=r}),this.store.select((t=this.questionHash,(0,J.P1)((0,F.w6)(t),Q.VA,F.pl,(r,n,i)=>Nu(n,i,r)))).pipe((0,Te.t)(this)).subscribe(r=>{this.keyToUse=r}),this.store.select((t=>(0,J.P1)(Jo(this.questionHash),r=>r.fileBtnStatus))()).pipe((0,Te.t)(this)).subscribe(r=>{this.fileBtnStatus=r}),this.store.select((t=>(0,J.P1)(Jo(this.questionHash),r=>r.submissionFileName))()).pipe((0,Te.t)(this)).subscribe(r=>{this.submissionFileName=r}),this.store.select((t=>(0,J.P1)(Jo(this.questionHash),r=>r.submissionStatus))()).pipe((0,Te.t)(this)).subscribe(r=>{this.submissionStatus=r}),this.store.select((t=>(0,J.P1)(Jo(this.questionHash),r=>r.submission))()).pipe((0,Te.t)(this)).subscribe(r=>{this.submission=r}),this.isDarkMode$=this.store.select(Q.sx),this.subscriptionsLoaded=!0}ngOnDestroy(){}runEvaluation(){this.store.dispatch(Eu({questionHash:this.question.hash})),this._testPortalService.runAIJudge(this.testId,{question:this.question.hash,testInputKey:this.question.data.output.key,submitKey:this.answerKey,judge:this.question.judge},(n,i)=>{this.store.dispatch(n?ku({questionHash:this.question.hash,error:n}):Ou({questionHash:this.question.hash,response:i}))})}downloadFile(r){let n="";r===yr.TEST?n=this.question.data.train.key:r===yr.TRAIN&&(n=this.question.data.input.key),this.store.dispatch(Au({questionHash:this.question.hash,fileType:r})),this._testPortalService.generateReadSignature({key:n,bucket:xa.O.GENERAL},(i,a)=>{i?($e.m.logComponentError(this.constructor.name,this.downloadFile.name,`Error while fetching "${r}" file with key: ${n}. ${i}`),this.store.dispatch(Iu({questionHash:this.question.hash,fileType:r})),alert("Some error occurred while fetching file")):(window.open(a.url,"_blank"),this.store.dispatch(Tu({questionHash:this.question.hash,fileType:r})))})}fileUploaded(r){this.store.dispatch(Us({questionHash:this.question.hash,fileName:r.fileName})),this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:[],answerKey:r.fileKey})),this.runEvaluation()}fileRemoved(){this.store.dispatch(Us({questionHash:this.question.hash,fileName:""})),this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:[],answerKey:""}))}};vi.\u0275fac=function(r){return new(r||vi)(e.Y36(J.yh),e.Y36(ct.X))},vi.\u0275cmp=e.Xpm({type:vi,selectors:[["machine-learning"]],viewQuery:function(r,n){if(1&r&&e.Gf(J_,5),2&r){let i;e.iGM(i=e.CRH())&&(n.fileUploadComponent=i.first)}},inputs:{questionHash:"questionHash"},decls:1,vars:1,consts:[["class","margin-bottom-80",4,"ngIf"],[1,"margin-bottom-80"],[1,"margin-bottom-20","text-sm",3,"ngClass"],[1,"flex","row-gap-12","margin-bottom-30",2,"column-gap","60px"],[1,"button","indigo-button","flex","items-center",3,"ngClass","click"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg",1,"margin-left-12","btn-icons"],["d","M1 13V14C1 14.7956 1.31607 15.5587 1.87868 16.1213C2.44129 16.6839 3.20435 17 4 17H14C14.7956 17 15.5587 16.6839 16.1213 16.1213C16.6839 15.5587 17 14.7956 17 14V13M13 9L9 13M9 13L5 9M9 13V1","stroke","#6366F1","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"button","indigo-button","flex","items-center","margin-right-12",3,"ngClass","click"],[1,"line-text","padding-top-24"],[1,"text-font-inter","font-weight-500","text-gray-900"],[1,"margin-bottom-32"],[1,"margin-bottom-12","text-sm",3,"ngClass"],[1,"flex"],[3,"ngClass","fileTypes","isDarkMode","keyToUse","bucket","uploadedKey","uploadedFileName","fileUploaded","fileRemoved"],["fileUpload",""],["width","17","height","16","viewBox","0 0 17 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.16699 10.6665V11.3332C3.16699 11.8636 3.37771 12.3723 3.75278 12.7474C4.12785 13.1225 4.63656 13.3332 5.16699 13.3332H11.8337C12.3641 13.3332 12.8728 13.1225 13.2479 12.7474C13.6229 12.3723 13.8337 11.8636 13.8337 11.3332V10.6665M11.167 5.33317L8.50033 2.6665M8.50033 2.6665L5.83366 5.33317M8.50033 2.6665V10.6665","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"margin-left-8"],["class","padding-vertical-16 text-sm font-weight-500",4,"ngIf"],[1,"padding-vertical-16","text-sm","font-weight-500"],["class","loading-ellipses",3,"ngClass",4,"ngIf"],["class","text-red-600",4,"ngIf"],[4,"ngIf"],[1,"loading-ellipses",3,"ngClass"],[1,"text-red-600"],[1,"margin-right-4",3,"ngClass"],[3,"ngClass"]],template:function(r,n){1&r&&e.YNc(0,tx,32,37,"div",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Ue.mk,xa.Y],pipes:[Ue.Ov],styles:["*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.btn-icons[_ngcontent-%COMP%]{width:16px;height:16px}.indigo-button[_ngcontent-%COMP%]{font-size:14px}.line-text[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #e4e4e7;line-height:.1em;margin:10px 0 32px}.line-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px 0 0}.line-text[_ngcontent-%COMP%]   span.dark[_ngcontent-%COMP%]{color:var(--gray-200);background:var(--gray-900)}.indigo-button.dark[_ngcontent-%COMP%]{color:var(--indigo-500);border:1px solid var(--indigo-500);background-color:inherit}"]}),vi=(0,fe.gn)([(0,Te.c)()],vi);var qu=ke(69142),Pu=ke(9767),nx=ke(86363),Zu=ke(25914),rx=ke(21827);const Lu=function(t,r){return{"bg-gray-100":t,"bg-gray-800":r}};function ix(t,r){if(1&t&&e._UZ(0,"div",24),2&t){const n=e.oxw(2);e.Q6J("ngClass",e.WLB(1,Lu,"light"===n.currentTheme,"dark"===n.currentTheme))}}function ax(t,r){if(1&t&&(e.TgZ(0,"div",40),e._UZ(1,"div",41),e._uU(2),e.qZA()),2&t){const n=r.$implicit;e.uIk("data-value",n.name),e.xp6(1),e.Udp("background-image","url("+n.logoPath+")"),e.xp6(1),e.hij(" ",n.displayName," ")}}const Ru=function(t){return{"div-disabled opacity-50":t}},ox=function(t){return{height:t}};function sx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(2).changeLanguage(a)}),e._UZ(3,"input",28)(4,"input",29),e.TgZ(5,"div",30),e.O4$(),e.TgZ(6,"svg",31),e._UZ(7,"path",32),e.qZA()(),e.kcU(),e.TgZ(8,"div",33),e._uU(9,"Choose language"),e.qZA(),e.TgZ(10,"div",34),e.YNc(11,ax,3,4,"div",35),e.qZA()(),e.TgZ(12,"div",36)(13,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).resetCodeStub()}),e._uU(14," Reset code "),e.qZA(),e.TgZ(15,"div",37),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).increaseFontSize()}),e._uU(16," A+ "),e.qZA(),e.TgZ(17,"div",37),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).decreaseFontSize()}),e._uU(18," A- "),e.qZA()()(),e.TgZ(19,"div",38)(20,"app-monaco-editor",39),e.NdJ("sourceUpdated",function(a){return e.CHM(n),e.oxw(2).updateSourceCode(a)}),e.qZA()()()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(20,Lu,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(1),e.Gre("ui search selection dropdown language-selector ",n.currentTheme,""),e.Q6J("ngModel",n.editor.language.name),e.xp6(9),e.Q6J("ngForOf",n.editor.allowedLanguages),e.xp6(2),e.Gre("small button white-button padding-horizontal-8 padding-vertical-4 ",n.currentTheme,""),e.xp6(2),e.Q6J("ngClass",e.VKq(23,Ru,n.isIncreaseFontSizeDisabled)),e.uIk("data-content","Increase font size"),e.xp6(2),e.Q6J("ngClass",e.VKq(25,Ru,n.isDecreaseFontSizeDisabled)),e.uIk("data-content","Decrease font size"),e.xp6(2),e.Q6J("ngStyle",e.VKq(27,ox,n.isMobileDevice?"400px":"calc(100% - 50px)")),e.xp6(1),e.Q6J("_source",n.initCode)("_language",n.editor.language.name)("_theme",n.currentTheme)("_size",n.fontSize)("_readOnly",!1)("_intellisenseDisabled",n.isReplayOn||n.intellisenseDisabled)}}const Uu=function(t){return{disabled:t}};function cx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).runCode()}),e._UZ(1,"i"),e._uU(2," Run code "),e.qZA()}if(2&t){const n=e.oxw(2);e.Gre("button white-button run-code-btn ",n.currentTheme,""),e.Q6J("ngClass",e.VKq(7,Uu,n.isCodeBeingExecuted)),e.xp6(1),e.Gre("circle play icon margin-right-4 ",n.currentTheme,"")}}function ux(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).stopExecution()}),e._uU(1," Stop "),e.qZA()}if(2&t){const n=e.oxw(2);e.Gre("button light-red-button run-code-btn ",n.currentTheme,"")}}function lx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onUserSubmitCode()}),e._uU(1," Submit code "),e.qZA()}if(2&t){const n=e.oxw(2);e.Gre("button blue-button run-code-btn ",n.currentTheme,""),e.Q6J("ngClass",e.VKq(4,Uu,n.isCodeBeingExecuted))}}function dx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).stopExecution()}),e._uU(1," Stop "),e.qZA()}if(2&t){const n=e.oxw(2);e.Gre("button light-red-button run-code-btn ",n.currentTheme,"")}}const oo=function(t,r){return{"bg-red-50 text-red-600":t,"border-1 border-red-700 text-red-700":r}};function px(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",44),e._uU(2,"Warning"),e.qZA(),e.TgZ(3,"div",45)(4,"span"),e._uU(5),e.TgZ(6,"span",46),e._uU(7),e.ALo(8,"countdownTimer"),e.qZA()()(),e.BQk()),2&t){const n=e.oxw(3);e.xp6(3),e.Q6J("ngClass",e.WLB(5,oo,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.hij(" You can submit your code only upto ",n.CODE_EXEC_LIMIT.count," times within a min. Please wait before submitting your code again. You can submit after "),e.xp6(2),e.Oqu(e.lcZ(8,3,n.waitTime))}}function mx(t,r){1&t&&(e.TgZ(0,"div",49)(1,"div",50),e._uU(2,"You must execute your code first."),e.qZA()())}function fx(t,r){1&t&&(e.TgZ(0,"div",51),e._uU(1," Compiling code "),e.qZA())}function gx(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",45),e._uU(2),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.WLB(2,oo,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(1),e.hij(" ",n.execution.error.errorMessage," ")}}const Bu=function(t,r){return{"text-red-600":t,"text-red-700":r}};function hx(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",52),e._uU(2," Compiler Error "),e.qZA(),e.TgZ(3,"pre",53),e._uU(4),e.qZA(),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.WLB(3,Bu,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.Q6J("ngClass",e.WLB(6,oo,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(1),e.hij("            ",n.execution.compilationMessage,"\n          ")}}const Bs=function(t,r){return{"bg-blue-50 text-blue-700":t,"border-1 border-blue-500 text-blue-500":r}};function vx(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",45),e._uU(2," Your code is submitted. The full test-case suite is hidden, the results will be reflected in your report. "),e.qZA(),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.WLB(1,Bs,"light"===n.currentTheme,"dark"===n.currentTheme))}}function _x(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",45),e._uU(2," Your code is submitted but all the test-case results are not available yet. "),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).manuallyPollTestCaseResult()}),e._uU(4," Fetch result "),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.WLB(4,Bs,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.Gre("button light-blue-button code-btn margin-top-12 ",n.currentTheme,"")}}function xx(t,r){1&t&&(e.TgZ(0,"div",60)(1,"div",61),e._UZ(2,"img",62),e.qZA(),e.TgZ(3,"div",19),e._uU(4,"All Test cases passed"),e.qZA()())}function yx(t,r){if(1&t&&(e.TgZ(0,"div",63),e._uU(1),e.qZA()),2&t){const n=e.oxw(6);e.xp6(1),e.lnq(" ",n.execution.testCaseExecutionResult.length-n.execution.testCasesPassed,"/",n.execution.testCaseExecutionResult.length," ","sample"===n.execution.submitType?"Sample test cases failed":"Test cases failed"," ")}}function bx(t,r){if(1&t&&(e.TgZ(0,"div",57),e.YNc(1,xx,5,0,"div",58),e.YNc(2,yx,2,3,"div",59),e.qZA()),2&t){const n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",n.execution.testCasesPassed===n.execution.testCaseExecutionResult.length),e.xp6(1),e.Q6J("ngIf",n.execution.testCasesPassed!==n.execution.testCaseExecutionResult.length)}}function wx(t,r){1&t&&e._UZ(0,"i",76)}function Cx(t,r){1&t&&e._UZ(0,"i",77)}function Mx(t,r){if(1&t&&(e.ynx(0),e.YNc(1,wx,1,0,"i",74),e.YNc(2,Cx,1,0,"i",75),e.BQk()),2&t){const n=e.oxw().$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!i.testcaseResultViewExpanded[n.testcase_id]),e.xp6(1),e.Q6J("ngIf",i.testcaseResultViewExpanded[n.testcase_id])}}function Sx(t,r){1&t&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",78),e._UZ(2,"path",79),e.qZA()())}function Nx(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",80),e._UZ(1,"path",81),e.qZA())}function Ax(t,r){1&t&&(e.TgZ(0,"div",83),e.O4$(),e.TgZ(1,"svg",84),e._UZ(2,"rect",85),e.TgZ(3,"defs")(4,"pattern",86),e._UZ(5,"use",87),e.qZA(),e._UZ(6,"image",88),e.qZA()()())}function Tx(t,r){if(1&t&&e.YNc(0,Ax,7,0,"div",82),2&t){const n=e.oxw().$implicit,i=e.MAs(11);e.Q6J("ngIf","PE"===n.status)("ngIfElse",i)}}function Ix(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",80),e._UZ(1,"path",89),e.qZA())}function Ex(t,r){if(1&t&&e.YNc(0,Ix,2,0,"svg",68),2&t){const n=e.oxw().$implicit,i=e.MAs(13);e.Q6J("ngIf","WA"===n.status)("ngIfElse",i)}}function Ox(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",90),e._UZ(1,"path",91),e.qZA())}const Fs=function(t,r){return{"text-gray-700":t,"text-gray-200":r}};function kx(t,r){if(1&t&&(e.TgZ(0,"div",92)(1,"div",93)(2,"div",94),e._uU(3),e.qZA()(),e.TgZ(4,"div",93)(5,"div",95),e._uU(6,"memory"),e.qZA(),e.TgZ(7,"div",94),e._uU(8),e.qZA()(),e.TgZ(9,"div",93)(10,"div",95),e._uU(11,"runtime"),e.qZA(),e.TgZ(12,"div",94),e._uU(13),e.qZA()()()),2&t){const n=e.oxw().$implicit,i=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(6,Fs,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(1),e.hij(" ",n.statusMsg," "),e.xp6(4),e.Q6J("ngClass",e.WLB(9,Fs,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(1),e.hij(" ",n.memory," "),e.xp6(4),e.Q6J("ngClass",e.WLB(12,Fs,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(1),e.hij(" ",n.runtime," ")}}const zs=function(t,r){return{"text-gray-600":t,"text-gray-400":r}};function Dx(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",65),e._UZ(2,"div",96),e.TgZ(3,"div",97)(4,"div",98)(5,"div",99),e._uU(6," Input "),e.qZA(),e._UZ(7,"pre",100),e.qZA(),e.TgZ(8,"div",98)(9,"div",99),e._uU(10," Output "),e.qZA(),e._UZ(11,"pre",100),e.qZA(),e.TgZ(12,"div",98)(13,"div",99),e._uU(14," Expected "),e.qZA(),e._UZ(15,"pre",100),e.qZA()()()()),2&t){const n=e.oxw().$implicit,i=e.oxw(5);e.xp6(5),e.Q6J("ngClass",e.WLB(15,zs,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(2),e.Gre("code padding-8 ",i.currentTheme,""),e.Q6J("innerHTML",n.input,e.oJD),e.xp6(2),e.Q6J("ngClass",e.WLB(18,zs,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(2),e.Gre("code padding-8 ",i.currentTheme,""),e.Q6J("innerHTML",n.output,e.oJD),e.xp6(2),e.Q6J("ngClass",e.WLB(21,zs,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(2),e.Gre("code padding-8 ",i.currentTheme,""),e.Q6J("innerHTML",n.expectedOutput,e.oJD)}}const qx=function(t,r){return{"border-gray-200":t,"border-gray-500":r}},Px=function(t,r){return{"cursor-pointer":t,"opacity-50":r}},Zx=function(t,r){return{"text-gray-800":t,"text-gray-300":r}};function Lx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"div",66),e.NdJ("click",function(){const o=e.CHM(n).$implicit,c=e.oxw(5);return"PE"!==o.status&&o.sample&&c.toggleTestcaseResultView(o.testcase_id)}),e.YNc(3,Mx,3,2,"ng-container",23),e.YNc(4,Sx,3,0,"div",23),e.qZA(),e.TgZ(5,"div",19)(6,"div",67),e.YNc(7,Nx,2,0,"svg",68),e.YNc(8,Tx,1,2,"ng-template",null,69,e.W1O),e.YNc(10,Ex,1,2,"ng-template",null,70,e.W1O),e.YNc(12,Ox,2,0,"ng-template",null,71,e.W1O),e.qZA(),e.TgZ(14,"div",72),e._uU(15),e.qZA()(),e.YNc(16,kx,14,15,"div",73),e.qZA(),e.YNc(17,Dx,16,24,"div",23),e.qZA()}if(2&t){const n=r.$implicit,i=r.index,a=e.MAs(9),o=e.oxw(5);e.Q6J("ngClass",e.WLB(11,qx,"light"===o.currentTheme,"dark"===o.currentTheme)),e.xp6(2),e.Q6J("ngClass",e.WLB(14,Px,"PE"!==n.status&&n.sample,"PE"===n.status)),e.xp6(1),e.Q6J("ngIf",n.sample),e.xp6(1),e.Q6J("ngIf",!n.sample),e.xp6(2),e.uIk("data-content",void 0),e.xp6(1),e.Q6J("ngIf","AC"===n.status)("ngIfElse",a),e.xp6(7),e.Q6J("ngClass",e.WLB(17,Zx,"light"===o.currentTheme,"dark"===o.currentTheme)),e.xp6(1),e.hij(" Test Case #",i+1," "),e.xp6(1),e.Q6J("ngIf","PE"!==n.status),e.xp6(1),e.Q6J("ngIf",o.testcaseResultViewExpanded[n.testcase_id])}}function Rx(t,r){1&t&&(e.TgZ(0,"div",101),e._uU(1," You can run your code against all the test cases only after passing the sample testcases "),e.qZA())}function Ux(t,r){if(1&t&&(e.ynx(0),e.YNc(1,bx,3,2,"div",54),e.TgZ(2,"div"),e.YNc(3,Lx,18,20,"div",55),e.qZA(),e.YNc(4,Rx,2,0,"div",56),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngIf","result"===n.execution.runStatus),e.xp6(2),e.Q6J("ngForOf",n.execution.testCaseExecutionResult),e.xp6(1),e.Q6J("ngIf","sample"===n.execution.submitType&&n.execution.testCasesPassed!==n.execution.testCaseExecutionResult.length)}}const Bx=function(){return["result"]},Fx=function(){return["partial-polling","result"]};function zx(t,r){if(1&t&&(e.YNc(0,mx,3,0,"div",47),e.YNc(1,fx,2,0,"div",48),e.YNc(2,gx,3,5,"div",23),e.YNc(3,hx,5,9,"ng-container",23),e.YNc(4,vx,3,4,"ng-container",23),e.YNc(5,_x,5,7,"ng-container",23),e.YNc(6,Ux,5,3,"ng-container",23)),2&t){const n=e.oxw(3);e.Q6J("ngIf",!n.execution.runStatus||"idle"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf",n.isCodeBeingExecuted),e.xp6(1),e.Q6J("ngIf","execution-error"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf","compilation-error"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf","deferred"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf","manual_fetch"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf",("sample"===n.execution.submitType?e.DdM(7,Bx):e.DdM(8,Fx)).includes(n.execution.runStatus))}}function Hx(t,r){if(1&t&&(e.ynx(0),e.YNc(1,px,9,8,"ng-container",42),e.YNc(2,zx,7,9,"ng-template",null,43,e.W1O),e.BQk()),2&t){const n=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","submit"===i.editor.lastActionBtn&&i.waitTime>0)("ngIfElse",n)}}function Qx(t,r){1&t&&(e.TgZ(0,"div",51),e._uU(1," Compiling code "),e.qZA())}function Vx(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",45),e._uU(2),e.qZA()()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(2,oo,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(1),e.hij(" ",n.execution.error.errorMessage," ")}}function Jx(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",52),e._uU(2," Compiler Error "),e.qZA(),e.TgZ(3,"pre",53),e._uU(4),e.qZA(),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(3,Bu,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.Q6J("ngClass",e.WLB(6,oo,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(1),e.hij("              ",n.execution.compilationMessage,"\n            ")}}function Wx(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",45),e._uU(2," It took too long to fetch your result. Click on Fetch result to try again "),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).manuallyPollTestCaseResult()}),e._uU(4," Fetch result "),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(4,Bs,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.Gre("button light-blue-button code-btn margin-top-12 ",n.currentTheme,"")}}const Fu=function(t,r){return{"text-gray-800":t,"text-gray-400":r}};function Yx(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",102),e._uU(2," Output "),e.qZA(),e._UZ(3,"pre",104),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(5,Fu,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.Gre("code padding-8 ",n.currentTheme,""),e.Q6J("innerHTML",n.execution.testCaseExecutionResult[0].output,e.oJD)}}function $x(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"div",102),e._uU(3," Input "),e.qZA(),e.TgZ(4,"textarea",103),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(2).onCustomInputType(a)}),e.qZA()(),e.YNc(5,Qx,2,0,"div",48),e.YNc(6,Vx,3,5,"div",23),e.YNc(7,Jx,5,9,"ng-container",23),e.YNc(8,Wx,5,7,"ng-container",23),e.YNc(9,Yx,4,8,"ng-container",23),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.WLB(12,Fu,"light"===n.currentTheme,"dark"===n.currentTheme)),e.xp6(2),e.Gre("answer-textarea margin-bottom-12 ",n.currentTheme,""),e.Q6J("minRows",3)("maxRows",7)("ngModel",n.editor.customInputText),e.xp6(1),e.Q6J("ngIf",n.isCodeBeingExecuted),e.xp6(1),e.Q6J("ngIf","execution-error"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf","compilation-error"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf","manual_fetch"===n.execution.runStatus),e.xp6(1),e.Q6J("ngIf","custom-result"===n.execution.runStatus)}}const jx=function(t,r){return{"bg-gray-50":t,"bg-gray-800":r}},zu=function(t,r){return{active:t,"div-disabled disable":r}},Gx=function(t,r){return{"bg-white":t,"bg-gray-900 dark":r}};function Kx(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"as-split",1),e.NdJ("dragStart",function(a){return e.CHM(n),e.oxw().verticalDragEvent({args:a,isDragging:!0})})("dragEnd",function(a){return e.CHM(n),e.oxw().verticalDragEvent({args:a,isDragging:!1})}),e.TgZ(1,"as-split-area",2),e.YNc(2,ix,1,4,"div",3),e.YNc(3,sx,21,29,"div",4),e.qZA(),e.TgZ(4,"as-split-area",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().gotoTestcaseMode()}),e._uU(9," Console "),e.qZA(),e.TgZ(10,"div",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().gotoCustomInputMode()}),e._uU(11," Custom Test Case "),e.qZA()(),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12),e.O4$(),e.TgZ(15,"svg",13),e._UZ(16,"path",14),e.qZA()(),e.kcU(),e.ynx(17),e.YNc(18,cx,3,9,"button",15),e.YNc(19,ux,2,3,"button",16),e.BQk(),e.ynx(20),e.YNc(21,lx,2,6,"button",17),e.YNc(22,dx,2,3,"ng-template",null,18,e.W1O),e.BQk(),e.qZA(),e.TgZ(24,"div",19)(25,"div",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleConsoleHeight()}),e._UZ(26,"i",21),e.qZA()()()(),e.TgZ(27,"div",22),e.YNc(28,Hx,4,2,"ng-container",23),e.YNc(29,$x,10,15,"ng-container",23),e.qZA()()()()}if(2&t){const n=e.MAs(23),i=e.oxw();e.Tol(i.currentTheme),e.xp6(1),e.Q6J("size","*"),e.xp6(1),e.Q6J("ngIf",i.isDragging),e.xp6(1),e.Q6J("ngIf",!i.isDragging),e.xp6(1),e.Q6J("size",i.consoleViewHeight)("minSize",i.CONSOLE_WINDOW_HEIGHT_RANGE.min)("maxSize",i.CONSOLE_WINDOW_HEIGHT_RANGE.max),e.xp6(2),e.Q6J("ngClass",e.WLB(30,jx,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(2),e.Gre("padding-horizontal-8 padding-vertical-4 cursor-pointer tab ",i.currentTheme,""),e.Q6J("ngClass",e.WLB(33,zu,!i.editor.customInput,i.isCodeBeingExecuted)),e.xp6(2),e.Gre("padding-horizontal-8 padding-vertical-4 text-gray-500 cursor-pointer tab ",i.currentTheme,""),e.Q6J("ngClass",e.WLB(36,zu,i.editor.customInput,i.isCodeBeingExecuted)),e.xp6(4),e.uIk("data-html",i.infoTooltip),e.xp6(4),e.Q6J("ngIf",i.isSampleTestcasesPresent&&!(i.isCodeBeingExecuted&&i.execution.runSample)),e.xp6(1),e.Q6J("ngIf",i.isCodeBeingExecuted&&i.execution.runSample),e.xp6(2),e.Q6J("ngIf",!(i.isCodeBeingExecuted&&!i.execution.runSample))("ngIfElse",n),e.xp6(4),e.Gre("console-view-toggle cursor-pointer ",i.currentTheme,""),e.xp6(1),e.Q6J("ngClass",i.consoleViewHeight===i.CONSOLE_WINDOW_HEIGHT_RANGE.max?"down":"up"),e.xp6(1),e.Q6J("ngClass",e.WLB(39,Gx,"light"===i.currentTheme,"dark"===i.currentTheme)),e.xp6(1),e.Q6J("ngIf",!i.editor.customInput),e.xp6(1),e.Q6J("ngIf",i.editor.customInput)}}const jr={min:43.5,max:400},Hu=[1e3,2e3,3e3,3e3,3e3,3e3,5e3,5e3,5e3,1e4],Qu=Qn.M.reduce((t,r)=>(t[r.stubname]=r.name,t),{}),Vu=Qn.M.reduce((t,r)=>(t[r.storedStubname]=r.name,t),{}),Xx=jsondiffpatch.create({});let _i=class{constructor(r,n){this._testPortalService=r,this.store=n,this.CODE_EXEC_LIMIT=Sr,this.CONSOLE_WINDOW_HEIGHT_RANGE=jr,this.subscriptionsLoaded=!1,this.consoleViewHeight=jr.max/2+100,this.testcaseResultViewExpanded={},this.isCodeBeingExecuted=!1,this.isDestroyed=!1,this.codeReplayAuditPushIntervalTimeout=6e4,this.waitTime=0,this.waitTimerInterval=null,this.store.select(Q.ow).pipe((0,Te.t)(this)).subscribe(i=>this.isReplayOn=i),this.store.select(F.DX).pipe((0,Te.t)(this)).subscribe(i=>this.testId=i),this.store.select(Q.sx).pipe((0,Te.t)(this)).subscribe(i=>{this.currentTheme=i?"dark":"light"}),this.store.select(F.RO).pipe((0,Te.t)(this)).subscribe(i=>{this.intellisenseDisabled=i.intellisenseDisabled}),this.store.select(Q.St).pipe((0,Te.t)(this)).subscribe(i=>{this.manualReloadCodeEditor()}),this.store.select(F.Ch).subscribe(i=>{this.hackathonMode=i,i?this.waitTimerInterval||(this.waitTimerInterval=setInterval(()=>{this.waitTime=Math.max(0,this.waitTime-1e3),this.waitTime>0&&Math.abs(this.waitTime-this.getWaitTime())>5e3&&(this.waitTime=this.getWaitTime())},1e3)):(this.waitTime=0,clearInterval(this.waitTimerInterval),this.waitTimerInterval=null)}),this.store.select(eo).pipe((0,Te.t)(this)).subscribe(i=>{this.infoTooltip=i}),this.store.select(Ga).pipe((0,Te.t)(this)).subscribe(i=>this.fontSize=i),this.store.select(Xa).pipe((0,Te.t)(this)).subscribe(i=>this.isDecreaseFontSizeDisabled=i),this.store.select(Ka).pipe((0,Te.t)(this)).subscribe(i=>this.isIncreaseFontSizeDisabled=i),this.store.select(Q.Pe).pipe((0,Te.t)(this)).subscribe(i=>this.codeReplayAudit=i),this.store.select(F.UI).pipe((0,Te.t)(this)).subscribe(i=>this.isMobileDevice=i)}set _isDraggingFromParent(r){this.isDragging=r,this.editor&&this.syncCodeWithEditor()}getWaitTime(){if(!this.hackathonMode||this.editor.lastNExecutionTimes.length<Sr.count)return 0;let r=Sr.interval-(Date.now()-this.editor.lastNExecutionTimes[Sr.count-1]);return Math.max(r,0)}getLatestEditor(){let r;return this.store.select(Fi(this.questionHash)).subscribe(i=>{r=i}).unsubscribe(),r}getExecutionFromEditor(r){return r?.customInput?r?.customExecution:r?.execution}ngOnInit(){this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r}),this.store.select(Fi(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{r&&r?.lastEditorSyncTime!==this.editor?.lastEditorSyncTime&&(this.initCode=r.code[r.language.name]),this.editor=r,this.execution=this.getExecutionFromEditor(this.editor),this.isCodeBeingExecuted=this.execution&&["start","polling","partial-polling"].includes(this.execution.runStatus),this.isSampleTestcasesPresent=!!(r?.testcases||[]).find(n=>n.sample)}),this.store.dispatch(Ne({testId:this.testId,isReplayOn:this.isReplayOn,questionHash:this.question.hash,questionType:this.question.type,allowedLanguages:this.question.allowedLanguages,stubID:this.question.codestub,testcases:(this.question.testcases||[]).map(r=>({testcase_id:r.hash,sample:!!r.sample}))})),this.store.dispatch(Je({questionHash:this.question.hash,getFromLocalStorage:!0})),this.editor.enabled||this.loadCodeStub(),this.waitTime=this.getWaitTime(),this.codeReplayAuditPushInterval=setInterval(()=>{Object.keys(this.codeReplayAudit).length&&this.store.dispatch((0,H.P8)())},this.codeReplayAuditPushIntervalTimeout),this.pollTestCaseResult(),this.syncCodeWithEditor(),this.subscriptionsLoaded=!0}ngAfterViewInit(){}ngOnDestroy(){this.isDestroyed=!0,clearTimeout(this.pollerRunner),clearInterval(this.codeReplayAuditPushInterval),clearInterval(this.waitTimerInterval)}manualReloadCodeEditor(){this.isDragging||(this.isDragging=!0,setTimeout(()=>{this.isDragging=!1,this.syncCodeWithEditor()},100))}syncCodeWithEditor(){this.store.dispatch(oi({questionHash:this.question.hash}))}increaseFontSize(){this.store.dispatch(ce())}decreaseFontSize(){this.store.dispatch(_e())}verticalDragEvent(r){this.isDragging=r.isDragging,this.consoleViewHeight=r.args.sizes[1],this.syncCodeWithEditor()}toggleConsoleHeight(){this.consoleViewHeight===jr.max?this.collapseConsole():this.expandConsole()}collapseConsole(){this.consoleViewHeight=jr.min,this.manualReloadCodeEditor()}expandConsole(){this.consoleViewHeight=jr.max,this.manualReloadCodeEditor()}loadCodeStub(){var r=this;return(0,Le.Z)(function*(){if(r.editor.stubLoadStatus.state===he.V.LOADING)return;let n;r.store.dispatch(ve({questionHash:r.question.hash})),n=r.question.type===te.ON.DATA_SCIENCE?qu.O:r.editor.stubID?yield r.loadCodeStubFromServer(r.editor.questionHash,r.editor.stubID):Qn.M.reduce((i,a)=>(i[a.name]=a.baseCode,i),{}),r.store.dispatch(Ye({questionHash:r.question.hash,stub:n})),r.store.dispatch(Je({questionHash:r.question.hash,getFromLocalStorage:!0})),r.syncCodeWithEditor()})()}loadCodeStubFromServer(r,n){var i=this;return(0,Le.Z)(function*(){return new Promise((a,o)=>{i.isReplayOn?a({}):i._testPortalService.getCodeStub(i.testId,r,n,(c,d)=>{let s={};!c&&d&&d.length&&(s=d.reduce((p,l)=>{let u=l.language;return Vu.hasOwnProperty(u)?u=Vu[u]:Qu.hasOwnProperty(u)&&(u=Qu[u]),p[u]=l.codestub,p},{})),a(s)})})})()}changeLanguage(r){this.editor.language.name!==r&&(this.store.dispatch((0,H.yi)({eventType:"language_change",message:`language changed from "${this.editor.language.name}" to "${r}"`,eventDetails:{questionId:this.question.hash,language:r}})),this.store.dispatch(Je({questionHash:this.question.hash,language:r})),this.syncCodeWithEditor(),this.editor.enabled||this.loadCodeStub())}updateSourceCode(r){if(this.editor.code[this.editor.language.name]===r)return;const n=Xx.diff(this.editor.code[this.editor.language.name],r);this.store.dispatch((0,H.gX)({questionId:this.question.hash,difference:n})),this.store.dispatch(_t({questionHash:this.question.hash,code:r}))}gotoCustomInputMode(){this.consoleViewHeight===jr.min&&this.expandConsole(),this.editor.customInput||this.store.dispatch(st({questionHash:this.question.hash}))}gotoTestcaseMode(){this.consoleViewHeight===jr.min&&this.expandConsole(),this.editor.customInput&&this.store.dispatch(pt({questionHash:this.question.hash}))}onCustomInputType(r){this.store.dispatch(tt({questionHash:this.question.hash,value:r}))}stopExecution(){this.store.dispatch(fa({questionHash:this.question.hash}))}toggleTestcaseResultView(r){this.testcaseResultViewExpanded[r]=!this.testcaseResultViewExpanded[r]}runCode(){var r=this;this.store.dispatch(Rn({questionHash:this.question.hash,btnType:"run"})),this.consoleViewHeight===jr.min&&this.expandConsole(),this.testcaseResultViewExpanded={};const n=this.editor.language.name,i={sourceCode:(this.editor.code[n]||"").trim(),lang:this.editor.language.index,testId:this.testId,questionHash:this.editor.questionHash,customInput:"",custom:!1};this.editor.customInput&&(i.customInput=this.editor.customInputText||"",i.custom=!0),this.store.dispatch(Jn({questionHash:this.question.hash,sample:!0}));let a=this.execution.execHash,o=this.execution.timestamp;this._testPortalService.runSampleTestCases(this.testId,i,function(){var c=(0,Le.Z)(function*(d,s){const p=r.getExecutionFromEditor(r.getLatestEditor());if(p.execHash===a&&p.timestamp===o)if(d||!s._id){let l={errorType:"server_error",errorMessage:"Something went wrong. Please check your internet connection and try again"};d?.error?.errorType&&(l=d.error),console.error(`[Coding question component][Run code][${r.question.hash}]-`,d?.error?.errorMessage),r.store.dispatch(Ri({questionHash:r.question.hash,error:l}))}else r.store.dispatch(Wr({questionHash:r.question.hash,id:s._id,langName:n,sourceCode:i.sourceCode}))});return function(d,s){return c.apply(this,arguments)}}())}onUserSubmitCode(){if(this.store.dispatch(Rn({questionHash:this.question.hash,btnType:"submit"})),this.editor.customInput&&this.gotoTestcaseMode(),this.consoleViewHeight===jr.min&&this.expandConsole(),this.waitTime>0)return;let r=this.getWaitTime();r>0?this.waitTime=Math.max(r,3e3):this.hackathonMode&&this.question.testcases.filter(n=>n.sample).length>0?this.submitCode("sample"):this.submitCode("all")}submitCode(r){var n=this;this.testcaseResultViewExpanded={};const i=this.editor.language.name,a={sourceCode:(this.editor.code[i]||"").trim(),lang:this.editor.language.index,testId:this.testId,questionHash:this.editor.questionHash,customInput:"",custom:!1};this.store.dispatch(Jn({questionHash:this.question.hash,sample:!1,submitType:r}));let o=this.execution.execHash,c=this.execution.timestamp;this._testPortalService["sample"===r?"runSampleTestCases":"runTestCases"](this.testId,a,function(){var d=(0,Le.Z)(function*(s,p){const l=n.getExecutionFromEditor(n.getLatestEditor());if(l.execHash===o&&l.timestamp===c)if(s||!p._id){let u={errorType:"server_error",errorMessage:"Something went wrong. Please check your internet connection and try again"};s?.error?.errorType&&(u=s.error),console.error(`[Coding question component][Run testcases - submit code - ${r}][${n.question.hash}]-`,s?.error?.errorMessage),n.store.dispatch(Ri({questionHash:n.question.hash,error:u}))}else n.store.dispatch(Wr({questionHash:n.question.hash,id:p._id,langName:i,sourceCode:a.sourceCode})),(n.hackathonMode&&"sample"===r||!n.hackathonMode&&"all"===r)&&n.store.dispatch((0,H.mm)({answer:p.sourceCode,submissionId:p._id,questionHash:n.question.hash}))});return function(s,p){return d.apply(this,arguments)}}())}manuallyPollTestCaseResult(){this.store.dispatch(ga({questionHash:this.question.hash}))}pollTestCaseResult(){var r=this;return(0,Le.Z)(function*(){if(r.execution.pollTestCaseResult){let a=r.execution.execHash,o=r.execution.timestamp;yield new Promise((c,d)=>{r._testPortalService.pollTestCaseResult(r.testId,{resultId:r.execution.id},(s,p)=>{const l=r.getExecutionFromEditor(r.getLatestEditor());if(l.execHash!==a||l.timestamp!==o)return c(1);if(!s){p.testcaseResult=p.testcaseResult||[];const u=new Set(r.question.testcases.filter(m=>m.sample).map(m=>m.hash));for(let m of p.testcaseResult)u.has(m.testcase_id)&&(m.sample=!0);r.store.dispatch(Li({questionHash:r.question.hash,...p})),"sample"===l.submitType&&"result"===l.runStatus&&l.testCasesPassed===l.testCaseExecutionResult.length&&r.submitCode("all")}c(1)})})}if(r.isDestroyed)return;let n=0;("polling"===r.execution?.runStatus||"partial-polling"===r.execution?.runStatus)&&(n=r.execution.runCount%Hu.length),r.pollerRunner=setTimeout(()=>{r.pollTestCaseResult()},Hu[n])})()}resetCodeStub(){var r=this;return(0,Le.Z)(function*(){let n=r.editor.stub;if(!r.editor.stub||0===Object.keys(r.editor.stub).length){if(n=yield r.loadCodeStubFromServer(r.editor.questionHash,r.editor.stubID),Object.keys(n).length||(n=Qn.M.reduce((i,a)=>(i[a.name]=a.baseCode,i),{})),r.editor.code[r.editor.language.name]===n[r.editor.language.name])return;r.store.dispatch(Ye({questionHash:r.question.hash,stub:n}))}r.updateSourceCode(n[r.editor.language.name]),r.syncCodeWithEditor(),r.manualReloadCodeEditor()})()}};_i.\u0275fac=function(r){return new(r||_i)(e.Y36(ct.X),e.Y36(J.yh))},_i.\u0275cmp=e.Xpm({type:_i,selectors:[["coding"]],inputs:{questionHash:"questionHash",_isDraggingFromParent:["isDragging","_isDraggingFromParent"]},decls:1,vars:1,consts:[["direction","vertical","unit","pixel","gutterSize","8",3,"class","dragStart","dragEnd",4,"ngIf"],["direction","vertical","unit","pixel","gutterSize","8",3,"dragStart","dragEnd"],[1,"code-editor-split-area",3,"size"],["class","height-100 width-100",3,"ngClass",4,"ngIf"],["class","height-100 width-100",4,"ngIf"],[2,"overflow","hidden",3,"size","minSize","maxSize"],[1,"flex","flex-col","width-100","height-100"],[1,"padding-vertical-4","padding-horizontal-12","flex","items-center","justify-between",3,"ngClass"],[1,"flex","col-gap-8","text-sm"],[3,"ngClass","click"],[1,"flex","col-gap-20"],[1,"flex","col-gap-12"],["popup-no-target","","data-position","top center",1,"flex","items-center","info-tooltip"],["width","16","height","15","viewBox","0 0 16 15","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-gray-400"],["d","M8.75 10.5H8V7.5H7.25M8 4.5H8.0075M14.75 7.5C14.75 8.38642 14.5754 9.26417 14.2362 10.0831C13.897 10.9021 13.3998 11.6462 12.773 12.273C12.1462 12.8998 11.4021 13.397 10.5831 13.7362C9.76417 14.0754 8.88642 14.25 8 14.25C7.11358 14.25 6.23583 14.0754 5.41689 13.7362C4.59794 13.397 3.85382 12.8998 3.22703 12.273C2.60023 11.6462 2.10303 10.9021 1.76381 10.0831C1.42459 9.26417 1.25 8.38642 1.25 7.5C1.25 5.70979 1.96116 3.9929 3.22703 2.72703C4.4929 1.46116 6.20979 0.75 8 0.75C9.79021 0.75 11.5071 1.46116 12.773 2.72703C14.0388 3.9929 14.75 5.70979 14.75 7.5Z","stroke","#A1A1AA","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[3,"class","ngClass","click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"class","ngClass","click",4,"ngIf","ngIfElse"],["submit_stop",""],[1,"flex","items-center"],[3,"click"],[1,"text-gray-400","angle","icon","margin-0-important",3,"ngClass"],[1,"overflow-y-hidden-overlay","text-size-14","font-weight-600","padding-horizontal-24","padding-vertical-8",2,"flex-grow","1",3,"ngClass"],[4,"ngIf"],[1,"height-100","width-100",3,"ngClass"],[1,"height-100","width-100"],[1,"padding-vertical-8","padding-left-12","padding-right-24","width-100","flex","justify-between","items-center","height-50px",3,"ngClass"],["dropdown-new","",3,"ngModel","ngModelChange"],["type","hidden","name","Language","autocomplete","new-password"],[1,"search"],[1,"dropdown","icon"],["width","9","height","6","viewBox","0 0 9 6","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.234229 0.752532C0.384251 0.602555 0.587698 0.518302 0.799829 0.518302C1.01196 0.518302 1.21541 0.602555 1.36543 0.752532L3.99983 3.38693L6.63423 0.752532C6.70803 0.676123 6.7963 0.615177 6.89391 0.57325C6.99151 0.531323 7.09649 0.509254 7.20271 0.508331C7.30893 0.507408 7.41428 0.527649 7.51259 0.567874C7.61091 0.608099 7.70023 0.667501 7.77534 0.742615C7.85046 0.817729 7.90986 0.907051 7.95009 1.00537C7.99031 1.10369 8.01055 1.20903 8.00963 1.31525C8.00871 1.42148 7.98664 1.52645 7.94471 1.62405C7.90278 1.72166 7.84184 1.80993 7.76543 1.88373L4.56543 5.08373C4.41541 5.23371 4.21196 5.31796 3.99983 5.31796C3.7877 5.31796 3.58425 5.23371 3.43423 5.08373L0.234229 1.88373C0.0842524 1.73371 0 1.53026 0 1.31813C0 1.106 0.0842524 0.902554 0.234229 0.752532Z","fill","#A1A1AA"],[1,"default","text","flex","gap-4","items-center"],[1,"menu"],["class","item flex items-center gap-4",4,"ngFor","ngForOf"],[1,"flex","justify-end","items-center","col-gap-12"],["popup-no-target","","data-position","bottom right",1,"text-gray-400","text-sm","font-weight-500","cursor-pointer",3,"ngClass","click"],[1,"overflow-hidden","codingPaste",3,"ngStyle"],[3,"_source","_language","_theme","_size","_readOnly","_intellisenseDisabled","sourceUpdated"],[1,"item","flex","items-center","gap-4"],[1,"logo-container"],[4,"ngIf","ngIfElse"],["showExecution",""],[1,"text-red-600","text-sm","code-font","margin-bottom-16"],[1,"code-font","text-sm","font-weight-400","rounded-2","padding-horizontal-16","padding-vertical-12",3,"ngClass"],[1,"font-weight-500"],["class","width-100 height-100 flex items-center justify-center",4,"ngIf"],["class","text-blue-500 text-sm code-font loading-ellipses margin-bottom-16",4,"ngIf"],[1,"width-100","height-100","flex","items-center","justify-center"],[1,"text-lg","text-gray-400","font-weight-500"],[1,"text-blue-500","text-sm","code-font","loading-ellipses","margin-bottom-16"],[1,"text-sm","code-font","margin-bottom-12",3,"ngClass"],[1,"code","padding-horizontal-16","padding-vertical-12",3,"ngClass"],["class","text-sm font-weight-600 margin-bottom-16",4,"ngIf"],["style","border-bottom: 1px solid",3,"ngClass",4,"ngFor","ngForOf"],["class","margin-top-20 code-font text-sm font-weight-400 text-red-600",4,"ngIf"],[1,"text-sm","font-weight-600","margin-bottom-16"],["class","code-font text-green-600 flex items-center",4,"ngIf"],["class","code-font text-red-600",4,"ngIf"],[1,"code-font","text-green-600","flex","items-center"],[1,"margin-right-8","flex","items-center"],["src","../../../../assets/images/party-popper.png","alt","happy-emoji",1,"party-popper-image"],[1,"code-font","text-red-600"],[2,"border-bottom","1px solid",3,"ngClass"],[1,"flex","items-center","col-gap-16","padding-vertical-8"],[2,"min-width","21px",3,"ngClass","click"],["popup-no-target","","data-position","bottom center",1,"margin-right-8","flex","items-center"],["width","21","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf","ngIfElse"],["pending",""],["incorrect",""],["error",""],[1,"code-font","font-weight-500","text-sm",3,"ngClass"],["style","flex-grow: 1; column-gap: 24px","class","flex justify-end items-center text-align-right font-weight-400",4,"ngIf"],["class","angle right icon text-gray-500",4,"ngIf"],["class","angle down icon text-gray-500",4,"ngIf"],[1,"angle","right","icon","text-gray-500"],[1,"angle","down","icon","text-gray-500"],["width","14","viewBox","0 0 14 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 10.25V11.75M2.5 14.75H11.5C11.8978 14.75 12.2794 14.592 12.5607 14.3107C12.842 14.0294 13 13.6478 13 13.25V8.75C13 8.35218 12.842 7.97064 12.5607 7.68934C12.2794 7.40804 11.8978 7.25 11.5 7.25H2.5C2.10218 7.25 1.72064 7.40804 1.43934 7.68934C1.15804 7.97064 1 8.35218 1 8.75V13.25C1 13.6478 1.15804 14.0294 1.43934 14.3107C1.72064 14.592 2.10218 14.75 2.5 14.75ZM10 7.25V4.25C10 3.45435 9.68393 2.69129 9.12132 2.12868C8.55871 1.56607 7.79565 1.25 7 1.25C6.20435 1.25 5.44129 1.56607 4.87868 2.12868C4.31607 2.69129 4 3.45435 4 4.25V7.25H10Z","stroke","#D4D4D8","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","21","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.5 9L8.16667 10.6667L11.5 7.33333M16.5 9C16.5 9.98491 16.306 10.9602 15.9291 11.8701C15.5522 12.7801 14.9997 13.6069 14.3033 14.3033C13.6069 14.9997 12.7801 15.5522 11.8701 15.9291C10.9602 16.306 9.98491 16.5 9 16.5C8.01509 16.5 7.03982 16.306 6.12987 15.9291C5.21993 15.5522 4.39314 14.9997 3.6967 14.3033C3.00026 13.6069 2.44781 12.7801 2.0709 11.8701C1.69399 10.9602 1.5 9.98491 1.5 9C1.5 7.01088 2.29018 5.10322 3.6967 3.6967C5.10322 2.29018 7.01088 1.5 9 1.5C10.9891 1.5 12.8968 2.29018 14.3033 3.6967C15.7098 5.10322 16.5 7.01088 16.5 9Z","stroke","#16A34A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","flex items-center spin-center",4,"ngIf","ngIfElse"],[1,"flex","items-center","spin-center"],["width","21","height","20","viewBox","0 0 21 20","fill","none","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["x","0.5","width","20","height","20","fill","url(#pattern0)"],["id","pattern0","patternContentUnits","objectBoundingBox","width","1","height","1"],[0,"xlink","href","#image0_3853:4480","transform","scale(0.015625)"],["id","image0_3853:4480","width","64","height","64",0,"xlink","href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABylJREFUeF7dW01oG0cYfS6iLEUUUUQRxRRTTNHBlFBMMSWHUkLRwQdTQgnFFB1M8cEHH3rwIRQfcvAhhxxMESEEU0zRwRRTTDEhFB1MCCUEEUwwRQRRTBBBFFNEEGHolDc733q0u3LWcdxqd8FY1q6l/d73vjffz+wYzvno/q10swUcHALtTh/tLtDp9s23do6A1u3i2Dnfwokffy5fvv+n0rsP+mjsA+3DPmiuB5jfUABy9jcyBEDvudLb94H6Xh/tDg3sAzkv+N1XfR+ErAFAwzcaQL3RxxFdTAOdIzDcvhcGIbUhoP4hzYG1baDfc2geAoB2uyAQgEIe8HKAlwd2vk+hBhz+pfTqJtBs+WIWxHiI3jxXKgIzkx5mykC55P+dfyt3LtrzKmJ66hu5+8g3nrFsPGvj3AWBRs5Ne5ibAcbfHR1j4wBKDAApX9sBGO8Dhzqmf6noYbECVC4AuTdH23CxIREA6oXSq1vAbjO6jPGDPA9YnoXxeO6NdBieGAAav7IJNA6O1/JAyeF7e3kOKL6dLsMTAUDar24Djfv+5W6cU8Vp+OVP02l4IgDWf1W6zphn5maTGHqflL+xAEy9n27jadNQDTBqX3fkzi5xXMNp/OSIq3vSJTEWAK7zizXgqDf4MfR8jca/l37PDw0Bxv3yBpMcP1uTAoavs0J7160RBuw8VPrGdlT0jOB9kh3PxzKAhU11HaaoYaYnJWxlCrj6VfaMj4jgrd+Uru9ZbKzokfr15dHK35MKXJLrghCg96+sA32/vgmO5Qowm0HqR0Jg657SNa75Tjk7UQRqi+lLb5N4PgLAwk2lO12r+vbsyixw6aPsxT5XOqlZTAi0nvpLn6S6fI8Jz8ZStrxPw112EAQDwPodpU2l56S7rOwWPs+G98OGCwgBAEu3lWa72j1q1dFvZiSN9RMBYN++Whv8qFIBuPVtNrwvlg0DYWzvD6XZ2HR79azxl77IJgDujIKJ3tjmPb+f756g+l/8MHsAuCkOjTeZ4PVflG6w8HEaHmvz2Sl33RAYmFAJAN/9ZAXQaWlz+cunpKl5GiEMJbk+AxZuK+3W/az5NzMmgAJSL5QHGADmf1DazOvswZ7++tfZiv84ACQcxi7/oLRMbD0FlErA9YyWvmRAZBUgA0wGaEfYZEDWARBGmGVw/qZlgAVhogBcz2gIdOM0YOlHpc1Y2x4UwVvfZFMDYgG4+nO0Dtiopme2d5pl8Cjm4rFrd5Rut4G+bFvJAWtzwPg72WIBawEC4IpggRqw9dAvhd0TixezlwpzBSAAbsZrRPDBE6VvNAZPfFYG5lM+8wuznfEfzgQNA1gOr2w51WAOKOWBa19mKwQOY1aAkswGKYSd0BhslTqQ0pF32PuMf25cCx/j0hLb/F1pzv/NYSfBc2Vg9uNssID0lxVANID0LwoArWdKr9317ZcLSh5AFqRtx8cw74dTYAKQFwDMRoid42mwuTgHVKeB6Q/SzQKqf5j+dDLjP2iKErW7j5WuN33Dg8qwAKxcSi8L6Nh2TOwL/XnqeDTGjVA7djTmgHBlGriYUha4se/iMGG9PwAA/9h6FBXDQg5YqaSvQyTeD/cBXe9HAOi9UHptFziyo3Epk2fGgfmUDUhbocRHxL3seD8CAN/Ye6L0tqTGTijMTaUnFEj9uHWf1Kfyu+EQ2SFidoTuwTzYIDmBWR65KswAkyNeJFH144SPDHBjX0CI3STF9HiNGyWkV8id3Q4Io5ohivFx/f8478eGgCCz/1TpjQfHG6WCBCkPVC+M3s7QYcYTDBrPrC9mRRy+T5AX7zxWutH2vT8QDh5QnRqdngFjXmjvjvh520x4mPPHGX8iA3iSerC9D9w/HEyQTLKUAyqTwPT/vGeQVR4FL2w4759LXlzcnyiCcbk0M8QDGZ/blUFYUS76QPzXkyQ6h/VbXJvLPJWSwPiXMkDAECY0uzYcYkKiMgEQjPMunqS0JeXDXg90KqHxiQGQcNhtAc1D+8WSI9gVgjfDRspM6XyACAznkyrWM7KTVSa9EvMvo/2pQiAcEvvPlCYQwTjNAmCus6AUPB+EcgEonvH5IFPN9YC2k5QFgux+NwBmecPU/pVEcNg/dZ8rvXsAtPtOLzHECAGEYJAZEx7A1/wZFiamc2ueRQIobOa13ITDNKlYhQGMdxofzvKG3f+ZGODqAoWRy2Rk7Mybddrs9FjQjbXnzGNz8hyCe0cxoRWU6OJxR4gn2MMM5fdJDJdrEj0zdNIHsoBqdgAKpNlf7BgV9tQwQ4QtkXzDAWPgGopczv85q+ieGQABh7F60AEOjoAOQ2NISLiGSOeJ7wWCFjLaBYWleek1Gf7aGBDHDmoEgWj3/DgWA91rJZkK3gvRO9AQjuzzAHuUpxW4JKHw2hgw7MsYImQEB7AicDKhMX0H0QSDkp/AGLHksnqCYCYxLsk1/wKlHCFG4IB2ZwAAAABJRU5ErkJggg=="],["d","M7.33333 10.6667L9 9M9 9L10.6667 7.33333M9 9L7.33333 7.33333M9 9L10.6667 10.6667M16.5 9C16.5 9.98491 16.306 10.9602 15.9291 11.8701C15.5522 12.7801 14.9997 13.6069 14.3033 14.3033C13.6069 14.9997 12.7801 15.5522 11.8701 15.9291C10.9602 16.306 9.98491 16.5 9 16.5C8.01509 16.5 7.03982 16.306 6.12987 15.9291C5.21993 15.5522 4.39314 14.9997 3.6967 14.3033C3.00026 13.6069 2.44781 12.7801 2.0709 11.8701C1.69399 10.9602 1.5 9.98491 1.5 9C1.5 7.01088 2.29018 5.10322 3.6967 3.6967C5.10322 2.29018 7.01088 1.5 9 1.5C10.9891 1.5 12.8968 2.29018 14.3033 3.6967C15.7098 5.10322 16.5 7.01088 16.5 9Z","stroke","#DC2626","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","21","viewBox","0 0 18 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.99921 5.66664V8.99998M8.99921 11.5H9.00754M3.22587 14.8333H14.7725C16.0559 14.8333 16.8575 13.4441 16.2159 12.3333L10.4425 2.33331C9.80087 1.22247 8.19754 1.22247 7.55587 2.33331L1.78254 12.3333C1.14087 13.4441 1.94254 14.8333 3.22587 14.8333Z","stroke","#DC2626","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","justify-end","items-center","text-align-right","font-weight-400",2,"flex-grow","1","column-gap","24px"],[1,"flex"],[1,"code-font",3,"ngClass"],[1,"code-font","text-gray-400","margin-right-8"],[2,"width","21px"],[1,"text-","grid","row-gap-8",2,"flex-grow","1"],[1,"flex","col-gap-16","items-center"],[1,"code-font","font-weight-400","break-word",2,"width","65px",3,"ngClass"],[2,"flex-grow","1",3,"innerHTML"],[1,"margin-top-20","code-font","text-sm","font-weight-400","text-red-600"],[1,"code-font","text-sm","font-weight-400","margin-bottom-8",2,"width","65px",3,"ngClass"],["autosize","","placeholder","Type your input here",3,"minRows","maxRows","ngModel","ngModelChange"],[3,"innerHTML"]],template:function(r,n){1&r&&e.YNc(0,Kx,30,42,"as-split",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Xe.Mq,Xe.zE,Ue.mk,Pu.u,Qe.JJ,Qe.On,Ue.sg,Ho.P,Ue.PC,nx.T,Qe.Fj,Zu.Rk],pipes:[rx.F],styles:["*[_ngcontent-%COMP%]:not(i):not(.code-font):not(.pre){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%]{line-height:150%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.mcq-option[_ngcontent-%COMP%]{padding:12px 8px;cursor:pointer;border-radius:8px;border:1px solid #e4e4e7;box-shadow:0 1px 2px #0000000d}.mcq-option[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.answer-textarea[_ngcontent-%COMP%], .answer-input[_ngcontent-%COMP%]{border:1px solid;width:100%;padding:8px;border-radius:2px}.answer-textarea[_ngcontent-%COMP%]{resize:none;border-radius:8px}.answer-textarea[autosize][_ngcontent-%COMP%]{padding-bottom:0}.answer-textarea[_ngcontent-%COMP%]::placeholder, .answer-input[_ngcontent-%COMP%]::placeholder{font-weight:500}.answer-textarea[_ngcontent-%COMP%]:focus-visible, .answer-input[_ngcontent-%COMP%]:focus-visible{outline:none}.answer-textarea.light[_ngcontent-%COMP%], .answer-input.light[_ngcontent-%COMP%]{border-color:var(--gray-200);box-shadow:0 1px 2px #0000000d;color:var(--gray-700)}.answer-textarea.light[_ngcontent-%COMP%]::placeholder, .answer-input.light[_ngcontent-%COMP%]::placeholder{color:var(--gray-300)}.answer-textarea.light[_ngcontent-%COMP%]:focus-visible, .answer-input.light[_ngcontent-%COMP%]:focus-visible{border-color:#60a5fa}.answer-textarea.error.light[_ngcontent-%COMP%], .answer-input.error.light[_ngcontent-%COMP%]{border-color:var(--red-600);background-color:var(--red-50)}.answer-textarea.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error), .answer-input.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error){background-color:var(--gray-50)}.answer-textarea.dark[_ngcontent-%COMP%], .answer-input.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-800);color:var(--gray-300);box-shadow:0 1px 2px #0000000d}.answer-textarea.dark[_ngcontent-%COMP%]::placeholder, .answer-input.dark[_ngcontent-%COMP%]::placeholder{color:var(--gray-500)}.answer-textarea.error.dark[_ngcontent-%COMP%], .answer-input.error.dark[_ngcontent-%COMP%]{color:var(--red-400);border-color:var(--red-700)}",'.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]{font-weight:500;border:.5px solid!important;border-radius:0;font-size:12px}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .dropdown.icon[_ngcontent-%COMP%]{line-height:150%}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .dropdown.icon[_ngcontent-%COMP%]:before{content:""}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{line-height:150%}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{border:.5px solid!important;border-top:none;box-shadow:none;border:none}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:150%;border:none}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{font-weight:700}.ui.search.selection.dropdown.language-selector[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]:not(:hover){background-color:inherit}.ui.search.selection.dropdown.active.visible.language-selector[_ngcontent-%COMP%]{box-shadow:none}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]{background-color:var(--white);color:var(--gray-500);border-color:var(--gray-200)!important}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   .dropdown.icon[_ngcontent-%COMP%]{color:var(--gray-400)}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--gray-500)}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:var(--white);border-color:var(--gray-200)!important}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--gray-500)}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:var(--gray-100)}.ui.search.selection.dropdown.language-selector.light[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{color:var(--blue-700)}.ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]{background-color:var(--gray-700);color:var(--gray-300);border-color:var(--gray-700)!important}.ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   .dropdown.icon[_ngcontent-%COMP%], .ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--gray-300)}.ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-600)!important}.ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--gray-300)}.ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:var(--gray-700)}.ui.search.selection.dropdown.language-selector.dark[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{color:var(--blue-600)}.button.white-button.dark[_ngcontent-%COMP%]{background-color:var(--gray-500);color:var(--gray-200);border-color:var(--gray-500)}.button.blue-button.dark[_ngcontent-%COMP%]{border-color:#1d4ed8}.button.light-red-button.dark[_ngcontent-%COMP%]{color:var(--red-500);border:1px solid var(--red-500);background-color:inherit}.tab.active[_ngcontent-%COMP%]{font-weight:500}.tab.disable[_ngcontent-%COMP%]{opacity:.5}.tab.light[_ngcontent-%COMP%]{color:var(--gray-500)}.tab.active.light[_ngcontent-%COMP%]{background-color:var(--gray-200);color:var(--black)}.tab.dark[_ngcontent-%COMP%]{color:var(--gray-300)}.tab.active.dark[_ngcontent-%COMP%]{background-color:var(--gray-600);color:var(--gray-200)}.code-btn[_ngcontent-%COMP%]{font-weight:500;border-radius:2px}.console-view-toggle[_ngcontent-%COMP%]{width:27px;height:27px;font-size:14px;text-align:center;vertical-align:middle;border-radius:50%;line-height:27px}.console-view-toggle.light[_ngcontent-%COMP%]{border:1px solid var(--gray-200)}.console-view-toggle.dark[_ngcontent-%COMP%]{background-color:var(--gray-700)}.party-popper-image[_ngcontent-%COMP%]{height:16px;width:16px}  .info-tooltip ol{padding-left:16px!important;margin:0!important}  .info-tooltip li:not(:last-child){margin-bottom:4px}.logo-container[_ngcontent-%COMP%]{width:20px;height:20px;background-size:20px 20px;background-repeat:"no-repeat";display:inline-block}']}),_i=(0,fe.gn)([(0,Te.c)()],_i);const ba=(t,r)=>(0,J.P1)((0,Q.bi)(t,r),n=>n);var oy=ke(34497),sy=ke(75624);function cy(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4),e._uU(3,"Server playback is not available"),e.qZA()(),e.BQk())}function uy(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," Click on the button to open the server "),e.qZA())}function ly(t,r){1&t&&(e.TgZ(0,"div")(1,"div",11),e._uU(2,"Please wait while we load the server"),e.qZA(),e.TgZ(3,"div",12),e._uU(4,"This might take around 1-2 minutes"),e.qZA()())}function dy(t,r){if(1&t&&(e.TgZ(0,"div",13)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4,"Click on the Launch button to try again"),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(2),e.Oqu(n.launchVMApiLoadInfo.error.errorMessage)}}const Ju=function(t){return{loading:t}};function py(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",3)(1,"div")(2,"div",7),e.YNc(3,uy,2,0,"div",0),e.YNc(4,ly,5,0,"div",0),e.qZA(),e.TgZ(5,"div",8)(6,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).launchVM()}),e._uU(7," Launch server "),e.qZA()(),e.YNc(8,dy,5,1,"div",10),e.qZA()()}if(2&t){const n=e.oxw(3);e.xp6(3),e.Q6J("ngIf",n.launchVMApiLoadInfo.state!==n.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.launchVMApiLoadInfo.state===n.ApiStateEnum.LOADING),e.xp6(2),e.Q6J("ngClass",e.VKq(4,Ju,n.launchVMApiLoadInfo.state===n.ApiStateEnum.LOADING)),e.xp6(2),e.Q6J("ngIf",n.launchVMApiLoadInfo.state===n.ApiStateEnum.ERROR)}}function my(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",15),e._uU(3," Provisioning a server "),e.qZA()(),e.BQk()),2&t){const n=e.oxw(5);e.xp6(2),e.Q6J("ngClass",n.isDarkMode?"text-gray-300":"text-gray-500")}}function fy(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"iframe",22),e.NdJ("load",function(){return e.CHM(n),e.oxw(6).onIframeLoad()}),e.qZA()}if(2&t){const n=e.oxw(6);e.Q6J("src",n.vmLink,e.uOi)}}const gy=function(t,r){return{light:t,dark:r}};function hy(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25),e._uU(3," Enter answer key "),e.qZA(),e.TgZ(4,"input",26),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(6).onAnswerTypeIn(a)})("onDebounceChange",function(a){return e.CHM(n),e.oxw(6).onDebounceChange(a)}),e.qZA()(),e.TgZ(5,"div",27),e._uU(6),e.qZA()()}if(2&t){const n=e.oxw(6);e.xp6(2),e.Q6J("ngClass",n.isDarkMode?"text-gray-300":"text-gray-500"),e.xp6(2),e.Q6J("ngClass",e.WLB(4,gy,!n.isDarkMode,n.isDarkMode))("ngModel",n.typedInAnswer),e.xp6(2),e.hij(" ",n.getStatus()," ")}}function vy(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",16),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).toggleFullScreen()}),e.O4$(),e.TgZ(2,"svg",17),e._UZ(3,"path",18),e.qZA(),e.kcU(),e.TgZ(4,"span",19),e._uU(5,"Toggle Full Screen IDE"),e.qZA()(),e.YNc(6,fy,1,1,"iframe",20),e.YNc(7,hy,7,7,"div",21),e.BQk()}if(2&t){const n=e.oxw(5);e.xp6(6),e.Q6J("ngIf",n.vmLink),e.xp6(1),e.Q6J("ngIf",n.question.takeAnswerInput)}}function _y(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," Server has been stopped due to inactivity. Please restart "),e.qZA())}function xy(t,r){1&t&&(e.TgZ(0,"div")(1,"div",11),e._uU(2,"Please wait while we restart the server"),e.qZA(),e.TgZ(3,"div",12),e._uU(4,"This might take around 1-2 minutes"),e.qZA()())}function yy(t,r){if(1&t&&(e.TgZ(0,"div",13)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4,"Click on the Restart button to try again"),e.qZA()()),2&t){const n=e.oxw(6);e.xp6(2),e.Oqu(n.restartVMApiLoadInfo.error.errorMessage)}}function by(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",28)(3,"div",29),e.YNc(4,_y,2,0,"div",0),e.YNc(5,xy,5,0,"div",0),e.qZA(),e.TgZ(6,"div",8)(7,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).restartVM()}),e._uU(8," Restart server "),e.qZA()(),e.YNc(9,yy,5,1,"div",10),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(5);e.xp6(4),e.Q6J("ngIf",n.restartVMApiLoadInfo.state!==n.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.restartVMApiLoadInfo.state===n.ApiStateEnum.LOADING),e.xp6(2),e.Q6J("ngClass",e.VKq(4,Ju,n.restartVMApiLoadInfo.state===n.ApiStateEnum.LOADING)),e.xp6(2),e.Q6J("ngIf",n.restartVMApiLoadInfo.state===n.ApiStateEnum.ERROR)}}function wy(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",30),e._uU(3,"Project server has been terminated"),e.qZA()(),e.BQk())}const Wu=function(t,r){return[t,r]};function Cy(t,r){if(1&t&&(e.ynx(0),e.YNc(1,my,4,1,"ng-container",0),e.YNc(2,vy,8,2,"ng-container",0),e.YNc(3,by,10,6,"ng-container",0),e.YNc(4,wy,4,0,"ng-container",0),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.vmState===n.VMState.PENDING),e.xp6(1),e.Q6J("ngIf",n.vmState===n.VMState.RUNNING),e.xp6(1),e.Q6J("ngIf",e.WLB(4,Wu,n.VMState.STOPPING,n.VMState.STOPPED).includes(n.vmState)),e.xp6(1),e.Q6J("ngIf",e.WLB(7,Wu,n.VMState.SHUTTING_DOWN,n.VMState.TERMINATED).includes(n.vmState))}}const My=function(t){return{"div-disabled":t}};function Sy(t,r){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,Cy,5,10,"ng-container",0),e.qZA()),2&t){const n=e.oxw(3);e.Q6J("ngClass",n.isFullScreen?"height-100vh width-100vw padding-horizontal-0 position-absolute top-0 left-0 z-10":"padding-horizontal-16")("ngClass",e.VKq(3,My,n.isDragging)),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn)}}function Ny(t,r){if(1&t&&(e.ynx(0),e.YNc(1,py,9,6,"div",5),e.YNc(2,Sy,2,5,"div",6),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.launchVMApiLoadInfo.state!==n.ApiStateEnum.LOADED),e.xp6(1),e.Q6J("ngIf",n.launchVMApiLoadInfo.state===n.ApiStateEnum.LOADED)}}function Ay(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"as-split",1),e.NdJ("dragStart",function(){return e.CHM(n),e.oxw().isDragging=!0})("dragEnd",function(){return e.CHM(n),e.oxw().isDragging=!1}),e.TgZ(2,"as-split-area",2),e.YNc(3,cy,4,0,"ng-container",0),e.YNc(4,Ny,3,2,"ng-container",0),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("size","*"),e.xp6(1),e.Q6J("ngIf",n.isReplayOn),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn)}}let xi=class{constructor(r,n,i){this.store=r,this._testPortalService=n,this.sanitizer=i,this.SubQType=Gn,this.ApiStateEnum=he.V,this.VMState=Ln,this.isDragging=!1,this.updateVMInteractionEvent=new e.vpe,this.updateVMStateEvent=new e.vpe,this.subscriptionsLoaded=!1,this.isFullScreen=!1,this.typedInAnswer="",this.isFullScreenEnabled=!1,this.focusHandler=()=>{this.updateVMInteraction("focus-change")},this.projectListener=a=>{if(a.origin!==this.iframeDomain||"wecp-projects"!==a.data.type)return;const{event:o}=a.data;"submit"===o.type&&(this.typedInAnswer="dummyAnswerKey",this.saveAnswer(this.typedInAnswer))},this.store.select(Q.ow).pipe((0,Te.t)(this)).subscribe(a=>{this.isReplayOn=a}),this.store.select(F.RO).pipe((0,Te.t)(this)).subscribe(a=>{this.quizDetails=a}),this.store.select(Q.VA).pipe((0,Te.t)(this)).subscribe(a=>{this.testId=a}),this.store.select(Q.sx).pipe((0,Te.t)(this)).subscribe(a=>{this.isDarkMode=a})}ngOnInit(){var r;this.store.dispatch((0,H.AR)({qType:this.qType,questionHash:this.questionHash})),this.store.select((0,F.w6)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.question=r}),this.store.select((0,Q.Kf)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answer=r.length>0?r[0]:"",this.isReplayOn&&(this.typedInAnswer=this.answer)}),this.store.select((0,Q.WS)(this.questionHash)).pipe((0,Te.t)(this)).subscribe(r=>{this.answerStatus=r}),this.store.select((r=this.questionHash,(0,J.P1)((0,F.w6)(r),n=>ii(n.vmQuestionId,n.linuxQuestionId)))).pipe((0,Te.t)(this)).subscribe(r=>{this.subQType=r}),this.store.select(((t,r)=>(0,J.P1)(ba(this.qType,this.questionHash),n=>n.instanceDetails?.instanceId))()).pipe((0,Te.t)(this)).subscribe(r=>{this.instanceId=r}),this.store.select(((t,r)=>(0,J.P1)(ba(this.qType,this.questionHash),n=>n.instanceDetails?.vmState))()).pipe((0,Te.t)(this)).subscribe(r=>{this.vmState=r}),this.store.select(((t,r)=>(0,J.P1)(ba(this.qType,this.questionHash),n=>n.launchVMApiLoadInfo))()).pipe((0,Te.t)(this)).subscribe(r=>{this.launchVMApiLoadInfo=r}),this.store.select(((t,r)=>(0,J.P1)(ba(this.qType,this.questionHash),n=>n.restartVMApiLoadInfo))()).pipe((0,Te.t)(this)).subscribe(r=>{this.restartVMApiLoadInfo=r}),this.store.select(Q.U_).subscribe(r=>{this.proctorSettings=r}),this.updateTypedInAnswer(this.answer),this.updateVMState(),this.updateVMStateInterval=setInterval(()=>{this.updateVMState()},6e4),this.updateVMInteraction("init"),this.updateVMInteractionInterval=setInterval(()=>{document.hasFocus()&&this.updateVMInteraction("interval")},3e5),this.focusHandler=this.focusHandler.bind(this),window.addEventListener("focus",this.focusHandler),this.subscriptionsLoaded=!0}ngAfterViewInit(){var t,r;document.getElementsByClassName("timer")[0]?.focus(),this.store.select((t=this.qType,r=this.questionHash,(0,J.P1)(ba(t,r),n=>n.instanceDetails?.vmLink))).pipe((0,Te.t)(this)).subscribe(r=>{if(this.vmLink=r?this.sanitizer.bypassSecurityTrustResourceUrl(r):null,r){const n=new URL(r);this.iframeDomain=`${n.protocol}//${n.host}`}else this.iframeDomain=null})}ngOnDestroy(){this.saveAnswer(this.typedInAnswer),this.updateVMStateInterval&&clearTimeout(this.updateVMStateInterval),this.updateVMInteractionInterval&&clearTimeout(this.updateVMInteractionInterval),window.removeEventListener("focus",this.focusHandler),window.removeEventListener("message",this.projectListener),this.updateVMState(),this.updateVMInteraction("destroy")}updateTypedInAnswer(r){this.typedInAnswer=r}saveToStore(r){this.store.dispatch((0,H.ee)({questionHash:this.question.hash,answer:r?[r]:[]}))}saveAnswer(r){r=(r||"").trim(),this.answer!==r&&this.saveToStore(r)}getStatus(){return this.typedInAnswer&&this.answer.trim()!==this.typedInAnswer.trim()?"Typing...":this.answerStatus}launchVM(){ai(this.store,this._testPortalService,this.quizDetails,this.testId,this.question,this.constructor.name,this.launchVM.name)}restartVM(){Zi(this.store,this._testPortalService,this.question,this.instanceId,this.constructor.name,this.restartVM.name)}onIframeLoad(){window.removeEventListener("message",this.projectListener),window.addEventListener("message",this.projectListener);try{const r={proctorSettings:this.proctorSettings};document.getElementById("project-question-vm-iframe").contentWindow.postMessage(r,"*")}catch(r){console.error(`Error while sending message to iframe: ${r}`)}}onAnswerTypeIn(r){this.typedInAnswer=r}toggleFullScreen(){this.isFullScreen=!this.isFullScreen}onDebounceChange(r){this.saveAnswer(this.typedInAnswer)}updateVMState(){this.updateVMStateEvent.emit({qType:this.qType,questionHash:this.questionHash})}updateVMInteraction(r){this.updateVMInteractionEvent.emit({qType:this.qType,questionHash:this.questionHash,src:r})}};function Ty(t,r){1&t&&(e.TgZ(0,"div",14),e._uU(1," Some erorr occurred while submiting the section. Please retry. "),e.qZA())}xi.\u0275fac=function(r){return new(r||xi)(e.Y36(J.yh),e.Y36(ct.X),e.Y36(oy.H7))},xi.\u0275cmp=e.Xpm({type:xi,selectors:[["project"]],inputs:{qType:"qType",questionHash:"questionHash",isDragging:"isDragging"},outputs:{updateVMInteractionEvent:"updateVMInteractionEvent",updateVMStateEvent:"updateVMStateEvent"},decls:1,vars:1,consts:[[4,"ngIf"],["direction","vertical","unit","pixel","gutterSize","8",3,"dragStart","dragEnd"],[1,"code-editor-split-area",3,"size"],[1,"flex","height-100","items-center","justify-center"],[1,"text-gray-400"],["class","flex height-100 items-center justify-center",4,"ngIf"],["class","flex flex-col height-100",3,"ngClass",4,"ngIf"],[1,"text-center","text-sm","text-gray-400","margin-bottom-4"],[1,"flex","justify-center"],[1,"button","blue-button",3,"ngClass","click"],["class","text-center margin-top-4 text-red-600 text-xs",4,"ngIf"],[1,"loading-ellipses"],[1,"text-xs"],[1,"text-center","margin-top-4","text-red-600","text-xs"],[1,"flex","flex-col","height-100",3,"ngClass"],[1,"text-sm","loading-ellipses",3,"ngClass"],[1,"flex","full-screen-toggler",2,"position","absolute","right","18px","color","white","top","40px",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",2,"height","30px","width","30px"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"],[1,"full-screen-text"],["crossorigin","anonymous","width","100%","style","flex-grow: 1","id","project-question-vm-iframe",3,"src","load",4,"ngIf"],["class","flex flex-col margin-top-12 margin-bottom-24",4,"ngIf"],["crossorigin","anonymous","width","100%","id","project-question-vm-iframe",2,"flex-grow","1",3,"src","load"],[1,"flex","flex-col","margin-top-12","margin-bottom-24"],[1,"width-100"],[1,"text-sm","margin-bottom-4","font-weight-500",3,"ngClass"],["debounce","","type","text","placeholder","Type in your answer here","data-gramm","false","data-gramm_editor","false","data-enable-grammarly","false",1,"answer-input","text-sm",3,"ngClass","ngModel","ngModelChange","onDebounceChange"],[1,"margin-top-8","margin-left-auto","text-xs","text-gray-400"],[1,"text-sm","flex","flex-col","row-gap-4"],[1,"text-gray-400","text-center"],[1,"text-red-600"]],template:function(r,n){1&r&&e.YNc(0,Ay,5,3,"ng-container",0),2&r&&e.Q6J("ngIf",n.subscriptionsLoaded)},directives:[Ue.O5,Xe.Mq,Xe.zE,Ue.mk,Qe.Fj,sy.q,Qe.JJ,Qe.On],styles:["*[_ngcontent-%COMP%]:not(i):not(.code-font):not(.pre){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%]{line-height:150%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.mcq-option[_ngcontent-%COMP%]{padding:12px 8px;cursor:pointer;border-radius:8px;border:1px solid #e4e4e7;box-shadow:0 1px 2px #0000000d}.mcq-option[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.answer-textarea[_ngcontent-%COMP%], .answer-input[_ngcontent-%COMP%]{border:1px solid;width:100%;padding:8px;border-radius:2px}.answer-textarea[_ngcontent-%COMP%]{resize:none;border-radius:8px}.answer-textarea[autosize][_ngcontent-%COMP%]{padding-bottom:0}.answer-textarea[_ngcontent-%COMP%]::placeholder, .answer-input[_ngcontent-%COMP%]::placeholder{font-weight:500}.answer-textarea[_ngcontent-%COMP%]:focus-visible, .answer-input[_ngcontent-%COMP%]:focus-visible{outline:none}.answer-textarea.light[_ngcontent-%COMP%], .answer-input.light[_ngcontent-%COMP%]{border-color:var(--gray-200);box-shadow:0 1px 2px #0000000d;color:var(--gray-700)}.answer-textarea.light[_ngcontent-%COMP%]::placeholder, .answer-input.light[_ngcontent-%COMP%]::placeholder{color:var(--gray-300)}.answer-textarea.light[_ngcontent-%COMP%]:focus-visible, .answer-input.light[_ngcontent-%COMP%]:focus-visible{border-color:#60a5fa}.answer-textarea.error.light[_ngcontent-%COMP%], .answer-input.error.light[_ngcontent-%COMP%]{border-color:var(--red-600);background-color:var(--red-50)}.answer-textarea.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error), .answer-input.light[_ngcontent-%COMP%]:hover:not(:disabled):not(:focus-visible):not(.error){background-color:var(--gray-50)}.answer-textarea.dark[_ngcontent-%COMP%], .answer-input.dark[_ngcontent-%COMP%]{background-color:var(--gray-800);border-color:var(--gray-800);color:var(--gray-300);box-shadow:0 1px 2px #0000000d}.answer-textarea.dark[_ngcontent-%COMP%]::placeholder, .answer-input.dark[_ngcontent-%COMP%]::placeholder{color:var(--gray-500)}.answer-textarea.error.dark[_ngcontent-%COMP%], .answer-input.error.dark[_ngcontent-%COMP%]{color:var(--red-400);border-color:var(--red-700)}","*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.button[_ngcontent-%COMP%]{margin-bottom:0}.code-editor-split-area[_ngcontent-%COMP%]{overflow:hidden!important}.loading-ellipses[_ngcontent-%COMP%]:after{width:14px}iframe[_ngcontent-%COMP%]{border:none;border-bottom:1px solid var(--gray-200)}@keyframes fullscreen-opening{0%{width:220px}90%{width:220px}to{width:38px}}@keyframes fullscreen-opening-text{0%{max-width:162px;opacity:1;width:100%}90%{max-width:162px;opacity:1;width:100%}to{max-width:0;opacity:0}}.full-screen-toggler[_ngcontent-%COMP%]{width:38px;height:38px;justify-items:center;align-items:center;transition:all .25s cubic-bezier(.175,.885,.32,1.275);background-color:#000000b5;border-radius:100px;padding:8px;opacity:.7;cursor:pointer;animation:fullscreen-opening 5s cubic-bezier(.175,.885,.32,1.275)}.full-screen-toggler[_ngcontent-%COMP%]:hover{width:220px;padding:8px 12px;opacity:1}.full-screen-text[_ngcontent-%COMP%]{opacity:0;max-width:0;transition:max-width .25s cubic-bezier(.175,.885,.32,1.275);animation:fullscreen-opening-text 5s cubic-bezier(.175,.885,.32,1.275);white-space:nowrap;overflow:hidden;text-align:center}.full-screen-toggler[_ngcontent-%COMP%]:hover > .full-screen-text[_ngcontent-%COMP%]{width:100%;max-width:162px;opacity:1}"]}),xi=(0,fe.gn)([(0,Te.c)()],xi);const Iy=function(t,r){return{loading:t,disabled:r}};let Ey=(()=>{class t{constructor(n,i){this.store=n,this._testportalService=i,this.show=!1,this.submitSectionLoading=!1,this.showErrorMessage=!1,this.disabledSubmit=!1}ngOnInit(){this.store.select(Q.wb).subscribe(n=>this.sectionHashIndexMap=n),this.store.select(Q.ey).subscribe(n=>this.submitSectionLoading=n)}closeModal(){this.store.dispatch(ue())}submitSection(){if(!this.submitSectionLoading){this.store.dispatch(se()),this.showErrorMessage=!1;const n=new Date,i={currentSectionHash:this.currentSection.hash,nextSectionHash:this.NextSection.hash,currentLocalTimestamp:n.valueOf()};this._testportalService.submitSection(this.testId,i,(a,o)=>{a?(this.showErrorMessage=!0,this.store.dispatch(ge()),console.error(`Error while submitting section: ${JSON.stringify(a)}`)):(this.store.dispatch(Se({sectionDetails:o})),this.store.dispatch((0,Y.L7)({questionIndex:0,sectionIndex:this.sectionHashIndexMap[i.nextSectionHash]})))})}}sectionSwitching(){this.disabledSubmit=!0}afterModalHidden(){this.disabledSubmit=!1,this.store.dispatch(ue())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.yh),e.Y36(ct.X))},t.\u0275cmp=e.Xpm({type:t,selectors:[["section-switch-modal"]],inputs:{show:"show",testId:"testId",currentSection:"currentSection",NextSection:"NextSection"},decls:23,vars:9,consts:[["modal-new","",1,"ui","tiny","modal","rounded-8",3,"show","onHidden","onHide"],[1,"flex","text-font-inter","text-gray-600","text-base","padding-16"],[1,"cursor-pointer","margin-left-auto",3,"click"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 1L13 13M1 13L13 1L1 13Z","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"divider","width-100","border-bottom-solid","border-gray-200"],[1,"padding-vertical-12","padding-horizontal-16","common-border-bottom"],[1,"text-font-inter","text-sm","text-gray-600"],[1,"text-gray-800","font-weight-600"],["class","text-xs text-red-600 margin-vertical-8 text-font-inter ",4,"ngIf"],[1,"divider","border-bottom-solid","border-gray-200"],[1,"flex","justify-end","items-center","col-gap-12","padding-vertical-12","padding-horizontal-16"],[1,"button","white-button","margin-0-important",3,"click"],[1,"button","blue-button","flex","items-center","margin-0-important",3,"ngClass","click"],[1,"text-xs","text-red-600","margin-vertical-8","text-font-inter"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.NdJ("onHidden",function(){return i.afterModalHidden()})("onHide",function(){return i.sectionSwitching()}),e.TgZ(1,"div",1),e._uU(2),e.TgZ(3,"span",2),e.NdJ("click",function(){return i.closeModal()}),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"path",4),e.qZA()()(),e.kcU(),e._UZ(6,"div",5),e.TgZ(7,"div",6)(8,"div",7),e._uU(9),e.TgZ(10,"span",8),e._uU(11),e.qZA(),e._uU(12," . "),e._UZ(13,"br"),e._uU(14," Do you want to procced? "),e.qZA(),e.YNc(15,Ty,2,0,"div",9),e.qZA(),e._UZ(16,"div",10),e.TgZ(17,"div",11)(18,"button",12),e.NdJ("click",function(){return i.closeModal()}),e._uU(19,"Back"),e.qZA(),e.TgZ(20,"button",13),e.NdJ("click",function(){return i.submitSection()}),e.TgZ(21,"span"),e._uU(22,"Submit and Switch"),e.qZA()()()()),2&n&&(e.Q6J("show",i.show),e.xp6(2),e.hij(" Switch to ",null==i.NextSection?null:i.NextSection.name," "),e.xp6(7),e.hij(" Switching to ",null==i.NextSection?null:i.NextSection.name," will result in "),e.xp6(2),e.hij(" submiting ",null==i.currentSection?null:i.currentSection.name," section"),e.xp6(4),e.Q6J("ngIf",i.showErrorMessage),e.xp6(5),e.Q6J("ngClass",e.WLB(6,Iy,i.submitSectionLoading,i.disabledSubmit)))},directives:[di.m,Ue.O5,Ue.mk],encapsulation:2}),t})();var Hs=ke(79006);const Oy=["ngxWebcam"];let Qs=(()=>{class t{constructor(){this.height=150,this.width=200,this.multipleWebcamsAvailable=!1,this.captureMessage="",this.onLoad=new e.vpe,this.errors=new e.vpe,this.webcamImage=new e.vpe,this.trigger=new li.xQ,this.nextWebcam=new li.xQ,this.deviceId=""}ngOnInit(){Hs.BF.getAvailableVideoInputs().then(n=>{this.multipleWebcamsAvailable=n&&n.length>1})}ngAfterViewInit(){let n=this.ngxWebcam.nativeVideoElement;n.addEventListener("loadeddata",i=>{n.readyState>=4&&(this.onLoad.emit(),this.ngxWebcam.mediaStream.getTracks().forEach(c=>{c.onended=()=>{this.errors.emit({isError:!0,error:"Web cam feed stopped",eventType:this.eventType,mediaStreamError:{name:"NotAllowedError"}})}}))}),n.onerror=function(){console.error(`Error ${n.error.code}; details: ${n.error.message}`)}}captureVideoFrame(){const n=document.createElement("canvas");return n.width=this.ngxWebcam.nativeVideoElement.videoWidth,n.height=this.ngxWebcam.nativeVideoElement.videoHeight,n.getContext("2d").drawImage(this.ngxWebcam.nativeVideoElement,0,0,n.width,n.height),n.toDataURL("image/jpeg")}triggerSnapshot(){this.trigger.next()}handleImage(n){this.webcamImage.emit(n)}cameraWasSwitched(n){this.deviceId=n}handleInitError(n){console.error(`[Webcam Component] [handleInitError] ${JSON.stringify(n)}`),this.errors.emit({isError:!0,error:n.message,eventType:this.eventType,mediaStreamError:n.mediaStreamError})}nextWebcamObservable(){return this.nextWebcam.asObservable()}get triggerObservable(){return this.trigger.asObservable()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-webcam"]],viewQuery:function(n,i){if(1&n&&e.Gf(Oy,5),2&n){let a;e.iGM(a=e.CRH())&&(i.ngxWebcam=a.first)}},inputs:{height:"height",width:"width",multipleWebcamsAvailable:"multipleWebcamsAvailable",captureMessage:"captureMessage",eventType:"eventType"},outputs:{onLoad:"onLoad",errors:"errors",webcamImage:"webcamImage"},decls:3,vars:5,consts:[["mirrorImage","never",3,"height","width","trigger","allowCameraSwitch","imageQuality","imageCapture","cameraSwitched","initError"],["ngxWebcam",""]],template:function(n,i){1&n&&(e.TgZ(0,"div")(1,"webcam",0,1),e.NdJ("imageCapture",function(o){return i.handleImage(o)})("cameraSwitched",function(o){return i.cameraWasSwitched(o)})("initError",function(o){return i.handleInitError(o)}),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("height",i.height)("width",i.width)("trigger",i.triggerObservable)("allowCameraSwitch",i.multipleWebcamsAvailable)("imageQuality",.4))},directives:[Hs.i3],styles:["[_nghost-%COMP%]     .camera-switch{z-index:5;inset:auto 50% 10px!important;width:30px!important;height:30px!important}\n/*# sourceMappingURL=webcam.component.css.map*/"]}),t})();var Vs=ke(38914),Yu=ke(16174),Dn=ke(45705);function ky(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Fullscreen has been disabled"),e.qZA())}function Dy(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Tab change was detected"),e.qZA())}function qy(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"External copy/paste has been disabled"),e.qZA())}function Py(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"No face detected"),e.qZA())}function Zy(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Other face detected"),e.qZA())}function Ly(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Multiple faces detected"),e.qZA())}function Ry(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"External device detected"),e.qZA())}function Uy(t,r){1&t&&(e.TgZ(0,"div",13),e._uU(1,"Unauthorized app detected"),e.qZA())}function By(t,r){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.AsE(" You have ",n.proctorSettings.violationCount-n.proctorViolationState.tabChangeCount," chances left, after which your ",n.quizNomenclatureLower," will be terminated ")}}function Fy(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",14),e.NdJ("click",function(){const o=e.CHM(n).index;return e.oxw().checkBoxClickHandler(o)}),e._UZ(2,"input",15),e.TgZ(3,"label",16),e._uU(4),e.qZA()()()}if(2&t){const n=r.$implicit,i=e.oxw();e.xp6(2),e.Q6J("checked",n.checked),e.xp6(1),e.Q6J("ngClass",i.darkMode?"dark text-gray-300":"light text-black"),e.xp6(1),e.Oqu(n.declaration)}}let zy=(()=>{class t{constructor(){this._closeModal=new e.vpe,this.showModal=!1,this.pointsToCheck=[{declaration:"I declare that I have not prepared any setups for unethical practices",checked:!1},{declaration:"I agree that I will not engage in any form of cheating",checked:!1},{declaration:"I agree to fully comply with all integrity policies",checked:!1},{declaration:"I agree that if I am found in malpractice, I will be blacklisted and permanently barred from the organization I am writing this test for",checked:!1}]}checkBoxClickHandler(n){this.pointsToCheck[n].checked=!this.pointsToCheck[n].checked}get enableSignButton(){return this.pointsToCheck.reduce((n,i)=>n||!i.checked,!1)}closeModal(){this._closeModal.emit()}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["honor-code-modal"]],inputs:{proctorViolationState:"proctorViolationState",proctorSettings:"proctorSettings",quizNomenclatureLower:"quizNomenclatureLower",darkMode:"darkMode"},outputs:{_closeModal:"_closeModal"},decls:25,vars:13,consts:[[1,"flex","items-center","gap-8","text-base","font-medium","padding-horizontal-24","padding-vertical-16","border-bottom-solid","border-gray-200",3,"ngClass"],["src","/assets/images/protect-icon.svg"],[1,"bg-red-100","text-red-600","padding-12","margin-horizontal-24","margin-top-16","rounded-4"],[1,"flex","items-center","gap-8","text-lg","font-weight-600"],["src","/assets/images/warning-shield.svg"],[1,"flex","flex-col","gap-4"],["class","text-base",4,"ngIf"],[1,"margin-vertical-12","border-bottom-solid","border-red-300"],[1,"text-base","font-medium","padding-24",3,"ngClass"],[1,"padding-horizontal-24","padding-bottom-16","flex","flex-col","gap-24","points-container","border-bottom-solid","border-gray-200"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","padding-horizontal-24","padding-vertical-16"],[1,"button","blue-button","margin-0-important",3,"disabled","click"],[1,"text-base"],[1,"ui","checkbox",3,"click"],["type","checkbox",3,"checked"],[3,"ngClass"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e._uU(2," Sign the Code of Honor "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._UZ(5,"img",4),e._uU(6," You have been found making the following violations "),e.qZA(),e.TgZ(7,"div",5),e.YNc(8,ky,2,0,"div",6),e.YNc(9,Dy,2,0,"div",6),e.YNc(10,qy,2,0,"div",6),e.YNc(11,Py,2,0,"div",6),e.YNc(12,Zy,2,0,"div",6),e.YNc(13,Ly,2,0,"div",6),e.YNc(14,Ry,2,0,"div",6),e.YNc(15,Uy,2,0,"div",6),e.qZA(),e._UZ(16,"div",7),e.YNc(17,By,2,2,"div",6),e.qZA(),e.TgZ(18,"div",8),e._uU(19," To continue with the assessment, review and agree to the following Integrity policies to ensure a fair and honest assessment process "),e.qZA(),e.TgZ(20,"div",9),e.YNc(21,Fy,5,3,"div",10),e.qZA(),e.TgZ(22,"div",11)(23,"button",12),e.NdJ("click",function(){return i.closeModal()}),e._uU(24," Sign and Proceed "),e.qZA()()),2&n&&(e.Q6J("ngClass",i.darkMode?"dark text-gray-300":"text-gray-900"),e.xp6(8),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.isFullscreenDisabled),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.isTabChanged),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.clipboardReset),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.isNoFace),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.isOtherFace),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.isMultipleFace),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.externalDevice),e.xp6(1),e.Q6J("ngIf",null==i.proctorViolationState?null:i.proctorViolationState.isUnauthorizedApp),e.xp6(2),e.Q6J("ngIf",i.proctorSettings.tabChange&&i.proctorSettings.enableTermination&&i.proctorViolationState.isTabChanged),e.xp6(1),e.Q6J("ngClass",i.darkMode?"dark text-gray-300":"text-gray-900"),e.xp6(3),e.Q6J("ngForOf",i.pointsToCheck),e.xp6(2),e.Q6J("disabled",i.enableSignButton))},directives:[Ue.mk,Ue.O5,Ue.sg],styles:[".ui.modal[_ngcontent-%COMP%]{max-width:680px}.ui.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{transform:scale(.8);color:#fff}.ui.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:before{background:#2563eb!important;border:none}.ui.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .ui.checkbox[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{color:unset}@media only screen and (max-width: 800px){.image-container[_ngcontent-%COMP%]{display:none!important}.points-container[_ngcontent-%COMP%]{margin-top:16px}}\n/*# sourceMappingURL=honor-code.component.ts-angular-inline--7.css.map*/"]}),t})();var Js=ke(51636);function Hy(t,r){1&t&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.qZA())}function Qy(t,r){1&t&&(e.TgZ(0,"div"),e._UZ(1,"i",15),e.qZA())}function Vy(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",23),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&t){const n=r.$implicit;e.ekj("padding-top-16",0!==r.index),e.xp6(2),e.Oqu(n.proctor),e.xp6(2),e.hij(" ",n.description," ")}}function Jy(t,r){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,Vy,5,4,"div",22),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",n.violationMessage)}}function Wy(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Fullscreen has been disabled"),e.qZA(),e.TgZ(3,"div",26),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(4),e.hij(" Enable fullscreen to continue with the ",n.quizNomenclatureLower," ")}}function Yy(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Tab change was detected"),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(4),e.hij(" You must not click outside the ",n.quizNomenclatureLower," environment ")}}function $y(t,r){1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"External copy/paste has been disabled"),e.qZA(),e.TgZ(3,"div",24),e._uU(4,"Your clipboard has been cleared"),e.qZA()())}function jy(t,r){1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Cannot access screen information"),e.qZA(),e.TgZ(3,"div",24),e._uU(4,' Please use latest chrome or edge browsers and allow "window-management" access to our website '),e.qZA()())}function Gy(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"No face detected"),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(4),e.hij(" You must not leave the frame of the camera for the duration of the ",n.quizNomenclatureLower," ")}}function Ky(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Other face detected"),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(4),e.hij(" Only candidate's face should be visible in the frame of the camera for the duration of the ",n.quizNomenclatureLower," ")}}function Xy(t,r){1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Multiple faces detected"),e.qZA(),e.TgZ(3,"div",24),e._uU(4,"Only your face should be visible in the frame of the camera"),e.qZA()())}function e2(t,r){1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Multiple screens detected"),e.qZA(),e.TgZ(3,"div",24),e._uU(4," Your screen is being extended onto multiple screens. Please either disable screen extension or disconnect the other monitors and try again "),e.qZA()())}function t2(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Unable to record audio"),e.qZA(),e.TgZ(3,"div",24),e._uU(4," Please refer to this "),e.TgZ(5,"a",27),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give microphone permission "),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(5),e.Q6J("href",n.microphonePermissionArticle,e.LSH)}}function n2(t,r){if(1&t&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&t){const n=e.oxw(5);e.xp6(1),e.hij(" ",null==n.screenShareErrors?null:n.screenShareErrors.msg," ")}}function r2(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Screen share disable"),e.qZA(),e.TgZ(3,"div",24),e._uU(4," Share your entire screen or refer to this "),e.TgZ(5,"a",27),e._uU(6,"article"),e.qZA(),e._uU(7," to grant the permission "),e.qZA(),e.YNc(8,n2,2,1,"div",28),e.qZA()),2&t){const n=e.oxw(4);e.xp6(5),e.Q6J("href",n.screenSharePermission,e.LSH),e.xp6(3),e.Q6J("ngIf",null==n.screenShareErrors?null:n.screenShareErrors.code)}}function i2(t,r){if(1&t&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.AsE(" You have ",n.proctorSettings.violationCount-n.proctorViolationState.tabChangeCount," chances left, after which your ",n.quizNomenclatureLower," will be terminated ")}}function a2(t,r){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,Jy,2,1,"div",17),e.YNc(2,Wy,5,1,"div",9),e.YNc(3,Yy,5,1,"div",9),e.YNc(4,$y,5,0,"div",9),e.YNc(5,jy,5,0,"div",9),e.YNc(6,Gy,5,1,"div",9),e.YNc(7,Ky,5,1,"div",9),e.YNc(8,Xy,5,0,"div",9),e.YNc(9,e2,5,0,"div",9),e.YNc(10,t2,8,1,"div",9),e.YNc(11,r2,9,2,"div",9),e.TgZ(12,"div",18),e.YNc(13,i2,2,2,"div",19),e.TgZ(14,"div",20),e._uU(15,"All violations will be recorded and visible in your report"),e.qZA()()()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==n.proctorViolationState?null:n.proctorViolationState.externalDevice)||(null==n.proctorViolationState?null:n.proctorViolationState.isUnauthorizedApp)),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isFullscreenDisabled),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isTabChanged),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.clipboardReset),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isScreenCheckFailed),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isNoFace),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isOtherFace),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isMultipleFace),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isScreenExtended),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isAudioRecordingOff),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isScreenRecordingOff),e.xp6(1),e.ekj("darkModalMessage",n.darkMode),e.xp6(1),e.Q6J("ngIf",n.proctorSettings.tabChange&&n.proctorSettings.enableTermination&&n.proctorViolationState.isTabChanged)}}function o2(t,r){1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"You seem to be offline, Please check your network connection"),e.qZA()())}function s2(t,r){if(1&t&&(e.TgZ(0,"div",25)(1,"div",23),e._uU(2,"Unable to access webcam"),e.qZA(),e.TgZ(3,"div",31),e._uU(4," Please refer to this "),e.TgZ(5,"a",27),e._uU(6,"article"),e.qZA(),e._uU(7," on how to give webcam/mic permission "),e.qZA()()),2&t){const n=e.oxw(3);e.xp6(5),e.Q6J("href",n.cameraProctoredArticle,e.LSH)}}function c2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",32)(1,"button",33),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).continue()}),e._uU(2),e.qZA()()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("disabled",n.proctorViolationState.isScreenExtended||n.proctorViolationState.isScreenCheckFailed),e.xp6(1),e.hij(" Continue ",n.quizNomenclatureLower," ")}}function u2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",32)(1,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).onlineStatusAPI()}),e._uU(2,"Retry"),e.qZA()()}}function l2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).refresh()}),e.TgZ(1,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).refresh()}),e._uU(2,"Reload"),e.qZA()()}}function d2(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).refresh()}),e._uU(3,"Reload"),e.qZA()(),e.BQk()}}function p2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",32)(1,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).askScreenSharePermission()}),e._uU(2,"Select screen"),e.qZA()()}}function m2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",32)(1,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).refresh()}),e._uU(2,"Reload"),e.qZA()()}}function f2(t,r){if(1&t&&(e.YNc(0,p2,3,0,"div",11),e.YNc(1,m2,3,0,"div",11)),2&t){const n=e.oxw(4);e.Q6J("ngIf",n.proctorViolationState.isScreenRecordingOff),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isAudioRecordingOff)}}function g2(t,r){if(1&t&&(e.ynx(0),e.YNc(1,d2,4,0,"ng-container",36),e.YNc(2,f2,2,2,"ng-template",null,37,e.W1O),e.BQk()),2&t){const n=e.MAs(3),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.proctorViolationState.isScreenRecordingOff&&i.proctorViolationState.isAudioRecordingOff)("ngIfElse",n)}}function h2(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6),e.YNc(3,Hy,2,0,"div",7),e.YNc(4,Qy,2,0,"div",3),e._uU(5," Proctoring violations detected "),e.qZA()(),e.YNc(6,a2,16,14,"div",8),e.YNc(7,o2,3,0,"div",9),e.YNc(8,s2,8,1,"div",9),e._UZ(9,"div",10),e.YNc(10,c2,3,2,"div",11),e.YNc(11,u2,3,0,"div",11),e.YNc(12,l2,3,0,"div",12),e.YNc(13,g2,4,2,"ng-container",3),e.BQk()),2&t){const n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.showSherlock),e.xp6(1),e.Q6J("ngIf",!n.showSherlock),e.xp6(2),e.Q6J("ngIf",!n.proctorViolationState.isOffline&&!n.proctorViolationState.isWebcamOff&&n.maxAPIFail<3),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isOffline||n.maxAPIFail>2),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isWebcamOff),e.xp6(2),e.Q6J("ngIf",!n.proctorViolationState.isOffline&&!n.proctorViolationState.isWebcamOff&&!n.proctorViolationState.isScreenRecordingOff&&!n.proctorViolationState.isAudioRecordingOff&&n.maxAPIFail<3),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isOffline&&n.maxAPIFail<2),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isWebcamOff&&!n.proctorViolationState.isScreenRecordingOff||n.maxAPIFail>2),e.xp6(1),e.Q6J("ngIf",n.proctorViolationState.isScreenRecordingOff||n.proctorViolationState.isAudioRecordingOff)}}function v2(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"honor-code-modal",38),e.NdJ("_closeModal",function(){return e.CHM(n),e.oxw(2).continue()}),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("proctorViolationState",n.proctorViolationState)("proctorSettings",n.proctorSettings)("quizNomenclatureLower",n.quizNomenclatureLower)("darkMode",n.darkMode)}}const _2=function(t){return{"width-680px":t}};function x2(t,r){if(1&t&&(e.TgZ(0,"div",4),e.YNc(1,h2,14,9,"ng-container",3),e.YNc(2,v2,2,4,"ng-container",3),e.qZA()),2&t){const n=e.oxw();e.ekj("darkModal",n.darkMode),e.Q6J("show",n.showMainProctoringModal||(null==n.proctorViolationState?null:n.proctorViolationState.showHonorCodeModal))("ngClass",e.VKq(6,_2,(null==n.proctorViolationState?null:n.proctorViolationState.showHonorCodeModal)&&!n.showMainProctoringModal)),e.xp6(1),e.Q6J("ngIf",n.showMainProctoringModal),e.xp6(1),e.Q6J("ngIf",(null==n.proctorViolationState?null:n.proctorViolationState.showHonorCodeModal)&&!n.showMainProctoringModal)}}function y2(t,r){1&t&&(e.TgZ(0,"div",39)(1,"span",40)(2,"div",41),e._UZ(3,"div",42)(4,"div",43)(5,"div",44),e.qZA()(),e.TgZ(6,"span",45),e._uU(7,"Please avoid talking while taking the test"),e.qZA()())}function b2(t,r){if(1&t&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.xp6(1),e.hij(" ",n.message," ")}}function w2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"div",29),e._UZ(3,"i",15),e._uU(4," Message from proctor "),e.qZA()(),e.TgZ(5,"div",48)(6,"div",49),e.YNc(7,b2,2,1,"div",50),e.qZA()(),e._UZ(8,"div",10),e.TgZ(9,"div",32)(10,"button",34),e.NdJ("click",function(){const o=e.CHM(n).ngIf;return e.oxw().seenMessage(o)}),e._uU(11),e.qZA()()()}if(2&t){const n=r.ngIf,i=e.oxw();e.ekj("darkModal",i.darkMode),e.Q6J("show",n.length&&!i.showFinishTestModal&&!i.showViolationModal),e.xp6(7),e.Q6J("ngForOf",n),e.xp6(2),e.ekj("darkModal",i.darkMode),e.xp6(2),e.hij(" Continue ",i.quizNomenclatureLower," ")}}function C2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"i",56),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleWebcamStreamFn()}),e.qZA()}}function M2(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",51)(2,"div",52)(3,"div",53)(4,"app-webcam",54),e.NdJ("webcamImage",function(a){return e.CHM(n),e.oxw().snapImage(a)})("errors",function(a){return e.CHM(n),e.oxw().webcamError(a)}),e.qZA()()(),e.YNc(5,C2,1,0,"i",55),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("hidden",!n.showWebcamStream),e.xp6(3),e.Q6J("width",300)("height",200),e.xp6(1),e.Q6J("ngIf",n.showWebcamStream&&!n.proctorSettings.screenRecording&&!n.proctorSettings.screenRecordingWithoutAudio)}}const S2=ee.P.normalizeCommonJSImport(ke.e(9799).then(ke.bind(ke,69799))),N2=Vs;let A2=(()=>{class t{constructor(n,i,a,o,c){this.cdr=n,this.ngZone=i,this._testPortalService=a,this.store=o,this._screenShareService=c,this.showSherlock=!1,this.violationMessage=[],this.active=!0,this.darkMode=!1,this.proctorSettings=k,this.faceDetectorRunningMode="IMAGE",this.updating=[],this.showWebcamStream=!0,this.showViolationModal=!1,this.showFinishTestModal=!1,this.lastCopiedFromEditor=!1,this.isInternalOperation=!1,this.faceApiThreshold=.5,this.cameraProctoredArticle=Dn.z.camera_for_video_proctored_test,this.microphonePermissionArticle=Dn.z.microphone_permission_for_test,this.screenSharePermission=Dn.z.grant_screen_share_access_for_test,this.maxAPIFail=0,this.currentQuestionHasVideoDescriptions=!1,this.mediaPipeRetryCount=3,this.mediaPipeSupport=!1}ngOnDestroy(){clearInterval(this.snapImageInterval),clearInterval(this.onlineSetInterval),clearInterval(this.fullscreenInterval),clearInterval(this.clearClipboardInterval),clearInterval(this.screenCheckInterval),this.videoStream&&this.videoStream.getTracks()&&this.videoStream.getTracks().forEach(function(n){n.stop()}),$(window).off("blur",()=>{})}ngOnInit(){var n=this;return(0,Le.Z)(function*(){if(window.electronAPI?.onViolationMessage(i=>{n.handleViolationMessage(i),"device"===i.eventName?(n.store.dispatch((0,H.Dv)()),n.store.dispatch((0,H.yi)({eventType:"sherlock_external_device_violation",message:i?.description,eventDetails:{type:"externalDeviceDetected"}}))):(n.store.dispatch((0,H.TF)()),n.store.dispatch((0,H.yi)({eventType:"sherlock_background_app_violation",message:i?.description,eventDetails:{type:"backgroundAppDetected"}})))}),n.mediaPipeSupport=ee.P.checkWebGLSupport()&&navigator.deviceMemory>4,n.mediaPipeSupport){const{FilesetResolver:i,FaceDetector:a}=yield S2;yield n.initializeFaceDetector(i,a)}})()}handleViolationMessage(n){this.ngZone.run(()=>{this.violationMessage.push(n),this.cdr.detectChanges()})}ngAfterViewInit(){if(this.subscribeToStore(),!this.proctorSettings)return;this.proctorSettings.useOnlineApi?(this.onlineSetInterval=setInterval(()=>this.onlineStatusAPI(),3e4),this.onlineStatusAPI()):this.onlineStatus(),this.proctorSettings.sherlock&&(this.showSherlock=!0),this.proctorSettings.video&&(this.proctorSettings.snapInterval||(this.proctorSettings.snapInterval=30),this.snapImageInterval=setInterval(()=>this.webcamComponent.triggerSnapshot(),1e3*this.proctorSettings.snapInterval)),this.proctorSettings.fullscreen&&(this.store.dispatch((0,H.rM)()),this.fullscreenInterval=setInterval(()=>this.validateFullscreen(),1e3));const n=()=>{const d=ee.P.getRandomString(20);this.lastBlurEventId=d,setTimeout(()=>{!document.hasFocus()&&d===this.lastBlurEventId&&i()},2e3)},i=()=>{this.proctorSettings.tabChange&&a(),this.proctorSettings.copypaste&&o()},a=()=>{this.proctorViolationState.isTabChanged||(this.store.dispatch((0,H.LX)()),this._screenShareService.addViolationInScreenRecording("tab_change_violation"),this.updateTabCount())},o=()=>{this.proctorViolationState.clipboardReset||this.resetClipboardFn()};(this.proctorSettings.tabChange||this.proctorSettings.copypaste)&&(window.addEventListener("blur",n),window.addEventListener("focus",()=>{this.lastBlurEventId=null}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&i()})),this.proctorSettings.copypaste&&(document.addEventListener("copy",d=>{const s=d.clipboardData,p=window.getSelection().toString(),l=d.target,u=null!==l.closest("code-editor-split-area")||null!==l.closest(".answer-input")||null!==l.closest(".codingPaste")||null!==l.closest("#project-question-vm-iframe");if(p||s){const m=p||s.getData("text");if(u)return this.isInternalOperation=!0,void(this.lastCopiedFromEditor=!0);this.lastCopiedFromEditor=!1,this.store.dispatch((0,H.fi)({content:m})),navigator.clipboard.writeText("")}}),document.addEventListener("cut",d=>{const s=d.clipboardData,p=window.getSelection().toString(),l=d.target,u=null!==l.closest("code-editor-split-area")||null!==l.closest(".answer-input")||null!==l.closest(".codingPaste")||null!==l.closest("#project-question-vm-iframe");if(p||s){const m=p||s.getData("text");if(u)return this.isInternalOperation=!0,void(this.lastCopiedFromEditor=!0);d.preventDefault(),this._screenShareService.addViolationInScreenRecording("paste_violation"),this.store.dispatch((0,H.fi)({content:m})),navigator.clipboard.writeText("")}}),document.addEventListener("paste",d=>{const s=d.clipboardData?.getData("text"),p=d.target,l=null!==p.closest("code-editor-split-area")||null!==p.closest(".answer-input")||null!==p.closest(".codingPaste")||null!==p.closest("#project-question-vm-iframe");if(s){if(l)return this.lastCopiedFromEditor?void(this.isInternalOperation=!0):(d.preventDefault(),this._screenShareService.addViolationInScreenRecording("paste_violation"),this.store.dispatch((0,H.l)({content:s})),void navigator.clipboard.writeText(""));s!==this.proctorViolationState.copiedContent&&(d.preventDefault(),this.store.dispatch((0,H.l)({content:s})),navigator.clipboard.writeText(""))}})),window.addEventListener("message",d=>{if(d.origin.includes("projects.wecreateproblems.com")&&(this.proctorSettings.tabChange||this.proctorSettings.copypaste)){if("blur"===d.data.eventType&&n(),"focus"===d.data.eventType&&(this.lastBlurEventId=null),"cut"===d.data.eventType){if(null!==d.data.targetElement?.closest("code-editor-split-area")||null!==d.data.targetElement?.closest(".codingPaste")||null!==d.data.targetElement?.closest("#project-question-vm-iframe"))return void(this.lastCopiedFromEditor=!0);this._screenShareService.addViolationInScreenRecording("paste_violation"),this.store.dispatch((0,H.fi)({content:d.data.content})),navigator.clipboard.writeText("")}if("copy"===d.data.eventType){if(null!==d.data.targetElement?.closest("code-editor-split-area")||null!==d.data.targetElement?.closest(".codingPaste")||null!==d.data.targetElement?.closest("#project-question-vm-iframe"))return void(this.lastCopiedFromEditor=!0);this.lastCopiedFromEditor=!1,this.store.dispatch((0,H.fi)({content:d.data.content})),navigator.clipboard.writeText("")}if("paste"===d.data.eventType){if(null!==d.data.targetElement?.closest("code-editor-split-area")||null!==d.data.targetElement?.closest(".codingPaste")||null!==d.data.targetElement?.closest("#project-question-vm-iframe"))return this.lastCopiedFromEditor?void 0:(this._screenShareService.addViolationInScreenRecording("paste_violation"),this.store.dispatch((0,H.l)({content:d.data.content})),void navigator.clipboard.writeText(""));this.store.dispatch((0,H.l)({content:d.data.content}))}}}),this.proctorSettings.audioProctoring&&this.proctorSettings.screenRecording&&(this.audioProctoringState="ongoing"),setInterval(()=>{if((this.proctorViolationState?.isOffline||this.proctorViolationState?.isScreenRecordingOff||this.proctorViolationState?.isAudioRecordingOff||this.proctorViolationState?.isScreenCheckFailed||this.proctorViolationState?.isScreenExtended||this.showViolationModal&&!this.showFinishTestModal)&&this.sessionController.isValid){const d=$("#proctoringModal"),s=$(".ui.dimmer.modals");(!d.length||!s.length)&&location.reload()}},1e3),this.disableKeys()}subscribeToStore(){this.store.select(Q.VA).subscribe(n=>this.testId=n).unsubscribe(),this.store.select(F.RO).subscribe(n=>this.quizId=n.quizId).unsubscribe(),this.store.select(F.yR).subscribe(n=>this.baseImageUrl=n).unsubscribe(),this.store.select(F.RO).subscribe(n=>{this.quizNomenclature=n.quizNomenclature,this.quizNomenclatureLower=n.quizNomenclatureLower}).unsubscribe(),this.store.select(Q.U_).subscribe(n=>{this.proctorSettings=n}),this.store.select(F.n7).subscribe(n=>{if(!this.proctorSettings.audioProctoring||!this.proctorSettings.screenRecording)return;this.currentQuestionHasVideoDescriptions=this.hasVideo(n.description);const i=this.currentQuestionHasVideoDescriptions?"stopped":"ongoing";this.audioProctoringState!==i&&(this.currentQuestionHasVideoDescriptions?this.pauseAudioProctoring():this.startAudioProctoring(),this.audioProctoringState=i)}),this.store.select(Q.Ob).subscribe(n=>{if(!this.proctorSettings.audioProctoring||!this.proctorSettings.screenRecording)return;const i=n||this.currentQuestionHasVideoDescriptions?"stopped":"ongoing";this.audioProctoringState!==i&&(n?this.pauseAudioProctoring():this.startAudioProctoring(),this.audioProctoringState=i)}),this.store.select(Q.w1).subscribe(n=>{this.proctorViolationState=n}),this.store.select(Q.bQ).subscribe(n=>{this.showViolationModal=n}),this.store.select(Q.Qk).subscribe(n=>{this.maxAPIFail=n}),this.store.select(Q.U).subscribe(n=>{this.showFinishTestModal=n.showFinishTestModal,this.finishTestReason=n.finishTestReason}),this.store.select(Q.UH).subscribe(n=>{this.showWebcamStream=n}),this.store.select(Q.sx).subscribe(n=>this.darkMode=n),this.proctorMessages$=this.store.select(Q.F8),this.store.select(F.k9).subscribe(n=>this.sessionController=n)}hasVideo(n){return/<video|ql-video/gi.test(n)}disableKeys(){document.onkeydown=function(n){if(123===n.keyCode||n.ctrlKey&&n.shiftKey&&n.keyCode==="I".charCodeAt(0)||n.ctrlKey&&n.shiftKey&&n.keyCode==="C".charCodeAt(0)||n.ctrlKey&&n.shiftKey&&n.keyCode==="J".charCodeAt(0)||n.ctrlKey&&n.keyCode==="U".charCodeAt(0))return!1;83===n.keyCode&&(navigator.platform.match("Mac")?n.metaKey:n.ctrlKey)&&n.preventDefault()},console._commandLineAPI||Object.defineProperty(console,"_commandLineAPI",{get:()=>{throw new Error("No!")}})}refresh(){this.active=!1,window.location.reload()}onlineStatusAPI(){this._testPortalService.getOnlineStatus((n,i)=>{n||this.store.dispatch((0,H.a0)())})}onlineStatus(){window.addEventListener("offline",n=>{this.store.dispatch((0,H.he)())}),window.addEventListener("online",n=>{this.store.dispatch((0,H.a0)())})}initializeFaceDetector(n,i){var a=this;return(0,Le.Z)(function*(){const o=yield n.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");a.faceDetector=yield i.createFromOptions(o,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_detector/blaze_face_short_range/float16/1/blaze_face_short_range.tflite",delegate:"GPU"},runningMode:a.faceDetectorRunningMode})})()}detectFaces(n){var i=this;return(0,Le.Z)(function*(){const a=yield i.faceDetector.detect(n);return 0===a.detections.length?{status:"no_faces"}:a.detections.length>1?{status:"multiple_faces"}:{status:"single_face"}})()}validateFullscreen(){!this.active||!this.proctorViolationState.isFullscreenDisabled&&!N2.isFullscreen&&(this.store.dispatch((0,H.ut)()),this._screenShareService.addViolationInScreenRecording("full_screen_violation"))}resetClipboardFn(){(!document.hasFocus()||this.proctorViolationState.clipboardReset)&&this.store.dispatch((0,H.i5)({hasFocus:document.hasFocus()}))}updateTabCount(){this._testPortalService.updateTabChangeCount(this.testId,{isTerminated:this.proctorSettings.enableTermination&&this.proctorViolationState.tabChangeCount>=this.proctorSettings.violationCount,tabChangeCount:this.proctorViolationState.tabChangeCount,finishTestReason:this.finishTestReason||"proctoringTrigger"},(i,a)=>{i?(console.error(`[Proctor] Failed to save tab change: ${JSON.stringify(i)}`),setTimeout(()=>this.updateTabCount(),5e3)):this.store.dispatch((0,H.LL)({tabChangeCount:a.tabChangeCount,isFinished:a.isFinished}))})}webcamError(n){this.store.dispatch((0,H.Sc)({violation:{isWebcamOff:n.isError}}))}toggleWebcamStreamFn(){this.store.dispatch((0,H.eL)())}snapImage(n,i=!1){if(this.updating.snappingImage||!this.active)return!0;this.updating.snappingImage=!0;const a={submissionType:"bucket:tests",quizId:this.quizId,user:"",hash:`${ee.P.getRandomString(32)}`,contentType:"image/jpeg",testId:this.testId};this._testPortalService.generateCustomWriteSignature(a,(o,c)=>{if(o)this.updating.snappingImage=!1;else{const d=this.dataURItoBlob(i?n:n._imageAsDataUrl),s=new XMLHttpRequest;s.open("PUT",c.url,!0),s.setRequestHeader("Content-Type","image/jpeg"),s.send(d),s.onreadystatechange=()=>{4===s.readyState&&(200===s.status&&this.getImageAnalysis(c.key,i),this.updating.snappingImage=!1)}}})}dataURItoBlob(n){const i=atob(n.split(",")[1]),a=n.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(i.length);for(var c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return new Blob([o],{type:a})}getImageAnalysis(n,i=!1){var a=this;this.store.dispatch((0,H.yi)({eventType:"proctor_image",message:"Test proctor image url",eventDetails:{imageKey:n,skipOnReport:!!(i&&this.mediaPipeRetryCount>0)}})),!(Math.random()<this.proctorSettings.skipImageAnalysisRatio)&&this._testPortalService.faceApiComparison(this.baseImageUrl,n,function(){var c=(0,Le.Z)(function*(d,s){d?console.error(`[FaceAPI] Error while image analyses: ${JSON.stringify(d)}`):s.value>=a.faceApiThreshold?a.mediaPipeSupport&&a.mediaPipeRetryCount>0&&(s.candidateNotDetected||s.multipleFacesDetected)?yield a.verifyWithMediaPipe(n,s):(a.verifyWithDeepFace(n,s),a.mediaPipeRetryCount=3):(a.store.dispatch((0,H.Sc)({violation:s,imageKey:n})),a.mediaPipeRetryCount=3)});return function(d,s){return c.apply(this,arguments)}}())}verifyWithMediaPipe(n,i){var a=this;return(0,Le.Z)(function*(){a.mediaPipeRetryCount--;const o=a.webcamComponent.captureVideoFrame(),c=a.dataURItoBlob(o),d=yield createImageBitmap(c),s=yield a.detectFaces(d);console.log(`MediaPipe results: ${JSON.stringify(s?.status)}`),s&&("no_faces"==s.status&&i.candidateNotDetected||"multiple_faces"==s.status&&i.multipleFacesDetected)?(a.store.dispatch((0,H.Sc)({imageKey:n,violation:i})),a.mediaPipeRetryCount=3):setTimeout(()=>a.snapImage(o,!0),2e3)})()}verifyWithDeepFace(n,i){Math.random()<this.proctorSettings.skipRekognitionFallbackRatio?this.store.dispatch((0,H.Sc)({imageKey:n,violation:i})):this._testPortalService.deepFaceVerify(this.baseImageUrl,n,(a,o)=>{a?(console.error(`[DeepFace] Error while image analyses: ${JSON.stringify(a)}`),this.rekognitionAPI(n,i)):o.candidateNotDetected||o.multipleFacesDetected||o.otherFaceDetected?this.rekognitionAPI(n):this.store.dispatch((0,H.Sc)({violation:o,imageKey:n}))})}rekognitionAPI(n,i){Math.random()<this.proctorSettings.skipRekognitionFallbackRatio?this.store.dispatch((0,H.Sc)({imageKey:n,violation:i})):this._testPortalService.getImageAnalysis(this.testId,{target:n},(a,o)=>{a?console.error(`[Recognition] Error while image analyses: ${JSON.stringify(a)}`):this.store.dispatch((0,H.Sc)({violation:o,imageKey:n}))})}seenMessage(n){const i=n.map(a=>a.timestamp);this._testPortalService.markSeen(this.testId,{timestamps:i},(a,o)=>{a?console.error("[seenMessage] Error while updating seen messages."):this.store.dispatch((0,H.xZ)({messageIds:i}))})}continue(){this.proctorViolationState.showHonorCodeModal&&(this.store.dispatch((0,H.bQ)()),this.signHonorCode()),this.proctorSettings.tabChange&&this.proctorViolationState.isTabChanged&&this.store.dispatch((0,H.Fi)()),this.proctorSettings.fullscreen&&this.proctorViolationState.isFullscreenDisabled&&this.store.dispatch((0,H.rM)()),this.proctorSettings.sherlock&&this.proctorViolationState.externalDevice&&this.store.dispatch((0,H.g2)()),this.proctorSettings.sherlock&&this.proctorViolationState.isUnauthorizedApp&&this.store.dispatch((0,H.gk)()),this.store.dispatch((0,H.ko)()),this.violationMessage=[],this.cdr.detectChanges()}get showMainProctoringModal(){return this.proctorViolationState?.isOffline||this.proctorViolationState?.isScreenRecordingOff||this.proctorViolationState?.isAudioRecordingOff||this.proctorViolationState?.isScreenCheckFailed||this.proctorViolationState?.isScreenExtended||this.showViolationModal&&!this.showFinishTestModal}signHonorCode(){var n=this;return(0,Le.Z)(function*(){return new Promise((i,a)=>{n._testPortalService.signHonorCode(n.testId,(o,c)=>o?a(o):i(c))})})()}askScreenSharePermission(){var n=this;return(0,Le.Z)(function*(){n.screenShareErrors=!1;const i=yield(0,Yu.Mc)({isScreenRecordingWithoutAudioOn:n.proctorSettings.screenRecordingWithoutAudio});i.error?.code?(console.log(i.error),n.screenShareErrors=i.error):(n._screenShareService.setScreenShareStream(i.stream),n._screenShareService.startRecording(),n.store.dispatch((0,H._C)()))})()}startAudioProctoring(){var n=this;return(0,Le.Z)(function*(){n.vad||(n.vad=yield n.getVad());try{n.vad.start()}catch(i){console.error(i)}})()}pauseAudioProctoring(){var n=this;return(0,Le.Z)(function*(){if(n.vad)try{n.vad.pause(),n.humanVoiceDetected=!1}catch(i){console.error(i)}})()}getVad(){var n=this;return(0,Le.Z)(function*(){const{MicVAD:i}=yield ee.P.normalizeCommonJSImport(ke.e(2216).then(ke.t.bind(ke,72216,23)));return yield i.new({positiveSpeechThreshold:.95,minSpeechFrames:25,maxSilenceFrames:15,frameSamples:1024,minSpeechDuration:1e3,maxSilenceDuration:500,voiceClassification:{enabled:!0,confidenceThreshold:.85},modelURL:"/assets/vad/silero_vad.onnx",workletURL:"/assets/vad/vad.worklet.bundle.min.js",ortConfig:c=>{c.env.wasm.wasmPaths="/assets/vad/"},onSpeechStart:()=>{n.humanVoiceDetected=!0,n._screenShareService.addViolationInScreenRecording("audio_violation_started"),n.store.dispatch((0,H.eR)({actionType:"audio_violation_started"}))},onSpeechEnd:c=>{n.humanVoiceDetected=!1,n.store.dispatch((0,H.eR)({actionType:"audio_violation_stopped"})),n._screenShareService.addViolationInScreenRecording("audio_violation_stopped")},onVADMisfire:()=>{n.humanVoiceDetected=!1,n.store.dispatch((0,H.eR)({actionType:"audio_violation_stopped"})),n._screenShareService.addViolationInScreenRecording("audio_violation_stopped")}})})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(ct.X),e.Y36(J.yh),e.Y36(zo.d))},t.\u0275cmp=e.Xpm({type:t,selectors:[["proctor"]],viewQuery:function(n,i){if(1&n&&e.Gf(Qs,5),2&n){let a;e.iGM(a=e.CRH())&&(i.webcamComponent=a.first)}},decls:5,vars:6,consts:[["modal-new","","class","ui tiny modal rounded-8","id","proctoringModal",3,"darkModal","show","ngClass",4,"ngIf"],["class","tw-fixed tw-top-4 tw-z-20 tw-px-8 tw-py-3 bg-red-700 text-white tw-rounded-full tw-justify-center flex items-center shadow-mds audio-wf-detection-container",4,"ngIf"],["modal-new","","class","ui tiny modal rounded-8",3,"show","darkModal",4,"ngIf"],[4,"ngIf"],["modal-new","","id","proctoringModal",1,"ui","tiny","modal","rounded-8",3,"show","ngClass"],[1,"flex","justify-between","items-center","padding-horizontal-24","padding-top-16","padding-bottom-12","common-border-bottom"],[1,"flex","tw-justify-center","tw-items-center","text-base","text-size-16","text-red-600","font-weight-500"],["class","tw-mr-2",4,"ngIf"],["class","padding-left-24",4,"ngIf"],["class","padding-top-16 padding-left-24 common-border-bottom","style","padding-right: 56px",4,"ngIf"],[1,"ui","divider"],["class","flex justify-end items-center col-gap-12 padding-horizontal-20",4,"ngIf"],["class","flex justify-end items-center col-gap-12 padding-horizontal-20",3,"click",4,"ngIf"],[1,"tw-mr-2"],["src","./../../../../assets/images/sherlock-red.svg","width","32","height","32"],[1,"red","exclamation","triangle","icon"],[1,"padding-left-24"],["class","padding-top-16 padding-left-24 common-border-bottom flex-col","style","padding-right: 56px",4,"ngIf"],[1,"ui","bg-yellow-200","label","margin-15"],["class","margin-bottom-8 font-weight-700 text-yellow-800",4,"ngIf"],[1,"text-yellow-700","font-weight-500"],[1,"padding-top-16","padding-left-24","common-border-bottom","flex-col",2,"padding-right","56px"],[3,"padding-top-16",4,"ngFor","ngForOf"],[1,"text-base","font-weight-500"],[1,"text-base","text-gray-500"],[1,"padding-top-16","padding-left-24","common-border-bottom",2,"padding-right","56px"],[1,"text-base","text-gray-500","font-weight-500"],["target","_blank",3,"href"],["class","text-base text-size-16 font-weight-500 text-red-600",4,"ngIf"],[1,"text-base","text-size-16","font-weight-500","text-red-600"],[1,"margin-bottom-8","font-weight-700","text-yellow-800"],[1,"padding-top-12"],[1,"flex","justify-end","items-center","col-gap-12","padding-horizontal-20"],[1,"button","bg-wecp-blue",3,"disabled","click"],[1,"button","bg-wecp-blue",3,"click"],[1,"flex","justify-end","items-center","col-gap-12","padding-horizontal-20",3,"click"],[4,"ngIf","ngIfElse"],["templateName",""],[3,"proctorViolationState","proctorSettings","quizNomenclatureLower","darkMode","_closeModal"],[1,"tw-fixed","tw-top-4","tw-z-20","tw-px-8","tw-py-3","bg-red-700","text-white","tw-rounded-full","tw-justify-center","flex","items-center","shadow-mds","audio-wf-detection-container"],[1,"margin-right-8"],[1,"audio-wf-boxContainer"],[1,"audio-wf-box","audio-wf-box1"],[1,"audio-wf-box","audio-wf-box2"],[1,"audio-wf-box","audio-wf-box3"],[1,"text-base"],["modal-new","",1,"ui","tiny","modal","rounded-8",3,"show"],[1,"flex","justify-between","items-center","padding-horizontal-16","padding-top-16","common-border-bottom"],[1,"padding-left-24","padding-vertical-20"],[1,"padding-left-24","padding-right-56","common-border-bottom"],["class","text-base font-weight-500",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragBoundary","body",1,"videoDiv","circular-snap-holder",3,"hidden"],[1,"video","cursor-move"],[2,"margin-left","-47.5px"],["eventType","proctorImage",3,"width","height","webcamImage","errors"],["class","minus icon link videoRightButton",3,"click",4,"ngIf"],[1,"minus","icon","link","videoRightButton",3,"click"]],template:function(n,i){1&n&&(e.YNc(0,x2,3,8,"div",0),e.YNc(1,y2,8,0,"div",1),e.YNc(2,w2,12,7,"div",2),e.ALo(3,"async"),e.YNc(4,M2,6,4,"div",3)),2&n&&(e.Q6J("ngIf",i.showMainProctoringModal||(null==i.proctorViolationState?null:i.proctorViolationState.showHonorCodeModal)),e.xp6(1),e.Q6J("ngIf",i.humanVoiceDetected),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,4,i.proctorMessages$)),e.xp6(2),e.Q6J("ngIf",i.proctorSettings&&i.proctorSettings.video))},directives:[Ue.O5,di.m,Ue.mk,Ue.sg,zy,Js.Zt,Qs],pipes:[Ue.Ov],styles:['*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.videoDiv[_ngcontent-%COMP%]{position:fixed;bottom:60px;right:30px;z-index:101}.video[_ngcontent-%COMP%]{border-radius:50%;height:200px;width:200px;overflow:hidden}.video[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;border-radius:50%;box-shadow:0 10px 15px -3px #0000004d,0 4px 6px -2px #0006;transition:opacity .3s;opacity:0}.video[_ngcontent-%COMP%]:hover:before{opacity:1}.videoRightButton[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:25px;width:25px;padding-top:3px;color:#515152;border-radius:50%;background-color:transparent;border:2px solid #a1a1aa}.darkModal[_ngcontent-%COMP%]{background:#18191b;color:#a1a1aa}.darkModalMessage[_ngcontent-%COMP%]{background:#18191b!important;color:#eab308!important;border:2px solid #eab308}@keyframes quiet{25%{transform:scaleY(.6)}50%{transform:scaleY(.4)}75%{transform:scaleY(.8)}}@keyframes normal{25%{transform:scaleY(1)}50%{transform:scaleY(.4)}75%{transform:scaleY(.6)}}@keyframes loud{25%{transform:scaleY(1)}50%{transform:scaleY(.4)}75%{transform:scaleY(1.2)}}.audio-wf-boxContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:20px;--boxSize: 4px;--gutter: 0px;width:calc((var(--boxSize) + var(--gutter)) * 4)}.audio-wf-box[_ngcontent-%COMP%]{transform:scaleY(.4);height:100%;width:var(--boxSize);background:#fff;animation-duration:1.4s;animation-timing-function:ease-in-out;animation-iteration-count:infinite;border-radius:8px}.audio-wf-box1[_ngcontent-%COMP%]{animation-name:quiet}.audio-wf-box2[_ngcontent-%COMP%]{animation-name:normal}.audio-wf-box3[_ngcontent-%COMP%]{animation-name:quiet}.audio-wf-box4[_ngcontent-%COMP%]{animation-name:loud}.audio-wf-box5[_ngcontent-%COMP%]{animation-name:quiet}@keyframes audio-wf-slideInFromTop{0%{transform:translateY(10%);opacity:.4}to{transform:translate(0);opacity:1}}.audio-wf-detection-container[_ngcontent-%COMP%]{animation:.4s ease-out 0s 1 audio-wf-slideInFromTop}.high-energy-spin[_ngcontent-%COMP%]{visibility:hidden!important}.width-680px[_ngcontent-%COMP%]{width:680px!important}\n/*# sourceMappingURL=proctor.component.css.map*/']}),t})();var $u={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function $s(){return $s=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$s.apply(this,arguments)}var Ee=function(r){if(r)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze($u)};function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Tt(t){return"number"==typeof t}function vt(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function yi(t){return t&&"object"===Wi(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function so(t){return t&&"object"===Wi(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function co(t){return t&&!0===t.constructor.prototype.isUnit||!1}function mr(t){return"string"==typeof t}$s(Ee,$u,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var Kt=Array.isArray;function wt(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ar(t){return Array.isArray(t)||wt(t)}function Wo(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Yi(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Yo(t){return t&&!0===t.constructor.prototype.isRange||!1}function uo(t){return t&&!0===t.constructor.prototype.isIndex||!1}function I2(t){return"boolean"==typeof t}function Gu(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function js(t){return t&&!0===t.constructor.prototype.isHelp||!1}function E2(t){return"function"==typeof t}function O2(t){return t instanceof Date}function k2(t){return t instanceof RegExp}function D2(t){return!(!t||"object"!==Wi(t)||t.constructor!==Object||yi(t)||so(t))}function q2(t){return null===t}function P2(t){return void 0===t}function wa(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function Ku(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function Z2(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function L2(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function R2(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function nn(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function lo(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function po(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function $o(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function Qt(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function Xu(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function tr(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function $i(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function el(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function Tn(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function Gs(t){return t&&!0===t.constructor.prototype.isChain||!1}function rn(t){var r=Wi(t);return"object"===r?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":vt(t)?"BigNumber":yi(t)?"Complex":so(t)?"Fraction":wt(t)?"Matrix":co(t)?"Unit":uo(t)?"Index":Yo(t)?"Range":Gu(t)?"ResultSet":Qt(t)?t.type:Gs(t)?"Chain":js(t)?"Help":"Object":"function"===r?"Function":r}var tl={end:!0};function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function ut(t){var r=mo(t);if("number"===r||"string"===r||"boolean"===r||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(n){return ut(n)});if(t instanceof Date)return new Date(t.valueOf());if(vt(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function U2(t,r){var n={};for(var i in t)Ge(t,i)&&(n[i]=r(t[i]));return n}(t,ut)}function jo(t,r){for(var n in r)Ge(r,n)&&(t[n]=r[n]);return t}function Ca(t,r){var n,i,a;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(i=0,a=t.length;i<a;i++)if(!Ca(t[i],r[i]))return!1;return!0}if("function"==typeof t)return t===r;if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in t)if(!(n in r)||!Ca(t[n],r[n]))return!1;for(n in r)if(!(n in t)||!Ca(t[n],r[n]))return!1;return!0}return t===r}function Ge(t,r){return t&&Object.hasOwnProperty.call(t,r)}function W(t,r,n,i){function a(o){var c=function H2(t,r){for(var n={},i=0;i<r.length;i++){var a=r[i],o=t[a];void 0!==o&&(n[a]=o)}return n}(o,r.map(W2));return function V2(t,r,n){var i=r.filter(function(o){return!function J2(t){return t&&"?"===t[0]}(o)}).every(function(o){return void 0!==n[o]});if(!i){var a=r.filter(function(o){return void 0===n[o]});throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(a.map(function(o){return'"'.concat(o,'"')}).join(", "),"."))}}(t,r,o),n(c)}return a.isFactory=!0,a.fn=t,a.dependencies=r.slice().sort(),i&&(a.meta=i),a}function W2(t){return t&&"?"===t[0]?t.slice(1):t}function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var j2=W("Node",["mathWithTransform"],function(t){var r=t.mathWithTransform;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(a){return this.compile().evaluate(a)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var a=this._compile(r,{}),o={};return{evaluate:function d(s){var p=s||{};return function i(a){for(var o in a)if(Ge(a,o)&&o in tl)throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}(p),a(p,o,null)}}},n.prototype._compile=function(a,o){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(a){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(a){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(a){if(!Qt(a))throw new TypeError("Callback function must return a Node");return a},n.prototype.traverse=function(a){a(this,null,null),function o(c,d){c.forEach(function(s,p,l){d(s,p,l),o(s,d)})}(this,a)},n.prototype.transform=function(a){return function o(c,d,s){var p=a(c,d,s);return p!==c?p:c.map(o)}(this,null,null)},n.prototype.filter=function(a){var o=[];return this.traverse(function(c,d,s){a(c,d,s)&&o.push(c)}),o},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map(function(a){return a.cloneDeep()})},n.prototype.equals=function(a){return!!a&&Ca(this,a)},n.prototype.toString=function(a){var o;if(a&&"object"===Gr(a))switch(Gr(a.handler)){case"object":case"undefined":break;case"function":o=a.handler(this,a);break;default:throw new TypeError("Object or function expected as callback")}return typeof o<"u"?o:this._toString(a)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(a){var o;if(a&&"object"===Gr(a))switch(Gr(a.handler)){case"object":case"undefined":break;case"function":o=a.handler(this,a);break;default:throw new TypeError("Object or function expected as callback")}return typeof o<"u"?o:this.toHTML(a)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(a){var o;if(a&&"object"===Gr(a))switch(Gr(a.handler)){case"object":case"undefined":break;case"function":o=a.handler(this,a);break;default:throw new TypeError("Object or function expected as callback")}return typeof o<"u"?o:this._toTex(a)},n.prototype._toTex=function(a){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n},{isClass:!0,isNode:!0});function nt(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var bi=Math.sign||function(t){return t>0?1:t<0?-1:0},G2=Math.log2||function(r){return Math.log(r)/Math.LN2},K2=Math.log10||function(r){return Math.log(r)/Math.LN10},ol=Math.log1p||function(t){return Math.log(t+1)},X2=Math.cbrt||function(r){if(0===r)return r;var i,n=r<0;return n&&(r=-r),i=isFinite(r)?(r/((i=Math.exp(Math.log(r)/3))*i)+2*i)/3:r,n?-i:i},eb=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function ji(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var i,n="auto";switch(r&&(r.notation&&(n=r.notation),Tt(r)?i=r:Tt(r.precision)&&(i=r.precision)),n){case"fixed":return sl(t,i);case"exponential":return cl(t,i);case"engineering":return function tb(t,r){if(isNaN(t)||!isFinite(t))return String(t);var i=Ko(Go(t),r),a=i.exponent,o=i.coefficients,c=a%3==0?a:a<0?a-3-a%3:a-a%3;if(Tt(r))for(;r>o.length||a-c+1>o.length;)o.push(0);else for(var d=Math.abs(a-c)-(o.length-1),s=0;s<d;s++)o.push(0);for(var p=Math.abs(a-c),l=1;p>0;)l++,p--;var u=o.slice(l).join(""),m=Tt(r)&&u.length||u.match(/[1-9]/)?"."+u:"",g=o.slice(0,l).join("")+m+"e"+(a>=0?"+":"")+c.toString();return i.sign+g}(t,i);case"auto":return function nb(t,r,n){if(isNaN(t)||!isFinite(t))return String(t);var i=n&&void 0!==n.lowerExp?n.lowerExp:-3,a=n&&void 0!==n.upperExp?n.upperExp:5,o=Go(t),c=r?Ko(o,r):o;if(c.exponent<i||c.exponent>=a)return cl(t,r);var d=c.coefficients,s=c.exponent;d.length<r&&(d=d.concat(Ma(r-d.length))),d=d.concat(Ma(s-d.length+1+(d.length<r?r-d.length:0)));var p=s>0?s:0;return p<(d=Ma(-s).concat(d)).length-1&&d.splice(p+1,0,"."),c.sign+d.join("")}(t,i,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return"."!==a?a+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Go(t){var r=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var n=r[1],i=r[2],a=parseFloat(r[4]||"0"),o=i.indexOf(".");a+=-1!==o?o-1:i.length-1;var c=i.replace(".","").replace(/^0*/,function(d){return a-=d.length,""}).replace(/0*$/,"").split("").map(function(d){return parseInt(d)});return 0===c.length&&(c.push(0),a++),{sign:n,coefficients:c,exponent:a}}function sl(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=Go(t),i="number"==typeof r?Ko(n,n.exponent+1+r):n,a=i.coefficients,o=i.exponent+1,c=o+(r||0);return a.length<c&&(a=a.concat(Ma(c-a.length))),o<0&&(a=Ma(1-o).concat(a),o=1),o<a.length&&a.splice(o,0,0===o?"0.":"."),i.sign+a.join("")}function cl(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=Go(t),i=r?Ko(n,r):n,a=i.coefficients,o=i.exponent;a.length<r&&(a=a.concat(Ma(r-a.length)));var c=a.shift();return i.sign+c+(a.length>0?"."+a.join(""):"")+"e"+(o>=0?"+":"")+o}function Ko(t,r){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=n.coefficients;r<=0;)i.unshift(0),n.exponent++,r++;if(i.length>r&&i.splice(r,i.length-r)[0]>=5){var o=r-1;for(i[o]++;10===i[o];)i.pop(),0===o&&(i.unshift(0),n.exponent++,o++),i[--o]++}return n}function Ma(t){for(var r=[],n=0;n<t;n++)r.push(0);return r}var ib=Number.EPSILON||2220446049250313e-31;function fr(t,r,n){if(null==n)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var i=Math.abs(t-r);return i<ib||i<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}var ab=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},ob=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},sb=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},ul=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},cb=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},ll=Math.tanh||function(t){var r=Math.exp(2*t);return(r-1)/(r+1)};function dl(t,r){return void 0!==r?t.toExponential(r-1):t.toExponential()}function fo(t){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function pb(t,r){return t.substring(t.length-r.length,t.length)===r}function Nt(t,r){return"number"==typeof t?ji(t,r):vt(t)?function ub(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var i,n="auto";switch(void 0!==r&&(r.notation&&(n=r.notation),"number"==typeof r?i=r:r.precision&&(i=r.precision)),n){case"fixed":return function db(t,r){return t.toFixed(r)}(t,i);case"exponential":return dl(t,i);case"engineering":return function lb(t,r){var n=t.e,i=n%3==0?n:n<0?n-3-n%3:n-n%3,a=t.mul(Math.pow(10,-i)),o=a.toPrecision(r);return-1!==o.indexOf("e")&&(o=a.toString()),o+"e"+(n>=0?"+":"")+i.toString()}(t,i);case"auto":var a=r&&void 0!==r.lowerExp?r.lowerExp:-3,o=r&&void 0!==r.upperExp?r.upperExp:5;if(t.isZero())return"0";var d=t.toSignificantDigits(i),s=d.e;return(s>=a&&s<o?d.toFixed():dl(t,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var p=arguments[2],l=arguments[4];return"."!==p?p+l:l});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}(t,r):function mb(t){return t&&"object"===fo(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?pl(t,r):mr(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"===fo(t)?"function"==typeof t.format?t.format(r):t&&t.toString(r)!=={}.toString()?t.toString(r):"{"+Object.keys(t).map(function(i){return'"'+i+'": '+Nt(t[i],r)}).join(", ")+"}":String(t)}function Xo(t){for(var r=String(t),n="",i=0;i<r.length;){var a=r.charAt(i);"\\"===a?(n+=a,i++,(""===(a=r.charAt(i))||-1==='"\\/bfnrtu'.indexOf(a))&&(n+="\\"),n+=a):n+='"'===a?'\\"':a,i++}return'"'+n+'"'}function br(t){var r=String(t);return r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pl(t,r){if(Array.isArray(t)){for(var n="[",i=t.length,a=0;a<i;a++)0!==a&&(n+=", "),n+=pl(t[a],r);return n+"]"}return Nt(t,r)}function Sa(t,r){if(!mr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+rn(t)+", index: 0)");if(!mr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+rn(r)+", index: 1)");return t===r?0:t>r?1:-1}function Ct(t,r,n){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=(new Error).stack}function Pr(t,r,n){if(!(this instanceof Pr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function kt(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function ml(t,r,n){var i,a=t.length;if(a!==r[n])throw new Ct(a,r[n]);if(n<r.length-1){var o=n+1;for(i=0;i<a;i++){if(!Array.isArray(t[i]))throw new Ct(r.length-1,r.length,"<");ml(t[i],r,o)}}else for(i=0;i<a;i++)if(Array.isArray(t[i]))throw new Ct(r.length+1,r.length,">")}function fl(t,r){if(0===r.length){if(Array.isArray(t))throw new Ct(t.length,0)}else ml(t,r,0)}function an(t,r){if(!Tt(t)||!nt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof r&&t>=r)throw new Pr(t,r)}function Na(t,r,n){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");return r.forEach(function(a){if(!Tt(a)||!nt(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(r)+")")}),Xs(t,r,0,void 0!==n?n:0),t}function Xs(t,r,n,i){var a,o,d=r[n],s=Math.min(t.length,d);if(t.length=d,n<r.length-1){var p=n+1;for(a=0;a<s;a++)o=t[a],Array.isArray(o)||(t[a]=o=[o]),Xs(o,r,p,i);for(a=s;a<d;a++)t[a]=o=[],Xs(o,r,p,i)}else{for(a=0;a<s;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=s;a<d;a++)t[a]=i}}function ec(t,r){var i,n=Zt(t);function a(d){return d.reduce(function(s,p){return s*p})}if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Ct(0,a(kt(t)),"!=");for(var o=1,c=0;c<r.length;c++)o*=r[c];if(n.length!==o)throw new Ct(a(r),a(kt(t)),"!=");try{i=function fb(t,r){for(var i,n=t,a=r.length-1;a>0;a--){var o=r[a];i=[];for(var c=n.length/o,d=0;d<c;d++)i.push(n.slice(d*o,(d+1)*o));n=i}return n}(n,r)}catch(d){throw d instanceof Ct?new Ct(a(r),a(kt(t)),"!="):d}return i}function es(t,r){for(var n=r||kt(t);Array.isArray(t)&&1===t.length;)t=t[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(t=gl(t,i,0),n.length=i),t}function gl(t,r,n){var i,a;if(n<r){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=gl(t[i],r,o)}else for(;Array.isArray(t);)t=t[0];return t}function hl(t,r,n,i){var a=i||kt(t);if(n)for(var o=0;o<n;o++)t=[t],a.unshift(1);for(t=vl(t,r,0);a.length<r;)a.push(1);return t}function vl(t,r,n){var i,a;if(Array.isArray(t)){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=vl(t[i],r,o)}else for(var c=n;c<r;c++)t=[t];return t}function Zt(t){if(!Array.isArray(t))return t;var r=[];return t.forEach(function n(i){Array.isArray(i)?i.forEach(n):r.push(i)}),r}function gr(t,r){return Array.prototype.map.call(t,r)}function ts(t,r){Array.prototype.forEach.call(t,r)}function _l(t,r){if(1!==kt(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r)}function ns(t,r){if(1!==kt(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(n){return r.test(n)})}function xl(t,r){return Array.prototype.join.call(t,r)}function Aa(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var r=[],n=0;r[0]={value:t[0],identifier:0};for(var i=1;i<t.length;i++)t[i]===t[i-1]?n++:n=0,r.push({value:t[i],identifier:n});return r}function rs(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var r=[],n=0;n<t.length;n++)r.push(t[n].value);return r}function go(t,r){for(var n,i=0,a=0;a<t.length;a++){var o=t[a],c=Array.isArray(o);if(0===a&&c&&(i=o.length),c&&o.length!==i)return;var d=c?go(o,r):r(o);if(void 0===n)n=d;else if(n!==d)return"mixed"}return n}(Ct.prototype=new RangeError).constructor=RangeError,Ct.prototype.name="DimensionError",Ct.prototype.isDimensionError=!0,(Pr.prototype=new RangeError).constructor=RangeError,Pr.prototype.name="IndexError",Pr.prototype.isIndexError=!0;var vb=W("ArrayNode",["Node"],function(t){function n(i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=i||[],!Array.isArray(this.items)||!this.items.every(Qt))throw new TypeError("Array containing Nodes expected")}return(n.prototype=new(0,t.Node)).type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(i,a){var o=gr(this.items,function(s){return s._compile(i,a)});if("Array"!==i.config.matrix){var d=i.matrix;return function(p,l,u){return d(gr(o,function(m){return m(p,l,u)}))}}return function(p,l,u){return gr(o,function(m){return m(p,l,u)})}},n.prototype.forEach=function(i){for(var a=0;a<this.items.length;a++)i(this.items[a],"items["+a+"]",this)},n.prototype.map=function(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new n(a)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(i){return"["+this.items.map(function(o){return o.toString(i)}).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(i){return new n(i.items)},n.prototype.toHTML=function(i){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(i)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(i){var a="\\begin{bmatrix}";return this.items.forEach(function(o){a+=o.items?o.items.map(function(c){return c.toTex(i)}).join("&"):o.toTex(i),a+="\\\\"}),a+="\\end{bmatrix}"},n},{isClass:!0,isNode:!0}),yb=W("BlockNode",["ResultSet","Node"],function(t){var r=t.ResultSet;function i(a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var c=o&&o.node,d=!o||void 0===o.visible||o.visible;if(!Qt(c))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof d)throw new TypeError('Property "visible" must be a boolean');return{node:c,visible:d}})}return(i.prototype=new(0,t.Node)).type="BlockNode",i.prototype.isBlockNode=!0,i.prototype._compile=function(a,o){var c=gr(this.blocks,function(d){return{evaluate:d.node._compile(a,o),visible:d.visible}});return function(s,p,l){var u=[];return ts(c,function(g){var f=g.evaluate(s,p,l);g.visible&&u.push(f)}),new r(u)}},i.prototype.forEach=function(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)},i.prototype.map=function(a){for(var o=[],c=0;c<this.blocks.length;c++){var d=this.blocks[c],s=this._ifNode(a(d.node,"blocks["+c+"].node",this));o[c]={node:s,visible:d.visible}}return new i(o)},i.prototype.clone=function(){return new i(this.blocks.map(function(o){return{node:o.node,visible:o.visible}}))},i.prototype._toString=function(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join("\n")},i.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},i.fromJSON=function(a){return new i(a.blocks)},i.prototype.toHTML=function(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},i.prototype._toTex=function(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join("\\;\\;\n")},i},{isClass:!0,isNode:!0}),bb=ke(46725),wb=ke.n(bb),tc={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Lt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},yl={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Lt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Lt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Lt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Lt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Lt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Lt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Lt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Lt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Lt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Lt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Lt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Lt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Lt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Lt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Lt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Lt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Lt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Lt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Lt.and,"${args[1]}\\right)")},not:{1:Lt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Lt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Lt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Lt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(Lt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Lt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Lt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Lt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Lt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Lt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Lt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Lt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Lt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Lt.to,"${args[1]}\\right)")},numeric:function(r,n){return r.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(tc.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},bl={deg:"^\\circ"};function nc(t){return wb()(t,{preserveFormatting:!0})}function wl(t,r){return(r=!(typeof r>"u")&&r)?Ge(bl,t)?bl[t]:"\\mathrm{"+nc(t)+"}":Ge(tc,t)?tc[t]:nc(t)}var Nb=W("ConstantNode",["Node"],function(t){function n(i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=i}return(n.prototype=new(0,t.Node)).type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(i,a){var o=this.value;return function(){return o}},n.prototype.forEach=function(i){},n.prototype.map=function(i){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(i){return Nt(this.value,i)},n.prototype.toHTML=function(i){var a=this._toString(i);switch(rn(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(i){return new n(i.value)},n.prototype._toTex=function(i){var a=this._toString(i);switch(rn(this.value)){case"string":return"\\mathtt{"+nc(a)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");return-1!==o?a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}":a;case"Fraction":return this.value.toLatex();default:return a}},n},{isClass:!0,isNode:!0});function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Un(t,r){if(Cl(t)&&rc(t,r))return t[r];throw"function"==typeof t[r]&&ic(t,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function wi(t,r,n){if(Cl(t)&&rc(t,r))return t[r]=n,n;throw new Error('No access to property "'+r+'"')}function rc(t,r){return!(!t||"object"!==ho(t)||!Ge(Tb,r)&&(r in Object.prototype||r in Function.prototype))}function ic(t,r){return!(null==t||"function"!=typeof t[r]||Ge(t,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(t)||!Ge(Ib,r)&&(r in Object.prototype||r in Function.prototype))}function Cl(t){return"object"===ho(t)&&t&&t.constructor===Object}var Tb={length:!0,name:!0},Ib={toString:!0,valueOf:!0,toLocaleString:!0};function is(t){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var kb=W("ObjectNode",["Node"],function(t){function n(i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=i||{},i&&("object"!==is(i)||!Object.keys(i).every(function(a){return Qt(i[a])})))throw new TypeError("Object containing Nodes expected")}return(n.prototype=new(0,t.Node)).type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(i,a){var o={};for(var c in this.properties)if(Ge(this.properties,c)){var d=Xo(c),s=JSON.parse(d);if(!rc(this.properties,s))throw new Error('No access to property "'+s+'"');o[s]=this.properties[c]._compile(i,a)}return function(l,u,m){var g={};for(var f in o)Ge(o,f)&&(g[f]=o[f](l,u,m));return g}},n.prototype.forEach=function(i){for(var a in this.properties)Ge(this.properties,a)&&i(this.properties[a],"properties["+Xo(a)+"]",this)},n.prototype.map=function(i){var a={};for(var o in this.properties)Ge(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Xo(o)+"]",this)));return new n(a)},n.prototype.clone=function(){var i={};for(var a in this.properties)Ge(this.properties,a)&&(i[a]=this.properties[a]);return new n(i)},n.prototype._toString=function(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push(Xo(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(i){return new n(i.properties)},n.prototype.toHTML=function(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push('<span class="math-symbol math-property">'+br(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(a.join("\n"),"\\end{array}\\right\\}")},n},{isClass:!0,isNode:!0}),Pb=W("ParenthesisNode",["Node"],function(t){function n(i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Qt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}return(n.prototype=new(0,t.Node)).type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(i,a){return this.content._compile(i,a)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(i){i(this.content,"content",this)},n.prototype.map=function(i){return new n(i(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"("+this.content.toString(i)+")":this.content.toString(i)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(i){return new n(i.content)},n.prototype.toHTML=function(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)},n.prototype._toTex=function(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)},n},{isClass:!0,isNode:!0}),Zr=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function jt(t,r){var n=t;"keep"!==r&&(n=t.getContent());for(var i=n.getIdentifier(),a=0;a<Zr.length;a++)if(i in Zr[a])return a;return null}function vo(t,r){var n=t;"keep"!==r&&(n=t.getContent());var i=n.getIdentifier(),a=jt(n,r);if(null===a)return null;var o=Zr[a][i];if(Ge(o,"associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+o.associativity+"'.")}return null}function ac(t,r,n){var i="keep"!==n?t.getContent():t,a="keep"!==n?t.getContent():r,o=i.getIdentifier(),c=a.getIdentifier(),d=jt(i,n);if(null===d)return null;var s=Zr[d][o];if(Ge(s,"associativeWith")&&s.associativeWith instanceof Array){for(var p=0;p<s.associativeWith.length;p++)if(s.associativeWith[p]===c)return!0;return!1}return null}var Rb=W("RelationalNode",["Node"],function(t){function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(i))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(i.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=i,this.params=a}return(n.prototype=new(0,t.Node)).type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(i,a){var o=this,c=this.params.map(function(d){return d._compile(i,a)});return function(s,p,l){for(var u,m=c[0](s,p,l),g=0;g<o.conditionals.length;g++)if(u=m,m=c[g+1](s,p,l),!Un(i,o.conditionals[g])(u,m))return!1;return!0}},n.prototype.forEach=function(i){var a=this;this.params.forEach(function(o,c){return i(o,"params["+c+"]",a)},this)},n.prototype.map=function(i){var a=this;return new n(this.conditionals.slice(),this.params.map(function(o,c){return a._ifNode(i(o,"params["+c+"]",a))},this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(i){for(var a=i&&i.parenthesis?i.parenthesis:"keep",o=jt(this,a),c=this.params.map(function(l,u){var m=jt(l,a);return"all"===a||null!==m&&m<=o?"("+l.toString(i)+")":l.toString(i)}),d={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=c[0],p=0;p<this.conditionals.length;p++)s+=" "+d[this.conditionals[p]]+" "+c[p+1];return s},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(i){return new n(i.conditionals,i.params)},n.prototype.toHTML=function(i){for(var a=i&&i.parenthesis?i.parenthesis:"keep",o=jt(this,a),c=this.params.map(function(l,u){var m=jt(l,a);return"all"===a||null!==m&&m<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+l.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':l.toHTML(i)}),d={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=c[0],p=0;p<this.conditionals.length;p++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+br(d[this.conditionals[p]])+"</span>"+c[p+1];return s},n.prototype._toTex=function(i){for(var a=i&&i.parenthesis?i.parenthesis:"keep",o=jt(this,a),c=this.params.map(function(p,l){var u=jt(p,a);return"all"===a||null!==u&&u<=o?"\\left("+p.toTex(i)+"\right)":p.toTex(i)}),d=c[0],s=0;s<this.conditionals.length;s++)d+=Lt[this.conditionals[s]]+c[s+1];return d},n},{isClass:!0,isNode:!0}),Fb=W("Chain",["?on","math"],function(t){var r=t.on,n=t.math;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.value=Gs(s)?s.value:s}function o(s,p){!function F2(t,r,n){var a,i=!0;Object.defineProperty(t,r,{get:function(){return i&&(a=n(),i=!1),a},set:function(c){a=c,i=!1},configurable:!0,enumerable:!0})}(i.prototype,s,function(){var u=p();if("function"==typeof u)return c(u)})}function c(s){return function(){for(var p=[this.value],l=0;l<arguments.length;l++)p[l+1]=arguments[l];return new i(s.apply(s,p))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Nt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)},i.createProxy=function(s,p){if("string"==typeof s)!function a(s,p){"function"==typeof p&&(i.prototype[s]=c(p))}(s,p);else{var l=function(g){Ge(s,g)&&void 0===d[g]&&o(g,function(){return s[g]})};for(var u in s)l(u)}};var d={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(n),r&&r("import",function(s,p,l){l||o(s,p)}),i},{isClass:!0}),Qb=W("reviver",["classes"],function(t){var r=t.classes;return function(i,a){var o=r[a&&a.mathjs];return o&&"function"==typeof o.fromJSON?o.fromJSON(a):a}}),Wb=W("ConditionalNode",["Node"],function(t){function n(a,o,c){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Qt(a))throw new TypeError("Parameter condition must be a Node");if(!Qt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Qt(c))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=c}return(n.prototype=new(0,t.Node)).type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(a,o){var c=this.condition._compile(a,o),d=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(l,u,m){return function i(a){if("number"==typeof a||"boolean"==typeof a||"string"==typeof a)return!!a;if(a){if(vt(a))return!a.isZero();if(yi(a))return!(!a.re&&!a.im);if(co(a))return!!a.value}if(null==a)return!1;throw new TypeError('Unsupported type of condition "'+rn(a)+'"')}(c(l,u,m))?d(l,u,m):s(l,u,m)}},n.prototype.forEach=function(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)},n.prototype.map=function(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=jt(this,o),d=this.condition.toString(a),s=jt(this.condition,o);("all"===o||"OperatorNode"===this.condition.type||null!==s&&s<=c)&&(d="("+d+")");var p=this.trueExpr.toString(a),l=jt(this.trueExpr,o);("all"===o||"OperatorNode"===this.trueExpr.type||null!==l&&l<=c)&&(p="("+p+")");var u=this.falseExpr.toString(a),m=jt(this.falseExpr,o);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==m&&m<=c)&&(u="("+u+")"),d+" ? "+p+" : "+u},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(a){return new n(a.condition,a.trueExpr,a.falseExpr)},n.prototype.toHTML=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=jt(this,o),d=this.condition.toHTML(a),s=jt(this.condition,o);("all"===o||"OperatorNode"===this.condition.type||null!==s&&s<=c)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.trueExpr.toHTML(a),l=jt(this.trueExpr,o);("all"===o||"OperatorNode"===this.trueExpr.type||null!==l&&l<=c)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(a),m=jt(this.falseExpr,o);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==m&&m<=c)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d+'<span class="math-operator math-conditional-operator">?</span>'+p+'<span class="math-operator math-conditional-operator">:</span>'+u},n.prototype._toTex=function(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n},{isClass:!0,isNode:!0}),jb=W("OperatorNode",["Node"],function(t){function n(a,o,c,d){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof a)throw new TypeError('string expected for parameter "op"');if("string"!=typeof o)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(c)||!c.every(Qt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===d,this.op=a,this.fn=o,this.args=c||[]}function i(a,o,c,d,s){var u,p=jt(a,o),l=vo(a,o);if("all"===o||d.length>2&&"OperatorNode:add"!==a.getIdentifier()&&"OperatorNode:multiply"!==a.getIdentifier())return d.map(function(S){switch(S.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(d.length){case 0:u=[];break;case 1:var m=jt(d[0],o);if(s&&null!==m){var g,f;if("keep"===o?(g=d[0].getIdentifier(),f=a.getIdentifier()):(g=d[0].getContent().getIdentifier(),f=a.getContent().getIdentifier()),!1===Zr[p][f].latexLeftParens){u=[!1];break}if(!1===Zr[m][g].latexParens){u=[!1];break}}if(null===m){u=[!1];break}if(m<=p){u=[!0];break}u=[!1];break;case 2:var h,w=jt(d[0],o),y=ac(a,d[0],o);h=null!==w&&(w===p&&"right"===l&&!y||w<p);var M,x,v,A,_=jt(d[1],o),b=ac(a,d[1],o);M=null!==_&&(_===p&&"left"===l&&!b||_<p),s&&("keep"===o?(x=a.getIdentifier(),v=a.args[0].getIdentifier(),A=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),v=a.args[0].getContent().getIdentifier(),A=a.args[1].getContent().getIdentifier()),null!==w&&(!1===Zr[p][x].latexLeftParens&&(h=!1),!1===Zr[w][v].latexParens&&(h=!1)),null!==_&&(!1===Zr[p][x].latexRightParens&&(M=!1),!1===Zr[_][A].latexParens&&(M=!1))),u=[h,M];break;default:("OperatorNode:add"===a.getIdentifier()||"OperatorNode:multiply"===a.getIdentifier())&&(u=d.map(function(S){var N=jt(S,o),E=ac(a,S,o),P=vo(S,o);return null!==N&&(p===N&&l===P&&!E||N<p)}))}return d.length>=2&&"OperatorNode:multiply"===a.getIdentifier()&&a.implicit&&"auto"===o&&"hide"===c&&(u=d.map(function(S,N){var E="ParenthesisNode"===S.getIdentifier();return!(!u[N]&&!E)})),u}return(n.prototype=new(0,t.Node)).type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(a,o){if("string"!=typeof this.fn||!ic(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var c=Un(a,this.fn),d=gr(this.args,function(u){return u._compile(a,o)});if(1===d.length){var s=d[0];return function(m,g,f){return c(s(m,g,f))}}if(2===d.length){var p=d[0],l=d[1];return function(m,g,f){return c(p(m,g,f),l(m,g,f))}}return function(m,g,f){return c.apply(null,gr(d,function(h){return h(m,g,f)}))}},n.prototype.forEach=function(a){for(var o=0;o<this.args.length;o++)a(this.args[o],"args["+o+"]",this)},n.prototype.map=function(a){for(var o=[],c=0;c<this.args.length;c++)o[c]=this._ifNode(a(this.args[c],"args["+c+"]",this));return new n(this.op,this.fn,o,this.implicit)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=a&&a.implicit?a.implicit:"hide",d=this.args,s=i(this,o,c,d,!1);if(1===d.length){var p=vo(this,o),l=d[0].toString(a);s[0]&&(l="("+l+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===p?this.op+(u?" ":"")+l:"left"===p?l+(u?" ":"")+this.op:l+this.op}if(2===d.length){var m=d[0].toString(a),g=d[1].toString(a);return s[0]&&(m="("+m+")"),s[1]&&(g="("+g+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===c?m+" "+g:m+" "+this.op+" "+g}if(d.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=d.map(function(h,w){return h=h.toString(a),s[w]&&(h="("+h+")"),h});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===c?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},n.fromJSON=function(a){return new n(a.op,a.fn,a.args,a.implicit)},n.prototype.toHTML=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=a&&a.implicit?a.implicit:"hide",d=this.args,s=i(this,o,c,d,!1);if(1===d.length){var p=vo(this,o),l=d[0].toHTML(a);return s[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===p?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+br(this.op)+"</span>"+l:l+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+br(this.op)+"</span>"}if(2===d.length){var u=d[0].toHTML(a),m=d[1].toHTML(a);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===c?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+br(this.op)+"</span>"+m}var g=d.map(function(f,h){return f=f.toHTML(a),s[h]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f});return d.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===c?g.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):g.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+br(this.op)+"</span>"):'<span class="math-function">'+br(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+g.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=a&&a.implicit?a.implicit:"hide",d=this.args,s=i(this,o,c,d,!0),p=Lt[this.fn];if(p=typeof p>"u"?this.op:p,1===d.length){var l=vo(this,o),u=d[0].toTex(a);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===l?p+u:u+p}if(2===d.length){var m=d[0],g=m.toTex(a);s[0]&&(g="\\left(".concat(g,"\\right)"));var w,h=d[1].toTex(a);switch(s[1]&&(h="\\left(".concat(h,"\\right)")),w="keep"===o?m.getIdentifier():m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return p+"{"+g+"}{"+h+"}";case"OperatorNode:pow":switch(g="{"+g+"}",h="{"+h+"}",w){case"ConditionalNode":case"OperatorNode:divide":g="\\left(".concat(g,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===c)return g+"~"+h}return g+p+h}if(d.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var y=d.map(function(M,_){return M=M.toTex(a),s[_]&&(M="\\left(".concat(M,"\\right)")),M});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?y.join("~"):y.join(p)}return"\\mathrm{"+this.fn+"}\\left("+d.map(function(M){return M.toTex(a)}).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n},{isClass:!0,isNode:!0}),Xb=W("RangeNode",["Node"],function(t){function n(a,o,c){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Qt(a))throw new TypeError("Node expected");if(!Qt(o))throw new TypeError("Node expected");if(c&&!Qt(c))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=c||null}function i(a,o){var c=jt(a,o),d={},s=jt(a.start,o);if(d.start=null!==s&&s<=c||"all"===o,a.step){var p=jt(a.step,o);d.step=null!==p&&p<=c||"all"===o}var l=jt(a.end,o);return d.end=null!==l&&l<=c||"all"===o,d}return(n.prototype=new(0,t.Node)).type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter(function(o){return Tn(o)&&"end"===o.name}).length>0},n.prototype._compile=function(a,o){var c=a.range,d=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var p=this.step._compile(a,o);return function(u,m,g){return c(d(u,m,g),s(u,m,g),p(u,m,g))}}return function(u,m,g){return c(d(u,m,g),s(u,m,g))}},n.prototype.forEach=function(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)},n.prototype.map=function(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(a){var d,c=i(this,a&&a.parenthesis?a.parenthesis:"keep"),s=this.start.toString(a);if(c.start&&(s="("+s+")"),d=s,this.step){var p=this.step.toString(a);c.step&&(p="("+p+")"),d+=":"+p}var l=this.end.toString(a);return c.end&&(l="("+l+")"),d+":"+l},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(a){return new n(a.start,a.end,a.step)},n.prototype.toHTML=function(a){var d,c=i(this,a&&a.parenthesis?a.parenthesis:"keep"),s=this.start.toHTML(a);if(c.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d=s,this.step){var p=this.step.toHTML(a);c.step&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d+='<span class="math-operator math-range-operator">:</span>'+p}var l=this.end.toHTML(a);return c.end&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d+'<span class="math-operator math-range-operator">:</span>'+l},n.prototype._toTex=function(a){var c=i(this,a&&a.parenthesis?a.parenthesis:"keep"),d=this.start.toTex(a);if(c.start&&(d="\\left(".concat(d,"\\right)")),this.step){var s=this.step.toTex(a);c.step&&(s="\\left(".concat(s,"\\right)")),d+=":"+s}var p=this.end.toTex(a);return c.end&&(p="\\left(".concat(p,"\\right)")),d+":"+p},n},{isClass:!0,isNode:!0}),nw=W("FunctionAssignmentNode",["typed","Node"],function(t){var r=t.typed;function i(o,c,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(c))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Qt(d))throw new TypeError('Node expected for parameter "expr"');if(o in tl)throw new Error('Illegal function name, "'+o+'" is a reserved keyword');this.name=o,this.params=c.map(function(s){return s&&s.name||s}),this.types=c.map(function(s){return s&&s.type||"any"}),this.expr=d}function a(o,c){var d=jt(o,c),s=jt(o.expr,c);return"all"===c||null!==s&&s<=d}return(i.prototype=new(0,t.Node)).type="FunctionAssignmentNode",i.prototype.isFunctionAssignmentNode=!0,i.prototype._compile=function(o,c){var d=Object.create(c);ts(this.params,function(g){d[g]=!0});var s=this.expr._compile(o,d),p=this.name,l=this.params,u=xl(this.types,","),m=p+"("+xl(this.params,", ")+")";return function(f,h,w){var y={};y[u]=function(){for(var _=Object.create(h),b=0;b<l.length;b++)_[l[b]]=arguments[b];return s(f,_,w)};var M=r(p,y);return M.syntax=m,wi(f,p,M),M}},i.prototype.forEach=function(o){o(this.expr,"expr",this)},i.prototype.map=function(o){var c=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),c)},i.prototype.clone=function(){return new i(this.name,this.params.slice(0),this.expr)},i.prototype._toString=function(o){var c=o&&o.parenthesis?o.parenthesis:"keep",d=this.expr.toString(o);return a(this,c)&&(d="("+d+")"),this.name+"("+this.params.join(", ")+") = "+d},i.prototype.toJSON=function(){var o=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(c,d){return{name:c,type:o[d]}}),expr:this.expr}},i.fromJSON=function(o){return new i(o.name,o.params,o.expr)},i.prototype.toHTML=function(o){for(var c=o&&o.parenthesis?o.parenthesis:"keep",d=[],s=0;s<this.params.length;s++)d.push('<span class="math-symbol math-parameter">'+br(this.params[s])+"</span>");var p=this.expr.toHTML(o);return a(this,c)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+br(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p},i.prototype._toTex=function(o){var c=o&&o.parenthesis?o.parenthesis:"keep",d=this.expr.toTex(o);return a(this,c)&&(d="\\left(".concat(d,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(wl).join(",")+"\\right):="+d},i},{isClass:!0,isNode:!0}),iw=W("chain",["typed","Chain"],function(t){var n=t.Chain;return(0,t.typed)("chain",{"":function(){return new n},any:function(a){return new n(a)}})});function sr(t){return t&&t.isIndexError?new Pr(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Sl(t){var r=t.subset;return function(i,a){try{if(Array.isArray(i))return r(i,a);if(i&&"function"==typeof i.subset)return i.subset(a);if("string"==typeof i)return r(i,a);if("object"===as(i)){if(!a.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Un(i,a.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw sr(o)}}}var sw=W("AccessorNode",["subset","Node"],function(t){var n=t.Node,i=Sl({subset:t.subset});function a(c,d){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!Qt(c))throw new TypeError('Node expected for parameter "object"');if(!$o(d))throw new TypeError('IndexNode expected for parameter "index"');this.object=c||null,this.index=d,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(c){return!(wa(c)||Ku(c)||nn(c)||po(c)||Xu(c)||$i(c)||Tn(c))}return(a.prototype=new n).type="AccessorNode",a.prototype.isAccessorNode=!0,a.prototype._compile=function(c,d){var s=this.object._compile(c,d),p=this.index._compile(c,d);if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(m,g,f){return Un(s(m,g,f),l)}}return function(m,g,f){var h=s(m,g,f),w=p(m,g,h);return i(h,w)}},a.prototype.forEach=function(c){c(this.object,"object",this),c(this.index,"index",this)},a.prototype.map=function(c){return new a(this._ifNode(c(this.object,"object",this)),this._ifNode(c(this.index,"index",this)))},a.prototype.clone=function(){return new a(this.object,this.index)},a.prototype._toString=function(c){var d=this.object.toString(c);return o(this.object)&&(d="("+d+")"),d+this.index.toString(c)},a.prototype.toHTML=function(c){var d=this.object.toHTML(c);return o(this.object)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d+this.index.toHTML(c)},a.prototype._toTex=function(c){var d=this.object.toTex(c);return o(this.object)&&(d="\\left(' + object + '\\right)"),d+this.index.toTex(c)},a.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},a.fromJSON=function(c){return new a(c.object,c.index)},a},{isClass:!0,isNode:!0});function oc(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}var gw=W("IndexNode",["Range","Node","size"],function(t){var r=t.Range,i=t.size;function a(c,d){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=c,this.dotNotation=d||!1,!Array.isArray(c)||!c.every(Qt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function o(c,d,s){return new r(vt(c)?c.toNumber():c,vt(d)?d.toNumber():d,vt(s)?s.toNumber():s)}return(a.prototype=new(0,t.Node)).type="IndexNode",a.prototype.isIndexNode=!0,a.prototype._compile=function(c,d){var s=gr(this.dimensions,function(l,u){if(el(l)){if(l.needsEnd()){var m=Object.create(d);m.end=!0;var g=l.start._compile(c,m),f=l.end._compile(c,m),h=l.step?l.step._compile(c,m):function(){return 1};return function(A,S,N){var E=i(N).valueOf(),P=Object.create(S);return P.end=E[u],o(g(A,P,N),f(A,P,N),h(A,P,N))}}var w=l.start._compile(c,d),y=l.end._compile(c,d),M=l.step?l.step._compile(c,d):function(){return 1};return function(A,S,N){return o(w(A,S,N),y(A,S,N),M(A,S,N))}}if(Tn(l)&&"end"===l.name){var _=Object.create(d);_.end=!0;var b=l._compile(c,_);return function(A,S,N){var E=i(N).valueOf(),P=Object.create(S);return P.end=E[u],b(A,P,N)}}var x=l._compile(c,d);return function(A,S,N){return x(A,S,N)}}),p=Un(c,"index");return function(u,m,g){var f=gr(s,function(h){return h(u,m,g)});return p.apply(void 0,function cw(t){return function pw(t){if(Array.isArray(t))return oc(t)}(t)||function dw(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lw(t,r){if(t){if("string"==typeof t)return oc(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oc(t,r)}}(t)||function uw(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(f))}},a.prototype.forEach=function(c){for(var d=0;d<this.dimensions.length;d++)c(this.dimensions[d],"dimensions["+d+"]",this)},a.prototype.map=function(c){for(var d=[],s=0;s<this.dimensions.length;s++)d[s]=this._ifNode(c(this.dimensions[s],"dimensions["+s+"]",this));return new a(d,this.dotNotation)},a.prototype.clone=function(){return new a(this.dimensions.slice(0),this.dotNotation)},a.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&nn(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},a.prototype._toString=function(c){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},a.fromJSON=function(c){return new a(c.dimensions,c.dotNotation)},a.prototype.toHTML=function(c){for(var d=[],s=0;s<this.dimensions.length;s++)d[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+br(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},a.prototype._toTex=function(c){var d=this.dimensions.map(function(s){return s.toTex(c)});return this.dotNotation?"."+this.getObjectProperty():"_{"+d.join(",")+"}"},a},{isClass:!0,isNode:!0});function os(t){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var xw=W("AssignmentNode",["subset","?matrix","Node"],function(t){var r=t.subset,n=t.matrix,i=t.Node,a=Sl({subset:r}),o=function hw(t){var r=t.subset,n=t.matrix;return function(a,o,c){try{if(Array.isArray(a))return n(a).subset(o,c).valueOf();if(a&&"function"==typeof a.subset)return a.subset(o,c);if("string"==typeof a)return r(a,o,c);if("object"===os(a)){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return wi(a,o.getObjectProperty(),c),a}throw new TypeError("Cannot apply index: unsupported type of object")}catch(d){throw sr(d)}}}({subset:r,matrix:n});function c(s,p,l){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=s,this.index=l?p:null,this.value=l||p,!Tn(s)&&!wa(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Tn(s)&&"end"===s.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!$o(this.index))throw new TypeError('IndexNode expected as "index"');if(!Qt(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function d(s,p){p||(p="keep");var l=jt(s,p),u=jt(s.value,p);return"all"===p||null!==u&&u<=l}return(c.prototype=new i).type="AssignmentNode",c.prototype.isAssignmentNode=!0,c.prototype._compile=function(s,p){var l=this.object._compile(s,p),u=this.index?this.index._compile(s,p):null,m=this.value._compile(s,p),g=this.object.name;if(this.index){if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(_,b,x){var v=l(_,b,x),A=m(_,b,x);return wi(v,f,A)}}if(Tn(this.object))return function(_,b,x){var v=l(_,b,x),A=m(_,b,x),S=u(_,b,v);return wi(_,g,o(v,S,A)),A};var h=this.object.object._compile(s,p);if(this.object.index.isObjectProperty()){var w=this.object.index.getObjectProperty();return function(_,b,x){var v=h(_,b,x),A=Un(v,w),S=u(_,b,A),N=m(_,b,x);return wi(v,w,o(A,S,N)),N}}var y=this.object.index._compile(s,p);return function(_,b,x){var v=h(_,b,x),A=y(_,b,v),S=a(v,A),N=u(_,b,S),E=m(_,b,x);return o(v,A,o(S,N,E)),E}}if(!Tn(this.object))throw new TypeError("SymbolNode expected as object");return function(_,b,x){return wi(_,g,m(_,b,x))}},c.prototype.forEach=function(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)},c.prototype.map=function(s){return new c(this._ifNode(s(this.object,"object",this)),this.index?this._ifNode(s(this.index,"index",this)):null,this._ifNode(s(this.value,"value",this)))},c.prototype.clone=function(){return new c(this.object,this.index,this.value)},c.prototype._toString=function(s){var p=this.object.toString(s),l=this.index?this.index.toString(s):"",u=this.value.toString(s);return d(this,s&&s.parenthesis)&&(u="("+u+")"),p+l+" = "+u},c.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},c.fromJSON=function(s){return new c(s.object,s.index,s.value)},c.prototype.toHTML=function(s){var p=this.object.toHTML(s),l=this.index?this.index.toHTML(s):"",u=this.value.toHTML(s);return d(this,s&&s.parenthesis)&&(u='<span class="math-paranthesis math-round-parenthesis">(</span>'+u+'<span class="math-paranthesis math-round-parenthesis">)</span>'),p+l+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u},c.prototype._toTex=function(s){var p=this.object.toTex(s),l=this.index?this.index.toTex(s):"",u=this.value.toTex(s);return d(this,s&&s.parenthesis)&&(u="\\left(".concat(u,"\\right)")),p+l+":="+u},c},{isClass:!0,isNode:!0}),ww=W("SymbolNode",["math","?Unit","Node"],function(t){var r=t.math,n=t.Unit;function a(d){return!!n&&n.isValuelessUnit(d)}function o(d){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof d)throw new TypeError('String expected for parameter "name"');this.name=d}return(o.prototype=new(0,t.Node)).type="SymbolNode",o.prototype.isSymbolNode=!0,o.prototype._compile=function(d,s){var p=this.name;if(!0===s[p])return function(u,m,g){return m[p]};if(p in d)return function(u,m,g){return Un(p in u?u:d,p)};var l=a(p);return function(u,m,g){return p in u?Un(u,p):l?new n(null,p):function c(d){throw new Error("Undefined symbol "+d)}(p)}},o.prototype.forEach=function(d){},o.prototype.map=function(d){return this.clone()},o.prototype.clone=function(){return new o(this.name)},o.prototype._toString=function(d){return this.name},o.prototype.toHTML=function(d){var s=br(this.name);return"true"===s||"false"===s?'<span class="math-symbol math-boolean">'+s+"</span>":"i"===s?'<span class="math-symbol math-imaginary-symbol">'+s+"</span>":"Infinity"===s?'<span class="math-symbol math-infinity-symbol">'+s+"</span>":"NaN"===s?'<span class="math-symbol math-nan-symbol">'+s+"</span>":"null"===s?'<span class="math-symbol math-null-symbol">'+s+"</span>":"undefined"===s?'<span class="math-symbol math-undefined-symbol">'+s+"</span>":'<span class="math-symbol">'+s+"</span>"},o.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},o.fromJSON=function(d){return new o(d.name)},o.prototype._toTex=function(d){var s=!1;typeof r[this.name]>"u"&&a(this.name)&&(s=!0);var p=wl(this.name,s);return"\\"===p[0]?p:" "+p},o},{isClass:!0,isNode:!0});function Kr(t){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function _o(){return _o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_o.apply(this,arguments)}var Sw=W("FunctionNode",["math","Node","SymbolNode"],function(t){var r=t.math,i=t.SymbolNode;function a(s,p){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof s&&(s=new i(s)),!Qt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(p)||!p.every(Qt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=p||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}(a.prototype=new(0,t.Node)).type="FunctionNode",a.prototype.isFunctionNode=!0,a.prototype._compile=function(s,p){if(!(this instanceof a))throw new TypeError("No valid FunctionNode");var l=gr(this.args,function(A){return A._compile(s,p)});if(Tn(this.fn)){var u=this.fn.name,m=u in s?Un(s,u):void 0;if("function"==typeof m&&!0===m.rawArgs){var f=this.args;return function(S,N,E){return(u in S?Un(S,u):m)(f,s,_o({},S,N))}}if(1===l.length){var h=l[0];return function(S,N,E){return(u in S?Un(S,u):m)(h(S,N,E))}}if(2===l.length){var w=l[0],y=l[1];return function(S,N,E){return(u in S?Un(S,u):m)(w(S,N,E),y(S,N,E))}}return function(S,N,E){return(u in S?Un(S,u):m).apply(null,gr(l,function(P){return P(S,N,E)}))}}if(wa(this.fn)&&$o(this.fn.index)&&this.fn.index.isObjectProperty()){var M=this.fn.object._compile(s,p),_=this.fn.index.getObjectProperty(),b=this.args;return function(S,N,E){var P=M(S,N,E);return function Ab(t,r){if(!ic(t,r))throw new Error('No access to method "'+r+'"')}(P,_),P[_]&&P[_].rawArgs?P[_](b,s,_o({},S,N)):P[_].apply(P,gr(l,function(V){return V(S,N,E)}))}}var x=this.fn._compile(s,p),v=this.args;return function(S,N,E){var P=x(S,N,E);return P&&P.rawArgs?P(v,s,_o({},S,N)):P.apply(P,gr(l,function(V){return V(S,N,E)}))}},a.prototype.forEach=function(s){s(this.fn,"fn",this);for(var p=0;p<this.args.length;p++)s(this.args[p],"args["+p+"]",this)},a.prototype.map=function(s){for(var p=this._ifNode(s(this.fn,"fn",this)),l=[],u=0;u<this.args.length;u++)l[u]=this._ifNode(s(this.args[u],"args["+u+"]",this));return new a(p,l)},a.prototype.clone=function(){return new a(this.fn,this.args.slice(0))};var o=a.prototype.toString;function c(s,p,l){for(var f,u="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,g=0;null!==(f=m.exec(s));)if(u+=s.substring(g,f.index),g=f.index,"$$"===f[0])u+="$",g++;else{g+=f[0].length;var h=p[f[1]];if(!h)throw new ReferenceError("Template: Property "+f[1]+" does not exist.");if(void 0===f[2])switch(Kr(h)){case"string":u+=h;break;case"object":if(Qt(h))u+=h.toTex(l);else{if(!Array.isArray(h))throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes");u+=h.map(function(w,y){if(Qt(w))return w.toTex(l);throw new TypeError("Template: "+f[1]+"["+y+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes")}else{if(!Qt(h[f[2]]&&h[f[2]]))throw new TypeError("Template: "+f[1]+"["+f[2]+"] is not a Node.");u+=h[f[2]].toTex(l)}}return u+s.slice(g)}a.prototype.toString=function(s){var p,l=this.fn.toString(s);return s&&"object"===Kr(s.handler)&&Ge(s.handler,l)&&(p=s.handler[l](this,s)),typeof p<"u"?p:o.call(this,s)},a.prototype._toString=function(s){var p=this.args.map(function(u){return u.toString(s)});return(lo(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s))+"("+p.join(", ")+")"},a.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},a.fromJSON=function(s){return new a(s.fn,s.args)},a.prototype.toHTML=function(s){var p=this.args.map(function(l){return l.toHTML(s)});return'<span class="math-function">'+br(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var d=a.prototype.toTex;return a.prototype.toTex=function(s){var p;return s&&"object"===Kr(s.handler)&&Ge(s.handler,this.name)&&(p=s.handler[this.name](this,s)),typeof p<"u"?p:d.call(this,s)},a.prototype._toTex=function(s){var l,u,p=this.args.map(function(m){return m.toTex(s)});switch(yl[this.name]&&(l=yl[this.name]),r[this.name]&&("function"==typeof r[this.name].toTex||"object"===Kr(r[this.name].toTex)||"string"==typeof r[this.name].toTex)&&(l=r[this.name].toTex),Kr(l)){case"function":u=l(this,s);break;case"string":u=c(l,this,s);break;case"object":switch(Kr(l[p.length])){case"function":u=l[p.length](this,s);break;case"string":u=c(l[p.length],this,s)}}return typeof u<"u"?u:c("\\mathrm{${name}}\\left(${args}\\right)",this,s)},a.prototype.getIdentifier=function(){return this.type+":"+this.name},a},{isClass:!0,isNode:!0});function xo(t){for(var r=0;r<t.length;r++)if(Ar(t[r]))return!0;return!1}function Xr(t,r){wt(t)&&(t=t.valueOf());for(var n=0,i=t.length;n<i;n++){var a=t[n];Array.isArray(a)?Xr(a,r):r(a)}}function We(t,r,n){return t&&"function"==typeof t.map?t.map(function(i){return We(i,r,n)}):r(t)}function ss(t,r,n){var i=Array.isArray(t)?kt(t):t.size();if(r<0||r>=i.length)throw new Pr(r,i.length);return wt(t)?t.create(cs(t.valueOf(),r,n)):cs(t,r,n)}function cs(t,r,n){var i,a,o,c;if(r<=0){if(Array.isArray(t[0])){for(c=function Nw(t){var i,a,r=t.length,n=t[0].length,o=[];for(a=0;a<n;a++){var c=[];for(i=0;i<r;i++)c.push(t[i][a]);o.push(c)}return o}(t),a=[],i=0;i<c.length;i++)a[i]=cs(c[i],r-1,n);return a}for(o=t[0],i=1;i<t.length;i++)o=n(o,t[i]);return o}for(a=[],i=0;i<t.length;i++)a[i]=cs(t[i],r-1,n);return a}function Nl(t,r,n,i,a,o,c,d,s,p,l){var f,w,y,u=t._values,m=t._index,g=t._ptr;if(i)for(w=g[r+1],f=g[r];f<w;f++)n[y=m[f]]!==o?(n[y]=o,c.push(y),p?(i[y]=s?d(u[f],l):d(l,u[f]),a[y]=o):i[y]=u[f]):(i[y]=s?d(u[f],i[y]):d(i[y],u[f]),a[y]=o);else for(w=g[r+1],f=g[r];f<w;f++)n[y=m[f]]!==o?(n[y]=o,c.push(y)):a[y]=o}function Ci(){return Ci=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ci.apply(this,arguments)}var Tw=W("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],function(t){var n=t.numeric,i=t.config,a=t.AccessorNode,o=t.ArrayNode,c=t.AssignmentNode,d=t.BlockNode,s=t.ConditionalNode,p=t.ConstantNode,l=t.FunctionAssignmentNode,u=t.FunctionNode,m=t.IndexNode,g=t.ObjectNode,f=t.OperatorNode,h=t.ParenthesisNode,w=t.RangeNode,y=t.RelationalNode,M=t.SymbolNode,_=(0,t.typed)("parse",{string:function(re){return de(re,{})},"Array | Matrix":function(re){return b(re,{})},"string, Object":function(re,Ce){return de(re,void 0!==Ce.nodes?Ce.nodes:{})},"Array | Matrix, Object":b});function b(T){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ce=void 0!==re.nodes?re.nodes:{};return We(T,function(Be){if("string"!=typeof Be)throw new TypeError("String expected");return de(Be,Ce)})}var v={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"];function P(T,re){return T.expression.substr(T.index,re)}function Z(T){return P(T,1)}function V(T){T.index++}function U(T){return T.expression.charAt(T.index-1)}function j(T){return T.expression.charAt(T.index+1)}function B(T){for(T.tokenType=0,T.token="",T.comment="";_.isWhitespace(Z(T),T.nestingLevel);)V(T);if("#"===Z(T))for(;"\n"!==Z(T)&&""!==Z(T);)T.comment+=Z(T),V(T);if(""!==Z(T)){if("\n"===Z(T)&&!T.nestingLevel)return T.tokenType=1,T.token=Z(T),void V(T);var re=Z(T),Ce=P(T,2),Be=P(T,3);if(3===Be.length&&v[Be])return T.tokenType=1,T.token=Be,V(T),V(T),void V(T);if(2===Ce.length&&v[Ce])return T.tokenType=1,T.token=Ce,V(T),void V(T);if(v[re])return T.tokenType=1,T.token=re,void V(T);if(_.isDigitDot(re)){T.tokenType=2;var Ot=P(T,2);if("0b"===Ot||"0o"===Ot||"0x"===Ot){for(T.token+=Z(T),V(T),T.token+=Z(T),V(T);_.isHexDigit(Z(T));)T.token+=Z(T),V(T);return}if("."===Z(T))T.token+=Z(T),V(T),_.isDigit(Z(T))||(T.tokenType=1);else{for(;_.isDigit(Z(T));)T.token+=Z(T),V(T);_.isDecimalMark(Z(T),j(T))&&(T.token+=Z(T),V(T))}for(;_.isDigit(Z(T));)T.token+=Z(T),V(T);if("E"===Z(T)||"e"===Z(T))if(_.isDigit(j(T))||"-"===j(T)||"+"===j(T)){if(T.token+=Z(T),V(T),("+"===Z(T)||"-"===Z(T))&&(T.token+=Z(T),V(T)),!_.isDigit(Z(T)))throw pn(T,'Digit expected, got "'+Z(T)+'"');for(;_.isDigit(Z(T));)T.token+=Z(T),V(T);if(_.isDecimalMark(Z(T),j(T)))throw pn(T,'Digit expected, got "'+Z(T)+'"')}else if("."===j(T))throw V(T),pn(T,'Digit expected, got "'+Z(T)+'"')}else{if(!_.isAlpha(Z(T),U(T),j(T))){for(T.tokenType=4;""!==Z(T);)T.token+=Z(T),V(T);throw pn(T,'Syntax error in part "'+T.token+'"')}for(;_.isAlpha(Z(T),U(T),j(T))||_.isDigit(Z(T));)T.token+=Z(T),V(T);T.tokenType=Ge(A,T.token)?1:3}}else T.tokenType=1}function O(T){do{B(T)}while("\n"===T.token)}function X(T){T.nestingLevel++}function D(T){T.nestingLevel--}function de(T,re){var Ce={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};Ci(Ce,{expression:T,extraNodes:re}),B(Ce);var Be=function ye(T){var re,Ce=[];for(""!==T.token&&"\n"!==T.token&&";"!==T.token&&((re=Oe(T)).comment=T.comment);"\n"===T.token||";"===T.token;)0===Ce.length&&re&&Ce.push({node:re,visible:";"!==T.token}),B(T),"\n"!==T.token&&";"!==T.token&&""!==T.token&&((re=Oe(T)).comment=T.comment,Ce.push({node:re,visible:";"!==T.token}));return Ce.length>0?new d(Ce):(re||((re=new p(void 0)).comment=T.comment),re)}(Ce);if(""!==Ce.token)throw 1===Ce.tokenType?Ya(Ce,"Unexpected operator "+Ce.token):pn(Ce,'Unexpected part "'+Ce.token+'"');return Be}function Oe(T){var re,Ce,Be,Ot,Jt=function oe(T){for(var re=function Ae(T){for(var re=je(T);"or"===T.token;)O(T),re=new f("or","or",[re,je(T)]);return re}(T);"?"===T.token;){var Ce=T.conditionalLevel;T.conditionalLevel=T.nestingLevel,O(T);var Be=re,Ot=Oe(T);if(":"!==T.token)throw pn(T,"False part of conditional expression expected");T.conditionalLevel=null,O(T);var Jt=Oe(T);re=new s(Be,Ot,Jt),T.conditionalLevel=Ce}return re}(T);if("="===T.token){if(Tn(Jt))return re=Jt.name,O(T),Be=Oe(T),new c(new M(re),Be);if(wa(Jt))return O(T),Be=Oe(T),new c(Jt.object,Jt.index,Be);if(po(Jt)&&Tn(Jt.fn)&&(Ot=!0,Ce=[],re=Jt.name,Jt.args.forEach(function(pa,Hz){Tn(pa)?Ce[Hz]=pa.name:Ot=!1}),Ot))return O(T),Be=Oe(T),new l(re,Ce,Be);throw pn(T,"Invalid left hand side of assignment operator =")}return Jt}function je(T){for(var re=le(T);"xor"===T.token;)O(T),re=new f("xor","xor",[re,le(T)]);return re}function le(T){for(var re=pe(T);"and"===T.token;)O(T),re=new f("and","and",[re,pe(T)]);return re}function pe(T){for(var re=we(T);"|"===T.token;)O(T),re=new f("|","bitOr",[re,we(T)]);return re}function we(T){for(var re=Me(T);"^|"===T.token;)O(T),re=new f("^|","bitXor",[re,Me(T)]);return re}function Me(T){for(var re=Ze(T);"&"===T.token;)O(T),re=new f("&","bitAnd",[re,Ze(T)]);return re}function Ze(T){for(var re=[Ke(T)],Ce=[],Be={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ge(Be,T.token);)Ce.push({name:T.token,fn:Be[T.token]}),O(T),re.push(Ke(T));return 1===re.length?re[0]:2===re.length?new f(Ce[0].name,Ce[0].fn,re):new y(Ce.map(function(Jt){return Jt.fn}),re)}function Ke(T){var re,Ce,Be,Ot;re=lt(T);for(var Jt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ge(Jt,T.token);)Be=Jt[Ce=T.token],O(T),Ot=[re,lt(T)],re=new f(Ce,Be,Ot);return re}function lt(T){var re,Ce,Be,Ot;re=at(T);for(var Jt={to:"to",in:"to"};Ge(Jt,T.token);)Be=Jt[Ce=T.token],O(T),"in"===Ce&&""===T.token?re=new f("*","multiply",[re,new M("in")],!0):(Ot=[re,at(T)],re=new f(Ce,Be,Ot));return re}function at(T){var re,Ce=[];if(re=":"===T.token?new p(1):dt(T),":"===T.token&&T.conditionalLevel!==T.nestingLevel){for(Ce.push(re);":"===T.token&&Ce.length<3;)O(T),Ce.push(")"===T.token||"]"===T.token||","===T.token||""===T.token?new M("end"):dt(T));re=3===Ce.length?new w(Ce[0],Ce[2],Ce[1]):new w(Ce[0],Ce[1])}return re}function dt(T){var re,Ce,Be,Ot;re=G(T);for(var Jt={"+":"add","-":"subtract"};Ge(Jt,T.token);)Be=Jt[Ce=T.token],O(T),Ot=[re,G(T)],re=new f(Ce,Be,Ot);return re}function G(T){var re,Ce,Be,Ot;Ce=re=ie(T);for(var Jt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Ge(Jt,T.token);)Ot=Jt[Be=T.token],O(T),Ce=ie(T),re=new f(Be,Ot,[re,Ce]);return re}function ie(T){var re,Ce;for(Ce=re=Pe(T);3===T.tokenType||"in"===T.token&&nn(re)||2===T.tokenType&&!nn(Ce)&&(!tr(Ce)||"!"===Ce.op)||"("===T.token;)Ce=Pe(T),re=new f("*","multiply",[re,Ce],!0);return re}function Pe(T){for(var re=Ie(T),Ce=re,Be=[];"/"===T.token&&nn(Ce);){if(Be.push(Ci({},T)),O(T),2!==T.tokenType){Ci(T,Be.pop());break}if(Be.push(Ci({},T)),O(T),3!==T.tokenType&&"("!==T.token){Be.pop(),Ci(T,Be.pop());break}Ci(T,Be.pop()),Be.pop(),Ce=Ie(T),re=new f("/","divide",[re,Ce])}return re}function Ie(T){var re,Ce,Be,Ot={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ge(Ot,T.token)?(Be=Ot[T.token],re=T.token,O(T),Ce=[Ie(T)],new f(re,Be,Ce)):function He(T){var re,Ce,Be,Ot;return re=function Ve(T){var re,Ce,Be;re=function it(T){var re=[];if(3===T.tokenType&&Ge(T.extraNodes,T.token)){var Ce=T.extraNodes[T.token];if(B(T),"("===T.token){if(re=[],X(T),B(T),")"!==T.token)for(re.push(Oe(T));","===T.token;)B(T),re.push(Oe(T));if(")"!==T.token)throw pn(T,"Parenthesis ) expected");D(T),B(T)}return new Ce(re)}return function Mt(T){var Ce;return 3===T.tokenType||1===T.tokenType&&T.token in A?(Ce=T.token,B(T),bt(T,Ge(S,Ce)?new p(S[Ce]):-1!==N.indexOf(Ce)?new p(n(Ce,"number")):new M(Ce))):function Fn(T){var Ce;return'"'===T.token?(Ce=hn(T),bt(T,new p(Ce))):function jn(T){var Ce;return"'"===T.token?(Ce=ar(T),bt(T,new p(Ce))):function Di(T){var re,Ce,Be,Ot;if("["===T.token){if(X(T),B(T),"]"!==T.token){var Jt=Qr(T);if(";"===T.token){for(Be=1,Ce=[Jt];";"===T.token;)B(T),Ce[Be]=Qr(T),Be++;if("]"!==T.token)throw pn(T,"End of matrix ] expected");D(T),B(T),Ot=Ce[0].items.length;for(var pa=1;pa<Be;pa++)if(Ce[pa].items.length!==Ot)throw Ya(T,"Column dimensions mismatch ("+Ce[pa].items.length+" !== "+Ot+")");re=new o(Ce)}else{if("]"!==T.token)throw pn(T,"End of matrix ] expected");D(T),B(T),re=Jt}}else D(T),B(T),re=new o([]);return bt(T,re)}return function da(T){if("{"===T.token){X(T);var re,Ce={};do{if(B(T),"}"!==T.token){if('"'===T.token)re=hn(T);else if("'"===T.token)re=ar(T);else{if(!(3===T.tokenType||1===T.tokenType&&T.token in A))throw pn(T,"Symbol or string expected as object key");re=T.token,B(T)}if(":"!==T.token)throw pn(T,"Colon : expected after object key");B(T),Ce[re]=Oe(T)}}while(","===T.token);if("}"!==T.token)throw pn(T,"Comma , or bracket } expected after object value");D(T),B(T);var Be=new g(Ce);return bt(T,Be)}return function Fo(T){var re;return 2===T.tokenType?(re=T.token,B(T),new p(n(re,i.number))):function Ja(T){var re;if("("===T.token){if(X(T),B(T),re=Oe(T),")"!==T.token)throw pn(T,"Parenthesis ) expected");return D(T),B(T),bt(T,re=new h(re))}return function qs(T){throw pn(T,""===T.token?"Unexpected end of expression":"Value expected")}(T)}(T)}(T)}(T)}(T)}(T)}(T)}(T)}(T);for(var Jt={"!":"factorial","'":"ctranspose"};Ge(Jt,T.token);)Be=Jt[Ce=T.token],B(T),re=bt(T,re=new f(Ce,Be,[re]));return re}(T),("^"===T.token||".^"===T.token)&&(Be="^"===(Ce=T.token)?"pow":"dotPow",O(T),Ot=[re,Ie(T)],re=new f(Ce,Be,Ot)),re}(T)}function bt(T,re,Ce){for(var Be;!("("!==T.token&&"["!==T.token&&"."!==T.token||Ce&&-1===Ce.indexOf(T.token));)if(Be=[],"("===T.token){if(!Tn(re)&&!wa(re))return re;if(X(T),B(T),")"!==T.token)for(Be.push(Oe(T));","===T.token;)B(T),Be.push(Oe(T));if(")"!==T.token)throw pn(T,"Parenthesis ) expected");D(T),B(T),re=new u(re,Be)}else if("["===T.token){if(X(T),B(T),"]"!==T.token)for(Be.push(Oe(T));","===T.token;)B(T),Be.push(Oe(T));if("]"!==T.token)throw pn(T,"Parenthesis ] expected");D(T),B(T),re=new a(re,new m(Be))}else{if(B(T),3!==T.tokenType)throw pn(T,"Property name expected after dot");Be.push(new p(T.token)),B(T),re=new a(re,new m(Be,!0))}return re}function hn(T){for(var re="";""!==Z(T)&&'"'!==Z(T);)"\\"===Z(T)&&(re+=Z(T),V(T)),re+=Z(T),V(T);if(B(T),'"'!==T.token)throw pn(T,'End of string " expected');return B(T),JSON.parse('"'+re+'"')}function ar(T){for(var re="";""!==Z(T)&&"'"!==Z(T);)"\\"===Z(T)&&(re+=Z(T),V(T)),re+=Z(T),V(T);if(B(T),"'"!==T.token)throw pn(T,"End of string ' expected");return B(T),JSON.parse('"'+re+'"')}function Qr(T){for(var re=[Oe(T)],Ce=1;","===T.token;)B(T),re[Ce]=Oe(T),Ce++;return new o(re)}function Wa(T){return T.index-T.token.length+1}function pn(T,re){var Ce=Wa(T),Be=new SyntaxError(re+" (char "+Ce+")");return Be.char=Ce,Be}function Ya(T,re){var Ce=Wa(T),Be=new SyntaxError(re+" (char "+Ce+")");return Be.char=Ce,Be}return _.isAlpha=function(re,Ce,Be){return _.isValidLatinOrGreek(re)||_.isValidMathSymbol(re,Be)||_.isValidMathSymbol(Ce,re)},_.isValidLatinOrGreek=function(re){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(re)},_.isValidMathSymbol=function(re,Ce){return/^[\uD835]$/.test(re)&&/^[\uDC00-\uDFFF]$/.test(Ce)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ce)},_.isWhitespace=function(re,Ce){return" "===re||"\t"===re||"\n"===re&&Ce>0},_.isDecimalMark=function(re,Ce){return"."===re&&"/"!==Ce&&"*"!==Ce&&"^"!==Ce},_.isDigitDot=function(re){return re>="0"&&re<="9"||"."===re},_.isDigit=function(re){return re>="0"&&re<="9"},_.isHexDigit=function(re){return re>="0"&&re<="9"||re>="a"&&re<="f"||re>="A"&&re<="F"},_}),Tl="evaluate",Ew=W(Tl,["typed","parse"],function(t){var n=t.parse;return(0,t.typed)(Tl,{string:function(a){return n(a).compile().evaluate({})},"string, Object":function(a,o){return n(a).compile().evaluate(o)},"Array | Matrix":function(a){var o={};return We(a,function(c){return n(c).compile().evaluate(o)})},"Array | Matrix, Object":function(a,o){return We(a,function(c){return n(c).compile().evaluate(o)})}})}),Dw=W("Help",["parse"],function(t){var r=t.parse;function n(i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var i=this.doc||{},a="\n";if(i.name&&(a+="Name: "+i.name+"\n\n"),i.category&&(a+="Category: "+i.category+"\n\n"),i.description&&(a+="Description:\n    "+i.description+"\n\n"),i.syntax&&(a+="Syntax:\n    "+i.syntax.join("\n    ")+"\n\n"),i.examples){a+="Examples:\n";for(var o={},c=0;c<i.examples.length;c++){var d=i.examples[c];a+="    "+d+"\n";var s=void 0;try{s=r(d).compile().evaluate(o)}catch(p){s=p}void 0!==s&&!js(s)&&(a+="        "+Nt(s,{precision:14})+"\n")}a+="\n"}return i.seealso&&i.seealso.length&&(a+="See also: "+i.seealso.join(", ")+"\n"),a},n.prototype.toJSON=function(){var i=ut(this.doc);return i.mathjs="Help",i},n.fromJSON=function(i){var a={};return Object.keys(i).filter(function(o){return"mathjs"!==o}).forEach(function(o){a[o]=i[o]}),new n(a)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),Zw=W("Parser",["parse"],function(t){var r=t.parse;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(i){return r(i).compile().evaluate(this.scope)},n.prototype.get=function(i){return i in this.scope?Un(this.scope,i):void 0},n.prototype.getAll=function(){return jo({},this.scope)},n.prototype.set=function(i,a){return wi(this.scope,i,a)},n.prototype.remove=function(i){delete this.scope[i]},n.prototype.clear=function(){for(var i in this.scope)Ge(this.scope,i)&&delete this.scope[i]},n},{isClass:!0}),Il={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},El={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},LM={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:El,E:El,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Il,PI:Il,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},UM=W("help",["typed","mathWithTransform","Help"],function(t){var n=t.mathWithTransform,i=t.Help;return(0,t.typed)("help",{any:function(o){var c,d=o;if("string"!=typeof o)for(c in n)if(Ge(n,c)&&o===n[c]){d=c;break}var s=Un(LM,d);if(!s)throw new Error('No documentation found on "'+("function"==typeof d?d.name:d)+'"');return new i(s)}})}),kl="compile",FM=W(kl,["typed","parse"],function(t){var n=t.parse;return(0,t.typed)(kl,{string:function(a){return n(a).compile()},"Array | Matrix":function(a){return We(a,function(o){return n(o).compile()})}})}),Dl=W("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],function(t){var r=t.FunctionNode,n=t.OperatorNode,i=t.SymbolNode,a={add:!0,multiply:!0},o={add:!0,multiply:!0};function d(g,f){if(!tr(g))return!1;var h=g.fn.toString();return f&&Ge(f,h)&&Ge(f[h],"associative")?f[h].associative:o[h]||!1}function p(g){var f,h=[];return d(g)?(f=g.op,function y(M){for(var _=0;_<M.args.length;_++){var b=M.args[_];tr(b)&&f===b.op?y(b):h.push(b)}}(g),h):g.args}function m(g){return tr(g)?function(f){try{return new n(g.op,g.fn,f,g.implicit)}catch(h){return console.error(h),[]}}:function(f){return new r(new i(g.name),f)}}return{createMakeNodeFunction:m,isCommutative:function c(g,f){if(!tr(g))return!0;var h=g.fn.toString();return f&&Ge(f,h)&&Ge(f[h],"commutative")?f[h].commutative:a[h]||!1},isAssociative:d,flatten:function s(g){if(!g.args||0===g.args.length)return g;g.args=p(g);for(var f=0;f<g.args.length;f++)s(g.args[f])},allChildren:p,unflattenr:function l(g){if(g.args&&0!==g.args.length){for(var f=m(g),h=g.args.length,w=0;w<h;w++)l(g.args[w]);if(h>2&&d(g)){for(var y=g.args.pop();g.args.length>0;)y=f([g.args.pop(),y]);g.args=y.args}}},unflattenl:function u(g){if(g.args&&0!==g.args.length){for(var f=m(g),h=g.args.length,w=0;w<h;w++)u(g.args[w]);if(h>2&&d(g)){for(var y=g.args.shift();g.args.length>0;)y=f([y,g.args.shift()]);g.args=y.args}}}}}),ql=W("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],function(t){var r=t.equal,n=t.isZero,i=t.add,a=t.subtract,o=t.multiply,c=t.divide,d=t.pow,s=t.ConstantNode,p=t.OperatorNode,l=t.FunctionNode,u=t.ParenthesisNode,m=new s(0),g=new s(1);return function f(h){if(tr(h)&&h.isUnary()){var w=f(h.args[0]);if("+"===h.op)return w;if("-"===h.op){if(tr(w)){if(w.isUnary()&&"-"===w.op)return w.args[0];if(w.isBinary()&&"subtract"===w.fn)return new p("-","subtract",[w.args[1],w.args[0]])}return new p(h.op,h.fn,[w])}}else if(tr(h)&&h.isBinary()){var y=f(h.args[0]),M=f(h.args[1]);if("+"===h.op){if(nn(y)){if(n(y.value))return M;if(nn(M))return new s(i(y.value,M.value))}return nn(M)&&n(M.value)?y:tr(M)&&M.isUnary()&&"-"===M.op?new p("-","subtract",[y,M.args[0]]):new p(h.op,h.fn,M?[y,M]:[y])}if("-"===h.op){if(nn(y)&&M){if(nn(M))return new s(a(y.value,M.value));if(n(y.value))return new p("-","unaryMinus",[M])}if("subtract"===h.fn)return nn(M)&&n(M.value)?y:tr(M)&&M.isUnary()&&"-"===M.op?f(new p("+","add",[y,M.args[0]])):new p(h.op,h.fn,[y,M])}else{if("*"===h.op){if(nn(y)){if(n(y.value))return m;if(r(y.value,1))return M;if(nn(M))return new s(o(y.value,M.value))}if(nn(M)){if(n(M.value))return m;if(r(M.value,1))return y;if(tr(y)&&y.isBinary()&&y.op===h.op){var _=y.args[0];if(nn(_)){var b=new s(o(_.value,M.value));return new p(h.op,h.fn,[b,y.args[1]],h.implicit)}}return new p(h.op,h.fn,[M,y],h.implicit)}return new p(h.op,h.fn,[y,M],h.implicit)}if("/"===h.op){if(nn(y)){if(n(y.value))return m;if(nn(M)&&(r(M.value,1)||r(M.value,2)||r(M.value,4)))return new s(c(y.value,M.value))}return new p(h.op,h.fn,[y,M])}if("^"===h.op){if(nn(M)){if(n(M.value))return g;if(r(M.value,1))return y;if(nn(y))return new s(d(y.value,M.value));if(tr(y)&&y.isBinary()&&"^"===y.op){var x=y.args[1];if(nn(x))return new p(h.op,h.fn,[y.args[0],new s(o(x.value,M.value))])}}return new p(h.op,h.fn,[y,M])}}}else{if($i(h)){var v=f(h.content);return $i(v)||Tn(v)||nn(v)?v:new u(v)}if(po(h)){var A=h.args.map(f).map(function(S){return $i(S)?S.content:S});return new l(f(h.fn),A)}}return h}});function sc(){throw new Error('No "bignumber" implementation available')}function Pl(){throw new Error('No "fraction" implementation available')}function Zl(){throw new Error('No "matrix" implementation available')}var Ll=W("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],function(t){var r=t.typed,n=t.config,i=t.mathWithTransform,a=t.fraction,o=t.bignumber,c=t.ConstantNode,d=t.OperatorNode,s=t.FunctionNode,l=Dl({FunctionNode:s,OperatorNode:d,SymbolNode:t.SymbolNode}),u=l.isCommutative,m=l.isAssociative,g=l.allChildren,f=l.createMakeNodeFunction;function w(S,N,E){try{return _(i[S].apply(null,N),E)}catch{return N=N.map(function(Z){return so(Z)?Z.valueOf():Z}),_(i[S].apply(null,N),E)}}var y=r({Fraction:function x(S){var N,E=S.s*S.n;return N=E<0?new d("-","unaryMinus",[new c(-E)]):new c(E),1===S.d?N:new d("/","divide",[N,new c(S.d)])},number:function(N){return N<0?b(new c(-N)):new c(N)},BigNumber:function(N){return N<0?b(new c(-N)):new c(N)},Complex:function(N){throw new Error("Cannot convert Complex number to Node")}});function M(S,N){if(N&&!1!==N.exactFractions&&isFinite(S)&&a){var P=a(S);if(P.valueOf()===S)return P}return S}var _=r({"string, Object":function(N,E){return"BigNumber"===n.number?(void 0===o&&sc(),o(N)):"Fraction"===n.number?(void 0===a&&Pl(),a(N)):M(parseFloat(N),E)},"Fraction, Object":function(N,E){return N},"BigNumber, Object":function(N,E){return N},"number, Object":function(N,E){return M(N,E)},"Complex, Object":function(N,E){return 0!==N.im?N:M(N.re,E)}});function b(S){return new d("-","unaryMinus",[S])}function v(S,N,E,P){return N.reduce(function(Z,V){if(Qt(Z)||Qt(V))Qt(Z)?Qt(V)||(V=y(V)):Z=y(Z);else{try{return w(S,[Z,V],P)}catch{}Z=y(Z),V=y(V)}return E([Z,V])})}function A(S,N){switch(S.type){case"SymbolNode":return S;case"ConstantNode":return"number"!=typeof S.value&&isNaN(S.value)?S:_(S.value,N);case"FunctionNode":if(i[S.name]&&i[S.name].rawArgs)return S;if(-1===["add","multiply"].indexOf(S.name)){var P=S.args.map(function(D){return A(D,N)});if(!P.some(Qt))try{return w(S.name,P,N)}catch{}return P=P.map(function(D){return Qt(D)?D:y(D)}),new s(S.name,P)}case"OperatorNode":var V,U,Z=S.fn.toString(),j=f(S);if(tr(S)&&S.isUnary())U=Qt((V=[A(S.args[0],N)])[0])?j(V):w(Z,V,N);else if(m(S))if(V=(V=g(S)).map(function(D){return A(D,N)}),u(Z)){for(var B=[],O=[],X=0;X<V.length;X++)Qt(V[X])?O.push(V[X]):B.push(V[X]);B.length>1?(U=v(Z,B,j,N),O.unshift(U),U=v(Z,O,j,N)):U=v(Z,V,j,N)}else U=v(Z,V,j,N);else U=v(Z,V=S.args.map(function(D){return A(D,N)}),j,N);return U;case"ParenthesisNode":return A(S.content,N);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(S.type))}}return function h(S,N){var E=A(S,N);return Qt(E)?E:y(E)}}),jM=W("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],function(t){var r=t.parse,n=t.FunctionNode,i=t.OperatorNode,a=t.ParenthesisNode;return function o(c,d){if(!d)return c;if(Tn(c)){var s=d[c.name];if(Qt(s))return o(s,d);if("number"==typeof s)return r(String(s))}else{if(tr(c)){var p=c.args.map(function(u){return o(u,d)});return new i(c.op,c.fn,p,c.implicit)}if($i(c))return new a(o(c.content,d));if(po(c)){var l=c.args.map(function(u){return o(u,d)});return new n(c.name,l)}}return c}});function us(t){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var XM=W("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],function(t){var n=t.typed,i=t.parse,a=t.add,o=t.subtract,c=t.multiply,d=t.divide,s=t.pow,p=t.isZero,l=t.equal,f=t.ConstantNode,h=t.FunctionNode,w=t.OperatorNode,y=t.ParenthesisNode,M=t.SymbolNode,_=Ll({typed:n,config:t.config,mathWithTransform:t.mathWithTransform,fraction:t.fraction,bignumber:t.bignumber,ConstantNode:f,OperatorNode:w,FunctionNode:h,SymbolNode:M}),b=ql({equal:l,isZero:p,add:a,subtract:o,multiply:c,divide:d,pow:s,ConstantNode:f,OperatorNode:w,FunctionNode:h,ParenthesisNode:y}),x=jM({parse:i,FunctionNode:h,OperatorNode:w,ParenthesisNode:y}),v=Dl({FunctionNode:h,OperatorNode:w,SymbolNode:M}),A=v.isCommutative,S=v.isAssociative,N=v.flatten,E=v.unflattenr,P=v.unflattenl,Z=v.createMakeNodeFunction,V=n("simplify",{string:function(pe){return this(i(pe),this.rules,{},{})},"string, Object":function(pe,we){return this(i(pe),this.rules,we,{})},"string, Object, Object":function(pe,we,Me){return this(i(pe),this.rules,we,Me)},"string, Array":function(pe,we){return this(i(pe),we,{},{})},"string, Array, Object":function(pe,we,Me){return this(i(pe),we,Me,{})},"string, Array, Object, Object":function(pe,we,Me,Ze){return this(i(pe),we,Me,Ze)},"Node, Object":function(pe,we){return this(pe,this.rules,we,{})},"Node, Object, Object":function(pe,we,Me){return this(pe,this.rules,we,Me)},Node:function(pe){return this(pe,this.rules,{},{})},"Node, Array":function(pe,we){return this(pe,we,{},{})},"Node, Array, Object":function(pe,we,Me){return this(pe,we,Me,{})},"Node, Array, Object, Object":function(pe,we,Me,Ze){we=function B(le){for(var pe=[],we=0;we<le.length;we++){var Me=le[we],Ze=void 0,Ke=us(Me);switch(Ke){case"string":var lt=Me.split("->");if(2!==lt.length)throw SyntaxError("Could not parse rule: "+Me);Me={l:lt[0],r:lt[1]};case"object":if(Ze={l:U(i(Me.l)),r:U(i(Me.r))},Me.context&&(Ze.evaluate=Me.context),Me.evaluate&&(Ze.evaluate=i(Me.evaluate)),S(Ze.l)){var at=Z(Ze.l),dt=new M("_p"+O++);Ze.expanded={},Ze.expanded.l=at([Ze.l.clone(),dt]),N(Ze.expanded.l),E(Ze.expanded.l),Ze.expanded.r=at([Ze.r,dt])}break;case"function":Ze=Me;break;default:throw TypeError("Unsupported type of rule: "+Ke)}pe.push(Ze)}return pe}(we);for(var Ke=x(pe,Me),lt={},at=(Ke=U(Ke)).toString({parenthesis:"all"});!lt[at];){lt[at]=!0,O=0;for(var dt=0;dt<we.length;dt++)"function"==typeof we[dt]?Ke=we[dt](Ke,Ze):(N(Ke),Ke=D(Ke,we[dt])),P(Ke);at=Ke.toString({parenthesis:"all"})}return Ke}});function U(le){return le.transform(function(pe,we,Me){return $i(pe)?U(pe.content):pe})}V.simplifyCore=b,V.resolve=x;var j={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};V.rules=[b,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},_,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var O=0;var D=n("applyRule",{"Node, Object":function(pe,we){var Me=pe;if(Me instanceof w||Me instanceof h){if(Me.args)for(var Ze=0;Ze<Me.args.length;Ze++)Me.args[Ze]=D(Me.args[Ze],we)}else Me instanceof y&&Me.content&&(Me.content=D(Me.content,we));var Ke=we.r,lt=Ae(we.l,Me)[0];if(!lt&&we.expanded&&(Ke=we.expanded.r,lt=Ae(we.expanded.l,Me)[0]),lt){var at=Me.implicit;Me=Ke.clone(),at&&"implicit"in Ke&&(Me.implicit=!0),Me=Me.transform(function(dt){return dt.isSymbolNode&&Ge(lt.placeholders,dt.name)?lt.placeholders[dt.name].clone():dt})}return Me}});function ye(le,pe){var we={placeholders:{}};if(!le.placeholders&&!pe.placeholders)return we;if(!le.placeholders)return pe;if(!pe.placeholders)return le;for(var Me in le.placeholders)if(Ge(le.placeholders,Me)&&(we.placeholders[Me]=le.placeholders[Me],Ge(pe.placeholders,Me)&&!je(le.placeholders[Me],pe.placeholders[Me])))return null;for(var Ze in pe.placeholders)Ge(pe.placeholders,Ze)&&(we.placeholders[Ze]=pe.placeholders[Ze]);return we}function Oe(le,pe){var we=[];if(0===le.length||0===pe.length)return we;for(var Me,Ze=0;Ze<le.length;Ze++)for(var Ke=0;Ke<pe.length;Ke++)(Me=ye(le[Ze],pe[Ke]))&&we.push(Me);return we}function Ae(le,pe,we){var Me=[{placeholders:{}}];if(le instanceof w&&pe instanceof w||le instanceof h&&pe instanceof h){if(le instanceof w){if(le.op!==pe.op||le.fn!==pe.fn)return[]}else if(le instanceof h&&le.name!==pe.name)return[];if((1!==pe.args.length||1!==le.args.length)&&S(pe)&&!we){if(pe.args.length>=2&&2===le.args.length){for(var at=function de(le,pe){var Me,Ze,we=[],Ke=Z(le);if(A(le,pe))for(var lt=0;lt<le.args.length;lt++)(Ze=le.args.slice(0)).splice(lt,1),Me=1===Ze.length?Ze[0]:Ke(Ze),we.push(Ke([le.args[lt],Me]));else Me=1===(Ze=le.args.slice(1)).length?Ze[0]:Ke(Ze),we.push(Ke([le.args[0],Me]));return we}(pe,le.context),dt=[],G=0;G<at.length;G++){var ie=Ae(le,at[G],!0);dt=dt.concat(ie)}return dt}if(le.args.length>2)throw Error("Unexpected non-binary associative function: "+le.toString());return[]}for(var Ze=[],Ke=0;Ke<le.args.length;Ke++){var lt=Ae(le.args[Ke],pe.args[Ke]);if(0===lt.length)return[];Ze.push(lt)}Me=function oe(le){if(0===le.length)return le;for(var pe=le.reduce(Oe),we=[],Me={},Ze=0;Ze<pe.length;Ze++){var Ke=JSON.stringify(pe[Ze]);Me[Ke]||(Me[Ke]=!0,we.push(pe[Ze]))}return we}(Ze)}else if(le instanceof M){if(0===le.name.length)throw new Error("Symbol in rule has 0 length...!?");if(j[le.name]){if(le.name!==pe.name)return[]}else if("n"===le.name[0]||"_p"===le.name.substring(0,2))Me[0].placeholders[le.name]=pe;else if("v"===le.name[0]){if(nn(pe))return[];Me[0].placeholders[le.name]=pe}else{if("c"!==le.name[0])throw new Error("Invalid symbol in rule: "+le.name);if(!(pe instanceof f))return[];Me[0].placeholders[le.name]=pe}}else{if(!(le instanceof f))return[];if(!l(le.value,pe.value))return[]}return Me}function je(le,pe){if(le instanceof f&&pe instanceof f){if(!l(le.value,pe.value))return!1}else if(le instanceof M&&pe instanceof M){if(le.name!==pe.name)return!1}else{if(!(le instanceof w&&pe instanceof w||le instanceof h&&pe instanceof h))return!1;if(le instanceof w){if(le.op!==pe.op||le.fn!==pe.fn)return!1}else if(le instanceof h&&le.name!==pe.name)return!1;if(le.args.length!==pe.args.length)return!1;for(var we=0;we<le.args.length;we++)if(!je(le.args[we],pe.args[we]))return!1}return!0}return V}),Rl="rationalize",tS=W(Rl,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],function(t){var n=t.typed,i=t.equal,a=t.isZero,o=t.add,c=t.subtract,d=t.multiply,s=t.divide,p=t.pow,l=t.parse,u=t.simplify,h=t.ConstantNode,w=t.OperatorNode,y=t.FunctionNode,M=t.SymbolNode,_=t.ParenthesisNode,b=Ll({typed:n,config:t.config,mathWithTransform:t.mathWithTransform,fraction:t.fraction,bignumber:t.bignumber,ConstantNode:h,OperatorNode:w,FunctionNode:y,SymbolNode:M}),x=ql({equal:i,isZero:a,add:o,subtract:c,multiply:d,divide:s,pow:p,ConstantNode:h,OperatorNode:w,FunctionNode:y,ParenthesisNode:_});return n(Rl,{string:function(P){return this(l(P),{},!1)},"string, boolean":function(P,Z){return this(l(P),{},Z)},"string, Object":function(P,Z){return this(l(P),Z,!1)},"string, Object, boolean":function(P,Z,V){return this(l(P),Z,V)},Node:function(P){return this(P,{},!1)},"Node, boolean":function(P,Z){return this(P,{},Z)},"Node, Object":function(P,Z){return this(P,Z,!1)},"Node, Object, boolean":function(P,Z,V){var U=function A(){var E=[x,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},b,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],V=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],U={};return U.firstRules=E.concat(P,V),U.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],U.sucDivRules=V,U.firstRulesAgain=E.concat(P),U.finalRules=[x,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},b,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],U}(),j=function v(E,P,Z,V){var U=[],j=u(E,V,P,{exactFractions:!1}),B="+-*"+((Z=!!Z)?"/":"");!function X(D){var de=D.type;if("FunctionNode"===de)throw new Error("There is an unsolved function call");if("OperatorNode"===de)if("^"===D.op){if("ConstantNode"!==D.args[1].type||!nt(parseFloat(D.args[1].value)))throw new Error("There is a non-integer exponent");X(D.args[0])}else{if(-1===B.indexOf(D.op))throw new Error("Operator "+D.op+" invalid in polynomial expression");for(var ye=0;ye<D.args.length;ye++)X(D.args[ye])}else if("SymbolNode"===de){var Oe=D.name;-1===U.indexOf(Oe)&&U.push(Oe)}else if("ParenthesisNode"===de)X(D.content);else if("ConstantNode"!==de)throw new Error("type "+de+" is not allowed in polynomial expression")}(j);var O={};return O.expression=j,O.variables=U,O}(P,Z,!0,U.firstRules),B=j.variables.length;if(P=j.expression,B>=1){P=S(P);var O,X,ye,D=!0,de=!1;for(P=u(P,U.firstRules,{},{exactFractions:!1});X=D?U.distrDivRules:U.sucDivRules,D=!D,(ye=(P=u(P,X)).toString())!==O;)de=!0,O=ye;de&&(P=u(P,U.firstRulesAgain,{},{exactFractions:!1})),P=u(P,U.finalRules,{},{exactFractions:!1})}var Oe=[],oe={};return"OperatorNode"===P.type&&P.isBinary()&&"/"===P.op?(1===B&&(P.args[0]=N(P.args[0],Oe),P.args[1]=N(P.args[1])),V&&(oe.numerator=P.args[0],oe.denominator=P.args[1])):(1===B&&(P=N(P,Oe)),V&&(oe.numerator=P,oe.denominator=null)),V?(oe.coefficients=Oe,oe.variables=j.variables,oe.expression=P,oe):P}});function S(E,P,Z){var V=E.type,U=arguments.length>1;if("OperatorNode"===V&&E.isBinary()){var B,j=!1;if("^"===E.op&&("ParenthesisNode"===E.args[0].type||"OperatorNode"===E.args[0].type)&&"ConstantNode"===E.args[1].type&&(j=(B=parseFloat(E.args[1].value))>=2&&nt(B)),j){if(B>2){var O=E.args[0],X=new w("^","pow",[E.args[0].cloneDeep(),new h(B-1)]);E=new w("*","multiply",[O,X])}else E=new w("*","multiply",[E.args[0],E.args[0].cloneDeep()]);U&&("content"===Z?P.content=E:P.args[Z]=E)}}if("ParenthesisNode"===V)S(E.content,E,"content");else if("ConstantNode"!==V&&"SymbolNode"!==V)for(var D=0;D<E.args.length;D++)S(E.args[D],E,D);if(!U)return E}function N(E,P){void 0===P&&(P=[]),P[0]=0;var V=0,U="";!function Oe(oe,Ae,je){var le=oe.type;if("FunctionNode"===le)throw new Error("There is an unsolved function call");if("OperatorNode"===le){if(-1==="+-*^".indexOf(oe.op))throw new Error("Operator "+oe.op+" invalid");if(null!==Ae){if(("unaryMinus"===oe.fn||"pow"===oe.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn&&"multiply"!==Ae.fn)throw new Error("Invalid "+oe.op+" placing");if(("subtract"===oe.fn||"add"===oe.fn||"multiply"===oe.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn)throw new Error("Invalid "+oe.op+" placing");if(("subtract"===oe.fn||"add"===oe.fn||"unaryMinus"===oe.fn)&&0!==je.noFil)throw new Error("Invalid "+oe.op+" placing")}("^"===oe.op||"*"===oe.op)&&(je.fire=oe.op);for(var pe=0;pe<oe.args.length;pe++)"unaryMinus"===oe.fn&&(je.oper="-"),("+"===oe.op||"subtract"===oe.fn)&&(je.fire="",je.cte=1,je.oper=0===pe?"+":oe.op),je.noFil=pe,Oe(oe.args[pe],oe,je)}else if("SymbolNode"===le){if(oe.name!==U&&""!==U)throw new Error("There is more than one variable");if(U=oe.name,null===Ae)return void(P[1]=1);if("^"===Ae.op&&0!==je.noFil)throw new Error("In power the variable should be the first parameter");if("*"===Ae.op&&1!==je.noFil)throw new Error("In multiply the variable should be the second parameter");(""===je.fire||"*"===je.fire)&&(V<1&&(P[1]=0),P[1]+=je.cte*("+"===je.oper?1:-1),V=Math.max(1,V))}else{if("ConstantNode"!==le)throw new Error("Type "+le+" is not allowed");var we=parseFloat(oe.value);if(null===Ae)return void(P[0]=we);if("^"===Ae.op){if(1!==je.noFil)throw new Error("Constant cannot be powered");if(!nt(we)||we<=0)throw new Error("Non-integer exponent is not allowed");for(var Me=V+1;Me<we;Me++)P[Me]=0;return we>V&&(P[we]=0),P[we]+=je.cte*("+"===je.oper?1:-1),void(V=Math.max(we,V))}je.cte=we,""===je.fire&&(P[0]+=je.cte*("+"===je.oper?1:-1))}}(E,null,{cte:1,oper:"+",fire:""});for(var B,j=!0,O=V=P.length-1;O>=0;O--)if(0!==P[O]){var X=new h(j?P[O]:Math.abs(P[O])),D=P[O]<0?"-":"+";if(O>0){var de=new M(U);if(O>1){var ye=new h(O);de=new w("^","pow",[de,ye])}X=-1===P[O]&&j?new w("-","unaryMinus",[de]):1===Math.abs(P[O])?de:new w("*","multiply",[X,de])}B=j?X:"+"===D?new w("+","add",[B,X]):new w("-","subtract",[B,X]),j=!1}return j?new h(0):B}}),rS=W("parser",["typed","Parser"],function(t){var n=t.Parser;return(0,t.typed)("parser",{"":function(){return new n}})}),oS=W("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],function(t){var r=t.typed,n=t.config,i=t.parse,a=t.simplify,o=t.equal,c=t.isZero,d=t.numeric,s=t.ConstantNode,p=t.FunctionNode,l=t.OperatorNode,u=t.ParenthesisNode,m=t.SymbolNode,g=r("derivative",{"Node, SymbolNode, Object":function(b,x,v){var A={};h(A,b,x.name);var S=w(b,A);return v.simplify?a(S):S},"Node, SymbolNode":function(b,x){return this(b,x,{simplify:!0})},"string, SymbolNode":function(b,x){return this(i(b),x)},"string, SymbolNode, Object":function(b,x,v){return this(i(b),x,v)},"string, string":function(b,x){return this(i(b),i(x))},"string, string, Object":function(b,x,v){return this(i(b),i(x),v)},"Node, string":function(b,x){return this(b,i(x))},"Node, string, Object":function(b,x,v){return this(b,i(x),v)}});g._simplify=!0,g.toTex=function(_){return f.apply(null,_.args)};var f=r("_derivTex",{"Node, SymbolNode":function(b,x){return nn(b)&&"string"===rn(b.value)?f(i(b.value).toString(),x.toString(),1):f(b.toString(),x.toString(),1)},"Node, ConstantNode":function(b,x){if("string"===rn(x.value))return f(b,i(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(b,x,v){return f(b.toString(),x.name,v.value)},"string, string, number":function(b,x,v){return(1===v?"{d\\over d"+x+"}":"{d^{"+v+"}\\over d"+x+"^{"+v+"}}")+"\\left[".concat(b,"\\right]")}}),h=r("constTag",{"Object, ConstantNode, string":function(b,x){return b[x]=!0,!0},"Object, SymbolNode, string":function(b,x,v){return x.name!==v&&(b[x]=!0,!0)},"Object, ParenthesisNode, string":function(b,x,v){return h(b,x.content,v)},"Object, FunctionAssignmentNode, string":function(b,x,v){return-1===x.params.indexOf(v)?(b[x]=!0,!0):h(b,x.expr,v)},"Object, FunctionNode | OperatorNode, string":function(b,x,v){if(x.args.length>0){for(var A=h(b,x.args[0],v),S=1;S<x.args.length;++S)A=h(b,x.args[S],v)&&A;if(A)return b[x]=!0,!0}return!1}}),w=r("_derivative",{"ConstantNode, Object":function(b){return M(0)},"SymbolNode, Object":function(b,x){return M(void 0!==x[b]?0:1)},"ParenthesisNode, Object":function(b,x){return new u(w(b.content,x))},"FunctionAssignmentNode, Object":function(b,x){return void 0!==x[b]?M(0):w(b.expr,x)},"FunctionNode, Object":function(b,x){if(1!==b.args.length&&function y(_){if("log"!==_.name&&"nthRoot"!==_.name&&"pow"!==_.name||2!==_.args.length){for(var b=0;b<_.args.length;++b)_.args[b]=M(0);throw _.compile().evaluate(),new Error("Expected TypeError, but none found")}}(b),void 0!==x[b])return M(0);var A,E,P,Z,v=b.args[0],S=!1,N=!1;switch(b.name){case"cbrt":S=!0,E=new l("*","multiply",[M(3),new l("^","pow",[v,new l("/","divide",[M(2),M(3)])])]);break;case"sqrt":case"nthRoot":if(1===b.args.length)S=!0,E=new l("*","multiply",[M(2),new p("sqrt",[v])]);else if(2===b.args.length)return x[A=new l("/","divide",[M(1),b.args[1]])]=x[b.args[1]],w(new l("^","pow",[v,A]),x);break;case"log10":A=M(10);case"log":if(A||1!==b.args.length){if(1===b.args.length&&A||2===b.args.length&&void 0!==x[b.args[1]])E=new l("*","multiply",[v.clone(),new p("log",[A||b.args[1]])]),S=!0;else if(2===b.args.length)return w(new l("/","divide",[new p("log",[v]),new p("log",[b.args[1]])]),x)}else E=v.clone(),S=!0;break;case"pow":return x[A]=x[b.args[1]],w(new l("^","pow",[v,b.args[1]]),x);case"exp":E=new p("exp",[v.clone()]);break;case"sin":E=new p("cos",[v.clone()]);break;case"cos":E=new l("-","unaryMinus",[new p("sin",[v.clone()])]);break;case"tan":E=new l("^","pow",[new p("sec",[v.clone()]),M(2)]);break;case"sec":E=new l("*","multiply",[b,new p("tan",[v.clone()])]);break;case"csc":N=!0,E=new l("*","multiply",[b,new p("cot",[v.clone()])]);break;case"cot":N=!0,E=new l("^","pow",[new p("csc",[v.clone()]),M(2)]);break;case"asin":S=!0,E=new p("sqrt",[new l("-","subtract",[M(1),new l("^","pow",[v.clone(),M(2)])])]);break;case"acos":S=!0,N=!0,E=new p("sqrt",[new l("-","subtract",[M(1),new l("^","pow",[v.clone(),M(2)])])]);break;case"atan":S=!0,E=new l("+","add",[new l("^","pow",[v.clone(),M(2)]),M(1)]);break;case"asec":S=!0,E=new l("*","multiply",[new p("abs",[v.clone()]),new p("sqrt",[new l("-","subtract",[new l("^","pow",[v.clone(),M(2)]),M(1)])])]);break;case"acsc":S=!0,N=!0,E=new l("*","multiply",[new p("abs",[v.clone()]),new p("sqrt",[new l("-","subtract",[new l("^","pow",[v.clone(),M(2)]),M(1)])])]);break;case"acot":S=!0,N=!0,E=new l("+","add",[new l("^","pow",[v.clone(),M(2)]),M(1)]);break;case"sinh":E=new p("cosh",[v.clone()]);break;case"cosh":E=new p("sinh",[v.clone()]);break;case"tanh":E=new l("^","pow",[new p("sech",[v.clone()]),M(2)]);break;case"sech":N=!0,E=new l("*","multiply",[b,new p("tanh",[v.clone()])]);break;case"csch":N=!0,E=new l("*","multiply",[b,new p("coth",[v.clone()])]);break;case"coth":N=!0,E=new l("^","pow",[new p("csch",[v.clone()]),M(2)]);break;case"asinh":S=!0,E=new p("sqrt",[new l("+","add",[new l("^","pow",[v.clone(),M(2)]),M(1)])]);break;case"acosh":S=!0,E=new p("sqrt",[new l("-","subtract",[new l("^","pow",[v.clone(),M(2)]),M(1)])]);break;case"atanh":S=!0,E=new l("-","subtract",[M(1),new l("^","pow",[v.clone(),M(2)])]);break;case"asech":S=!0,N=!0,E=new l("*","multiply",[v.clone(),new p("sqrt",[new l("-","subtract",[M(1),new l("^","pow",[v.clone(),M(2)])])])]);break;case"acsch":S=!0,N=!0,E=new l("*","multiply",[new p("abs",[v.clone()]),new p("sqrt",[new l("+","add",[new l("^","pow",[v.clone(),M(2)]),M(1)])])]);break;case"acoth":S=!0,N=!0,E=new l("-","subtract",[M(1),new l("^","pow",[v.clone(),M(2)])]);break;case"abs":E=new l("/","divide",[new p(new m("abs"),[v.clone()]),v.clone()]);break;default:throw new Error('Function "'+b.name+'" is not supported by derivative, or a wrong number of arguments is passed')}S?(P="/",Z="divide"):(P="*",Z="multiply");var V=w(v,x);return N&&(V=new l("-","unaryMinus",[V])),new l(P,Z,[V,E])},"OperatorNode, Object":function(b,x){if(void 0!==x[b])return M(0);if("+"===b.op)return new l(b.op,b.fn,b.args.map(function(j){return w(j,x)}));if("-"===b.op){if(b.isUnary())return new l(b.op,b.fn,[w(b.args[0],x)]);if(b.isBinary())return new l(b.op,b.fn,[w(b.args[0],x),w(b.args[1],x)])}if("*"===b.op){var v=b.args.filter(function(j){return void 0!==x[j]});if(v.length>0){var A=b.args.filter(function(j){return void 0===x[j]}),S=1===A.length?A[0]:new l("*","multiply",A),N=v.concat(w(S,x));return new l("*","multiply",N)}return new l("+","add",b.args.map(function(j){return new l("*","multiply",b.args.map(function(B){return B===j?w(B,x):B.clone()}))}))}if("/"===b.op&&b.isBinary()){var E=b.args[0],P=b.args[1];return void 0!==x[P]?new l("/","divide",[w(E,x),P]):void 0!==x[E]?new l("*","multiply",[new l("-","unaryMinus",[E]),new l("/","divide",[w(P,x),new l("^","pow",[P.clone(),M(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[w(E,x),P.clone()]),new l("*","multiply",[E.clone(),w(P,x)])]),new l("^","pow",[P.clone(),M(2)])])}if("^"===b.op&&b.isBinary()){var Z=b.args[0],V=b.args[1];if(void 0!==x[Z])return nn(Z)&&(c(Z.value)||o(Z.value,1))?M(0):new l("*","multiply",[b,new l("*","multiply",[new p("log",[Z.clone()]),w(V.clone(),x)])]);if(void 0!==x[V]){if(nn(V)){if(c(V.value))return M(0);if(o(V.value,1))return w(Z,x)}var U=new l("^","pow",[Z.clone(),new l("-","subtract",[V,M(1)])]);return new l("*","multiply",[V.clone(),new l("*","multiply",[w(Z,x),U])])}return new l("*","multiply",[new l("^","pow",[Z.clone(),V.clone()]),new l("+","add",[new l("*","multiply",[w(Z,x),new l("/","divide",[V.clone(),Z.clone()])]),new l("*","multiply",[w(V,x),new p("log",[Z.clone()])])])])}throw new Error('Operator "'+b.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function M(_,b){return new s(d(_,b||n.number))}return g}),Fl=W("apply",["typed","isInteger"],function(t){var n=t.isInteger;return(0,t.typed)("apply",{"Array | Matrix, number | BigNumber, function":function(a,o,c){if(!n(o))throw new TypeError("Integer number expected for dimension");var d=Array.isArray(a)?kt(a):a.size();if(o<0||o>=d.length)throw new Pr(o,d.length);return wt(a)?a.create(ls(a.valueOf(),o,c)):ls(a,o,c)}})});function ls(t,r,n){var i,a,o;if(r<=0){if(Array.isArray(t[0])){for(o=function cS(t){var i,a,r=t.length,n=t[0].length,o=[];for(a=0;a<n;a++){var c=[];for(i=0;i<r;i++)c.push(t[i][a]);o.push(c)}return o}(t),a=[],i=0;i<o.length;i++)a[i]=ls(o[i],r-1,n);return a}return n(t)}for(a=[],i=0;i<t.length;i++)a[i]=ls(t[i],r-1,n);return a}var dS=W("apply",["typed","isInteger"],function(t){var r=t.typed,i=Fl({typed:r,isInteger:t.isInteger});return r("apply",{"...any":function(o){var c=o[1];Tt(c)?o[1]=c-1:vt(c)&&(o[1]=c.minus(1));try{return i.apply(null,o)}catch(d){throw sr(d)}}})},{isTransformFunction:!0});function ds(t){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function ps(t,r){return function n(){"object"!==ds(n.cache)&&(n.cache={});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=r?r(i):JSON.stringify(i);return o in n.cache||(n.cache[o]=t.apply(t,i)),n.cache[o]}}function Ta(t){return Object.keys(t.signatures||{}).reduce(function(r,n){var i=(n.match(/,/g)||[]).length+1;return Math.max(r,i)},-1)}function cc(t,r,n){var i=t.filter(function(d){return Tn(d)&&!(d.name in r)&&!(d.name in n)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+t+'"');var a=i.name,o=Object.create(n),c=t.compile();return function(s){return o[a]=s,c.evaluate(o)}}var fS=W("filter",["typed"],function(t){var r=t.typed;function n(a,o,c){var d,s;return a[0]&&(d=a[0].compile().evaluate(c)),a[1]&&(s=Tn(a[1])||lo(a[1])?a[1].compile().evaluate(c):cc(a[1],o,c)),i(d,s)}n.rawArgs=!0;var i=r("filter",{"Array, function":zl,"Matrix, function":function(o,c){return o.create(zl(o.toArray(),c))},"Array, RegExp":ns,"Matrix, RegExp":function(o,c){return o.create(ns(o.toArray(),c))}});return n},{isTransformFunction:!0});function zl(t,r){var n=Ta(r);return _l(t,function(i,a,o){return 1===n?r(i):2===n?r(i,[a+1]):r(i,[a+1],o)})}var vS=W("map",["typed"],function(t){var r=t.typed;function n(a,o,c){var d,s;return a[0]&&(d=a[0].compile().evaluate(c)),a[1]&&(s=Tn(a[1])||lo(a[1])?a[1].compile().evaluate(c):cc(a[1],o,c)),i(d,s)}n.rawArgs=!0;var i=r("map",{"Array, function":function(o,c){return Hl(o,c,o)},"Matrix, function":function(o,c){return o.create(Hl(o.valueOf(),c,o))}});return n},{isTransformFunction:!0});function Hl(t,r,n){var i=Ta(r);return function a(o,c){return Array.isArray(o)?gr(o,function(d,s){return a(d,c.concat(s+1))}):1===i?r(o):2===i?r(o,c):r(o,c,n)}(t,[])}var yS=W("forEach",["typed"],function(t){var r=t.typed;function n(a,o,c){var d,s;return a[0]&&(d=a[0].compile().evaluate(c)),a[1]&&(s=Tn(a[1])||lo(a[1])?a[1].compile().evaluate(c):cc(a[1],o,c)),i(d,s)}n.rawArgs=!0;var i=r("forEach",{"Array | Matrix, function":function(o,c){var d=Ta(c);!function p(l,u){Array.isArray(l)?ts(l,function(m,g){p(m,u.concat(g+1))}):1===d?c(l):2===d?c(l,u):c(l,u,o)}(o.valueOf(),[])}});return n},{isTransformFunction:!0}),Vl=W("subset",["typed","matrix"],function(t){var n=t.matrix;return(0,t.typed)("subset",{"Array, Index":function(a,o){var d=n(a).subset(o);return o.isScalar()?d:d.valueOf()},"Matrix, Index":function(a,o){return a.subset(o)},"Object, Index":CS,"string, Index":wS,"Array, Index, any":function(a,o,c){return n(ut(a)).subset(o,c,void 0).valueOf()},"Array, Index, any, any":function(a,o,c,d){return n(ut(a)).subset(o,c,d).valueOf()},"Matrix, Index, any":function(a,o,c){return a.clone().subset(o,c)},"Matrix, Index, any, any":function(a,o,c,d){return a.clone().subset(o,c,d)},"string, Index, string":Jl,"string, Index, string, string":Jl,"Object, Index, any":MS})});function wS(t,r){if(!uo(r))throw new TypeError("Index expected");if(1!==r.size().length)throw new Ct(r.size().length,1);var n=t.length;an(r.min()[0],n),an(r.max()[0],n);var i=r.dimension(0),a="";return i.forEach(function(o){a+=t.charAt(o)}),a}function Jl(t,r,n,i){if(!r||!0!==r.isIndex)throw new TypeError("Index expected");if(1!==r.size().length)throw new Ct(r.size().length,1);if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var a=r.dimension(0);if(a.size()[0]!==n.length)throw new Ct(a.size()[0],n.length);var c=t.length;an(r.min()[0]),an(r.max()[0]);for(var d=[],s=0;s<c;s++)d[s]=t.charAt(s);if(a.forEach(function(u,m){d[u]=n.charAt(m[0])}),d.length>c)for(var p=c-1,l=d.length;p<l;p++)d[p]||(d[p]=i);return d.join("")}function CS(t,r){if(1!==r.size().length)throw new Ct(r.size(),1);var n=r.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return Un(t,n)}function MS(t,r,n){if(1!==r.size().length)throw new Ct(r.size(),1);var i=r.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var a=ut(t);return wi(a,i,n),a}var AS=W("subset",["typed","matrix"],function(t){var r=t.typed,i=Vl({typed:r,matrix:t.matrix});return r("subset",{"...any":function(o){try{return i.apply(null,o)}catch(c){throw sr(c)}}})},{isTransformFunction:!0}),ES=W("index",["Index"],function(t){var r=t.Index;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var c=arguments[a];if(Yo(c))c.start--,c.end-=c.step>0?0:2;else if(c&&!0===c.isSet)c=c.map(function(s){return s-1});else if(Kt(c)||wt(c))c=c.map(function(s){return s-1});else if(Tt(c))c--;else if(vt(c))c=c.toNumber()-1;else if("string"!=typeof c)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=c}var d=new r;return r.apply(d,i),d}},{isTransformFunction:!0}),Yl=W("concat",["typed","matrix","isInteger"],function(t){var n=t.matrix,i=t.isInteger;return(0,t.typed)("concat",{"...Array | Matrix | number | BigNumber":function(o){var c,p,d=o.length,s=-1,l=!1,u=[];for(c=0;c<d;c++){var m=o[c];if(wt(m)&&(l=!0),Tt(m)||vt(m)){if(c!==d-1)throw new Error("Dimension must be specified as last argument");if(p=s,s=m.valueOf(),!i(s))throw new TypeError("Integer number expected for dimension");if(s<0||c>0&&s>p)throw new Pr(s,p+1)}else{var g=ut(m).valueOf(),f=kt(g);if(u[c]=g,p=s,s=f.length-1,c>0&&s!==p)throw new Ct(p+1,s+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var h=u.shift();u.length;)h=$l(h,u.shift(),s,0);return l?n(h):h},"...string":function(o){return o.join("")}})});function $l(t,r,n,i){if(i<n){if(t.length!==r.length)throw new Ct(t.length,r.length);for(var a=[],o=0;o<t.length;o++)a[o]=$l(t[o],r[o],n,i+1);return a}return t.concat(r)}var qS=W("concat",["typed","matrix","isInteger"],function(t){var r=t.typed,a=Yl({typed:r,matrix:t.matrix,isInteger:t.isInteger});return r("concat",{"...any":function(c){var d=c.length-1,s=c[d];Tt(s)?c[d]=s-1:vt(s)&&(c[d]=s.minus(1));try{return a.apply(null,c)}catch(p){throw sr(p)}}})},{isTransformFunction:!0});function hr(t,r,n){var i;return-1!==String(t).indexOf("Unexpected type")?(i=arguments.length>2?" (type: "+rn(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+i)):-1!==String(t).indexOf("complex numbers")?(i=arguments.length>2?" (type: "+rn(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+i)):t}var Gl=W("max",["typed","config","numeric","larger"],function(t){var n=t.config,i=t.numeric,a=t.larger;return(0,t.typed)("max",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(s,p){return ss(s,p.valueOf(),o)},"...":function(s){if(xo(s))throw new TypeError("Scalar values expected in function max");return c(s)}});function o(d,s){try{return a(d,s)?d:s}catch(p){throw hr(p,"max",s)}}function c(d){var s;if(Xr(d,function(p){try{isNaN(p)&&"number"==typeof p?s=NaN:(void 0===s||a(p,s))&&(s=p)}catch(l){throw hr(l,"max",p)}}),void 0===s)throw new Error("Cannot calculate max of an empty array");return"string"==typeof s&&(s=i(s,n.number)),s}}),RS=W("max",["typed","config","numeric","larger"],function(t){var r=t.typed,o=Gl({typed:r,config:t.config,numeric:t.numeric,larger:t.larger});return r("max",{"...any":function(d){if(2===d.length&&Ar(d[0])){var s=d[1];Tt(s)?d[1]=s-1:vt(s)&&(d[1]=s.minus(1))}try{return o.apply(null,d)}catch(p){throw sr(p)}}})},{isTransformFunction:!0}),Xl=W("min",["typed","config","numeric","smaller"],function(t){var n=t.config,i=t.numeric,a=t.smaller;return(0,t.typed)("min",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(s,p){return ss(s,p.valueOf(),o)},"...":function(s){if(xo(s))throw new TypeError("Scalar values expected in function min");return c(s)}});function o(d,s){try{return a(d,s)?d:s}catch(p){throw hr(p,"min",s)}}function c(d){var s;if(Xr(d,function(p){try{isNaN(p)&&"number"==typeof p?s=NaN:(void 0===s||a(p,s))&&(s=p)}catch(l){throw hr(l,"min",p)}}),void 0===s)throw new Error("Cannot calculate min of an empty array");return"string"==typeof s&&(s=i(s,n.number)),s}}),zS=W("min",["typed","config","numeric","smaller"],function(t){var r=t.typed,o=Xl({typed:r,config:t.config,numeric:t.numeric,smaller:t.smaller});return r("min",{"...any":function(d){if(2===d.length&&Ar(d[0])){var s=d[1];Tt(s)?d[1]=s-1:vt(s)&&(d[1]=s.minus(1))}try{return o.apply(null,d)}catch(p){throw sr(p)}}})},{isTransformFunction:!0}),td=W("sum",["typed","config","add","numeric"],function(t){var n=t.config,i=t.add,a=t.numeric;return(0,t.typed)("sum",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function c(d,s){try{return ss(d,s,i)}catch(l){throw hr(l,"sum")}},"...":function(s){if(xo(s))throw new TypeError("Scalar values expected in function sum");return o(s)}});function o(d){var s;return Xr(d,function(p){try{s=void 0===s?p:i(s,p)}catch(l){throw hr(l,"sum",p)}}),void 0===s&&(s=a(0,n.number)),"string"==typeof s&&(s=a(s,n.number)),s}}),VS=W("sum",["typed","config","add","numeric"],function(t){var r=t.typed,o=td({typed:r,config:t.config,add:t.add,numeric:t.numeric});return r("sum",{"...any":function(d){if(2===d.length&&Ar(d[0])){var s=d[1];Tt(s)?d[1]=s-1:vt(s)&&(d[1]=s.minus(1))}try{return o.apply(null,d)}catch(p){throw sr(p)}}})},{isTransformFunction:!0}),id=W("column",["typed","Index","matrix","range"],function(t){var n=t.Index,i=t.matrix,a=t.range;return(0,t.typed)("column",{"Matrix, number":o,"Array, number":function(d,s){return o(i(ut(d)),s).valueOf()}});function o(c,d){if(2!==c.size().length)throw new Error("Only two dimensional matrix is supported");an(d,c.size()[1]);var s=a(0,c.size()[0]),p=new n(s,d);return c.subset(p)}}),$S=W("column",["typed","Index","matrix","range"],function(t){var r=t.typed,o=id({typed:r,Index:t.Index,matrix:t.matrix,range:t.range});return r("column",{"...any":function(d){var s=d.length-1,p=d[s];Tt(p)&&(d[s]=p-1);try{return o.apply(null,d)}catch(l){throw sr(l)}}})},{isTransformFunction:!0}),od=W("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],function(t){var n=t.config,i=t.matrix,a=t.bignumber,o=t.smaller,c=t.smallerEq,d=t.larger,s=t.largerEq;return(0,t.typed)("range",{string:l,"string, boolean":l,"number, number":function(y,M){return p(u(y,M,1))},"number, number, number":function(y,M,_){return p(u(y,M,_))},"number, number, boolean":function(y,M,_){return p(_?m(y,M,1):u(y,M,1))},"number, number, number, boolean":function(y,M,_,b){return p(b?m(y,M,_):u(y,M,_))},"BigNumber, BigNumber":function(y,M){return p(g(y,M,new(0,y.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(y,M,_){return p(g(y,M,_))},"BigNumber, BigNumber, boolean":function(y,M,_){var b=y.constructor;return p(_?f(y,M,new b(1)):g(y,M,new b(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(y,M,_,b){return p(b?f(y,M,_):g(y,M,_))}});function p(w){return"Matrix"===n.matrix?i?i(w):Zl():w}function l(w,y){var M=function h(w){var M=w.split(":").map(function(b){return Number(b)});if(M.some(function(b){return isNaN(b)}))return null;switch(M.length){case 2:return{start:M[0],end:M[1],step:1};case 3:return{start:M[0],end:M[2],step:M[1]};default:return null}}(w);if(!M)throw new SyntaxError('String "'+w+'" is no valid range');return"BigNumber"===n.number?(void 0===a&&sc(),p((y?f:g)(a(M.start),a(M.end),a(M.step)))):p((y?m:u)(M.start,M.end,M.step))}function u(w,y,M){var _=[],b=w;if(M>0)for(;o(b,y);)_.push(b),b+=M;else if(M<0)for(;d(b,y);)_.push(b),b+=M;return _}function m(w,y,M){var _=[],b=w;if(M>0)for(;c(b,y);)_.push(b),b+=M;else if(M<0)for(;s(b,y);)_.push(b),b+=M;return _}function g(w,y,M){var _=a(0),b=[],x=w;if(M.gt(_))for(;o(x,y);)b.push(x),x=x.plus(M);else if(M.lt(_))for(;d(x,y);)b.push(x),x=x.plus(M);return b}function f(w,y,M){var _=a(0),b=[],x=w;if(M.gt(_))for(;c(x,y);)b.push(x),x=x.plus(M);else if(M.lt(_))for(;s(x,y);)b.push(x),x=x.plus(M);return b}}),XS=W("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],function(t){var r=t.typed,p=od({typed:r,config:t.config,matrix:t.matrix,bignumber:t.bignumber,smaller:t.smaller,smallerEq:t.smallerEq,larger:t.larger,largerEq:t.largerEq});return r("range",{"...any":function(u){return"boolean"!=typeof u[u.length-1]&&u.push(!0),p.apply(null,u)}})},{isTransformFunction:!0}),cd=W("diff",["typed","matrix","subtract","number"],function(t){var n=t.matrix,i=t.subtract,a=t.number;return(0,t.typed)("diff",{"Array | Matrix":function(l){return wt(l)?n(c(l.toArray())):c(l)},"Array | Matrix, number":function(l,u){if(!nt(u))throw new RangeError("Dimension must be a whole number");return wt(l)?n(o(l.toArray(),u)):o(l,u)},"Array | Matrix, BigNumber":function(l,u){return this(l,a(u))}});function o(p,l){if(wt(p)&&(p=p.toArray()),!Array.isArray(p))throw RangeError("Array/Matrix does not have that many dimensions");if(l>0){var u=[];return p.forEach(function(m){u.push(o(m,l-1))}),u}if(0===l)return c(p);throw RangeError("Cannot have negative dimension")}function c(p){var l=[],u=p.length;if(u<2)return p;for(var m=1;m<u;m++)l.push(d(p[m-1],p[m]));return l}function d(p,l){wt(p)&&(p=p.toArray()),wt(l)&&(l=l.toArray());var u=Array.isArray(p),m=Array.isArray(l);if(u&&m)return function s(p,l){if(p.length!==l.length)throw RangeError("Not all sub-arrays have the same length");for(var u=[],m=p.length,g=0;g<m;g++)u.push(d(p[g],l[g]));return u}(p,l);if(!u&&!m)return i(l,p);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),n4=W("diff",["typed","matrix","subtract","number","bignumber"],function(t){var r=t.typed,c=cd({typed:r,matrix:t.matrix,subtract:t.subtract,number:t.number,bignumber:t.bignumber});return r("diff",{"...any":function(s){if(2===s.length&&Ar(s[0])){var p=s[1];Tt(p)?s[1]=p-1:vt(p)&&(s[1]=p.minus(1))}try{return c.apply(null,s)}catch(l){throw sr(l)}}})},{isTransformFunction:!0}),dd=W("row",["typed","Index","matrix","range"],function(t){var n=t.Index,i=t.matrix,a=t.range;return(0,t.typed)("row",{"Matrix, number":o,"Array, number":function(d,s){return o(i(ut(d)),s).valueOf()}});function o(c,d){if(2!==c.size().length)throw new Error("Only two dimensional matrix is supported");an(d,c.size()[0]);var s=a(0,c.size()[1]),p=new n(d,s);return c.subset(p)}}),o4=W("row",["typed","Index","matrix","range"],function(t){var r=t.typed,o=dd({typed:r,Index:t.Index,matrix:t.matrix,range:t.range});return r("row",{"...any":function(d){var s=d.length-1,p=d[s];Tt(p)&&(d[s]=p-1);try{return o.apply(null,d)}catch(l){throw sr(l)}}})},{isTransformFunction:!0}),md=W("mean",["typed","add","divide"],function(t){var n=t.add,i=t.divide;return(0,t.typed)("mean",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function a(c,d){try{var s=ss(c,d,n),p=Array.isArray(c)?kt(c):c.size();return i(s,p[d])}catch(l){throw hr(l,"mean")}},"...":function(d){if(xo(d))throw new TypeError("Scalar values expected in function mean");return o(d)}});function o(c){var d,s=0;if(Xr(c,function(p){try{d=void 0===d?p:n(d,p),s++}catch(l){throw hr(l,"mean",p)}}),0===s)throw new Error("Cannot calculate the mean of an empty array");return i(d,s)}}),l4=W("mean",["typed","add","divide"],function(t){var r=t.typed,a=md({typed:r,add:t.add,divide:t.divide});return r("mean",{"...any":function(c){if(2===c.length&&Ar(c[0])){var d=c[1];Tt(d)?c[1]=d-1:vt(d)&&(c[1]=d.minus(1))}try{return a.apply(null,c)}catch(s){throw sr(s)}}})},{isTransformFunction:!0}),uc="unbiased",fd="variance",gd=W(fd,["typed","add","subtract","multiply","divide","apply","isNaN"],function(t){var n=t.add,i=t.subtract,a=t.multiply,o=t.divide,c=t.apply,d=t.isNaN;return(0,t.typed)(fd,{"Array | Matrix":function(u){return s(u,uc)},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(u,m){return p(u,m,uc)},"Array | Matrix, number | BigNumber, string":p,"...":function(u){return s(u,uc)}});function s(l,u){var m,g=0;if(0===l.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Xr(l,function(w){try{m=void 0===m?w:n(m,w),g++}catch(y){throw hr(y,"variance",w)}}),0===g)throw new Error("Cannot calculate variance of an empty array");var f=o(m,g);if(m=void 0,Xr(l,function(w){var y=i(w,f);m=void 0===m?a(y,y):n(m,a(y,y))}),d(m))return m;switch(u){case"uncorrected":return o(m,g);case"biased":return o(m,g+1);case"unbiased":var h=vt(m)?m.mul(0):0;return 1===g?h:o(m,g-1);default:throw new Error('Unknown normalization "'+u+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function p(l,u,m){try{if(0===l.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return c(l,u,function(g){return s(g,m)})}catch(g){throw hr(g,"variance")}}}),hd="variance",m4=W(hd,["typed","add","subtract","multiply","divide","apply","isNaN"],function(t){var r=t.typed,s=gd({typed:r,add:t.add,subtract:t.subtract,multiply:t.multiply,divide:t.divide,apply:t.apply,isNaN:t.isNaN});return r(hd,{"...any":function(l){if(l.length>=2&&Ar(l[0])){var u=l[1];Tt(u)?l[1]=u-1:vt(u)&&(l[1]=u.minus(1))}try{return s.apply(null,l)}catch(m){throw sr(m)}}})},{isTransformFunction:!0}),_d=W("std",["typed","sqrt","variance"],function(t){var n=t.sqrt,i=t.variance;return(0,t.typed)("std",{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(c){return a(c)}});function a(o,c){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(i.apply(null,arguments))}catch(d){throw d instanceof TypeError&&-1!==d.message.indexOf(" variance")?new TypeError(d.message.replace(" variance"," std")):d}}}),v4=W("std",["typed","sqrt","variance"],function(t){var r=t.typed,a=_d({typed:r,sqrt:t.sqrt,variance:t.variance});return r("std",{"...any":function(c){if(c.length>=2&&Ar(c[0])){var d=c[1];Tt(d)?c[1]=d-1:vt(d)&&(c[1]=d.minus(1))}try{return a.apply(null,c)}catch(s){throw sr(s)}}})},{isTransformFunction:!0}),y4=W("ResultSet",[],function(){function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=r||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(r){return new t(r.entries)},t},{isClass:!0}),b4=ke(93298),cr=ke.n(b4);function ms(t){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var M4=W("Complex",[],function(){return cr().prototype.type="Complex",cr().prototype.isComplex=!0,cr().prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},cr().prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},cr().prototype.format=function(t){var n=this.im,i=this.re,a=ji(this.re,t),o=ji(this.im,t),c=Tt(t)?t:t?t.precision:null;if(null!==c){var d=Math.pow(10,-c);Math.abs(i/n)<d&&(i=0),Math.abs(n/i)<d&&(n=0)}return 0===n?a:0===i?1===n?"i":-1===n?"-i":o+"i":n<0?-1===n?a+" - i":a+" - "+o.substring(1)+"i":1===n?a+" + i":a+" + "+o+"i"},cr().fromPolar=function(t){switch(arguments.length){case 1:var r=arguments[0];if("object"===ms(r))return cr()(r);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(Tt(n)){if(co(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Tt(i))return new(cr())({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},cr().prototype.valueOf=cr().prototype.toString,cr().fromJSON=function(t){return new(cr())(t)},cr().compare=function(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0},cr()},{isClass:!0}),A4=W("Range",[],function(){function t(r,n,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var a=null!=r,o=null!=n,c=null!=i;if(a)if(vt(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter start must be a number");if(o)if(vt(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(c)if(vt(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=a?parseFloat(r):0,this.end=o?parseFloat(n):0,this.step=c?parseFloat(i):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(r){if("string"!=typeof r)return null;var i=r.split(":").map(function(o){return parseFloat(o)});if(i.some(function(o){return isNaN(o)}))return null;switch(i.length){case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[2],i[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var r=0,i=this.step,o=this.end-this.start;return bi(i)===bi(o)?r=Math.ceil(o/i):0===o&&(r=0),isNaN(r)&&(r=0),[r]},t.prototype.min=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start:this.start+(r-1)*this.step},t.prototype.max=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start+(r-1)*this.step:this.start},t.prototype.forEach=function(r){var n=this.start,i=this.step,a=this.end,o=0;if(i>0)for(;n<a;)r(n,[o],this),n+=i,o++;else if(i<0)for(;n>a;)r(n,[o],this),n+=i,o++},t.prototype.map=function(r){var n=[];return this.forEach(function(i,a,o){n[a[0]]=r(i,a,o)}),n},t.prototype.toArray=function(){var r=[];return this.forEach(function(n,i){r[i[0]]=n}),r},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(r){var n=ji(this.start,r);return 1!==this.step&&(n+=":"+ji(this.step,r)),n+":"+ji(this.end,r)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(r){return new t(r.start,r.end,r.step)},t},{isClass:!0}),I4=ps(function(t){return new t(1).exp()},fs),E4=ps(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},fs),lc=ps(function(t){return t.acos(-1)},fs),O4=ps(function(t){return lc(t).times(2)},fs);function fs(t){return t[0].precision}var k4=Math.PI,D4=2*Math.PI,q4=Math.E,Z4=W("true",[],function(){return!0}),L4=W("false",[],function(){return!1}),R4=W("null",[],function(){return null}),U4=vr("Infinity",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?new(0,t.BigNumber)(1/0):1/0}),B4=vr("NaN",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?new(0,t.BigNumber)(NaN):NaN}),F4=vr("pi",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?lc(t.BigNumber):k4}),z4=vr("tau",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?O4(t.BigNumber):D4}),H4=vr("e",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?I4(t.BigNumber):q4}),Q4=vr("phi",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?E4(t.BigNumber):1.618033988749895}),V4=vr("LN2",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?new(0,t.BigNumber)(2).ln():Math.LN2}),J4=vr("LN10",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?new(0,t.BigNumber)(10).ln():Math.LN10}),W4=vr("LOG2E",["config","?BigNumber"],function(t){var n=t.BigNumber;return"BigNumber"===t.config.number?new n(1).div(new n(2).ln()):Math.LOG2E}),Y4=vr("LOG10E",["config","?BigNumber"],function(t){var n=t.BigNumber;return"BigNumber"===t.config.number?new n(1).div(new n(10).ln()):Math.LOG10E}),$4=vr("SQRT1_2",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?new(0,t.BigNumber)("0.5").sqrt():Math.SQRT1_2}),j4=vr("SQRT2",["config","?BigNumber"],function(t){return"BigNumber"===t.config.number?new(0,t.BigNumber)(2).sqrt():Math.SQRT2}),G4=vr("i",["Complex"],function(t){return t.Complex.I}),K4=W("version",[],function(){return"7.6.0"});function vr(t,r,n){return W(t,r,n,{recreateOnConfigChange:!0})}var dc=ke(18992),X4=ke.n(dc),nN=W("BigNumber",["?on","config"],function(t){var r=t.on,n=t.config,a=X4().clone({precision:n.precision,modulo:9});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(o){return new a(o.value)},r&&r("config",function(o,c){o.precision!==c.precision&&a.config({precision:o.precision})}),a},{isClass:!0}),aN=W("Matrix",[],function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(r,n){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(r,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(r,n,i){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(r,n){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(r,n){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(r,n){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0}),cN=W("replacer",[],function(){return function(r,n){return"number"!=typeof n||isFinite(n)&&!isNaN(n)?n:{mathjs:"number",value:String(n)}}}),uN=xt("speedOfLight","299792458","m s^-1"),lN=xt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),dN=xt("planckConstant","6.62607015e-34","J s"),pN=xt("reducedPlanckConstant","1.0545718176461565e-34","J s"),mN=xt("magneticConstant","1.25663706212e-6","N A^-2"),fN=xt("electricConstant","8.8541878128e-12","F m^-1"),gN=xt("vacuumImpedance","376.730313667","ohm"),hN=xt("coulomb","8.987551792261171e9","N m^2 C^-2"),vN=xt("elementaryCharge","1.602176634e-19","C"),_N=xt("bohrMagneton","9.2740100783e-24","J T^-1"),xN=xt("conductanceQuantum","7.748091729863649e-5","S"),yN=xt("inverseConductanceQuantum","12906.403729652257","ohm"),bN=xt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),wN=xt("nuclearMagneton","5.0507837461e-27","J T^-1"),CN=xt("klitzing","25812.807459304513","ohm"),MN=xt("bohrRadius","5.29177210903e-11","m"),SN=xt("classicalElectronRadius","2.8179403262e-15","m"),NN=xt("electronMass","9.1093837015e-31","kg"),AN=xt("fermiCoupling","1.1663787e-5","GeV^-2"),TN=gs("fineStructure",.0072973525693),IN=xt("hartreeEnergy","4.3597447222071e-18","J"),EN=xt("protonMass","1.67262192369e-27","kg"),ON=xt("deuteronMass","3.3435830926e-27","kg"),kN=xt("neutronMass","1.6749271613e-27","kg"),DN=xt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),qN=xt("rydberg","10973731.568160","m^-1"),PN=xt("thomsonCrossSection","6.6524587321e-29","m^2"),ZN=gs("weakMixingAngle",.2229),LN=gs("efimovFactor",22.7),RN=xt("atomicMass","1.66053906660e-27","kg"),UN=xt("avogadro","6.02214076e23","mol^-1"),BN=xt("boltzmann","1.380649e-23","J K^-1"),FN=xt("faraday","96485.33212331001","C mol^-1"),zN=xt("firstRadiation","3.7417718521927573e-16","W m^2"),HN=xt("loschmidt","2.686780111798444e25","m^-3"),QN=xt("gasConstant","8.31446261815324","J K^-1 mol^-1"),VN=xt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),JN=xt("molarVolume","0.022413969545014137","m^3 mol^-1"),WN=gs("sackurTetrode",-1.16487052358),YN=xt("secondRadiation","0.014387768775039337","m K"),$N=xt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),jN=xt("wienDisplacement","2.897771955e-3","m K"),GN=xt("molarMass","0.99999999965e-3","kg mol^-1"),KN=xt("molarMassC12","11.9999999958e-3","kg mol^-1"),XN=xt("gravity","9.80665","m s^-2"),e5=xt("planckLength","1.616255e-35","m"),t5=xt("planckMass","2.176435e-8","kg"),n5=xt("planckTime","5.391245e-44","s"),r5=xt("planckCharge","1.87554603778e-18","C"),i5=xt("planckTemperature","1.416785e+32","K");function xt(t,r,n){return W(t,["config","Unit","BigNumber"],function(a){var p=new(0,a.Unit)("BigNumber"===a.config.number?new(0,a.BigNumber)(r):parseFloat(r),n);return p.fixPrefix=!0,p})}function gs(t,r){return W(t,["config","BigNumber"],function(i){return"BigNumber"===i.config.number?new(0,i.BigNumber)(r):r})}var a5=ke(48751),Ia=ke.n(a5),c5=W("Fraction",[],function(){return Ia().prototype.type="Fraction",Ia().prototype.isFraction=!0,Ia().prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ia().fromJSON=function(t){return new(Ia())(t)},Ia()},{isClass:!0}),d5=W("DenseMatrix",["Matrix"],function(t){function n(l,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!mr(u))throw new Error("Invalid datatype: "+u);if(wt(l))"DenseMatrix"===l.type?(this._data=ut(l._data),this._size=ut(l._size),this._datatype=u||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=u||l._datatype);else if(l&&Kt(l.data)&&Kt(l.size))this._data=l.data,this._size=l.size,fl(this._data,this._size),this._datatype=u||l.datatype;else if(Kt(l))this._data=p(l),this._size=kt(this._data),fl(this._data,this._size),this._datatype=u;else{if(l)throw new TypeError("Unsupported type of data ("+rn(l)+")");this._data=[],this._size=[0],this._datatype=u}}function i(l,u){if(!uo(u))throw new TypeError("Invalid index");if(u.isScalar())return l.get(u.min());var g=u.size();if(g.length!==l._size.length)throw new Ct(g.length,l._size.length);for(var f=u.min(),h=u.max(),w=0,y=l._size.length;w<y;w++)an(f[w],l._size[w]),an(h[w],l._size[w]);return new n(a(l._data,u,g.length,0),l._datatype)}function a(l,u,m,g){var f=g===m-1,h=u.dimension(g);return f?h.map(function(w){return an(w,l.length),l[w]}).valueOf():h.map(function(w){return an(w,l.length),a(l[w],u,m,g+1)}).valueOf()}function o(l,u,m,g){if(!u||!0!==u.isIndex)throw new TypeError("Invalid index");var w,f=u.size(),h=u.isScalar();if(wt(m)?(w=m.size(),m=m.valueOf()):w=kt(m),h){if(0!==w.length)throw new TypeError("Scalar expected");l.set(u.min(),m,g)}else{if(f.length<l._size.length)throw new Ct(f.length,l._size.length,"<");if(w.length<f.length){for(var y=0,M=0;1===f[y]&&1===w[y];)y++;for(;1===f[y];)M++,y++;m=hl(m,f.length,M,w)}if(!Ca(f,w))throw new Ct(f,w,">");s(l,u.max().map(function(v){return v+1}),g),c(l._data,u,m,f.length,0)}return l}function c(l,u,m,g,f){var h=f===g-1;u.dimension(f).forEach(h?function(y,M){an(y),l[y]=m[M[0]]}:function(y,M){an(y),c(l[y],u,m[M[0]],g,f+1)})}function d(l,u,m){if(0===u.length){for(var g=l._data;Kt(g);)g=g[0];return g}return l._size=u.slice(0),l._data=Na(l._data,l._size,m),l}function s(l,u,m){for(var g=l._size.slice(0),f=!1;g.length<u.length;)g.push(0),f=!0;for(var h=0,w=u.length;h<w;h++)u[h]>g[h]&&(g[h]=u[h],f=!0);f&&d(l,g,m)}function p(l){for(var u=0,m=l.length;u<m;u++){var g=l[u];Kt(g)?l[u]=p(g):g&&!0===g.isMatrix&&(l[u]=p(g.valueOf()))}return l}return(n.prototype=new(0,t.Matrix)).createDenseMatrix=function(l,u){return new n(l,u)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return go(this._data,rn)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(l,u){return new n(l,u)},n.prototype.subset=function(l,u,m){switch(arguments.length){case 1:return i(this,l);case 2:case 3:return o(this,l,u,m);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(l){if(!Kt(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new Ct(l.length,this._size.length);for(var u=0;u<l.length;u++)an(l[u],this._size[u]);for(var m=this._data,g=0,f=l.length;g<f;g++){var h=l[g];an(h,m.length),m=m[h]}return m},n.prototype.set=function(l,u,m){if(!Kt(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new Ct(l.length,this._size.length,"<");var g,f,h;s(this,l.map(function(M){return M+1}),m);var y=this._data;for(g=0,f=l.length-1;g<f;g++)an(h=l[g],y.length),y=y[h];return an(h=l[l.length-1],y.length),y[h]=u,this},n.prototype.resize=function(l,u,m){if(!Ar(l))throw new TypeError("Array or Matrix expected");var g=l.valueOf().map(function(h){return Array.isArray(h)&&1===h.length?h[0]:h});return d(m?this.clone():this,g,u)},n.prototype.reshape=function(l,u){var m=u?this.clone():this;return m._data=ec(m._data,l),m._size=l.slice(0),m},n.prototype.clone=function(){return new n({data:ut(this._data),size:ut(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(l){var u=this,g=function h(w,y){return Kt(w)?w.map(function(M,_){return h(M,y.concat(_))}):l(w,y,u)}(this._data,[]);return new n(g,void 0!==this._datatype?go(g,rn):void 0)},n.prototype.forEach=function(l){var u=this;!function g(f,h){Kt(f)?f.forEach(function(w,y){g(w,h.concat(y))}):l(f,h,u)}(this._data,[])},n.prototype.toArray=function(){return ut(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(l){return Nt(this._data,l)},n.prototype.toString=function(){return Nt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(l){if(l){if(vt(l)&&(l=l.toNumber()),!Tt(l)||!nt(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var u=l>0?l:0,m=l<0?-l:0,h=Math.min(this._size[0]-m,this._size[1]-u),w=[],y=0;y<h;y++)w[y]=this._data[y+m][y+u];return new n({data:w,size:[h],datatype:this._datatype})},n.diagonal=function(l,u,m,g){if(!Kt(l))throw new TypeError("Array expected, size parameter");if(2!==l.length)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(A){if(vt(A)&&(A=A.toNumber()),!Tt(A)||!nt(A)||A<1)throw new Error("Size values must be positive integers");return A}),m){if(vt(m)&&(m=m.toNumber()),!Tt(m)||!nt(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var _,f=m>0?m:0,h=m<0?-m:0,w=l[0],y=l[1],M=Math.min(w-h,y-f);if(Kt(u)){if(u.length!==M)throw new Error("Invalid value array length");_=function(S){return u[S]}}else if(wt(u)){var b=u.size();if(1!==b.length||b[0]!==M)throw new Error("Invalid matrix length");_=function(S){return u.get([S])}}else _=function(){return u};g||(g=vt(_(0))?_(0).mul(0):0);var x=[];if(l.length>0){x=Na(x,l,g);for(var v=0;v<M;v++)x[v+h][v+f]=_(v)}return new n({data:x,size:[w,y]})},n.fromJSON=function(l){return new n(l)},n.prototype.swapRows=function(l,u){if(!(Tt(l)&&nt(l)&&Tt(u)&&nt(u)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return an(l,this._size[0]),an(u,this._size[0]),n._swapRows(l,u,this._data),this},n._swapRows=function(l,u,m){var g=m[l];m[l]=m[u],m[u]=g},n},{isClass:!0}),p5=ke(56715),xd=ke.n(p5),yd=function(){return yd=xd().create,xd()},f5=W("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(r){var n=r.BigNumber,i=r.Complex,a=r.DenseMatrix,o=r.Fraction,c=yd();return c.types=[{name:"number",test:Tt},{name:"Complex",test:yi},{name:"BigNumber",test:vt},{name:"Fraction",test:so},{name:"Unit",test:co},{name:"string",test:mr},{name:"Chain",test:Gs},{name:"Array",test:Kt},{name:"Matrix",test:wt},{name:"DenseMatrix",test:Wo},{name:"SparseMatrix",test:Yi},{name:"Range",test:Yo},{name:"Index",test:uo},{name:"boolean",test:I2},{name:"ResultSet",test:Gu},{name:"Help",test:js},{name:"function",test:E2},{name:"Date",test:O2},{name:"RegExp",test:k2},{name:"null",test:q2},{name:"undefined",test:P2},{name:"AccessorNode",test:wa},{name:"ArrayNode",test:Ku},{name:"AssignmentNode",test:Z2},{name:"BlockNode",test:L2},{name:"ConditionalNode",test:R2},{name:"ConstantNode",test:nn},{name:"FunctionNode",test:po},{name:"FunctionAssignmentNode",test:lo},{name:"IndexNode",test:$o},{name:"Node",test:Qt},{name:"ObjectNode",test:Xu},{name:"OperatorNode",test:tr},{name:"ParenthesisNode",test:$i},{name:"RangeNode",test:el},{name:"SymbolNode",test:Tn},{name:"Object",test:D2}],c.conversions=[{from:"number",to:"BigNumber",convert:function(s){if(n||pc(s),function rb(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new n(s)}},{from:"number",to:"Complex",convert:function(s){return i||hs(s),new i(s,0)}},{from:"number",to:"string",convert:function(s){return s+""}},{from:"BigNumber",to:"Complex",convert:function(s){return i||hs(s),new i(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return i||hs(s),new i(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){o||mc(s);var p=new o(s);if(p.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(s){var p=Number(s);if(isNaN(p))throw new Error('Cannot convert "'+s+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(s){n||pc(s);try{return new n(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){o||mc(s);try{return new o(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){i||hs(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return n||pc(s),new n(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return o||mc(s),new o(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return a||function g5(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new a(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}],c});function pc(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function hs(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function mc(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var bd="isInteger",v5=W(bd,["typed"],function(t){return(0,t.typed)(bd,{number:nt,BigNumber:function(i){return i.isInt()},Fraction:function(i){return 1===i.d&&isFinite(i.n)},"Array | Matrix":function(i){return We(i,this)}})}),wd="isNumeric",x5=W(wd,["typed"],function(t){return(0,t.typed)(wd,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(i){return We(i,this)}})}),yo="number";function Cd(t){return t<0}function Md(t){return t>0}function Sd(t){return 0===t}function Nd(t){return Number.isNaN(t)}Cd.signature=yo,Md.signature=yo,Sd.signature=yo,Nd.signature=yo;var Ad="isPositive",w5=W(Ad,["typed"],function(t){return(0,t.typed)(Ad,{number:Md,BigNumber:function(i){return!i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s>0&&i.n>0},Unit:function(i){return this(i.value)},"Array | Matrix":function(i){return We(i,this)}})}),M5=W("isNaN",["typed"],function(t){return(0,t.typed)("isNaN",{number:Nd,BigNumber:function(i){return i.isNaN()},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":function(i){return We(i,Number.isNaN)}})});function Lr(t,r,n){if(null==n)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var i=t.minus(r).abs();if(i.isZero())return!0;var a=t.constructor.max(t.abs(),r.abs());return i.lte(a.times(n))}return!1}var vs="equalScalar",A5=W(vs,["typed","config"],function(t){var n=t.config;return(0,t.typed)(vs,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return fr(a,o,n.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Lr(a,o,n.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return function S5(t,r,n){return fr(t.re,r.re,n)&&fr(t.im,r.im,n)}(a,o,n.epsilon)},"Unit, Unit":function(a,o){if(!a.equalBase(o))throw new Error("Cannot compare units with different base");return this(a.value,o.value)}})}),E5=(W(vs,["typed","config"],function(t){var n=t.config;return(0,t.typed)(vs,{"number, number":function(a,o){return fr(a,o,n.epsilon)}})}),W("number",["typed"],function(t){var n=(0,t.typed)("number",{"":function(){return 0},number:function(a){return a},string:function(a){if("NaN"===a)return NaN;var o=Number(a);if(isNaN(o))throw new SyntaxError('String "'+a+'" is no valid number');if(["0b","0o","0x"].includes(a.substring(0,2))){if(o>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(a,'" is out of range'));2147483648&o&&(o=-1*~(o-1))}return o},BigNumber:function(a){return a.toNumber()},Fraction:function(a){return a.valueOf()},Unit:function(a){throw new Error("Second argument with valueless unit expected")},null:function(a){return 0},"Unit, string | Unit":function(a,o){return a.toNumber(o)},"Array | Matrix":function(a){return We(a,this)}});return n.fromJSON=function(i){return parseFloat(i.value)},n})),Id="boolean",k5=W(Id,["typed"],function(t){return(0,t.typed)(Id,{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var a=i.toLowerCase();if("true"===a)return!0;if("false"===a)return!1;var o=Number(i);if(""!==i&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":function(i){return We(i,this)}})}),P5=W("complex",["typed","Complex"],function(t){var n=t.Complex;return(0,t.typed)("complex",{"":function(){return n.ZERO},number:function(a){return new n(a,0)},"number, number":function(a,o){return new n(a,o)},"BigNumber, BigNumber":function(a,o){return new n(a.toNumber(),o.toNumber())},Fraction:function(a){return new n(a.valueOf(),0)},Complex:function(a){return a.clone()},string:function(a){return n(a)},null:function(a){return n(0)},Object:function(a){if("re"in a&&"im"in a)return new n(a.re,a.im);if("r"in a&&"phi"in a||"abs"in a&&"arg"in a)return new n(a);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(a){return We(a,this)}})}),Ed="splitUnit",L5=W(Ed,["typed"],function(t){return(0,t.typed)(Ed,{"Unit, Array":function(i,a){return i.splitUnit(a)}})}),qn="number",Tr="number, number";function Od(t){return Math.abs(t)}function kd(t,r){return t+r}function Dd(t,r){return t*r}function qd(t){return-t}function Pd(t){return t}function bo(t){return X2(t)}function Zd(t){return Math.ceil(t)}function Ld(t){return t*t*t}function Rd(t){return Math.exp(t)}function Ud(t){return eb(t)}function Bd(t,r){if(!nt(t)||!nt(r))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==r;)n=t%r,t=r,r=n;return t<0?-t:t}function Fd(t,r){if(!nt(t)||!nt(r))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===r)return 0;for(var n,i=t*r;0!==r;)r=t%(n=r),t=n;return Math.abs(i/t)}function zd(t){return Math.log(t)}function Hd(t){return K2(t)}function Qd(t){return G2(t)}function Vd(t,r){if(r>0)return t-r*Math.floor(t/r);if(0===r)return t;throw new Error("Cannot calculate mod for a negative divisor")}function fc(t,r){var n=r<0;if(n&&(r=-r),0===r)throw new Error("Root must be non-zero");if(t<0&&Math.abs(r)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;var i=Math.pow(Math.abs(t),1/r);return i=t<0?-i:i,n?1/i:i}function gc(t){return bi(t)}function Jd(t){return t*t}function Wd(t,r){var n,i,a,o=0,c=1,d=1,s=0;if(!nt(t)||!nt(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)a=t-(i=Math.floor(t/r))*r,n=o,o=c-i*o,c=n,n=d,d=s-i*d,s=n,t=r,r=a;return t<0?[-t,-c,-s]:[t,t?c:0,s]}function Yd(t,r){return t*t<1&&r===1/0||t*t>1&&r===-1/0?0:Math.pow(t,r)}function hc(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(sl(t,r))}Od.signature=qn,kd.signature=Tr,Dd.signature=Tr,qd.signature=qn,Pd.signature=qn,bo.signature=qn,Zd.signature=qn,Ld.signature=qn,Rd.signature=qn,Ud.signature=qn,Bd.signature=Tr,Fd.signature=Tr,zd.signature=qn,Hd.signature=qn,Qd.signature=qn,Vd.signature=Tr,fc.signature=Tr,gc.signature=qn,Jd.signature=qn,Wd.signature=Tr,Yd.signature=Tr,hc.signature=Tr;var $d="unaryPlus",J5=W($d,["typed","config","BigNumber"],function(t){var n=t.config,i=t.BigNumber;return(0,t.typed)($d,{number:Pd,Complex:function(o){return o},BigNumber:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":function(o){return We(o,this,!0)},"boolean | string":function(o){return"BigNumber"===n.number?new i(+o):+o}})}),Y5=W("cube",["typed"],function(t){return(0,t.typed)("cube",{number:Ld,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},Fraction:function(i){return i.pow(3)},"Array | Matrix":function(i){return We(i,this,!0)},Unit:function(i){return i.pow(3)}})}),j5=W("expm1",["typed","Complex"],function(t){var n=t.Complex;return(0,t.typed)("expm1",{number:Ud,Complex:function(a){var o=Math.exp(a.re);return new n(o*Math.cos(a.im)-1,o*Math.sin(a.im))},BigNumber:function(a){return a.exp().minus(1)},"Array | Matrix":function(a){return We(a,this)}})}),K5=W("log10",["typed","config","Complex"],function(t){var n=t.config,i=t.Complex;return(0,t.typed)("log10",{number:function(o){return o>=0||n.predictable?Hd(o):new i(o,0).log().div(Math.LN10)},Complex:function(o){return new i(o).log().div(Math.LN10)},BigNumber:function(o){return!o.isNegative()||n.predictable?o.log():new i(o.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(o){return We(o,this)}})}),tA=W("multiplyScalar",["typed"],function(t){return(0,t.typed)("multiplyScalar",{"number, number":Dd,"Complex, Complex":function(i,a){return i.mul(a)},"BigNumber, BigNumber":function(i,a){return i.times(a)},"Fraction, Fraction":function(i,a){return i.mul(a)},"number | Fraction | BigNumber | Complex, Unit":function(i,a){var o=a.clone();return o.value=null===o.value?o._normalize(i):this(o.value,i),o},"Unit, number | Fraction | BigNumber | Complex":function(i,a){var o=i.clone();return o.value=null===o.value?o._normalize(a):this(o.value,a),o},"Unit, Unit":function(i,a){return i.multiply(a)}})}),rA=W("sign",["typed","BigNumber","Fraction","complex"],function(t){var n=t.BigNumber,i=t.complex,a=t.Fraction;return(0,t.typed)("sign",{number:gc,Complex:function(c){return 0===c.im?i(gc(c.re)):c.sign()},BigNumber:function(c){return new n(c.cmp(0))},Fraction:function(c){return new a(c.s,1)},"Array | Matrix":function(c){return We(c,this,!0)},Unit:function(c){return this(c.value)}})}),aA=W("square",["typed"],function(t){return(0,t.typed)("square",{number:Jd,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},Fraction:function(i){return i.mul(i)},"Array | Matrix":function(i){return We(i,this,!0)},Unit:function(i){return i.pow(2)}})});function oA(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||r.isNaN())return new n(NaN);if(t.isZero()||r.eq(-1)||t.eq(r))return t;if(r.isZero()||t.eq(-1))return r;if(!t.isFinite()||!r.isFinite()){if(!t.isFinite()&&!r.isFinite())return t.isNegative()===r.isNegative()?t:new n(0);if(!t.isFinite())return r.isNegative()?t:t.isNegative()?new n(0):r;if(!r.isFinite())return t.isNegative()?r:r.isNegative()?new n(0):t}return vc(t,r,function(i,a){return i&a})}function wo(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var r=t.constructor,n=r.precision;r.config({precision:1e9});var i=t.plus(new r(1));return i.s=-i.s||null,r.config({precision:n}),i}function sA(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||r.isNaN())return new n(NaN);var i=new n(-1);return t.isZero()||r.eq(i)||t.eq(r)?r:r.isZero()||t.eq(i)?t:t.isFinite()&&r.isFinite()?vc(t,r,function(a,o){return a|o}):!t.isFinite()&&!t.isNegative()&&r.isNegative()||t.isNegative()&&!r.isNegative()&&!r.isFinite()?i:t.isNegative()&&r.isNegative()?t.isFinite()?t:r:t.isFinite()?r:t}function vc(t,r,n){var a,o,l,u,m,i=t.constructor,c=+(t.s<0),d=+(r.s<0);if(c){a=_s(wo(t));for(var s=0;s<a.length;++s)a[s]^=1}else a=_s(t);if(d){o=_s(wo(r));for(var p=0;p<o.length;++p)o[p]^=1}else o=_s(r);a.length<=o.length?(l=a,u=o,m=c):(l=o,u=a,m=d);var g=l.length,f=u.length,h=1^n(c,d),w=new i(1^h),y=new i(1),M=new i(2),_=i.precision;for(i.config({precision:1e9});g>0;)n(l[--g],u[--f])===h&&(w=w.plus(y)),y=y.times(M);for(;f>0;)n(m,u[--f])===h&&(w=w.plus(y)),y=y.times(M);return i.config({precision:_}),0===h&&(w.s=-w.s),w}function _s(t){for(var r=t.d,n=r[0]+"",i=1;i<r.length;++i){for(var a=r[i]+"",o=7-a.length;o--;)a="0"+a;n+=a}for(var c=n.length;"0"===n.charAt(c);)c--;var d=t.e,s=n.slice(0,c+1||1),p=s.length;if(d>0)if(++d>p)for(d-=p;d--;)s+="0";else d<p&&(s=s.slice(0,d)+"."+s.slice(d));for(var l=[0],u=0;u<s.length;){for(var m=l.length;m--;)l[m]*=10;l[0]+=parseInt(s.charAt(u++));for(var g=0;g<l.length;++g)l[g]>1&&(null==l[g+1]&&(l[g+1]=0),l[g+1]+=l[g]>>1,l[g]&=1)}return l.reverse()}function cA(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||r.isNaN())return new n(NaN);if(t.isZero())return r;if(r.isZero())return t;if(t.eq(r))return new n(0);var i=new n(-1);return t.eq(i)?wo(r):r.eq(i)?wo(t):t.isFinite()&&r.isFinite()?vc(t,r,function(a,o){return a^o}):t.isFinite()||r.isFinite()?new n(t.isNegative()===r.isNegative()?1/0:-1/0):i}function uA(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new n(NaN):t.isZero()||r.isZero()?t:t.isFinite()||r.isFinite()?r.lt(55)?t.times(Math.pow(2,r.toNumber())+""):t.times(new n(2).pow(r)):new n(NaN)}function lA(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new n(NaN):t.isZero()||r.isZero()?t:r.isFinite()?r.lt(55)?t.div(Math.pow(2,r.toNumber())+"").floor():t.div(new n(2).pow(r)).floor():t.isNegative()?new n(-1):t.isFinite()?new n(0):new n(NaN)}var Ea="number, number";function tp(t,r){if(!nt(t)||!nt(r))throw new Error("Integers expected in function bitAnd");return t&r}function np(t){if(!nt(t))throw new Error("Integer expected in function bitNot");return~t}function rp(t,r){if(!nt(t)||!nt(r))throw new Error("Integers expected in function bitOr");return t|r}function ip(t,r){if(!nt(t)||!nt(r))throw new Error("Integers expected in function bitXor");return t^r}function ap(t,r){if(!nt(t)||!nt(r))throw new Error("Integers expected in function leftShift");return t<<r}function op(t,r){if(!nt(t)||!nt(r))throw new Error("Integers expected in function rightArithShift");return t>>r}function sp(t,r){if(!nt(t)||!nt(r))throw new Error("Integers expected in function rightLogShift");return t>>>r}tp.signature=Ea,np.signature="number",rp.signature=Ea,ip.signature=Ea,ap.signature=Ea,op.signature=Ea,sp.signature=Ea;var mA=W("bitNot",["typed"],function(t){return(0,t.typed)("bitNot",{number:np,BigNumber:wo,"Array | Matrix":function(i){return We(i,this)}})}),gA=W("arg",["typed"],function(t){return(0,t.typed)("arg",{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":function(i){return We(i,this)}})}),vA=W("im",["typed"],function(t){return(0,t.typed)("im",{number:function(i){return 0},BigNumber:function(i){return i.mul(0)},Complex:function(i){return i.im},"Array | Matrix":function(i){return We(i,this)}})}),_c="number, number";function dp(t){return!t}function pp(t,r){return!(!t&&!r)}function mp(t,r){return!!t!=!!r}function fp(t,r){return!(!t||!r)}dp.signature="number",pp.signature=_c,mp.signature=_c,fp.signature=_c;var yA=W("not",["typed"],function(t){return(0,t.typed)("not",{number:dp,Complex:function(i){return 0===i.re&&0===i.im},BigNumber:function(i){return i.isZero()||i.isNaN()},Unit:function(i){return null===i.value||this(i.value)},"Array | Matrix":function(i){return We(i,this)}})}),CA=W("filter",["typed"],function(t){return(0,t.typed)("filter",{"Array, function":hp,"Matrix, function":function(i,a){return i.create(hp(i.toArray(),a))},"Array, RegExp":ns,"Matrix, RegExp":function(i,a){return i.create(ns(i.toArray(),a))}})});function hp(t,r){var n=Ta(r);return _l(t,function(i,a,o){return 1===n?r(i):2===n?r(i,[a]):r(i,[a],o)})}var vp="forEach",SA=W(vp,["typed"],function(t){return(0,t.typed)(vp,{"Array, function":NA,"Matrix, function":function(i,a){return i.forEach(a)}})});function NA(t,r){var n=Ta(r);!function a(o,c){Array.isArray(o)?ts(o,function(d,s){a(d,c.concat(s))}):1===n?r(o):2===n?r(o,c):r(o,c,t)}(t,[])}var TA=W("map",["typed"],function(t){return(0,t.typed)("map",{"Array, function":IA,"Matrix, function":function(i,a){return i.map(a)}})});function IA(t,r){var n=Ta(r);return function a(o,c){return Array.isArray(o)?o.map(function(d,s){return a(d,c.concat(s))}):1===n?r(o):2===n?r(o,c):r(o,c,t)}(t,[])}var kA=W("erf",["typed"],function(t){return(0,t.typed)("name",{number:function(c){var d=Math.abs(c);return d>=PA?bi(c):d<=DA?bi(c)*function n(o){var p,c=o*o,d=ei[0][4]*c,s=c;for(p=0;p<3;p+=1)d=(d+ei[0][p])*c,s=(s+Oa[0][p])*c;return o*(d+ei[0][3])/(s+Oa[0][3])}(d):d<=4?bi(c)*(1-function i(o){var s,c=ei[1][8]*o,d=o;for(s=0;s<7;s+=1)c=(c+ei[1][s])*o,d=(d+Oa[1][s])*o;var p=(c+ei[1][7])/(d+Oa[1][7]),l=parseInt(16*o)/16,u=(o-l)*(o+l);return Math.exp(-l*l)*Math.exp(-u)*p}(d)):bi(c)*(1-function a(o){var p,c=1/(o*o),d=ei[2][5]*c,s=c;for(p=0;p<4;p+=1)d=(d+ei[2][p])*c,s=(s+Oa[2][p])*c;var l=c*(d+ei[2][4])/(s+Oa[2][4]);l=(qA-l)/o;var u=(o-(c=parseInt(16*o)/16))*(o+c);return Math.exp(-c*c)*Math.exp(-u)*l}(d))},"Array | Matrix":function(c){return We(c,this)}})}),DA=.46875,qA=.5641895835477563,ei=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Oa=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],PA=Math.pow(2,53),LA=W("format",["typed"],function(t){return(0,t.typed)("format",{any:Nt,"any, Object | function | number":Nt})});function RA(t){var n={2:"0b",8:"0o",16:"0x"}[t];return function(i){if(i>Math.pow(2,31)-1||i<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!nt(i))throw new Error("Value must be an integer");return i<0&&(i+=Math.pow(2,32)),"".concat(n).concat(i.toString(t))}}var UA=["typed"];function xc(t,r){return W(t,UA,function(n){return(0,n.typed)(t,{number:RA(r)})})}var BA=xc("oct",8),zA=W("print",["typed"],function(t){return(0,t.typed)("print",{"string, Object | Array":bp,"string, Object | Array, number | Object":bp})});function bp(t,r,n){return t.replace(/\$([\w.]+)/g,function(i,a){for(var o=a.split("."),c=r[o.shift()];o.length&&void 0!==c;){var d=o.shift();c=d?c[d]:c+"."}return void 0!==c?mr(c)?c:Nt(c,n):i})}var wp="isPrime",QA=W(wp,["typed"],function(t){return(0,t.typed)(wp,{number:function(i){if(0*i!=0)return!1;if(i<=3)return i>1;if(i%2==0||i%3==0)return!1;for(var a=5;a*a<=i;a+=6)if(i%a==0||i%(a+2)==0)return!1;return!0},BigNumber:function(i){if(0*i.toNumber()!=0)return!1;if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;for(var a=5;i.gte(a*a);a+=6)if(i.mod(a).eq(0)||i.mod(a+2).eq(0))return!1;return!0},"Array | Matrix":function(i){return We(i,this)}})}),JA=W("acos",["typed","config","Complex"],function(t){var n=t.config,i=t.Complex;return(0,t.typed)("acos",{number:function(o){return o>=-1&&o<=1||n.predictable?Math.acos(o):new i(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()},"Array | Matrix":function(o){return We(o,this)}})}),ln="number";function Mp(t){return ab(t)}function Sp(t){return Math.atan(1/t)}function Np(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function Ap(t){return Math.asin(1/t)}function Tp(t){var r=1/t;return Math.log(r+Math.sqrt(r*r+1))}function Ip(t){return Math.acos(1/t)}function Ep(t){var r=1/t,n=Math.sqrt(r*r-1);return Math.log(n+r)}function Op(t){return ob(t)}function kp(t){return sb(t)}function Dp(t){return 1/Math.tan(t)}function qp(t){var r=Math.exp(2*t);return(r+1)/(r-1)}function Pp(t){return 1/Math.sin(t)}function Zp(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*bi(t)}function Lp(t){return 1/Math.cos(t)}function Rp(t){return 2/(Math.exp(t)+Math.exp(-t))}function Up(t){return cb(t)}Mp.signature=ln,Sp.signature=ln,Np.signature=ln,Ap.signature=ln,Tp.signature=ln,Ip.signature=ln,Ep.signature=ln,Op.signature=ln,kp.signature=ln,Dp.signature=ln,qp.signature=ln,Pp.signature=ln,Zp.signature=ln,Lp.signature=ln,Rp.signature=ln,Up.signature=ln;var iT=W("acot",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("acot",{number:Sp,Complex:function(a){return a.acot()},BigNumber:function(a){return new n(1).div(a).atan()},"Array | Matrix":function(a){return We(a,this)}})}),oT=W("acsc",["typed","config","Complex","BigNumber"],function(t){var n=t.config,i=t.Complex,a=t.BigNumber;return(0,t.typed)("acsc",{number:function(c){return c<=-1||c>=1||n.predictable?Ap(c):new i(c,0).acsc()},Complex:function(c){return c.acsc()},BigNumber:function(c){return new a(1).div(c).asin()},"Array | Matrix":function(c){return We(c,this)}})}),cT=W("asec",["typed","config","Complex","BigNumber"],function(t){var n=t.config,i=t.Complex,a=t.BigNumber;return(0,t.typed)("asec",{number:function(c){return c<=-1||c>=1||n.predictable?Ip(c):new i(c,0).asec()},Complex:function(c){return c.asec()},BigNumber:function(c){return new a(1).div(c).acos()},"Array | Matrix":function(c){return We(c,this)}})}),lT=W("asin",["typed","config","Complex"],function(t){var n=t.config,i=t.Complex;return(0,t.typed)("asin",{number:function(o){return o>=-1&&o<=1||n.predictable?Math.asin(o):new i(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()},"Array | Matrix":function(o){return We(o,this,!0)}})}),mT=W("atan",["typed"],function(t){return(0,t.typed)("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()},"Array | Matrix":function(i){return We(i,this,!0)}})}),gT=W("atanh",["typed","config","Complex"],function(t){var n=t.config,i=t.Complex;return(0,t.typed)("atanh",{number:function(o){return o<=1&&o>=-1||n.predictable?kp(o):new i(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()},"Array | Matrix":function(o){return We(o,this,!0)}})}),vT=W("cosh",["typed"],function(t){return(0,t.typed)("cosh",{number:ul,Complex:function(i){return i.cosh()},BigNumber:function(i){return i.cosh()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(i.value)},"Array | Matrix":function(i){return We(i,this)}})}),xT=W("coth",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("coth",{number:qp,Complex:function(a){return a.coth()},BigNumber:function(a){return new n(1).div(a.tanh())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(a.value)},"Array | Matrix":function(a){return We(a,this)}})}),bT=W("csch",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("csch",{number:Zp,Complex:function(a){return a.csch()},BigNumber:function(a){return new n(1).div(a.sinh())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(a.value)},"Array | Matrix":function(a){return We(a,this)}})}),CT=W("sech",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("sech",{number:Rp,Complex:function(a){return a.sech()},BigNumber:function(a){return new n(1).div(a.cosh())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(a.value)},"Array | Matrix":function(a){return We(a,this)}})}),ST=W("sinh",["typed"],function(t){return(0,t.typed)("sinh",{number:Up,Complex:function(i){return i.sinh()},BigNumber:function(i){return i.sinh()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(i.value)},"Array | Matrix":function(i){return We(i,this,!0)}})}),TT=W("tanh",["typed"],function(t){return(0,t.typed)("tanh",{number:ll,Complex:function(i){return i.tanh()},BigNumber:function(i){return i.tanh()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(i.value)},"Array | Matrix":function(i){return We(i,this,!0)}})});function wr(t,r){if(r<t)return 1;if(r===t)return r;var n=r+t>>1;return wr(t,n)*wr(n+1,r)}function jp(t,r){if(!nt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!nt(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>t)throw new TypeError("k must be less than or equal to n");var n=t-r;return r<n?wr(n+1,t)/wr(1,r):wr(r+1,t)/wr(1,n)}jp.signature="number, number";var Gp="combinations",ET=W(Gp,["typed"],function(t){return(0,t.typed)(Gp,{"number, number":jp,"BigNumber, BigNumber":function(i,a){var c,d,o=i.constructor,s=i.minus(a),p=new o(1);if(!Kp(i)||!Kp(a))throw new TypeError("Positive integer value expected in function combinations");if(a.gt(i))throw new TypeError("k must be less than n in function combinations");if(c=p,a.lt(s))for(d=p;d.lte(s);d=d.plus(p))c=c.times(a.plus(d)).dividedBy(d);else for(d=p;d.lte(a);d=d.plus(p))c=c.times(s.plus(d)).dividedBy(d);return c}})});function Kp(t){return t.isInteger()&&t.gte(0)}var OT=ke(28952),Xp=ke.n(OT),kT=Xp()();function ka(t){var r;return function n(a){r=null===a?kT:Xp()(String(a))}(t),function i(){return r()}}var PT=W("pickRandom",["typed","config","?on"],function(t){var r=t.typed,i=t.on,a=ka(t.config.randomSeed);return i&&i("config",function(c,d){c.randomSeed!==d.randomSeed&&(a=ka(c.randomSeed))}),r({"Array | Matrix":function(d){return o(d)},"Array | Matrix, number":function(d,s){return o(d,s,void 0)},"Array | Matrix, Array":function(d,s){return o(d,void 0,s)},"Array | Matrix, Array | Matrix, number":function(d,s,p){return o(d,p,s)},"Array | Matrix, number, Array | Matrix":function(d,s,p){return o(d,s,p)}});function o(c,d,s){var p=typeof d>"u";p&&(d=1),c=Zt(c.valueOf()).valueOf(),s&&(s=s.valueOf());var l=0;if(typeof s<"u"){if(s.length!==c.length)throw new Error("Weights must have the same length as possibles");for(var u=0,m=s.length;u<m;u++){if(!Tt(s[u])||s[u]<0)throw new Error("Weights must be an array of positive numbers");l+=s[u]}}var g=c.length;if(0===g)return[];if(d>=g)return d>1?c:c[0];for(var h,f=[];f.length<d;){if(typeof s>"u")h=c[Math.floor(a()*g)];else for(var w=a()*l,y=0,M=c.length;y<M;y++)if((w-=s[y])<0){h=c[y];break}-1===f.indexOf(h)&&f.push(h)}return p?f[0]:f}});function yc(t,r){var n=[];if((t=t.slice(0)).length>1)for(var i=0,a=t.shift();i<a;i++)n.push(yc(t,r));else for(var o=0,c=t.shift();o<c;o++)n.push(r());return n}var em="randomInt",LT=W(em,["typed","config","?on"],function(t){var r=t.typed,i=t.on,a=ka(t.config.randomSeed);return i&&i("config",function(d,s){d.randomSeed!==s.randomSeed&&(a=ka(d.randomSeed))}),r(em,{"":function(){return c(0,1)},number:function(s){return c(0,s)},"number, number":function(s,p){return c(s,p)},"Array | Matrix":function(s){return o(s,0,1)},"Array | Matrix, number":function(s,p){return o(s,0,p)},"Array | Matrix, number, number":function(s,p,l){return o(s,p,l)}});function o(d,s,p){var l=yc(d.valueOf(),function(){return c(s,p)});return wt(d)?d.create(l):l}function c(d,s){return Math.floor(d+a()*(s-d))}}),UT=W("clone",["typed"],function(t){return(0,t.typed)("clone",{any:ut})}),nm="hasNumericValue",FT=W(nm,["typed","isNumeric"],function(t){var n=t.isNumeric;return(0,t.typed)(nm,{string:function(a){return a.trim().length>0&&!isNaN(Number(a))},any:function(a){return n(a)}})}),HT=W("typeOf",["typed"],function(t){return(0,t.typed)("typeOf",{any:rn})}),VT=W("string",["typed"],function(t){return(0,t.typed)("string",{"":function(){return""},number:ji,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":function(i){return We(i,this)},any:function(i){return String(i)}})}),YT=W("fraction",["typed","Fraction"],function(t){var n=t.Fraction;return(0,t.typed)("fraction",{number:function(a){if(!isFinite(a)||isNaN(a))throw new Error(a+" cannot be represented as a fraction");return new n(a)},string:function(a){return new n(a)},"number, number":function(a,o){return new n(a,o)},null:function(a){return new n(0)},BigNumber:function(a){return new n(a.toString())},Fraction:function(a){return a},Object:function(a){return new n(a)},"Array | Matrix":function(a){return We(a,this)}})}),am="unaryMinus",jT=W(am,["typed"],function(t){return(0,t.typed)(am,{number:qd,Complex:function(i){return i.neg()},BigNumber:function(i){return i.neg()},Fraction:function(i){return i.neg()},Unit:function(i){var a=i.clone();return a.value=this(i.value),a},"Array | Matrix":function(i){return We(i,this,!0)}})}),om="addScalar",KT=W(om,["typed"],function(t){return(0,t.typed)(om,{"number, number":kd,"Complex, Complex":function(i,a){return i.add(a)},"BigNumber, BigNumber":function(i,a){return i.plus(a)},"Fraction, Fraction":function(i,a){return i.add(a)},"Unit, Unit":function(i,a){if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==a.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(a))throw new Error("Units do not match");var o=i.clone();return o.value=this(o.value,a.value),o.fixPrefix=!1,o}})}),eI=W("exp",["typed"],function(t){return(0,t.typed)("exp",{number:Rd,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()},"Array | Matrix":function(i){return We(i,this)}})}),nI=W("log2",["typed","config","Complex"],function(t){var n=t.config,i=t.Complex;return(0,t.typed)("log2",{number:function(c){return c>=0||n.predictable?Qd(c):a(new i(c,0))},Complex:a,BigNumber:function(c){return!c.isNegative()||n.predictable?c.log(2):a(new i(c.toNumber(),0))},"Array | Matrix":function(c){return We(c,this)}});function a(o){var c=Math.sqrt(o.re*o.re+o.im*o.im);return new i(Math.log2?Math.log2(c):Math.log(c)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}}),aI=W("sqrt",["config","typed","Complex"],function(t){var r=t.config,i=t.Complex;return(0,t.typed)("sqrt",{number:a,Complex:function(c){return c.sqrt()},BigNumber:function(c){return!c.isNegative()||r.predictable?c.sqrt():a(c.toNumber())},"Array | Matrix":function(c){return We(c,this,!0)},Unit:function(c){return c.pow(.5)}});function a(o){return isNaN(o)?NaN:o>=0||r.predictable?Math.sqrt(o):new i(o,0).sqrt()}}),sI=W("conj",["typed"],function(t){return(0,t.typed)("conj",{number:function(i){return i},BigNumber:function(i){return i},Complex:function(i){return i.conjugate()},"Array | Matrix":function(i){return We(i,this)}})}),lm="getMatrixDataType",uI=W(lm,["typed"],function(t){return(0,t.typed)(lm,{Array:function(i){return go(i,rn)},Matrix:function(i){return i.getDataType()}})}),dI=W("mode",["typed","isNaN","isNumeric"],function(t){var n=t.isNaN,i=t.isNumeric;return(0,t.typed)("mode",{"Array | Matrix":a,"...":function(c){return a(c)}});function a(o){if(0===(o=Zt(o.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var d={},s=[],p=0,l=0;l<o.length;l++){var u=o[l];if(i(u)&&n(u))throw new Error("Cannot calculate mode of an array containing NaN values");u in d||(d[u]=0),d[u]++,d[u]===p?s.push(u):d[u]>p&&(p=d[u],s=[u])}return s}}),pI=xc("bin",2),fI=W("acosh",["typed","config","Complex"],function(t){var n=t.config,i=t.Complex;return(0,t.typed)("acosh",{number:function(o){return o>=1||n.predictable?Mp(o):o<=-1?new i(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new i(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()},"Array | Matrix":function(o){return We(o,this)}})}),hI=W("acsch",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("acsch",{number:Tp,Complex:function(a){return a.acsch()},BigNumber:function(a){return new n(1).div(a).asinh()},"Array | Matrix":function(a){return We(a,this)}})}),xI=W("asinh",["typed"],function(t){return(0,t.typed)("asinh",{number:Op,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()},"Array | Matrix":function(i){return We(i,this,!0)}})}),bI=W("cos",["typed"],function(t){return(0,t.typed)("cos",{number:Math.cos,Complex:function(i){return i.cos()},BigNumber:function(i){return i.cos()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(i.value)},"Array | Matrix":function(i){return We(i,this)}})}),CI=W("csc",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("csc",{number:Pp,Complex:function(a){return a.csc()},BigNumber:function(a){return new n(1).div(a.sin())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(a.value)},"Array | Matrix":function(a){return We(a,this)}})}),SI=W("sin",["typed"],function(t){return(0,t.typed)("sin",{number:Math.sin,Complex:function(i){return i.sin()},BigNumber:function(i){return i.sin()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(i.value)},"Array | Matrix":function(i){return We(i,this,!0)}})}),vm="combinationsWithRep",AI=W(vm,["typed"],function(t){return(0,t.typed)(vm,{"number, number":function(i,a){if(!nt(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!nt(a)||a<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");return a<i-1?wr(i,i+a-1)/wr(1,a):wr(a+1,i+a-1)/wr(1,i-1)},"BigNumber, BigNumber":function(i,a){var c,d,s=new(0,i.constructor)(1),p=i.minus(s);if(!_m(i)||!_m(a))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(s))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(c=s,a.lt(p))for(d=s;d.lte(p);d=d.plus(s))c=c.times(a.plus(d)).dividedBy(d);else for(d=s;d.lte(a);d=d.plus(s))c=c.times(p.plus(d)).dividedBy(d);return c}})});function _m(t){return t.isInteger()&&t.gte(0)}var II=W("random",["typed","config","?on"],function(t){var r=t.typed,i=t.on,a=ka(t.config.randomSeed);return i&&i("config",function(d,s){d.randomSeed!==s.randomSeed&&(a=ka(d.randomSeed))}),r("random",{"":function(){return c(0,1)},number:function(s){return c(0,s)},"number, number":function(s,p){return c(s,p)},"Array | Matrix":function(s){return o(s,0,1)},"Array | Matrix, number":function(s,p){return o(s,0,p)},"Array | Matrix, number, number":function(s,p,l){return o(s,p,l)}});function o(d,s,p){var l=yc(d.valueOf(),function(){return c(s,p)});return wt(d)?d.create(l):l}function c(d,s){return d+a()*(s-d)}}),ym="isNegative",OI=W(ym,["typed"],function(t){return(0,t.typed)(ym,{number:Cd,BigNumber:function(i){return i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s<0},Unit:function(i){return this(i.value)},"Array | Matrix":function(i){return We(i,this)}})}),qI=W("SparseMatrix",["typed","equalScalar","Matrix"],function(t){var r=t.typed,n=t.equalScalar;function a(h,w){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(w&&!mr(w))throw new Error("Invalid datatype: "+w);if(wt(h))!function o(h,w,y){"SparseMatrix"===w.type?(h._values=w._values?ut(w._values):void 0,h._index=ut(w._index),h._ptr=ut(w._ptr),h._size=ut(w._size),h._datatype=y||w._datatype):c(h,w.valueOf(),y||w._datatype)}(this,h,w);else if(h&&Kt(h.index)&&Kt(h.ptr)&&Kt(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=w||h.datatype;else if(Kt(h))c(this,h,w);else{if(h)throw new TypeError("Unsupported type of data ("+rn(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=w}}function c(h,w,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var M=w.length,_=0,b=n,x=0;if(mr(y)&&(b=r.find(n,[y,y])||n,x=r.convert(0,y)),M>0){var v=0;do{h._ptr.push(h._index.length);for(var A=0;A<M;A++){var S=w[A];if(Kt(S)){if(0===v&&_<S.length&&(_=S.length),v<S.length){var N=S[v];b(N,x)||(h._values.push(N),h._index.push(A))}}else 0===v&&_<1&&(_=1),b(S,x)||(h._values.push(S),h._index.push(A))}v++}while(v<_)}h._ptr.push(h._index.length),h._size=[M,_]}function d(h,w){if(!uo(w))throw new TypeError("Invalid index");if(w.isScalar())return h.get(w.min());var M=w.size();if(M.length!==h._size.length)throw new Ct(M.length,h._size.length);var _,b,x,v,A=w.min(),S=w.max();for(_=0,b=h._size.length;_<b;_++)an(A[_],h._size[_]),an(S[_],h._size[_]);var N=h._values,E=h._index,P=h._ptr,Z=w.dimension(0),V=w.dimension(1),U=[],j=[];Z.forEach(function(D,de){j[D]=de[0],U[D]=!0});var B=N?[]:void 0,O=[],X=[];return V.forEach(function(D){for(X.push(O.length),x=P[D],v=P[D+1];x<v;x++)!0===U[_=E[x]]&&(O.push(j[_]),B&&B.push(N[x]))}),X.push(O.length),new a({values:B,index:O,ptr:X,size:M,datatype:h._datatype})}function s(h,w,y,M){if(!w||!0!==w.isIndex)throw new TypeError("Invalid index");var x,_=w.size(),b=w.isScalar();if(wt(y)?(x=y.size(),y=y.toArray()):x=kt(y),b){if(0!==x.length)throw new TypeError("Scalar expected");h.set(w.min(),y,M)}else{if(1!==_.length&&2!==_.length)throw new Ct(_.length,h._size.length,"<");if(x.length<_.length){for(var v=0,A=0;1===_[v]&&1===x[v];)v++;for(;1===_[v];)A++,v++;y=hl(y,_.length,A,x)}if(!Ca(_,x))throw new Ct(_,x,">");for(var S=w.min()[0],N=w.min()[1],E=x[0],P=x[1],Z=0;Z<E;Z++)for(var V=0;V<P;V++)h.set([Z+S,V+N],y[Z][V],M)}return h}function p(h,w,y,M){if(y-w==0)return y;for(var _=w;_<y;_++)if(M[_]===h)return _;return w}function u(h,w,y,M,_,b,x){_.splice(h,0,M),b.splice(h,0,w);for(var v=y+1;v<x.length;v++)x[v]++}function m(h,w,y,M){var _=M||0,b=n,x=0;mr(h._datatype)&&(b=r.find(n,[h._datatype,h._datatype])||n,x=r.convert(0,h._datatype),_=r.convert(_,h._datatype));var N,E,P,v=!b(_,x),A=h._size[0],S=h._size[1];if(y>S){for(E=S;E<y;E++)if(h._ptr[E]=h._values.length,v)for(N=0;N<A;N++)h._values.push(_),h._index.push(N);h._ptr[y]=h._values.length}else y<S&&(h._ptr.splice(y+1,S-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(S=y,w>A){if(v){var Z=0;for(E=0;E<S;E++){h._ptr[E]=h._ptr[E]+Z,P=h._ptr[E+1]+Z;var V=0;for(N=A;N<w;N++,V++)h._values.splice(P+V,0,_),h._index.splice(P+V,0,N),Z++}h._ptr[S]=h._values.length}}else if(w<A){var U=0;for(E=0;E<S;E++){h._ptr[E]=h._ptr[E]-U;var B=h._ptr[E+1]-U;for(P=h._ptr[E];P<B;P++)(N=h._index[P])>w-1&&(h._values.splice(P,1),h._index.splice(P,1),U++)}h._ptr[E]=h._values.length}return h._size[0]=w,h._size[1]=y,h}function f(h,w,y,M,_){var A,S,b=M[0],x=M[1],v=[];for(A=0;A<b;A++)for(v[A]=[],S=0;S<x;S++)v[A][S]=0;for(S=0;S<x;S++)for(var E=y[S+1],P=y[S];P<E;P++)v[A=w[P]][S]=h?_?ut(h[P]):h[P]:1;return v}return(a.prototype=new(0,t.Matrix)).createSparseMatrix=function(h,w){return new a(h,w)},a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return go(this._values,rn)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(h,w){return new a(h,w)},a.prototype.density=function(){var h=this._size[0],w=this._size[1];return 0!==h&&0!==w?this._index.length/(h*w):0},a.prototype.subset=function(h,w,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return d(this,h);case 2:case 3:return s(this,h,w,y);default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.get=function(h){if(!Kt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Ct(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var w=h[0],y=h[1];an(w,this._size[0]),an(y,this._size[1]);var M=p(w,this._ptr[y],this._ptr[y+1],this._index);return M<this._ptr[y+1]&&this._index[M]===w?this._values[M]:0},a.prototype.set=function(h,w,y){if(!Kt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Ct(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var M=h[0],_=h[1],b=this._size[0],x=this._size[1],v=n,A=0;mr(this._datatype)&&(v=r.find(n,[this._datatype,this._datatype])||n,A=r.convert(0,this._datatype)),(M>b-1||_>x-1)&&(m(this,Math.max(M+1,b),Math.max(_+1,x),y),b=this._size[0],x=this._size[1]),an(M,b),an(_,x);var S=p(M,this._ptr[_],this._ptr[_+1],this._index);return S<this._ptr[_+1]&&this._index[S]===M?v(w,A)?function l(h,w,y,M,_){y.splice(h,1),M.splice(h,1);for(var b=w+1;b<_.length;b++)_[b]--}(S,_,this._values,this._index,this._ptr):this._values[S]=w:u(S,M,_,w,this._values,this._index,this._ptr),this},a.prototype.resize=function(h,w,y){if(!Ar(h))throw new TypeError("Array or Matrix expected");var M=h.valueOf().map(function(b){return Array.isArray(b)&&1===b.length?b[0]:b});if(2!==M.length)throw new Error("Only two dimensions matrix are supported");return M.forEach(function(b){if(!Tt(b)||!nt(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(M)+")")}),m(y?this.clone():this,M[0],M[1],w)},a.prototype.reshape=function(h,w){if(!Kt(h))throw new TypeError("Array expected");if(2!==h.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(h.forEach(function(O){if(!Tt(O)||!nt(O)||O<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(h)+")")}),this._size[0]*this._size[1]!=h[0]*h[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=w?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var M=[],_=0;_<y._ptr.length;_++)for(var b=0;b<y._ptr[_+1]-y._ptr[_];b++)M.push(_);for(var x=y._values.slice(),v=y._index.slice(),A=0;A<y._index.length;A++){var E=v[A]*y._size[1]+M[A];M[A]=E%h[1],v[A]=Math.floor(E/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var P=0;P<y._ptr.length;P++)y._ptr[P]=0;for(var Z=0;Z<x.length;Z++){var V=v[Z],U=M[Z],j=x[Z];u(p(V,y._ptr[U],y._ptr[U+1],y._index),V,U,j,y._values,y._index,y._ptr)}return y},a.prototype.clone=function(){return new a({values:this._values?ut(this._values):void 0,index:ut(this._index),ptr:ut(this._ptr),size:ut(this._size),datatype:this._datatype})},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(h,w){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this;return function g(h,w,y,M,_,b,x){var v=[],A=[],S=[],N=n,E=0;mr(h._datatype)&&(N=r.find(n,[h._datatype,h._datatype])||n,E=r.convert(0,h._datatype));for(var P=function(oe,Ae,je){oe=b(oe,Ae,je),N(oe,E)||(v.push(oe),A.push(Ae))},Z=M;Z<=_;Z++){S.push(v.length);var V=h._ptr[Z],U=h._ptr[Z+1];if(x)for(var j=V;j<U;j++){var B=h._index[j];B>=w&&B<=y&&P(h._values[j],B-w,Z-M)}else{for(var O={},X=V;X<U;X++)O[h._index[X]]=h._values[X];for(var de=w;de<=y;de++)P(de in O?O[de]:0,de-w,Z-M)}}return S.push(v.length),new a({values:v,index:A,ptr:S,size:[y-w+1,_-M+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(v,A,S){return h(v,[A,S],y)},w)},a.prototype.forEach=function(h,w){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var M=this._size[0],_=this._size[1],b=0;b<_;b++){var x=this._ptr[b],v=this._ptr[b+1];if(w)for(var A=x;A<v;A++)h(this._values[A],[this._index[A],b],this);else{for(var N={},E=x;E<v;E++)N[this._index[E]]=this._values[E];for(var Z=0;Z<M;Z++)h(Z in N?N[Z]:0,[Z,b],this)}}},a.prototype.toArray=function(){return f(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return f(this._values,this._index,this._ptr,this._size,!1)},a.prototype.format=function(h){for(var w=this._size[0],y=this._size[1],M=this.density(),_="Sparse Matrix ["+Nt(w,h)+" x "+Nt(y,h)+"] density: "+Nt(M,h)+"\n",b=0;b<y;b++)for(var v=this._ptr[b+1],A=this._ptr[b];A<v;A++)_+="\n    ("+Nt(this._index[A],h)+", "+Nt(b,h)+") ==> "+(this._values?Nt(this._values[A],h):"X");return _},a.prototype.toString=function(){return Nt(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(h){if(h){if(vt(h)&&(h=h.toNumber()),!Tt(h)||!nt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var w=h>0?h:0,y=h<0?-h:0,_=this._size[1],b=Math.min(this._size[0]-y,_-w),x=[],v=[],A=[];A[0]=0;for(var S=w;S<_&&x.length<b;S++)for(var E=this._ptr[S+1],P=this._ptr[S];P<E;P++){var Z=this._index[P];if(Z===S-w+y){x.push(this._values[P]),v[x.length-1]=Z-y;break}}return A.push(x.length),new a({values:x,index:v,ptr:A,size:[b,1]})},a.fromJSON=function(h){return new a(h)},a.diagonal=function(h,w,y,M,_){if(!Kt(h))throw new TypeError("Array expected, size parameter");if(2!==h.length)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(D){if(vt(D)&&(D=D.toNumber()),!Tt(D)||!nt(D)||D<1)throw new Error("Size values must be positive integers");return D}),y){if(vt(y)&&(y=y.toNumber()),!Tt(y)||!nt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var b=n,x=0;mr(_)&&(b=r.find(n,[_,_])||n,x=r.convert(0,_));var P,v=y>0?y:0,A=y<0?-y:0,S=h[0],N=h[1],E=Math.min(S-A,N-v);if(Kt(w)){if(w.length!==E)throw new Error("Invalid value array length");P=function(de){return w[de]}}else if(wt(w)){var Z=w.size();if(1!==Z.length||Z[0]!==E)throw new Error("Invalid matrix length");P=function(de){return w.get([de])}}else P=function(){return w};for(var V=[],U=[],j=[],B=0;B<N;B++){j.push(V.length);var O=B-v;if(O>=0&&O<E){var X=P(O);b(X,x)||(U.push(O+A),V.push(X))}}return j.push(V.length),new a({values:V,index:U,ptr:j,size:[S,N]})},a.prototype.swapRows=function(h,w){if(!(Tt(h)&&nt(h)&&Tt(w)&&nt(w)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return an(h,this._size[0]),an(w,this._size[0]),a._swapRows(h,w,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(h,w,y,M,_){for(var x=M[h+1],v=M[h];v<x;v++)_(y[v],w[v])},a._swapRows=function(h,w,y,M,_,b){for(var x=0;x<y;x++){var v=b[x],A=b[x+1],S=p(h,v,A,_),N=p(w,v,A,_);if(S<A&&N<A&&_[S]===h&&_[N]===w){if(M){var E=M[S];M[S]=M[N],M[N]=E}}else if(S<A&&_[S]===h&&(N>=A||_[N]!==w)){var P=M?M[S]:void 0;_.splice(N,0,w),M&&M.splice(N,0,P),_.splice(N<=S?S+1:S,1),M&&M.splice(N<=S?S+1:S,1)}else if(N<A&&_[N]===w&&(S>=A||_[S]!==h)){var Z=M?M[N]:void 0;_.splice(S,0,h),M&&M.splice(S,0,Z),_.splice(S<=N?N+1:N,1),M&&M.splice(S<=N?N+1:N,1)}}},a},{isClass:!0}),ZI=W("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],function(t){var i=t.DenseMatrix,a=t.SparseMatrix;return(0,t.typed)("matrix",{"":function(){return o([])},string:function(d){return o([],d)},"string, string":function(d,s){return o([],d,s)},Array:function(d){return o(d)},Matrix:function(d){return o(d,d.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(c,d,s){if("dense"===d||"default"===d||void 0===d)return new i(c,s);if("sparse"===d)return new a(c,s);throw new TypeError("Unknown matrix type "+JSON.stringify(d)+".")}}),RI=W("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],function(t){var r=t.config,i=t.isNegative,a=t.unaryMinus,o=t.matrix,c=t.Complex,d=t.BigNumber,s=t.Fraction;return(0,t.typed)("cbrt",{number:bo,Complex:p,"Complex, boolean":p,BigNumber:function(m){return m.cbrt()},Unit:function l(u){if(u.value&&yi(u.value)){var m=u.clone();return m.value=1,(m=m.pow(1/3)).value=p(u.value),m}var f,g=i(u.value);g&&(u.value=a(u.value)),f=vt(u.value)?new d(1).div(3):so(u.value)?new s(1,3):1/3;var h=u.pow(f);return g&&(h.value=a(h.value)),h},"Array | Matrix":function(m){return We(m,this,!0)}});function p(u,m){var g=u.arg()/3,f=u.abs(),h=new c(bo(f),0).mul(new c(0,g).exp());if(m){var w=[h,new c(bo(f),0).mul(new c(0,g+2*Math.PI/3).exp()),new c(bo(f),0).mul(new c(0,g-2*Math.PI/3).exp())];return"Array"===r.matrix?w:o(w)}return h}}),Mi=W("algorithm01",["typed"],function(t){var r=t.typed;return function(i,a,o,c){var d=i._data,s=i._size,p=i._datatype,l=a._values,u=a._index,m=a._ptr,g=a._size,f=a._datatype;if(s.length!==g.length)throw new Ct(s.length,g.length);if(s[0]!==g[0]||s[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+g+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,b,h=s[0],w=s[1],y="string"==typeof p&&p===f?p:void 0,M=y?r.find(o,[y,y]):o,x=[];for(_=0;_<h;_++)x[_]=[];var v=[],A=[];for(b=0;b<w;b++){for(var S=b+1,E=m[b+1],P=m[b];P<E;P++)v[_=u[P]]=c?M(l[P],d[_][b]):M(d[_][b],l[P]),A[_]=S;for(_=0;_<h;_++)x[_][b]=A[_]===S?v[_]:d[_][b]}return i.createDenseMatrix({data:x,size:[h,w],datatype:y})}}),bc=W("algorithm04",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c){var d=a._values,s=a._index,p=a._ptr,l=a._size,u=a._datatype,m=o._values,g=o._index,f=o._ptr,h=o._size,w=o._datatype;if(l.length!==h.length)throw new Ct(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var _,y=l[0],M=l[1],b=n,x=0,v=c;"string"==typeof u&&u===w&&(b=r.find(n,[_=u,_]),x=r.convert(0,_),v=r.find(c,[_,_]));var U,j,B,X,A=d&&m?[]:void 0,S=[],N=[],E=d&&m?[]:void 0,P=d&&m?[]:void 0,Z=[],V=[];for(j=0;j<M;j++){N[j]=S.length;var D=j+1;for(X=p[j+1],B=p[j];B<X;B++)S.push(U=s[B]),Z[U]=D,E&&(E[U]=d[B]);for(X=f[j+1],B=f[j];B<X;B++)if(Z[U=g[B]]===D){if(E){var de=v(E[U],m[B]);b(de,x)?Z[U]=null:E[U]=de}}else S.push(U),V[U]=D,P&&(P[U]=m[B]);if(E&&P)for(B=N[j];B<S.length;)Z[U=S[B]]===D?(A[B]=E[U],B++):V[U]===D?(A[B]=P[U],B++):S.splice(B,1)}return N[M]=S.length,a.createSparseMatrix({values:A,index:S,ptr:N,size:[y,M],datatype:_})}}),Gi=W("algorithm10",["typed","DenseMatrix"],function(t){var r=t.typed,n=t.DenseMatrix;return function(a,o,c,d){var s=a._values,p=a._index,l=a._ptr,u=a._size,m=a._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,g=u[0],f=u[1],w=c;"string"==typeof m&&(o=r.convert(o,h=m),w=r.find(c,[h,h]));for(var y=[],M=[],_=[],b=0;b<f;b++){for(var x=b+1,A=l[b+1],S=l[b];S<A;S++){var N=p[S];M[N]=s[S],_[N]=x}for(var E=0;E<g;E++)0===b&&(y[E]=[]),y[E][b]=_[E]===x?d?w(o,M[E]):w(M[E],o):o}return new n({data:y,size:[g,f],datatype:h})}}),Xt=W("algorithm13",["typed"],function(t){var r=t.typed;return function(a,o,c){var d=a._data,s=a._size,p=a._datatype,l=o._data,u=o._size,m=o._datatype,g=[];if(s.length!==u.length)throw new Ct(s.length,u.length);for(var f=0;f<s.length;f++){if(s[f]!==u[f])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+u+")");g[f]=s[f]}var h,w=c;"string"==typeof p&&p===m&&(w=r.find(c,[h=p,h]));var y=g.length>0?n(w,0,g,g[0],d,l):[];return a.createDenseMatrix({data:y,size:g,datatype:h})};function n(i,a,o,c,d,s){var p=[];if(a===o.length-1)for(var l=0;l<c;l++)p[l]=i(d[l],s[l]);else for(var u=0;u<c;u++)p[u]=n(i,a+1,o,o[a+1],d[u],s[u]);return p}}),zt=W("algorithm14",["typed"],function(t){var r=t.typed;return function(a,o,c,d){var u,s=a._data,p=a._size,l=a._datatype,m=c;"string"==typeof l&&(o=r.convert(o,u=l),m=r.find(c,[u,u]));var g=p.length>0?n(m,0,p,p[0],s,o,d):[];return a.createDenseMatrix({data:g,size:ut(p),datatype:u})};function n(i,a,o,c,d,s,p){var l=[];if(a===o.length-1)for(var u=0;u<c;u++)l[u]=p?i(s,d[u]):i(d[u],s);else for(var m=0;m<c;m++)l[m]=n(i,a+1,o,o[a+1],d[m],s,p);return l}}),jI=W("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.BigNumber,o=t.DenseMatrix,c=Mi({typed:r}),d=bc({typed:r,equalScalar:i}),s=Gi({typed:r,DenseMatrix:o}),p=Xt({typed:r}),l=zt({typed:r});return r("gcd",{"number, number":Bd,"BigNumber, BigNumber":function u(m,g){if(!m.isInt()||!g.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var f=new a(0);!g.isZero();){var h=m.mod(g);m=g,g=h}return m.lt(f)?m.neg():m},"Fraction, Fraction":function(g,f){return g.gcd(f)},"SparseMatrix, SparseMatrix":function(g,f){return d(g,f,this)},"SparseMatrix, DenseMatrix":function(g,f){return c(f,g,this,!0)},"DenseMatrix, SparseMatrix":function(g,f){return c(g,f,this,!1)},"DenseMatrix, DenseMatrix":function(g,f){return p(g,f,this)},"Array, Array":function(g,f){return this(n(g),n(f)).valueOf()},"Array, Matrix":function(g,f){return this(n(g),f)},"Matrix, Array":function(g,f){return this(g,n(f))},"SparseMatrix, number | BigNumber":function(g,f){return s(g,f,this,!1)},"DenseMatrix, number | BigNumber":function(g,f){return l(g,f,this,!1)},"number | BigNumber, SparseMatrix":function(g,f){return s(f,g,this,!0)},"number | BigNumber, DenseMatrix":function(g,f){return l(f,g,this,!0)},"Array, number | BigNumber":function(g,f){return l(n(g),f,this,!1).valueOf()},"number | BigNumber, Array":function(g,f){return l(n(f),g,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(g,f,h){for(var w=this(g,f),y=0;y<h.length;y++)w=this(w,h[y]);return w}})}),Ir=W("algorithm02",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c,d){var s=a._data,p=a._size,l=a._datatype,u=o._values,m=o._index,g=o._ptr,f=o._size,h=o._datatype;if(p.length!==f.length)throw new Ct(p.length,f.length);if(p[0]!==f[0]||p[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var M,w=p[0],y=p[1],_=n,b=0,x=c;"string"==typeof l&&l===h&&(_=r.find(n,[M=l,M]),b=r.convert(0,M),x=r.find(c,[M,M]));for(var v=[],A=[],S=[],N=0;N<y;N++){S[N]=A.length;for(var P=g[N+1],Z=g[N];Z<P;Z++){var V=m[Z],U=d?x(u[Z],s[V][N]):x(s[V][N],u[Z]);_(U,b)||(A.push(V),v.push(U))}}return S[y]=A.length,o.createSparseMatrix({values:v,index:A,ptr:S,size:[w,y],datatype:M})}}),nr=W("algorithm03",["typed"],function(t){var r=t.typed;return function(i,a,o,c){var d=i._data,s=i._size,p=i._datatype,l=a._values,u=a._index,m=a._ptr,g=a._size,f=a._datatype;if(s.length!==g.length)throw new Ct(s.length,g.length);if(s[0]!==g[0]||s[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+g+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,h=s[0],w=s[1],M=0,_=o;"string"==typeof p&&p===f&&(M=r.convert(0,y=p),_=r.find(o,[y,y]));for(var b=[],x=0;x<h;x++)b[x]=[];for(var v=[],A=[],S=0;S<w;S++){for(var N=S+1,P=m[S+1],Z=m[S];Z<P;Z++){var V=u[Z];v[V]=c?_(l[Z],d[V][S]):_(d[V][S],l[Z]),A[V]=N}for(var U=0;U<h;U++)b[U][S]=A[U]===N?v[U]:c?_(M,d[U][S]):_(d[U][S],M)}return i.createDenseMatrix({data:b,size:[h,w],datatype:y})}}),xs=W("algorithm05",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c){var d=a._values,s=a._index,p=a._ptr,l=a._size,u=a._datatype,m=o._values,g=o._index,f=o._ptr,h=o._size,w=o._datatype;if(l.length!==h.length)throw new Ct(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var _,y=l[0],M=l[1],b=n,x=0,v=c;"string"==typeof u&&u===w&&(b=r.find(n,[_=u,_]),x=r.convert(0,_),v=r.find(c,[_,_]));var U,j,B,O,A=d&&m?[]:void 0,S=[],N=[],E=A?[]:void 0,P=A?[]:void 0,Z=[],V=[];for(j=0;j<M;j++){N[j]=S.length;var X=j+1;for(B=p[j],O=p[j+1];B<O;B++)S.push(U=s[B]),Z[U]=X,E&&(E[U]=d[B]);for(B=f[j],O=f[j+1];B<O;B++)Z[U=g[B]]!==X&&S.push(U),V[U]=X,P&&(P[U]=m[B]);if(A)for(B=N[j];B<S.length;){var D=Z[U=S[B]],de=V[U];if(D===X||de===X){var oe=v(D===X?E[U]:x,de===X?P[U]:x);b(oe,x)?S.splice(B,1):(A.push(oe),B++)}}}return N[M]=S.length,a.createSparseMatrix({values:A,index:S,ptr:N,size:[y,M],datatype:_})}}),Bn=W("algorithm11",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c,d){var s=a._values,p=a._index,l=a._ptr,u=a._size,m=a._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,g=u[0],f=u[1],w=n,y=0,M=c;"string"==typeof m&&(w=r.find(n,[h=m,h]),y=r.convert(0,h),o=r.convert(o,h),M=r.find(c,[h,h]));for(var _=[],b=[],x=[],v=0;v<f;v++){x[v]=b.length;for(var S=l[v+1],N=l[v];N<S;N++){var E=p[N],P=d?M(o,s[N]):M(s[N],o);w(P,y)||(b.push(E),_.push(P))}}return x[f]=b.length,a.createSparseMatrix({values:_,index:b,ptr:x,size:[g,f],datatype:h})}}),rr=W("algorithm12",["typed","DenseMatrix"],function(t){var r=t.typed,n=t.DenseMatrix;return function(a,o,c,d){var s=a._values,p=a._index,l=a._ptr,u=a._size,m=a._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,g=u[0],f=u[1],w=c;"string"==typeof m&&(o=r.convert(o,h=m),w=r.find(c,[h,h]));for(var y=[],M=[],_=[],b=0;b<f;b++){for(var x=b+1,A=l[b+1],S=l[b];S<A;S++){var N=p[S];M[N]=s[S],_[N]=x}for(var E=0;E<g;E++)0===b&&(y[E]=[]),y[E][b]=_[E]===x?d?w(o,M[E]):w(M[E],o):d?w(o,0):w(0,o)}return new n({data:y,size:[g,f],datatype:h})}}),cE=W("mod",["typed","matrix","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.DenseMatrix,o=Ir({typed:r,equalScalar:i}),c=nr({typed:r}),d=xs({typed:r,equalScalar:i}),s=Bn({typed:r,equalScalar:i}),p=rr({typed:r,DenseMatrix:a}),l=Xt({typed:r}),u=zt({typed:r});return r("mod",{"number, number":Vd,"BigNumber, BigNumber":function(g,f){if(f.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return f.isZero()?g:g.mod(f)},"Fraction, Fraction":function(g,f){if(f.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return g.compare(0)>=0?g.mod(f):g.mod(f).add(f).mod(f)},"SparseMatrix, SparseMatrix":function(g,f){return d(g,f,this,!1)},"SparseMatrix, DenseMatrix":function(g,f){return o(f,g,this,!0)},"DenseMatrix, SparseMatrix":function(g,f){return c(g,f,this,!1)},"DenseMatrix, DenseMatrix":function(g,f){return l(g,f,this)},"Array, Array":function(g,f){return this(n(g),n(f)).valueOf()},"Array, Matrix":function(g,f){return this(n(g),f)},"Matrix, Array":function(g,f){return this(g,n(f))},"SparseMatrix, any":function(g,f){return s(g,f,this,!1)},"DenseMatrix, any":function(g,f){return u(g,f,this,!1)},"any, SparseMatrix":function(g,f){return p(f,g,this,!0)},"any, DenseMatrix":function(g,f){return u(f,g,this,!0)},"Array, any":function(g,f){return u(n(g),f,this,!1).valueOf()},"any, Array":function(g,f){return u(n(f),g,this,!0).valueOf()}})}),ys=W("algorithm06",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c){var d=a._values,s=a._size,p=a._datatype,l=o._values,u=o._size,m=o._datatype;if(s.length!==u.length)throw new Ct(s.length,u.length);if(s[0]!==u[0]||s[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+u+")");var h,g=s[0],f=s[1],w=n,y=0,M=c;"string"==typeof p&&p===m&&(w=r.find(n,[h=p,h]),y=r.convert(0,h),M=r.find(c,[h,h]));for(var _=d&&l?[]:void 0,b=[],x=[],v=_?[]:void 0,A=[],S=[],N=0;N<f;N++){x[N]=b.length;var E=N+1;if(Nl(a,N,A,v,S,E,b,M),Nl(o,N,A,v,S,E,b,M),v)for(var P=x[N];P<b.length;){var Z=b[P];if(S[Z]===E){var V=v[Z];w(V,y)?b.splice(P,1):(_.push(V),P++)}else b.splice(P,1)}else for(var U=x[N];U<b.length;)S[b[U]]!==E?b.splice(U,1):U++}return x[f]=b.length,a.createSparseMatrix({values:_,index:b,ptr:x,size:[g,f],datatype:h})}}),Sm="nthRoot",pE=W(Sm,["typed","matrix","equalScalar","BigNumber"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.BigNumber,o=Mi({typed:r}),c=Ir({typed:r,equalScalar:i}),d=ys({typed:r,equalScalar:i}),s=Bn({typed:r,equalScalar:i}),p=Xt({typed:r}),l=zt({typed:r}),u="Complex number not supported in function nthRoot. Use nthRoots instead.";return r(Sm,{number:function(f){return fc(f,2)},"number, number":fc,BigNumber:function(f){return m(f,new a(2))},Complex:function(f){throw new Error(u)},"Complex, number":function(f,h){throw new Error(u)},"BigNumber, BigNumber":m,"Array | Matrix":function(f){return this(f,2)},"SparseMatrix, SparseMatrix":function(f,h){if(1===h.density())return d(f,h,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(f,h){return c(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){if(1===h.density())return o(f,h,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(f,h){return p(f,h,this)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, number | BigNumber":function(f,h){return s(f,h,this,!1)},"DenseMatrix, number | BigNumber":function(f,h){return l(f,h,this,!1)},"number | BigNumber, SparseMatrix":function(f,h){if(1===h.density())return s(h,f,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(f,h){return l(h,f,this,!0)},"Array, number | BigNumber":function(f,h){return this(n(f),h).valueOf()},"number | BigNumber, Array":function(f,h){return this(f,n(h)).valueOf()}});function m(g,f){var h=a.precision,w=a.clone({precision:h+2}),y=new a(0),M=new w(1),_=f.isNegative();if(_&&(f=f.neg()),f.isZero())throw new Error("Root must be non-zero");if(g.isNegative()&&!f.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(g.isZero())return _?new w(1/0):0;if(!g.isFinite())return _?y:g;var b=g.abs().pow(M.div(f));return b=g.isNeg()?b.neg():b,new a((_?M.div(b):b).toPrecision(h))}}),fE=W("xgcd",["typed","config","matrix","BigNumber"],function(t){var n=t.config,i=t.matrix,a=t.BigNumber;return(0,t.typed)("xgcd",{"number, number":function(d,s){var p=Wd(d,s);return"Array"===n.matrix?p:i(p)},"BigNumber, BigNumber":function o(c,d){var s,p,l,y,u=new a(0),m=new a(1),g=u,f=m,h=m,w=u;if(!c.isInt()||!d.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!d.isZero();)p=c.div(d).floor(),l=c.mod(d),s=g,g=f.minus(p.times(g)),f=s,s=h,h=w.minus(p.times(h)),w=s,c=d,d=l;return y=c.lt(u)?[c.neg(),f.neg(),w.neg()]:[c,c.isZero()?0:f,w],"Array"===n.matrix?y:i(y)}})}),hE=W("bitAnd",["typed","matrix","equalScalar"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=Ir({typed:r,equalScalar:i}),o=ys({typed:r,equalScalar:i}),c=Bn({typed:r,equalScalar:i}),d=Xt({typed:r}),s=zt({typed:r});return r("bitAnd",{"number, number":tp,"BigNumber, BigNumber":oA,"SparseMatrix, SparseMatrix":function(l,u){return o(l,u,this,!1)},"SparseMatrix, DenseMatrix":function(l,u){return a(u,l,this,!0)},"DenseMatrix, SparseMatrix":function(l,u){return a(l,u,this,!1)},"DenseMatrix, DenseMatrix":function(l,u){return d(l,u,this)},"Array, Array":function(l,u){return this(n(l),n(u)).valueOf()},"Array, Matrix":function(l,u){return this(n(l),u)},"Matrix, Array":function(l,u){return this(l,n(u))},"SparseMatrix, any":function(l,u){return c(l,u,this,!1)},"DenseMatrix, any":function(l,u){return s(l,u,this,!1)},"any, SparseMatrix":function(l,u){return c(u,l,this,!0)},"any, DenseMatrix":function(l,u){return s(u,l,this,!0)},"Array, any":function(l,u){return s(n(l),u,this,!1).valueOf()},"any, Array":function(l,u){return s(n(u),l,this,!0).valueOf()}})}),Rr=W("algorithm07",["typed","DenseMatrix"],function(t){var r=t.typed,n=t.DenseMatrix;return function(o,c,d){var s=o._size,p=o._datatype,l=c._size,u=c._datatype;if(s.length!==l.length)throw new Ct(s.length,l.length);if(s[0]!==l[0]||s[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");var f,m=s[0],g=s[1],h=0,w=d;"string"==typeof p&&p===u&&(h=r.convert(0,f=p),w=r.find(d,[f,f]));var y,M,_=[];for(y=0;y<m;y++)_[y]=[];var b=[],x=[],v=[],A=[];for(M=0;M<g;M++){var S=M+1;for(i(o,M,v,b,S),i(c,M,A,x,S),y=0;y<m;y++)_[y][M]=w(v[y]===S?b[y]:h,A[y]===S?x[y]:h)}return new n({data:_,size:[m,g],datatype:f})};function i(a,o,c,d,s){for(var p=a._values,l=a._index,u=a._ptr,m=u[o],g=u[o+1];m<g;m++){var f=l[m];c[f]=s,d[f]=p[m]}}}),yE=W("bitXor",["typed","matrix","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.DenseMatrix,a=nr({typed:r}),o=Rr({typed:r,DenseMatrix:i}),c=rr({typed:r,DenseMatrix:i}),d=Xt({typed:r}),s=zt({typed:r});return r("bitXor",{"number, number":ip,"BigNumber, BigNumber":cA,"SparseMatrix, SparseMatrix":function(l,u){return o(l,u,this)},"SparseMatrix, DenseMatrix":function(l,u){return a(u,l,this,!0)},"DenseMatrix, SparseMatrix":function(l,u){return a(l,u,this,!1)},"DenseMatrix, DenseMatrix":function(l,u){return d(l,u,this)},"Array, Array":function(l,u){return this(n(l),n(u)).valueOf()},"Array, Matrix":function(l,u){return this(n(l),u)},"Matrix, Array":function(l,u){return this(l,n(u))},"SparseMatrix, any":function(l,u){return c(l,u,this,!1)},"DenseMatrix, any":function(l,u){return s(l,u,this,!1)},"any, SparseMatrix":function(l,u){return c(u,l,this,!0)},"any, DenseMatrix":function(l,u){return s(u,l,this,!0)},"Array, any":function(l,u){return s(n(l),u,this,!1).valueOf()},"any, Array":function(l,u){return s(n(u),l,this,!0).valueOf()}})}),wE=W("or",["typed","matrix","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.DenseMatrix,o=nr({typed:r}),c=xs({typed:r,equalScalar:i}),d=rr({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r("or",{"number, number":pp,"Complex, Complex":function(u,m){return 0!==u.re||0!==u.im||0!==m.re||0!==m.im},"BigNumber, BigNumber":function(u,m){return!u.isZero()&&!u.isNaN()||!m.isZero()&&!m.isNaN()},"Unit, Unit":function(u,m){return this(u.value||0,m.value||0)},"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,this)},"Array, Array":function(u,m){return this(n(u),n(m)).valueOf()},"Array, Matrix":function(u,m){return this(n(u),m)},"Matrix, Array":function(u,m){return this(u,n(m))},"SparseMatrix, any":function(u,m){return d(u,m,this,!1)},"DenseMatrix, any":function(u,m){return p(u,m,this,!1)},"any, SparseMatrix":function(u,m){return d(m,u,this,!0)},"any, DenseMatrix":function(u,m){return p(m,u,this,!0)},"Array, any":function(u,m){return p(n(u),m,this,!1).valueOf()},"any, Array":function(u,m){return p(n(m),u,this,!0).valueOf()}})}),ME=W("diag",["typed","matrix","DenseMatrix","SparseMatrix"],function(t){var n=t.matrix,i=t.DenseMatrix,a=t.SparseMatrix;return(0,t.typed)("diag",{Array:function(p){return o(p,0,kt(p),null)},"Array, number":function(p,l){return o(p,l,kt(p),null)},"Array, BigNumber":function(p,l){return o(p,l.toNumber(),kt(p),null)},"Array, string":function(p,l){return o(p,0,kt(p),l)},"Array, number, string":function(p,l,u){return o(p,l,kt(p),u)},"Array, BigNumber, string":function(p,l,u){return o(p,l.toNumber(),kt(p),u)},Matrix:function(p){return o(p,0,p.size(),p.storage())},"Matrix, number":function(p,l){return o(p,l,p.size(),p.storage())},"Matrix, BigNumber":function(p,l){return o(p,l.toNumber(),p.size(),p.storage())},"Matrix, string":function(p,l){return o(p,0,p.size(),l)},"Matrix, number, string":function(p,l,u){return o(p,l,p.size(),u)},"Matrix, BigNumber, string":function(p,l,u){return o(p,l.toNumber(),p.size(),u)}});function o(s,p,l,u){if(!nt(p))throw new TypeError("Second parameter in function diag must be an integer");var m=p>0?p:0,g=p<0?-p:0;switch(l.length){case 1:return function c(s,p,l,u,m,g){var f=[u+m,u+g];if(l&&"sparse"!==l&&"dense"!==l)throw new TypeError("Unknown matrix type ".concat(l,'"'));var h="sparse"===l?a.diagonal(f,s,p):i.diagonal(f,s,p);return null!==l?h:h.valueOf()}(s,p,u,l[0],g,m);case 2:return function d(s,p,l,u,m,g){if(wt(s)){var f=s.diagonal(p);return null!==l?l!==f.storage()?n(f,l):f:f.valueOf()}for(var h=Math.min(u[0]-m,u[1]-g),w=[],y=0;y<h;y++)w[y]=s[y+m][y+g];return null!==l?n(w):w}(s,p,u,l,g,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),Om="identity",NE=W(Om,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],function(t){var n=t.config,i=t.matrix,a=t.BigNumber,o=t.DenseMatrix,c=t.SparseMatrix;return(0,t.typed)(Om,{"":function(){return"Matrix"===n.matrix?i([]):[]},string:function(l){return i(l)},"number | BigNumber":function(l){return s(l,l,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(l,u){return s(l,l,u)},"number | BigNumber, number | BigNumber":function(l,u){return s(l,u,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,u,m){return s(l,u,m)},Array:function(l){return d(l)},"Array, string":function(l,u){return d(l,u)},Matrix:function(l){return d(l.valueOf(),l.storage())},"Matrix, string":function(l,u){return d(l.valueOf(),u)}});function d(p,l){switch(p.length){case 0:return l?i(l):[];case 1:return s(p[0],p[0],l);case 2:return s(p[0],p[1],l);default:throw new Error("Vector containing two values expected")}}function s(p,l,u){var m=vt(p)||vt(l)?a:null;if(vt(p)&&(p=p.toNumber()),vt(l)&&(l=l.toNumber()),!nt(p)||p<1)throw new Error("Parameters in function identity must be positive integers");if(!nt(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var g=m?new a(1):1,f=m?new m(0):0,h=[p,l];if(u){if("sparse"===u)return c.diagonal(h,g,0,f);if("dense"===u)return o.diagonal(h,g,0,f);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var w=Na([],h,f),y=p<l?p:l,M=0;M<y;M++)w[M][M]=g;return w}}),IE=W("ones",["typed","config","matrix","BigNumber"],function(t){var n=t.config,i=t.matrix,a=t.BigNumber;return(0,t.typed)("ones",{"":function(){return"Array"===n.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(p){if("string"==typeof p[p.length-1]){var u=p.pop();return o(p,u)}return"Array"===n.matrix?o(p):o(p,"default")},Array:o,Matrix:function(p){var l=p.storage();return o(p.valueOf(),l)},"Array | Matrix, string":function(p,l){return o(p.valueOf(),l)}});function o(s,p){var l=function c(s){var p=!1;return s.forEach(function(l,u,m){vt(l)&&(p=!0,m[u]=l.toNumber())}),p}(s),u=l?new a(1):1;if(function d(s){s.forEach(function(p){if("number"!=typeof p||!nt(p)||p<0)throw new Error("Parameters in function ones must be positive integers")})}(s),p){var m=i(p);return s.length>0?m.resize(s,u):m}var g=[];return s.length>0?Na(g,s,u):g}}),km="reshape",OE=W(km,["typed","isInteger","matrix"],function(t){var n=t.isInteger,i=t.matrix;return(0,t.typed)(km,{"Matrix, Array":function(o,c){return o.reshape?o.reshape(c):i(ec(o.valueOf(),c))},"Array, Array":function(o,c){return c.forEach(function(d){if(!n(d))throw new TypeError("Invalid size for dimension: "+d)}),ec(o,c)}})}),DE=W("size",["typed","config","?matrix"],function(t){var n=t.config,i=t.matrix;return(0,t.typed)("size",{Matrix:function(o){return o.create(o.size())},Array:kt,string:function(o){return"Array"===n.matrix?[o.length]:i([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return"Array"===n.matrix?[]:i?i([]):Zl()}})}),PE=W("zeros",["typed","config","matrix","BigNumber"],function(t){var n=t.config,i=t.matrix,a=t.BigNumber;return(0,t.typed)("zeros",{"":function(){return"Array"===n.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(p){if("string"==typeof p[p.length-1]){var u=p.pop();return o(p,u)}return"Array"===n.matrix?o(p):o(p,"default")},Array:o,Matrix:function(p){var l=p.storage();return o(p.valueOf(),l)},"Array | Matrix, string":function(p,l){return o(p.valueOf(),l)}});function o(s,p){var l=function c(s){var p=!1;return s.forEach(function(l,u,m){vt(l)&&(p=!0,m[u]=l.toNumber())}),p}(s),u=l?new a(0):0;if(function d(s){s.forEach(function(p){if("number"!=typeof p||!nt(p)||p<0)throw new Error("Parameters in function zeros must be positive integers")})}(s),p){var m=i(p);return s.length>0?m.resize(s,u):m}var g=[];return s.length>0?Na(g,s,u):g}}),ZE=xc("hex",16);function Pm(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Zm(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Pm(Object(n),!0).forEach(function(i){LE(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function LE(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var Da="Number of decimals in function round must be an integer",UE=W("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.zeros,o=t.BigNumber,c=t.DenseMatrix,d=Bn({typed:r,equalScalar:i}),s=rr({typed:r,DenseMatrix:c}),p=zt({typed:r});return r("round",Zm(Zm({},BE),{},{Complex:function(u){return u.round()},"Complex, number":function(u,m){if(m%1)throw new TypeError(Da);return u.round(m)},"Complex, BigNumber":function(u,m){if(!m.isInteger())throw new TypeError(Da);var g=m.toNumber();return u.round(g)},"number, BigNumber":function(u,m){if(!m.isInteger())throw new TypeError(Da);return new o(u).toDecimalPlaces(m.toNumber())},BigNumber:function(u){return u.toDecimalPlaces(0)},"BigNumber, BigNumber":function(u,m){if(!m.isInteger())throw new TypeError(Da);return u.toDecimalPlaces(m.toNumber())},Fraction:function(u){return u.round()},"Fraction, number":function(u,m){if(m%1)throw new TypeError(Da);return u.round(m)},"Array | Matrix":function(u){return We(u,this,!0)},"SparseMatrix, number | BigNumber":function(u,m){return d(u,m,this,!1)},"DenseMatrix, number | BigNumber":function(u,m){return p(u,m,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(u,m){return i(u,0)?a(m.size(),m.storage()):s(m,u,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(u,m){return i(u,0)?a(m.size(),m.storage()):p(m,u,this,!0)},"Array, number | BigNumber":function(u,m){return p(n(u),m,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(u,m){return p(n(m),u,this,!0).valueOf()}}))}),BE={number:hc,"number, number":function(r,n){if(!nt(n))throw new TypeError(Da);if(n<0||n>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return hc(r,n)}},wc=W("algorithm08",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c){var d=a._values,s=a._index,p=a._ptr,l=a._size,u=a._datatype,m=o._values,g=o._index,f=o._ptr,h=o._size,w=o._datatype;if(l.length!==h.length)throw new Ct(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!d||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var _,y=l[0],M=l[1],b=n,x=0,v=c;"string"==typeof u&&u===w&&(b=r.find(n,[_=u,_]),x=r.convert(0,_),v=r.find(c,[_,_]));for(var Z,U,j,A=[],S=[],N=[],E=[],P=[],B=0;B<M;B++){N[B]=S.length;var O=B+1;for(U=p[B+1],Z=p[B];Z<U;Z++)P[j=s[Z]]=O,E[j]=d[Z],S.push(j);for(U=f[B+1],Z=f[B];Z<U;Z++)P[j=g[Z]]===O&&(E[j]=v(E[j],m[Z]));for(Z=N[B];Z<S.length;){var X=E[j=S[Z]];b(X,x)?S.splice(Z,1):(A.push(X),Z++)}}return N[M]=S.length,a.createSparseMatrix({values:A,index:S,ptr:N,size:[y,M],datatype:_})}}),Rm="leftShift",QE=W(Rm,["typed","matrix","equalScalar","zeros","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.zeros,o=t.DenseMatrix,c=Mi({typed:r}),d=Ir({typed:r,equalScalar:i}),s=wc({typed:r,equalScalar:i}),p=Gi({typed:r,DenseMatrix:o}),l=Bn({typed:r,equalScalar:i}),u=Xt({typed:r}),m=zt({typed:r});return r(Rm,{"number, number":ap,"BigNumber, BigNumber":uA,"SparseMatrix, SparseMatrix":function(f,h){return s(f,h,this,!1)},"SparseMatrix, DenseMatrix":function(f,h){return d(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){return c(f,h,this,!1)},"DenseMatrix, DenseMatrix":function(f,h){return u(f,h,this)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, number | BigNumber":function(f,h){return i(h,0)?f.clone():l(f,h,this,!1)},"DenseMatrix, number | BigNumber":function(f,h){return i(h,0)?f.clone():m(f,h,this,!1)},"number | BigNumber, SparseMatrix":function(f,h){return i(f,0)?a(h.size(),h.storage()):p(h,f,this,!0)},"number | BigNumber, DenseMatrix":function(f,h){return i(f,0)?a(h.size(),h.storage()):m(h,f,this,!0)},"Array, number | BigNumber":function(f,h){return this(n(f),h).valueOf()},"number | BigNumber, Array":function(f,h){return this(f,n(h)).valueOf()}})}),Um="rightLogShift",JE=W(Um,["typed","matrix","equalScalar","zeros","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.zeros,o=t.DenseMatrix,c=Mi({typed:r}),d=Ir({typed:r,equalScalar:i}),s=wc({typed:r,equalScalar:i}),p=Gi({typed:r,DenseMatrix:o}),l=Bn({typed:r,equalScalar:i}),u=Xt({typed:r}),m=zt({typed:r});return r(Um,{"number, number":sp,"SparseMatrix, SparseMatrix":function(f,h){return s(f,h,this,!1)},"SparseMatrix, DenseMatrix":function(f,h){return d(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){return c(f,h,this,!1)},"DenseMatrix, DenseMatrix":function(f,h){return u(f,h,this)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, number | BigNumber":function(f,h){return i(h,0)?f.clone():l(f,h,this,!1)},"DenseMatrix, number | BigNumber":function(f,h){return i(h,0)?f.clone():m(f,h,this,!1)},"number | BigNumber, SparseMatrix":function(f,h){return i(f,0)?a(h.size(),h.storage()):p(h,f,this,!0)},"number | BigNumber, DenseMatrix":function(f,h){return i(f,0)?a(h.size(),h.storage()):m(h,f,this,!0)},"Array, number | BigNumber":function(f,h){return this(n(f),h).valueOf()},"number | BigNumber, Array":function(f,h){return this(f,n(h)).valueOf()}})}),Bm="compare",YE=W(Bm,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],function(t){var r=t.typed,n=t.config,i=t.equalScalar,a=t.matrix,o=t.BigNumber,c=t.Fraction,d=t.DenseMatrix,s=nr({typed:r}),p=xs({typed:r,equalScalar:i}),l=rr({typed:r,DenseMatrix:d}),u=Xt({typed:r}),m=zt({typed:r});return r(Bm,{"boolean, boolean":function(f,h){return f===h?0:f>h?1:-1},"number, number":function(f,h){return fr(f,h,n.epsilon)?0:f>h?1:-1},"BigNumber, BigNumber":function(f,h){return Lr(f,h,n.epsilon)?new o(0):new o(f.cmp(h))},"Fraction, Fraction":function(f,h){return new c(f.compare(h))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(f,h){if(!f.equalBase(h))throw new Error("Cannot compare units with different base");return this(f.value,h.value)},"SparseMatrix, SparseMatrix":function(f,h){return p(f,h,this)},"SparseMatrix, DenseMatrix":function(f,h){return s(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){return s(f,h,this,!1)},"DenseMatrix, DenseMatrix":function(f,h){return u(f,h,this)},"Array, Array":function(f,h){return this(a(f),a(h)).valueOf()},"Array, Matrix":function(f,h){return this(a(f),h)},"Matrix, Array":function(f,h){return this(f,a(h))},"SparseMatrix, any":function(f,h){return l(f,h,this,!1)},"DenseMatrix, any":function(f,h){return m(f,h,this,!1)},"any, SparseMatrix":function(f,h){return l(h,f,this,!0)},"any, DenseMatrix":function(f,h){return m(h,f,this,!0)},"Array, any":function(f,h){return m(a(f),h,this,!1).valueOf()},"any, Array":function(f,h){return m(a(h),f,this,!0).valueOf()}})}),Fm="compareText",jE=W(Fm,["typed","matrix"],function(t){var r=t.typed,n=t.matrix,i=Xt({typed:r}),a=zt({typed:r});return r(Fm,{"any, any":Sa,"DenseMatrix, DenseMatrix":function(c,d){return i(c,d,Sa)},"Array, Array":function(c,d){return this(n(c),n(d)).valueOf()},"Array, Matrix":function(c,d){return this(n(c),d)},"Matrix, Array":function(c,d){return this(c,n(d))},"DenseMatrix, any":function(c,d){return a(c,d,Sa,!1)},"any, DenseMatrix":function(c,d){return a(d,c,Sa,!0)},"Array, any":function(c,d){return a(n(c),d,Sa,!1).valueOf()},"any, Array":function(c,d){return a(n(d),c,Sa,!0).valueOf()}})}),zm="smaller",KE=W(zm,["typed","config","matrix","DenseMatrix"],function(t){var r=t.typed,n=t.config,i=t.matrix,a=t.DenseMatrix,o=nr({typed:r}),c=Rr({typed:r,DenseMatrix:a}),d=rr({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r(zm,{"boolean, boolean":function(u,m){return u<m},"number, number":function(u,m){return u<m&&!fr(u,m,n.epsilon)},"BigNumber, BigNumber":function(u,m){return u.lt(m)&&!Lr(u,m,n.epsilon)},"Fraction, Fraction":function(u,m){return-1===u.compare(m)},"Complex, Complex":function(u,m){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(u,m){if(!u.equalBase(m))throw new Error("Cannot compare units with different base");return this(u.value,m.value)},"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,this)},"Array, Array":function(u,m){return this(i(u),i(m)).valueOf()},"Array, Matrix":function(u,m){return this(i(u),m)},"Matrix, Array":function(u,m){return this(u,i(m))},"SparseMatrix, any":function(u,m){return d(u,m,this,!1)},"DenseMatrix, any":function(u,m){return p(u,m,this,!1)},"any, SparseMatrix":function(u,m){return d(m,u,this,!0)},"any, DenseMatrix":function(u,m){return p(m,u,this,!0)},"Array, any":function(u,m){return p(i(u),m,this,!1).valueOf()},"any, Array":function(u,m){return p(i(m),u,this,!0).valueOf()}})}),e8=W("larger",["typed","config","matrix","DenseMatrix"],function(t){var r=t.typed,n=t.config,i=t.matrix,a=t.DenseMatrix,o=nr({typed:r}),c=Rr({typed:r,DenseMatrix:a}),d=rr({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r("larger",{"boolean, boolean":function(u,m){return u>m},"number, number":function(u,m){return u>m&&!fr(u,m,n.epsilon)},"BigNumber, BigNumber":function(u,m){return u.gt(m)&&!Lr(u,m,n.epsilon)},"Fraction, Fraction":function(u,m){return 1===u.compare(m)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(u,m){if(!u.equalBase(m))throw new Error("Cannot compare units with different base");return this(u.value,m.value)},"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,this)},"Array, Array":function(u,m){return this(i(u),i(m)).valueOf()},"Array, Matrix":function(u,m){return this(i(u),m)},"Matrix, Array":function(u,m){return this(u,i(m))},"SparseMatrix, any":function(u,m){return d(u,m,this,!1)},"DenseMatrix, any":function(u,m){return p(u,m,this,!1)},"any, SparseMatrix":function(u,m){return d(m,u,this,!0)},"any, DenseMatrix":function(u,m){return p(m,u,this,!0)},"Array, any":function(u,m){return p(i(u),m,this,!1).valueOf()},"any, Array":function(u,m){return p(i(m),u,this,!0).valueOf()}})}),Cc="unequal",n8=W(Cc,["typed","config","equalScalar","matrix","DenseMatrix"],function(t){var r=t.typed,i=t.equalScalar,a=t.matrix,o=t.DenseMatrix,c=nr({typed:r}),d=Rr({typed:r,DenseMatrix:o}),s=rr({typed:r,DenseMatrix:o}),p=Xt({typed:r}),l=zt({typed:r});return r("unequal",{"any, any":function(g,f){return null===g?null!==f:null===f?null!==g:void 0===g?void 0!==f:void 0===f?void 0!==g:u(g,f)},"SparseMatrix, SparseMatrix":function(g,f){return d(g,f,u)},"SparseMatrix, DenseMatrix":function(g,f){return c(f,g,u,!0)},"DenseMatrix, SparseMatrix":function(g,f){return c(g,f,u,!1)},"DenseMatrix, DenseMatrix":function(g,f){return p(g,f,u)},"Array, Array":function(g,f){return this(a(g),a(f)).valueOf()},"Array, Matrix":function(g,f){return this(a(g),f)},"Matrix, Array":function(g,f){return this(g,a(f))},"SparseMatrix, any":function(g,f){return s(g,f,u,!1)},"DenseMatrix, any":function(g,f){return l(g,f,u,!1)},"any, SparseMatrix":function(g,f){return s(f,g,u,!0)},"any, DenseMatrix":function(g,f){return l(f,g,u,!0)},"Array, any":function(g,f){return l(a(g),f,u,!1).valueOf()},"any, Array":function(g,f){return l(a(f),g,u,!0).valueOf()}});function u(m,g){return!i(m,g)}}),a8=(W(Cc,["typed","equalScalar"],function(t){var n=t.equalScalar;return(0,t.typed)(Cc,{"any, any":function(a,o){return null===a?null!==o:null===o?null!==a:void 0===a?void 0!==o:void 0===o?void 0!==a:!n(a,o)}})}),W("ImmutableDenseMatrix",["smaller","DenseMatrix"],function(t){var r=t.smaller,n=t.DenseMatrix;function i(a,o){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!mr(o))throw new Error("Invalid datatype: "+o);if(wt(a)||Kt(a)){var c=new n(a,o);this._data=c._data,this._size=c._size,this._datatype=c._datatype,this._min=null,this._max=null}else if(a&&Kt(a.data)&&Kt(a.size))this._data=a.data,this._size=a.size,this._datatype=a.datatype,this._min=typeof a.min<"u"?a.min:null,this._max=typeof a.max<"u"?a.max:null;else{if(a)throw new TypeError("Unsupported type of data ("+rn(a)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return(i.prototype=new n).type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(a){switch(arguments.length){case 1:var o=n.prototype.subset.call(this,a);return wt(o)?new i({data:o._data,size:o._size,datatype:o._datatype}):o;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:ut(this._data),size:ut(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(a){return new i(a)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var a=null;this.forEach(function(o){(null===a||r(o,a))&&(a=o)}),this._min=null!==a?a:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var a=null;this.forEach(function(o){(null===a||r(a,o))&&(a=o)}),this._max=null!==a?a:void 0}return this._max},i},{isClass:!0})),c8=W("FibonacciHeap",["smaller","larger"],function(t){var r=t.smaller,n=t.larger,i=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function c(l,u,m){u.left.right=u.right,u.right.left=u.left,m.degree--,m.child===u&&(m.child=u.right),0===m.degree&&(m.child=null),u.left=l,u.right=l.right,l.right=u,u.right.left=u,u.parent=null,u.mark=!1}function d(l,u){var m=u.parent;!m||(u.mark?(c(l,u,m),d(m)):u.mark=!0)}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(l,u){var m={key:l,value:u,degree:0};if(this._minimum){var g=this._minimum;m.left=g,m.right=g.right,g.right=m,m.right.left=m,r(l,g.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return 0===this._size},a.prototype.extractMinimum=function(){var l=this._minimum;if(null===l)return l;for(var u=this._minimum,m=l.degree,g=l.child;m>0;){var f=g.right;g.left.right=g.right,g.right.left=g.left,g.left=u,g.right=u.right,u.right=g,g.right.left=g,g.parent=null,g=f,m--}return l.left.right=l.right,l.right.left=l.left,u=l===l.right?null:function p(l,u){var w,m=Math.floor(Math.log(u)*i)+1,g=new Array(m),f=0,h=l;if(h)for(f++,h=h.right;h!==l;)f++,h=h.right;for(;f>0;){for(var y=h.degree,M=h.right;w=g[y];){if(n(h.key,w.key)){var _=w;w=h,h=_}s(w,h),g[y]=null,y++}g[y]=h,h=M,f--}l=null;for(var b=0;b<m;b++)(w=g[b])&&(l?(w.left.right=w.right,w.right.left=w.left,w.left=l,w.right=l.right,l.right=w,w.right.left=w,r(w.key,l.key)&&(l=w)):l=w);return l}(u=l.right,this._size),this._size--,this._minimum=u,l},a.prototype.remove=function(l){this._minimum=function o(l,u,m){u.key=m;var g=u.parent;return g&&r(u.key,g.key)&&(c(l,u,g),d(l,g)),r(u.key,l.key)&&(l=u),l}(this._minimum,l,-1),this.extractMinimum()};var s=function(u,m){u.left.right=u.right,u.right.left=u.left,u.parent=m,m.child?(u.left=m.child,u.right=m.child.right,m.child.right=u,u.right.left=u):(m.child=u,u.right=u,u.left=u),m.degree++,u.mark=!1};return a},{isClass:!0}),l8=W("sparse",["typed","SparseMatrix"],function(t){var n=t.SparseMatrix;return(0,t.typed)("sparse",{"":function(){return new n([])},string:function(a){return new n([],a)},"Array | Matrix":function(a){return new n(a)},"Array | Matrix, string":function(a,o){return new n(a,o)}})}),p8=W("acoth",["typed","config","Complex","BigNumber"],function(t){var n=t.config,i=t.Complex,a=t.BigNumber;return(0,t.typed)("acoth",{number:function(c){return c>=1||c<=-1||n.predictable?Np(c):new i(c,0).acoth()},Complex:function(c){return c.acoth()},BigNumber:function(c){return new a(1).div(c).atanh()},"Array | Matrix":function(c){return We(c,this)}})}),Jm=W("algorithm09",["typed","equalScalar"],function(t){var r=t.typed,n=t.equalScalar;return function(a,o,c){var d=a._values,s=a._index,p=a._ptr,l=a._size,u=a._datatype,m=o._values,g=o._index,f=o._ptr,h=o._size,w=o._datatype;if(l.length!==h.length)throw new Ct(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var _,y=l[0],M=l[1],b=n,x=0,v=c;"string"==typeof u&&u===w&&(b=r.find(n,[_=u,_]),x=r.convert(0,_),v=r.find(c,[_,_]));var Z,V,U,B,A=d&&m?[]:void 0,S=[],N=[],E=A?[]:void 0,P=[];for(V=0;V<M;V++){N[V]=S.length;var O=V+1;if(E)for(B=f[V+1],U=f[V];U<B;U++)P[Z=g[U]]=O,E[Z]=m[U];for(B=p[V+1],U=p[V];U<B;U++)if(Z=s[U],E){var D=v(d[U],P[Z]===O?E[Z]:x);b(D,x)||(S.push(Z),A.push(D))}else S.push(Z)}return N[M]=S.length,a.createSparseMatrix({values:A,index:S,ptr:N,size:[y,M],datatype:_})}}),h8=W("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.BigNumber,o=t.DenseMatrix,c=Ir({typed:r,equalScalar:i}),d=nr({typed:r}),s=Jm({typed:r,equalScalar:i}),p=Bn({typed:r,equalScalar:i}),l=rr({typed:r,DenseMatrix:o}),u=Xt({typed:r}),m=zt({typed:r});return r("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(f,h){return a.atan2(f,h)},"SparseMatrix, SparseMatrix":function(f,h){return s(f,h,this,!1)},"SparseMatrix, DenseMatrix":function(f,h){return c(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){return d(f,h,this,!1)},"DenseMatrix, DenseMatrix":function(f,h){return u(f,h,this)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, number | BigNumber":function(f,h){return p(f,h,this,!1)},"DenseMatrix, number | BigNumber":function(f,h){return m(f,h,this,!1)},"number | BigNumber, SparseMatrix":function(f,h){return l(h,f,this,!0)},"number | BigNumber, DenseMatrix":function(f,h){return m(h,f,this,!0)},"Array, number | BigNumber":function(f,h){return m(n(f),h,this,!1).valueOf()},"number | BigNumber, Array":function(f,h){return m(n(h),f,this,!0).valueOf()}})}),_8=W("sec",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("sec",{number:Lp,Complex:function(a){return a.sec()},BigNumber:function(a){return new n(1).div(a.cos())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(a.value)},"Array | Matrix":function(a){return We(a,this)}})}),y8=W("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.addScalar,a=t.equalScalar,o=t.DenseMatrix,d=Mi({typed:r}),s=bc({typed:r,equalScalar:a}),p=Gi({typed:r,DenseMatrix:o}),l=Xt({typed:r}),u=zt({typed:r});return r("add",jo({"DenseMatrix, DenseMatrix":function(g,f){return l(g,f,i)},"DenseMatrix, SparseMatrix":function(g,f){return d(g,f,i,!1)},"SparseMatrix, DenseMatrix":function(g,f){return d(f,g,i,!0)},"SparseMatrix, SparseMatrix":function(g,f){return s(g,f,i)},"Array, Array":function(g,f){return this(n(g),n(f)).valueOf()},"Array, Matrix":function(g,f){return this(n(g),f)},"Matrix, Array":function(g,f){return this(g,n(f))},"DenseMatrix, any":function(g,f){return u(g,f,i,!1)},"SparseMatrix, any":function(g,f){return p(g,f,i,!1)},"any, DenseMatrix":function(g,f){return u(f,g,i,!0)},"any, SparseMatrix":function(g,f){return p(f,g,i,!0)},"Array, any":function(g,f){return u(n(g),f,i,!1).valueOf()},"any, Array":function(g,f){return u(n(f),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(g,f,h){for(var w=this(g,f),y=0;y<h.length;y++)w=this(w,h[y]);return w}},i.signatures))}),w8=W("dot",["typed","addScalar","multiplyScalar","conj","size"],function(t){var r=t.typed,n=t.addScalar,i=t.multiplyScalar,a=t.conj,o=t.size;return r("dot",{"Array | DenseMatrix, Array | DenseMatrix":function d(l,u){var m=c(l,u),g=wt(l)?l._data:l,f=wt(l)?l._datatype:void 0,h=wt(u)?u._data:u,w=wt(u)?u._datatype:void 0,y=2===p(l).length,M=2===p(u).length,_=n,b=i;if(f&&w&&f===w&&"string"==typeof f){var x=f;_=r.find(n,[x,x]),b=r.find(i,[x,x])}if(!y&&!M){for(var v=b(a(g[0]),h[0]),A=1;A<m;A++)v=_(v,b(a(g[A]),h[A]));return v}if(!y&&M){for(var S=b(a(g[0]),h[0][0]),N=1;N<m;N++)S=_(S,b(a(g[N]),h[N][0]));return S}if(y&&!M){for(var E=b(a(g[0][0]),h[0]),P=1;P<m;P++)E=_(E,b(a(g[P][0]),h[P]));return E}if(y&&M){for(var Z=b(a(g[0][0]),h[0][0]),V=1;V<m;V++)Z=_(Z,b(a(g[V][0]),h[V][0]));return Z}},"SparseMatrix, SparseMatrix":function s(l,u){c(l,u);for(var m=l._index,g=l._values,f=u._index,h=u._values,w=0,y=n,M=i,_=0,b=0;_<m.length&&b<f.length;){var x=m[_],v=f[b];x<v?_++:x>v?b++:x===v&&(w=y(w,M(g[_],h[b])),_++,b++)}return w}});function c(l,u){var f,h,m=p(l),g=p(u);if(1===m.length)f=m[0];else{if(2!==m.length||1!==m[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");f=m[0]}if(1===g.length)h=g[0];else{if(2!==g.length||1!==g[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+g.join(", ")+")");h=g[0]}if(f!==h)throw new RangeError("Vectors must have equal length ("+f+" != "+h+")");if(0===f)throw new RangeError("Cannot calculate the dot product of empty vectors");return f}function p(l){return wt(l)?l.size():o(l)}}),Gm="composition",M8=W(Gm,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],function(t){var n=t.addScalar,i=t.combinations,a=t.isPositive,c=t.isInteger,d=t.larger;return(0,t.typed)(Gm,{"number | BigNumber, number | BigNumber":function(p,l){if(!(c(p)&&a(p)&&c(l)&&a(l)))throw new TypeError("Positive integer value expected in function composition");if(d(l,p))throw new TypeError("k must be less than or equal to n in function composition");return i(n(p,-1),n(l,-1))}})}),N8=W("isZero",["typed"],function(t){return(0,t.typed)("isZero",{number:Sd,BigNumber:function(i){return i.isZero()},Complex:function(i){return 0===i.re&&0===i.im},Fraction:function(i){return 1===i.d&&0===i.n},Unit:function(i){return this(i.value)},"Array | Matrix":function(i){return We(i,this)}})}),T8=W("abs",["typed"],function(t){return(0,t.typed)("abs",{number:Od,Complex:function(i){return i.abs()},BigNumber:function(i){return i.abs()},Fraction:function(i){return i.abs()},"Array | Matrix":function(i){return We(i,this,!0)},Unit:function(i){return i.abs()}})});function ef(t,r){return function k8(t){if(Array.isArray(t))return t}(t)||function O8(t,r){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,o=void 0;try{for(var d,c=t[Symbol.iterator]();!(i=(d=c.next()).done)&&(n.push(d.value),!r||n.length!==r);i=!0);}catch(s){a=!0,o=s}finally{try{!i&&null!=c.return&&c.return()}finally{if(a)throw o}}return n}}(t,r)||function E8(t,r){if(t){if("string"==typeof t)return tf(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tf(t,r)}}(t,r)||function I8(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}var P8=W("floor",["typed","config","round","matrix","equalScalar"],function(t){var r=t.typed,n=t.config,i=t.round,a=t.matrix,c=Bn({typed:r,equalScalar:t.equalScalar}),d=zt({typed:r});return r("floor",{number:function(p){return fr(p,i(p),n.epsilon)?i(p):Math.floor(p)},"number, number":function(p,l){if(fr(p,i(p,l),n.epsilon))return i(p,l);var m=ef("".concat(p,"e").split("e"),2),g=m[0],f=m[1],h=Math.floor(Number("".concat(g,"e").concat(Number(f)+l))),y=ef("".concat(h,"e").split("e"),2);return g=y[0],f=y[1],Number("".concat(g,"e").concat(Number(f)-l))},Complex:function(p){return p.floor()},"Complex, number":function(p,l){return p.floor(l)},BigNumber:function(p){return Lr(p,i(p),n.epsilon)?i(p):p.floor()},"BigNumber, BigNumber":function(p,l){return Lr(p,i(p,l),n.epsilon)?i(p,l):p.toDecimalPlaces(l.toNumber(),dc.Decimal.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,l){return p.floor(l)},"Array | Matrix":function(p){return We(p,this,!0)},"Array | Matrix, number":function(p,l){var u=this;return We(p,function(m){return u(m,l)},!0)},"SparseMatrix, number | BigNumber":function(p,l){return c(p,l,this,!1)},"DenseMatrix, number | BigNumber":function(p,l){return d(p,l,this,!1)},"number | Complex | BigNumber, Array":function(p,l){return d(a(l),p,this,!0).valueOf()}})}),nf="multiply",L8=W(nf,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],function(t){var r=t.typed,n=t.matrix,i=t.addScalar,a=t.multiplyScalar,o=t.equalScalar,c=t.dot,d=Bn({typed:r,equalScalar:o}),s=zt({typed:r});function p(x,v){switch(x.length){case 1:switch(v.length){case 1:if(x[0]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+v[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+v.length+" dimensions)")}break;case 2:switch(v.length){case 1:if(x[1]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+v[0]+")");break;case 2:if(x[1]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+v[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+v.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}var g=r("_multiplyMatrixVector",{"DenseMatrix, any":function h(x,v){var U,A=x._data,S=x._size,N=x._datatype,E=v._data,P=v._datatype,Z=S[0],V=S[1],j=i,B=a;N&&P&&N===P&&"string"==typeof N&&(j=r.find(i,[U=N,U]),B=r.find(a,[U,U]));for(var O=[],X=0;X<Z;X++){for(var D=A[X],de=B(D[0],E[0]),ye=1;ye<V;ye++)de=j(de,B(D[ye],E[ye]));O[X]=de}return x.createDenseMatrix({data:O,size:[Z],datatype:U})},"SparseMatrix, any":function M(x,v){var A=x._values,S=x._index,N=x._ptr,E=x._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var X,P=v._data,Z=v._datatype,V=x._size[0],U=v._size[0],j=[],B=[],O=[],D=i,de=a,ye=o,Oe=0;E&&Z&&E===Z&&"string"==typeof E&&(D=r.find(i,[X=E,X]),de=r.find(a,[X,X]),ye=r.find(o,[X,X]),Oe=r.convert(0,X));var oe=[],Ae=[];O[0]=0;for(var je=0;je<U;je++){var le=P[je];if(!ye(le,Oe))for(var we=N[je+1],Me=N[je];Me<we;Me++){var Ze=S[Me];Ae[Ze]?oe[Ze]=D(oe[Ze],de(le,A[Me])):(Ae[Ze]=!0,B.push(Ze),oe[Ze]=de(le,A[Me]))}}for(var Ke=B.length,lt=0;lt<Ke;lt++)j[lt]=oe[B[lt]];return O[1]=B.length,x.createSparseMatrix({values:j,index:B,ptr:O,size:[V,1],datatype:X})}}),f=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function w(x,v){var B,A=x._data,S=x._size,N=x._datatype,E=v._data,Z=v._datatype,V=S[0],U=S[1],j=v._size[1],O=i,X=a;N&&Z&&N===Z&&"string"==typeof N&&(O=r.find(i,[B=N,B]),X=r.find(a,[B,B]));for(var D=[],de=0;de<V;de++){var ye=A[de];D[de]=[];for(var Oe=0;Oe<j;Oe++){for(var oe=X(ye[0],E[0][Oe]),Ae=1;Ae<U;Ae++)oe=O(oe,X(ye[Ae],E[Ae][Oe]));D[de][Oe]=oe}}return x.createDenseMatrix({data:D,size:[V,j],datatype:B})},"DenseMatrix, SparseMatrix":function y(x,v){var A=x._data,S=x._size,N=x._datatype,E=v._values,P=v._index,Z=v._ptr,V=v._size,U=v._datatype;if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O,j=S[0],B=V[1],X=i,D=a,de=o,ye=0;N&&U&&N===U&&"string"==typeof N&&(X=r.find(i,[O=N,O]),D=r.find(a,[O,O]),de=r.find(o,[O,O]),ye=r.convert(0,O));for(var Oe=[],oe=[],Ae=[],je=v.createSparseMatrix({values:Oe,index:oe,ptr:Ae,size:[j,B],datatype:O}),le=0;le<B;le++){Ae[le]=oe.length;var pe=Z[le],we=Z[le+1];if(we>pe)for(var Me=0,Ze=0;Ze<j;Ze++){for(var Ke=Ze+1,lt=void 0,at=pe;at<we;at++){var dt=P[at];Me!==Ke?(lt=D(A[Ze][dt],E[at]),Me=Ke):lt=X(lt,D(A[Ze][dt],E[at]))}Me===Ke&&!de(lt,ye)&&(oe.push(Ze),Oe.push(lt))}}return Ae[B]=oe.length,je},"SparseMatrix, DenseMatrix":function _(x,v){var A=x._values,S=x._index,N=x._ptr,E=x._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B,P=v._data,Z=v._datatype,V=x._size[0],U=v._size[0],j=v._size[1],O=i,X=a,D=o,de=0;E&&Z&&E===Z&&"string"==typeof E&&(O=r.find(i,[B=E,B]),X=r.find(a,[B,B]),D=r.find(o,[B,B]),de=r.convert(0,B));for(var ye=[],Oe=[],oe=[],Ae=x.createSparseMatrix({values:ye,index:Oe,ptr:oe,size:[V,j],datatype:B}),je=[],le=[],pe=0;pe<j;pe++){oe[pe]=Oe.length;for(var we=pe+1,Me=0;Me<U;Me++){var Ze=P[Me][pe];if(!D(Ze,de))for(var lt=N[Me+1],at=N[Me];at<lt;at++){var dt=S[at];le[dt]!==we?(le[dt]=we,Oe.push(dt),je[dt]=X(Ze,A[at])):je[dt]=O(je[dt],X(Ze,A[at]))}}for(var ie=Oe.length,Pe=oe[pe];Pe<ie;Pe++)ye[Pe]=je[Oe[Pe]]}return oe[j]=Oe.length,Ae},"SparseMatrix, SparseMatrix":function b(x,v){var X,A=x._values,S=x._index,N=x._ptr,E=x._datatype,P=v._values,Z=v._index,V=v._ptr,U=v._datatype,j=x._size[0],B=v._size[1],O=A&&P,D=i,de=a;E&&U&&E===U&&"string"==typeof E&&(D=r.find(i,[X=E,X]),de=r.find(a,[X,X]));for(var pe,Me,Ze,lt,at,dt,ye=O?[]:void 0,Oe=[],oe=[],Ae=x.createSparseMatrix({values:ye,index:Oe,ptr:oe,size:[j,B],datatype:X}),je=O?[]:void 0,le=[],G=0;G<B;G++){oe[G]=Oe.length;var ie=G+1;for(lt=V[G+1],Ze=V[G];Ze<lt;Ze++)if(dt=Z[Ze],O)for(Me=N[dt+1],pe=N[dt];pe<Me;pe++)le[at=S[pe]]!==ie?(le[at]=ie,Oe.push(at),je[at]=de(P[Ze],A[pe])):je[at]=D(je[at],de(P[Ze],A[pe]));else for(Me=N[dt+1],pe=N[dt];pe<Me;pe++)le[at=S[pe]]!==ie&&(le[at]=ie,Oe.push(at));if(O)for(var Ie=Oe.length,He=oe[G];He<Ie;He++)ye[He]=je[Oe[He]]}return oe[B]=Oe.length,Ae}});return r(nf,jo({"Array, Array":function(v,A){p(kt(v),kt(A));var S=this(n(v),n(A));return wt(S)?S.valueOf():S},"Matrix, Matrix":function(v,A){var S=v.size(),N=A.size();return p(S,N),1===S.length?1===N.length?function l(x,v,A){if(0===A)throw new Error("Cannot multiply two empty vectors");return c(x,v)}(v,A,S[0]):function u(x,v){if("dense"!==v.storage())throw new Error("Support for SparseMatrix not implemented");return function m(x,v){var j,A=x._data,N=x._datatype,E=v._data,Z=v._datatype,V=x._size[0],U=v._size[1],B=i,O=a;N&&Z&&N===Z&&"string"==typeof N&&(B=r.find(i,[j=N,j]),O=r.find(a,[j,j]));for(var X=[],D=0;D<U;D++){for(var de=O(A[0],E[0][D]),ye=1;ye<V;ye++)de=B(de,O(A[ye],E[ye][D]));X[D]=de}return x.createDenseMatrix({data:X,size:[U],datatype:j})}(x,v)}(v,A):1===N.length?g(v,A):f(v,A)},"Matrix, Array":function(v,A){return this(v,n(A))},"Array, Matrix":function(v,A){return this(n(v,A.storage()),A)},"SparseMatrix, any":function(v,A){return d(v,A,a,!1)},"DenseMatrix, any":function(v,A){return s(v,A,a,!1)},"any, SparseMatrix":function(v,A){return d(A,v,a,!0)},"any, DenseMatrix":function(v,A){return s(A,v,a,!0)},"Array, any":function(v,A){return s(n(v),A,a,!1).valueOf()},"any, Array":function(v,A){return s(n(A),v,a,!0).valueOf()},"any, any":a,"any, any, ...any":function(v,A,S){for(var N=this(v,A),E=0;E<S.length;E++)N=this(N,S[E]);return N}},a.signatures))}),rf="dotMultiply",U8=W(rf,["typed","matrix","equalScalar","multiplyScalar"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.multiplyScalar,o=Ir({typed:r,equalScalar:i}),c=Jm({typed:r,equalScalar:i}),d=Bn({typed:r,equalScalar:i}),s=Xt({typed:r}),p=zt({typed:r});return r(rf,{"any, any":a,"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,a,!1)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,a,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,a,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,a)},"Array, Array":function(u,m){return this(n(u),n(m)).valueOf()},"Array, Matrix":function(u,m){return this(n(u),m)},"Matrix, Array":function(u,m){return this(u,n(m))},"SparseMatrix, any":function(u,m){return d(u,m,a,!1)},"DenseMatrix, any":function(u,m){return p(u,m,a,!1)},"any, SparseMatrix":function(u,m){return d(m,u,a,!0)},"any, DenseMatrix":function(u,m){return p(m,u,a,!0)},"Array, any":function(u,m){return p(n(u),m,a,!1).valueOf()},"any, Array":function(u,m){return p(n(m),u,a,!0).valueOf()}})}),F8=W("re",["typed"],function(t){return(0,t.typed)("re",{number:function(i){return i},BigNumber:function(i){return i},Complex:function(i){return i.re},"Array | Matrix":function(i){return We(i,this)}})}),of="flatten",H8=W(of,["typed","matrix"],function(t){var n=t.matrix;return(0,t.typed)(of,{Array:function(a){return Zt(ut(a))},Matrix:function(a){var o=Zt(ut(a.toArray()));return n(o)}})});function qa(t,r,n,i){if(!(this instanceof qa))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=r,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+r+" provided, "+n+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(qa.prototype=new Error).constructor=Error,qa.prototype.name="ArgumentsError",qa.prototype.isArgumentsError=!0;var J8=W("resize",["config","matrix"],function(t){var r=t.config,n=t.matrix;return function(o,c,d){if(2!==arguments.length&&3!==arguments.length)throw new qa("resize",arguments.length,2,3);if(wt(c)&&(c=c.valueOf()),vt(c[0])&&(c=c.map(function(l){return vt(l)?l.toNumber():l})),wt(o))return o.resize(c,d,!0);if("string"==typeof o)return i(o,c,d);var s=!Array.isArray(o)&&"Array"!==r.matrix;if(0===c.length){for(;Array.isArray(o);)o=o[0];return ut(o)}Array.isArray(o)||(o=[o]);var p=Na(o=ut(o),c,d);return s?n(p):p};function i(a,o,c){if(void 0!==c){if("string"!=typeof c||1!==c.length)throw new TypeError("Single character expected as defaultValue")}else c=" ";if(1!==o.length)throw new Ct(o.length,1);var d=o[0];if("number"!=typeof d||!nt(d))throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(o)+")");if(a.length>d)return a.substring(0,d);if(a.length<d){for(var s=a,p=0,l=d-a.length;p<l;p++)s+=c;return s}return a}}),sf="squeeze",Y8=W(sf,["typed","matrix"],function(t){var n=t.matrix;return(0,t.typed)(sf,{Array:function(a){return es(ut(a))},Matrix:function(a){var o=es(a.toArray());return Array.isArray(o)?n(o):o},any:function(a){return ut(a)}})}),j8=W("to",["typed","matrix"],function(t){var r=t.typed,n=t.matrix,i=Xt({typed:r}),a=zt({typed:r});return r("to",{"Unit, Unit | string":function(c,d){return c.to(d)},"Matrix, Matrix":function(c,d){return i(c,d,this)},"Array, Array":function(c,d){return this(n(c),n(d)).valueOf()},"Array, Matrix":function(c,d){return this(n(c),d)},"Matrix, Array":function(c,d){return this(c,n(d))},"Matrix, any":function(c,d){return a(c,d,this,!1)},"any, Matrix":function(c,d){return a(d,c,this,!0)},"Array, any":function(c,d){return a(n(c),d,this,!1).valueOf()},"any, Array":function(c,d){return a(n(d),c,this,!0).valueOf()}})}),K8=W("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],function(t){var n=t.config,i=t.identity,a=t.multiply,o=t.matrix,c=t.number,d=t.fraction,s=t.Complex;return(0,t.typed)("pow",{"number, number":p,"Complex, Complex":function(g,f){return g.pow(f)},"BigNumber, BigNumber":function(g,f){return f.isInteger()||g>=0||n.predictable?g.pow(f):new s(g.toNumber(),0).pow(f.toNumber(),0)},"Fraction, Fraction":function(g,f){if(1!==f.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return p(g.valueOf(),f.valueOf())}return g.pow(f)},"Array, number":l,"Array, BigNumber":function(g,f){return l(g,f.toNumber())},"Matrix, number":u,"Matrix, BigNumber":function(g,f){return u(g,f.toNumber())},"Unit, number | BigNumber":function(g,f){return g.pow(f)}});function p(m,g){if(n.predictable&&!nt(g)&&m<0)try{var f=d(g),h=c(f);if((g===h||Math.abs((g-h)/g)<1e-14)&&f.d%2==1)return(f.n%2==0?1:-1)*Math.pow(-m,g)}catch{}return n.predictable&&(m<-1&&g===1/0||m>-1&&m<0&&g===-1/0)?NaN:nt(g)||m>=0||n.predictable?Yd(m,g):m*m<1&&g===1/0||m*m>1&&g===-1/0?0:new s(m,0).pow(g,0)}function l(m,g){if(!nt(g)||g<0)throw new TypeError("For A^b, b must be a positive integer (value is "+g+")");var f=kt(m);if(2!==f.length)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");for(var h=i(f[0]).valueOf(),w=m;g>=1;)1==(1&g)&&(h=a(w,h)),g>>=1,w=a(w,w);return h}function u(m,g){return o(l(m.valueOf(),g))}}),e7=W("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],function(t){var r=t.typed,n=t.equalScalar,i=t.matrix,a=t.pow,o=t.DenseMatrix,c=nr({typed:r}),d=Rr({typed:r,DenseMatrix:o}),s=Bn({typed:r,equalScalar:n}),p=rr({typed:r,DenseMatrix:o}),l=Xt({typed:r}),u=zt({typed:r});return r("dotPow",{"any, any":a,"SparseMatrix, SparseMatrix":function(g,f){return d(g,f,a,!1)},"SparseMatrix, DenseMatrix":function(g,f){return c(f,g,a,!0)},"DenseMatrix, SparseMatrix":function(g,f){return c(g,f,a,!1)},"DenseMatrix, DenseMatrix":function(g,f){return l(g,f,a)},"Array, Array":function(g,f){return this(i(g),i(f)).valueOf()},"Array, Matrix":function(g,f){return this(i(g),f)},"Matrix, Array":function(g,f){return this(g,i(f))},"SparseMatrix, any":function(g,f){return s(g,f,this,!1)},"DenseMatrix, any":function(g,f){return u(g,f,this,!1)},"any, SparseMatrix":function(g,f){return p(f,g,this,!0)},"any, DenseMatrix":function(g,f){return u(f,g,this,!0)},"Array, any":function(g,f){return u(i(g),f,this,!1).valueOf()},"any, Array":function(g,f){return u(i(f),g,this,!0).valueOf()}})}),df="rightArithShift",n7=W(df,["typed","matrix","equalScalar","zeros","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.zeros,o=t.DenseMatrix,c=Mi({typed:r}),d=Ir({typed:r,equalScalar:i}),s=wc({typed:r,equalScalar:i}),p=Gi({typed:r,DenseMatrix:o}),l=Bn({typed:r,equalScalar:i}),u=Xt({typed:r}),m=zt({typed:r});return r(df,{"number, number":op,"BigNumber, BigNumber":lA,"SparseMatrix, SparseMatrix":function(f,h){return s(f,h,this,!1)},"SparseMatrix, DenseMatrix":function(f,h){return d(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){return c(f,h,this,!1)},"DenseMatrix, DenseMatrix":function(f,h){return u(f,h,this)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, number | BigNumber":function(f,h){return i(h,0)?f.clone():l(f,h,this,!1)},"DenseMatrix, number | BigNumber":function(f,h){return i(h,0)?f.clone():m(f,h,this,!1)},"number | BigNumber, SparseMatrix":function(f,h){return i(f,0)?a(h.size(),h.storage()):p(h,f,this,!0)},"number | BigNumber, DenseMatrix":function(f,h){return i(f,0)?a(h.size(),h.storage()):m(h,f,this,!0)},"Array, number | BigNumber":function(f,h){return this(n(f),h).valueOf()},"number | BigNumber, Array":function(f,h){return this(f,n(h)).valueOf()}})}),r7=ke(90723),Pa=ke.n(r7),pf="compareNatural",a7=W(pf,["typed","compare"],function(t){var n=t.compare,i=n.signatures["boolean,boolean"];return(0,t.typed)(pf,{"any, any":function(s,p){var m,l=rn(s),u=rn(p);if(!("number"!==l&&"BigNumber"!==l&&"Fraction"!==l||"number"!==u&&"BigNumber"!==u&&"Fraction"!==u))return"0"!==(m=n(s,p)).toString()?m>0?1:-1:Pa()(l,u);if("Array"===l||"Matrix"===l||"Array"===u||"Matrix"===u)return 0!==(m=a(this,s,p))?m:Pa()(l,u);if(l!==u)return Pa()(l,u);if("Complex"===l)return function o7(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0}(s,p);if("Unit"===l)return s.equalBase(p)?this(s.value,p.value):o(this,s.formatUnits(),p.formatUnits());if("boolean"===l)return i(s,p);if("string"===l)return Pa()(s,p);if("Object"===l)return function c(d,s,p){var l=Object.keys(s),u=Object.keys(p);l.sort(Pa()),u.sort(Pa());var m=o(d,l,u);if(0!==m)return m;for(var g=0;g<l.length;g++){var f=d(s[l[g]],p[u[g]]);if(0!==f)return f}return 0}(this,s,p);if("null"===l||"undefined"===l)return 0;throw new TypeError('Unsupported type of value "'+l+'"')}});function a(d,s,p){return Yi(s)&&Yi(p)?o(d,s.toJSON().values,p.toJSON().values):Yi(s)?a(d,s.toArray(),p):Yi(p)?a(d,s,p.toArray()):Wo(s)?a(d,s.toJSON().data,p):Wo(p)?a(d,s,p.toJSON().data):Array.isArray(s)?Array.isArray(p)?o(d,s,p):a(d,s,[p]):a(d,[s],p)}function o(d,s,p){for(var l=0,u=Math.min(s.length,p.length);l<u;l++){var m=d(s[l],p[l]);if(0!==m)return m}return s.length>p.length?1:s.length<p.length?-1:0}}),mf="equalText",c7=W(mf,["typed","compareText","isZero"],function(t){var n=t.compareText,i=t.isZero;return(0,t.typed)(mf,{"any, any":function(o,c){return i(n(o,c))}})}),ff="largerEq",l7=W(ff,["typed","config","matrix","DenseMatrix"],function(t){var r=t.typed,n=t.config,i=t.matrix,a=t.DenseMatrix,o=nr({typed:r}),c=Rr({typed:r,DenseMatrix:a}),d=rr({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r(ff,{"boolean, boolean":function(u,m){return u>=m},"number, number":function(u,m){return u>=m||fr(u,m,n.epsilon)},"BigNumber, BigNumber":function(u,m){return u.gte(m)||Lr(u,m,n.epsilon)},"Fraction, Fraction":function(u,m){return-1!==u.compare(m)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(u,m){if(!u.equalBase(m))throw new Error("Cannot compare units with different base");return this(u.value,m.value)},"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,this)},"Array, Array":function(u,m){return this(i(u),i(m)).valueOf()},"Array, Matrix":function(u,m){return this(i(u),m)},"Matrix, Array":function(u,m){return this(u,i(m))},"SparseMatrix, any":function(u,m){return d(u,m,this,!1)},"DenseMatrix, any":function(u,m){return p(u,m,this,!1)},"any, SparseMatrix":function(u,m){return d(m,u,this,!0)},"any, DenseMatrix":function(u,m){return p(m,u,this,!0)},"Array, any":function(u,m){return p(i(u),m,this,!1).valueOf()},"any, Array":function(u,m){return p(i(m),u,this,!0).valueOf()}})}),gf="partitionSelect",p7=W(gf,["typed","isNumeric","isNaN","compare"],function(t){var n=t.isNumeric,i=t.isNaN,a=t.compare,o=a,c=function(l,u){return-a(l,u)};return(0,t.typed)(gf,{"Array | Matrix, number":function(l,u){return d(l,u,o)},"Array | Matrix, number, string":function(l,u,m){if("asc"===m)return d(l,u,o);if("desc"===m)return d(l,u,c);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":d});function d(p,l,u){if(!nt(l)||l<0)throw new Error("k must be a non-negative integer");if(wt(p)){if(p.size().length>1)throw new Error("Only one dimensional matrices supported");return s(p.valueOf(),l,u)}if(Array.isArray(p))return s(p,l,u)}function s(p,l,u){if(l>=p.length)throw new Error("k out of bounds");for(var m=0;m<p.length;m++)if(n(p[m])&&i(p[m]))return p[m];for(var g=0,f=p.length-1;g<f;){for(var h=g,w=f,y=p[Math.floor(Math.random()*(f-g+1))+g];h<w;)if(u(p[h],y)>=0){var M=p[w];p[w]=p[h],p[h]=M,--w}else++h;u(p[h],y)>0&&--h,l<=h?f=h:g=h+1}return p[l]}}),g7=W("Index",["ImmutableDenseMatrix"],function(t){var r=t.ImmutableDenseMatrix;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var o=0,c=arguments.length;o<c;o++){var d=arguments[o];if(Yo(d))this._dimensions.push(d),this._isScalar=!1;else if(Array.isArray(d)||wt(d)){var s=i(d.valueOf());this._dimensions.push(s);var p=s.size();(1!==p.length||1!==p[0])&&(this._isScalar=!1)}else if("number"==typeof d)this._dimensions.push(i([d]));else{if("string"!=typeof d)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(d)}}}function i(a){for(var o=0,c=a.length;o<c;o++)if("number"!=typeof a[o]||!nt(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new r(a)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var a=new n;return a._dimensions=ut(this._dimensions),a._isScalar=this._isScalar,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var d=this._dimensions[o];a[o]="string"==typeof d?1:d.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var d=this._dimensions[o];a[o]="string"==typeof d?d:d.max()}return a},n.prototype.min=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var d=this._dimensions[o];a[o]="string"==typeof d?d:d.min()}return a},n.prototype.forEach=function(a){for(var o=0,c=this._dimensions.length;o<c;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.valueOf=n.prototype.toArray=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var d=this._dimensions[o];a.push("string"==typeof d?d:d.toArray())}return a},n.prototype.toString=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var d=this._dimensions[o];a.push("string"==typeof d?JSON.stringify(d):d.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0}),v7=W("asech",["typed","config","Complex","BigNumber"],function(t){var n=t.config,i=t.Complex,a=t.BigNumber;return(0,t.typed)("asech",{number:function(c){if(c<=1&&c>=-1||n.predictable){var d=1/c;if(d>0||n.predictable)return Ep(c);var s=Math.sqrt(d*d-1);return new i(Math.log(s-d),Math.PI)}return new i(c,0).asech()},Complex:function(c){return c.asech()},BigNumber:function(c){return new a(1).div(c).acosh()},"Array | Matrix":function(c){return We(c,this)}})}),x7=W("tan",["typed"],function(t){return(0,t.typed)("tan",{number:Math.tan,Complex:function(i){return i.tan()},BigNumber:function(i){return i.tan()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(i.value)},"Array | Matrix":function(i){return We(i,this,!0)}})}),_f="setDifference",b7=W(_f,["typed","size","subset","compareNatural","Index","DenseMatrix"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index,c=t.DenseMatrix;return(0,t.typed)(_f,{"Array | Matrix, Array | Matrix":function(s,p){var l;if(0===i(n(s),new o(0)))l=[];else{if(0===i(n(p),new o(0)))return Zt(s.toArray());var u=Aa(Zt(Array.isArray(s)?s:s.toArray()).sort(a)),m=Aa(Zt(Array.isArray(p)?p:p.toArray()).sort(a));l=[];for(var g,f=0;f<u.length;f++){g=!1;for(var h=0;h<m.length;h++)if(0===a(u[f].value,m[h].value)&&u[f].identifier===m[h].identifier){g=!0;break}g||l.push(u[f])}}return Array.isArray(s)&&Array.isArray(p)?rs(l):new c(rs(l))}})}),xf="setIntersect",C7=W(xf,["typed","size","subset","compareNatural","Index","DenseMatrix"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index,c=t.DenseMatrix;return(0,t.typed)(xf,{"Array | Matrix, Array | Matrix":function(s,p){var l;if(0===i(n(s),new o(0))||0===i(n(p),new o(0)))l=[];else{var u=Aa(Zt(Array.isArray(s)?s:s.toArray()).sort(a)),m=Aa(Zt(Array.isArray(p)?p:p.toArray()).sort(a));l=[];for(var g=0;g<u.length;g++)for(var f=0;f<m.length;f++)if(0===a(u[g].value,m[f].value)&&u[g].identifier===m[f].identifier){l.push(u[g]);break}}return Array.isArray(s)&&Array.isArray(p)?rs(l):new c(rs(l))}})}),yf="setMultiplicity",S7=W(yf,["typed","size","subset","compareNatural","Index"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index;return(0,t.typed)(yf,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(d,s){if(0===i(n(s),new o(0)))return 0;for(var p=Zt(Array.isArray(s)?s:s.toArray()),l=0,u=0;u<p.length;u++)0===a(p[u],d)&&l++;return l}})}),bf="setSize",A7=W(bf,["typed","compareNatural"],function(t){var n=t.compareNatural;return(0,t.typed)(bf,{"Array | Matrix":function(a){return Array.isArray(a)?Zt(a).length:Zt(a.toArray()).length},"Array | Matrix, boolean":function(a,o){if(!1===o||0===a.length)return Array.isArray(a)?Zt(a).length:Zt(a.toArray()).length;for(var c=Zt(Array.isArray(a)?a:a.toArray()).sort(n),d=1,s=1;s<c.length;s++)0!==n(c[s],c[s-1])&&d++;return d}})}),E7=W("trace",["typed","matrix","add"],function(t){var n=t.matrix,i=t.add;return(0,t.typed)("trace",{Array:function(d){return a(n(d))},SparseMatrix:function o(c){var d=c._values,s=c._index,p=c._ptr,l=c._size,m=l[1];if(l[0]===m){var g=0;if(d.length>0)for(var f=0;f<m;f++)for(var w=p[f+1],y=p[f];y<w;y++){var M=s[y];if(M===f){g=i(g,d[y]);break}if(M>f)break}return g}throw new RangeError("Matrix must be square (size: "+Nt(l)+")")},DenseMatrix:a,any:ut});function a(c){var d=c._size,s=c._data;switch(d.length){case 1:if(1===d[0])return ut(s[0]);throw new RangeError("Matrix must be square (size: "+Nt(d)+")");case 2:var p=d[0];if(p===d[1]){for(var u=0,m=0;m<p;m++)u=i(u,s[m][m]);return u}throw new RangeError("Matrix must be square (size: "+Nt(d)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(d)+")")}}}),D7=W("quantileSeq",["typed","add","multiply","partitionSelect","compare"],function(t){var n=t.add,i=t.multiply,a=t.partitionSelect,o=t.compare;function d(p,l,u){var m=Zt(p),g=m.length;if(0===g)throw new Error("Cannot calculate quantile of an empty sequence");if(Tt(l)){var f=l*(g-1),h=f%1;if(0===h){var w=u?m[f]:a(m,f);return s(w),w}var M,_,y=Math.floor(f);if(u)M=m[y],_=m[y+1];else{_=a(m,y+1),M=m[y];for(var b=0;b<y;++b)o(m[b],M)>0&&(M=m[b])}return s(M),s(_),n(i(M,1-h),i(_,h))}var x=l.times(g-1);if(x.isInteger()){x=x.toNumber();var v=u?m[x]:a(m,x);return s(v),v}var E,P,A=x.floor(),S=x.minus(A),N=A.toNumber();if(u)E=m[N],P=m[N+1];else{P=a(m,N+1),E=m[N];for(var Z=0;Z<N;++Z)o(m[Z],E)>0&&(E=m[Z])}s(E),s(P);var V=new S.constructor(1);return n(i(E,V.minus(S)),i(P,S))}var s=(0,t.typed)({"number | BigNumber | Unit":function(l){return l}});return function c(p,l,u){var m,g,f;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(Ar(p)){if("boolean"==typeof(u=u||!1)){if(g=p.valueOf(),Tt(l)){if(l<0)throw new Error("N/prob must be non-negative");if(l<=1)return d(g,l,u);if(l>1){if(!nt(l))throw new Error("N must be a positive integer");var h=l+1;m=new Array(l);for(var w=0;w<l;)m[w]=d(g,++w/h,u);return m}}if(vt(l)){var y=l.constructor;if(l.isNegative())throw new Error("N/prob must be non-negative");if(f=new y(1),l.lte(f))return new y(d(g,l,u));if(l.gt(f)){if(!l.isInteger())throw new Error("N must be a positive integer");var M=l.toNumber();if(M>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var _=new y(M+1);m=new Array(M);for(var b=0;b<M;)m[b]=new y(d(g,new y(++b).div(_),u));return m}}if(Array.isArray(l)){m=new Array(l.length);for(var x=0;x<m.length;++x){var v=l[x];if(Tt(v)){if(v<0||v>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!vt(v))throw new TypeError("Unexpected type of argument in function quantileSeq");if(f=new v.constructor(1),v.isNegative()||v.gt(f))throw new Error("Probability must be between 0 and 1, inclusive")}m[x]=d(g,v,u)}return m}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}});function Mc(t){var r;if(nt(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:wr(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Mc(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,i=n*t,a=i*t,o=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*i)-571/(2488320*a)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,r=Si[0];for(var c=1;c<Si.length;++c)r+=Si[c]/(t+c);var d=t+wf+.5;return Math.sqrt(2*Math.PI)*Math.pow(d,t+.5)*Math.exp(-d)*r}Mc.signature="number";var wf=4.7421875,Si=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],P7=W("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],function(t){var n=t.config,i=t.multiplyScalar,a=t.pow,o=t.BigNumber,c=t.Complex;return(0,t.typed)("gamma",{number:Mc,Complex:function(p){if(0===p.im)return this(p.re);p=new c(p.re-1,p.im);for(var l=new c(Si[0],0),u=1;u<Si.length;++u){var m=p.re+u,g=m*m+p.im*p.im;0!==g?(l.re+=Si[u]*m/g,l.im+=-Si[u]*p.im/g):l.re=Si[u]<0?-1/0:1/0}var f=new c(p.re+wf+.5,p.im),h=Math.sqrt(2*Math.PI);p.re+=.5;var w=a(f,p);0===w.im?w.re*=h:(0===w.re||(w.re*=h),w.im*=h);var y=Math.exp(-f.re);return f.re=y*Math.cos(-f.im),f.im=y*Math.sin(-f.im),i(i(w,f),l)},BigNumber:function(p){if(p.isInteger())return p.isNegative()||p.isZero()?new o(1/0):d(p.minus(1));if(!p.isFinite())return new o(p.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(p){return We(p,this)}});function d(s){if(s<8)return new o([1,1,2,6,24,120,720,5040][s]);var p=n.precision+(0|Math.log(s.toNumber())),l=o.clone({precision:p});if(s%2==1)return s.times(d(new o(s-1)));for(var u=s,m=new l(s),g=s.toNumber();u>2;)m=m.times(g+=u-=2);return new o(m.toPrecision(o.precision))}}),R7=W("bignumber",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("bignumber",{"":function(){return new n(0)},number:function(a){return new n(a+"")},string:function(a){return new n(a)},BigNumber:function(a){return a},Fraction:function(a){return new n(a.n).div(a.d).times(a.s)},null:function(a){return new n(0)},"Array | Matrix":function(a){return We(a,this)}})}),B7=W("lcm",["typed","matrix","equalScalar"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=Ir({typed:r,equalScalar:i}),o=ys({typed:r,equalScalar:i}),c=Bn({typed:r,equalScalar:i}),d=Xt({typed:r}),s=zt({typed:r});return r("lcm",{"number, number":Fd,"BigNumber, BigNumber":function p(l,u){if(!l.isInt()||!u.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(l.isZero())return l;if(u.isZero())return u;for(var m=l.times(u);!u.isZero();){var g=u;u=l.mod(g),l=g}return m.div(l).abs()},"Fraction, Fraction":function(u,m){return u.lcm(m)},"SparseMatrix, SparseMatrix":function(u,m){return o(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return a(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return a(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return d(u,m,this)},"Array, Array":function(u,m){return this(n(u),n(m)).valueOf()},"Array, Matrix":function(u,m){return this(n(u),m)},"Matrix, Array":function(u,m){return this(u,n(m))},"SparseMatrix, number | BigNumber":function(u,m){return c(u,m,this,!1)},"DenseMatrix, number | BigNumber":function(u,m){return s(u,m,this,!1)},"number | BigNumber, SparseMatrix":function(u,m){return c(m,u,this,!0)},"number | BigNumber, DenseMatrix":function(u,m){return s(m,u,this,!0)},"Array, number | BigNumber":function(u,m){return s(n(u),m,this,!1).valueOf()},"number | BigNumber, Array":function(u,m){return s(n(m),u,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(u,m,g){for(var f=this(u,m),h=0;h<g.length;h++)f=this(f,g[h]);return f}})}),z7=W("bitOr",["typed","matrix","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.DenseMatrix,o=Mi({typed:r}),c=bc({typed:r,equalScalar:i}),d=Gi({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r("bitOr",{"number, number":rp,"BigNumber, BigNumber":sA,"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,this)},"Array, Array":function(u,m){return this(n(u),n(m)).valueOf()},"Array, Matrix":function(u,m){return this(n(u),m)},"Matrix, Array":function(u,m){return this(u,n(m))},"SparseMatrix, any":function(u,m){return d(u,m,this,!1)},"DenseMatrix, any":function(u,m){return p(u,m,this,!1)},"any, SparseMatrix":function(u,m){return d(m,u,this,!0)},"any, DenseMatrix":function(u,m){return p(m,u,this,!0)},"Array, any":function(u,m){return p(n(u),m,this,!1).valueOf()},"any, Array":function(u,m){return p(n(m),u,this,!0).valueOf()}})}),Q7=W("kron",["typed","matrix","multiplyScalar"],function(t){var n=t.matrix,i=t.multiplyScalar;return(0,t.typed)("kron",{"Matrix, Matrix":function(c,d){return n(a(c.toArray(),d.toArray()))},"Matrix, Array":function(c,d){return n(a(c.toArray(),d))},"Array, Matrix":function(c,d){return n(a(c,d.toArray()))},"Array, Array":a});function a(o,c){if(1===kt(o).length&&(o=[o]),1===kt(c).length&&(c=[c]),kt(o).length>2||kt(c).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(c.length)+")");var d=[],s=[];return o.map(function(p){return c.map(function(l){return d.push(s=[]),p.map(function(u){return l.map(function(m){return s.push(i(u,m))})})})})&&d}}),W7=W("transpose",["typed","matrix"],function(t){var n=t.matrix;return(0,t.typed)("transpose",{Array:function(c){return this(n(c)).valueOf()},Matrix:function(c){var s,d=c.size();switch(d.length){case 1:s=c.clone();break;case 2:var p=d[0],l=d[1];if(0===l)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Nt(d)+")");switch(c.storage()){case"dense":s=function i(o,c,d){for(var l,s=o._data,p=[],u=0;u<d;u++){l=p[u]=[];for(var m=0;m<c;m++)l[m]=ut(s[m][u])}return o.createDenseMatrix({data:p,size:[d,c],datatype:o._datatype})}(c,p,l);break;case"sparse":s=function a(o,c,d){for(var s=o._values,p=o._index,l=o._ptr,u=s?[]:void 0,m=[],g=[],f=[],h=0;h<c;h++)f[h]=0;var w,y,M;for(w=0,y=p.length;w<y;w++)f[p[w]]++;for(var _=0,b=0;b<c;b++)g.push(_),_+=f[b],f[b]=g[b];for(g.push(_),M=0;M<d;M++)for(var v=l[M+1],A=l[M];A<v;A++){var S=f[p[A]]++;m[S]=M,s&&(u[S]=ut(s[A]))}return o.createSparseMatrix({values:u,index:m,ptr:g,size:[d,c],datatype:o._datatype})}(c,p,l)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Nt(this._size)+")")}return s},any:function(c){return ut(c)}})}),j7=W("numeric",["number","?bignumber","?fraction"],function(t){var r=t.number,n=t.bignumber,i=t.fraction,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(d){return r(d)},BigNumber:n?function(c){return n(c)}:sc,Fraction:i?function(c){return i(c)}:Pl};return function(d,s){var p=rn(d);if(!(p in a))throw new TypeError("Cannot convert "+d+' of type "'+p+'"; valid input types are '+Object.keys(a).join(", "));if(!(s in o))throw new TypeError("Cannot convert "+d+' to type "'+s+'"; valid output types are '+Object.keys(o).join(", "));return s===p?d:o[s](d)}}),K7=W("and",["typed","matrix","equalScalar","zeros","not"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.zeros,o=t.not,c=Ir({typed:r,equalScalar:i}),d=ys({typed:r,equalScalar:i}),s=Bn({typed:r,equalScalar:i}),p=Xt({typed:r}),l=zt({typed:r});return r("and",{"number, number":fp,"Complex, Complex":function(m,g){return!(0===m.re&&0===m.im||0===g.re&&0===g.im)},"BigNumber, BigNumber":function(m,g){return!(m.isZero()||g.isZero()||m.isNaN()||g.isNaN())},"Unit, Unit":function(m,g){return this(m.value||0,g.value||0)},"SparseMatrix, SparseMatrix":function(m,g){return d(m,g,this,!1)},"SparseMatrix, DenseMatrix":function(m,g){return c(g,m,this,!0)},"DenseMatrix, SparseMatrix":function(m,g){return c(m,g,this,!1)},"DenseMatrix, DenseMatrix":function(m,g){return p(m,g,this)},"Array, Array":function(m,g){return this(n(m),n(g)).valueOf()},"Array, Matrix":function(m,g){return this(n(m),g)},"Matrix, Array":function(m,g){return this(m,n(g))},"SparseMatrix, any":function(m,g){return o(g)?a(m.size(),m.storage()):s(m,g,this,!1)},"DenseMatrix, any":function(m,g){return o(g)?a(m.size(),m.storage()):l(m,g,this,!1)},"any, SparseMatrix":function(m,g){return o(m)?a(m.size(),m.storage()):s(g,m,this,!0)},"any, DenseMatrix":function(m,g){return o(m)?a(m.size(),m.storage()):l(g,m,this,!0)},"Array, any":function(m,g){return this(n(m),g).valueOf()},"any, Array":function(m,g){return this(m,n(g)).valueOf()}})}),Tf="smallerEq",eO=W(Tf,["typed","config","matrix","DenseMatrix"],function(t){var r=t.typed,n=t.config,i=t.matrix,a=t.DenseMatrix,o=nr({typed:r}),c=Rr({typed:r,DenseMatrix:a}),d=rr({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r(Tf,{"boolean, boolean":function(u,m){return u<=m},"number, number":function(u,m){return u<=m||fr(u,m,n.epsilon)},"BigNumber, BigNumber":function(u,m){return u.lte(m)||Lr(u,m,n.epsilon)},"Fraction, Fraction":function(u,m){return 1!==u.compare(m)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(u,m){if(!u.equalBase(m))throw new Error("Cannot compare units with different base");return this(u.value,m.value)},"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,this)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,this,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,this,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,this)},"Array, Array":function(u,m){return this(i(u),i(m)).valueOf()},"Array, Matrix":function(u,m){return this(i(u),m)},"Matrix, Array":function(u,m){return this(u,i(m))},"SparseMatrix, any":function(u,m){return d(u,m,this,!1)},"DenseMatrix, any":function(u,m){return p(u,m,this,!1)},"any, SparseMatrix":function(u,m){return d(m,u,this,!0)},"any, DenseMatrix":function(u,m){return p(m,u,this,!0)},"Array, any":function(u,m){return p(i(u),m,this,!1).valueOf()},"any, Array":function(u,m){return p(i(m),u,this,!0).valueOf()}})}),nO=W("sort",["typed","matrix","compare","compareNatural"],function(t){var n=t.matrix,i=t.compare,a=t.compareNatural,o=i,c=function(u,m){return-i(u,m)};return(0,t.typed)("sort",{Array:function(u){return s(u),u.sort(o)},Matrix:function(u){return p(u),n(u.toArray().sort(o),u.storage())},"Array, function":function(u,m){return s(u),u.sort(m)},"Matrix, function":function(u,m){return p(u),n(u.toArray().sort(m),u.storage())},"Array, string":function(u,m){return s(u),u.sort(d(m))},"Matrix, string":function(u,m){return p(u),n(u.toArray().sort(d(m)),u.storage())}});function d(l){if("asc"===l)return o;if("desc"===l)return c;if("natural"===l)return a;throw new Error('String "asc", "desc", or "natural" expected')}function s(l){if(1!==kt(l).length)throw new Error("One dimensional array expected")}function p(l){if(1!==l.size().length)throw new Error("One dimensional matrix expected")}}),iO=W("cot",["typed","BigNumber"],function(t){var n=t.BigNumber;return(0,t.typed)("cot",{number:Dp,Complex:function(a){return a.cot()},BigNumber:function(a){return new n(1).div(a.tan())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(a.value)},"Array | Matrix":function(a){return We(a,this)}})}),Of="setDistinct",oO=W(Of,["typed","size","subset","compareNatural","Index","DenseMatrix"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index,c=t.DenseMatrix;return(0,t.typed)(Of,{"Array | Matrix":function(s){var p;if(0===i(n(s),new o(0)))p=[];else{var l=Zt(Array.isArray(s)?s:s.toArray()).sort(a);(p=[]).push(l[0]);for(var u=1;u<l.length;u++)0!==a(l[u],l[u-1])&&p.push(l[u])}return Array.isArray(s)?p:new c(p)}})}),kf="setPowerset",cO=W(kf,["typed","size","subset","compareNatural","Index"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index;return(0,t.typed)(kf,{"Array | Matrix":function(p){if(0===i(n(p),new o(0)))return[];for(var l=Zt(Array.isArray(p)?p:p.toArray()).sort(a),u=[],m=0;m.toString(2).length<=l.length;)u.push(c(l,m.toString(2).split("").reverse())),m++;return function d(s){for(var p=[],l=s.length-1;l>0;l--)for(var u=0;u<l;u++)s[u].length>s[u+1].length&&(p=s[u],s[u]=s[u+1],s[u+1]=p);return s}(u)}});function c(s,p){for(var l=[],u=0;u<p.length;u++)"1"===p[u]&&l.push(s[u]);return l}}),lO=W("index",["typed","Index"],function(t){var n=t.Index;return(0,t.typed)("index",{"...number | string | BigNumber | Range | Array | Matrix":function(a){var o=a.map(function(d){return vt(d)?d.toNumber():Array.isArray(d)||wt(d)?d.map(function(s){return vt(s)?s.toNumber():s}):d}),c=new n;return n.apply(c,o),c}})}),qf="factorial",pO=W(qf,["typed","gamma"],function(t){var n=t.gamma;return(0,t.typed)(qf,{number:function(a){if(a<0)throw new Error("Value must be non-negative");return n(a+1)},BigNumber:function(a){if(a.isNegative())throw new Error("Value must be non-negative");return n(a.plus(1))},"Array | Matrix":function(a){return We(a,this)}})}),Pf="permutations",fO=W(Pf,["typed","factorial"],function(t){return(0,t.typed)(Pf,{"number | BigNumber":t.factorial,"number, number":function(a,o){if(!nt(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(!nt(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>a)throw new TypeError("second argument k must be less than or equal to first argument n");return wr(a-o+1,a)},"BigNumber, BigNumber":function(a,o){var c,d;if(!Zf(a)||!Zf(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(a))throw new TypeError("second argument k must be less than or equal to first argument n");for(c=a.mul(0).add(1),d=a.minus(o).plus(1);d.lte(a);d=d.plus(1))c=c.times(d);return c}})});function Zf(t){return t.isInteger()&&t.gte(0)}function Lf(t,r){return function _O(t){if(Array.isArray(t))return t}(t)||function vO(t,r){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,o=void 0;try{for(var d,c=t[Symbol.iterator]();!(i=(d=c.next()).done)&&(n.push(d.value),!r||n.length!==r);i=!0);}catch(s){a=!0,o=s}finally{try{!i&&null!=c.return&&c.return()}finally{if(a)throw o}}return n}}(t,r)||function hO(t,r){if(t){if("string"==typeof t)return Rf(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rf(t,r)}}(t,r)||function gO(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rf(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}var bO=W("ceil",["typed","config","round","matrix","equalScalar"],function(t){var r=t.typed,n=t.config,i=t.round,a=t.matrix,c=Bn({typed:r,equalScalar:t.equalScalar}),d=zt({typed:r});return r("ceil",{number:function(p){return fr(p,i(p),n.epsilon)?i(p):Zd(p)},"number, number":function(p,l){if(fr(p,i(p,l),n.epsilon))return i(p,l);var m=Lf("".concat(p,"e").split("e"),2),g=m[0],f=m[1],h=Math.ceil(Number("".concat(g,"e").concat(Number(f)+l))),y=Lf("".concat(h,"e").split("e"),2);return g=y[0],f=y[1],Number("".concat(g,"e").concat(Number(f)-l))},Complex:function(p){return p.ceil()},"Complex, number":function(p,l){return p.ceil(l)},BigNumber:function(p){return Lr(p,i(p),n.epsilon)?i(p):p.ceil()},"BigNumber, BigNumber":function(p,l){return Lr(p,i(p,l),n.epsilon)?i(p,l):p.toDecimalPlaces(l.toNumber(),dc.Decimal.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,l){return p.ceil(l)},"Array | Matrix":function(p){return We(p,this,!0)},"Array | Matrix, number":function(p,l){var u=this;return We(p,function(m){return u(m,l)},!0)},"SparseMatrix, number | BigNumber":function(p,l){return c(p,l,this,!1)},"DenseMatrix, number | BigNumber":function(p,l){return d(p,l,this,!1)},"number | Complex | BigNumber, Array":function(p,l){return d(a(l),p,this,!0).valueOf()}})}),Uf="subtract",CO=W(Uf,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.addScalar,o=t.unaryMinus,c=t.DenseMatrix,d=Mi({typed:r}),s=nr({typed:r}),p=xs({typed:r,equalScalar:i}),l=Gi({typed:r,DenseMatrix:c}),u=Xt({typed:r}),m=zt({typed:r});return r(Uf,{"number, number":function(f,h){return f-h},"Complex, Complex":function(f,h){return f.sub(h)},"BigNumber, BigNumber":function(f,h){return f.minus(h)},"Fraction, Fraction":function(f,h){return f.sub(h)},"Unit, Unit":function(f,h){if(null===f.value)throw new Error("Parameter x contains a unit with undefined value");if(null===h.value)throw new Error("Parameter y contains a unit with undefined value");if(!f.equalBase(h))throw new Error("Units do not match");var w=f.clone();return w.value=this(w.value,h.value),w.fixPrefix=!1,w},"SparseMatrix, SparseMatrix":function(f,h){return bs(f,h),p(f,h,this)},"SparseMatrix, DenseMatrix":function(f,h){return bs(f,h),s(h,f,this,!0)},"DenseMatrix, SparseMatrix":function(f,h){return bs(f,h),d(f,h,this,!1)},"DenseMatrix, DenseMatrix":function(f,h){return bs(f,h),u(f,h,this)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, any":function(f,h){return l(f,o(h),a)},"DenseMatrix, any":function(f,h){return m(f,h,this)},"any, SparseMatrix":function(f,h){return l(h,f,this,!0)},"any, DenseMatrix":function(f,h){return m(h,f,this,!0)},"Array, any":function(f,h){return m(n(f),h,this,!1).valueOf()},"any, Array":function(f,h){return m(n(h),f,this,!0).valueOf()}})});function bs(t,r){var n=t.size(),i=r.size();if(n.length!==i.length)throw new Ct(n.length,i.length)}var SO=W("cross",["typed","matrix","subtract","multiply"],function(t){var n=t.matrix,i=t.subtract,a=t.multiply;return(0,t.typed)("cross",{"Matrix, Matrix":function(d,s){return n(o(d.toArray(),s.toArray()))},"Matrix, Array":function(d,s){return n(o(d.toArray(),s))},"Array, Matrix":function(d,s){return n(o(d,s.toArray()))},"Array, Array":o});function o(c,d){var s=Math.max(kt(c).length,kt(d).length);c=es(c),d=es(d);var p=kt(c),l=kt(d);if(1!==p.length||1!==l.length||3!==p[0]||3!==l[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+p.join(", ")+"], B = ["+l.join(", ")+"])");var u=[i(a(c[1],d[2]),a(c[2],d[1])),i(a(c[2],d[0]),a(c[0],d[2])),i(a(c[0],d[1]),a(c[1],d[0]))];return s>1?[u]:u}}),AO=W("prod",["typed","config","multiplyScalar","numeric"],function(t){var n=t.config,i=t.multiplyScalar,a=t.numeric;return(0,t.typed)("prod",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(d,s){throw new Error("prod(A, dim) is not yet supported")},"...":function(d){return o(d)}});function o(c){var d;if(Xr(c,function(s){try{d=void 0===d?s:i(d,s)}catch(p){throw hr(p,"prod",s)}}),"string"==typeof d&&(d=a(d,n.number)),void 0===d)throw new Error("Cannot calculate prod of an empty array");return d}}),ws="equal",IO=W(ws,["typed","matrix","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.DenseMatrix,o=nr({typed:r}),c=Rr({typed:r,DenseMatrix:a}),d=rr({typed:r,DenseMatrix:a}),s=Xt({typed:r}),p=zt({typed:r});return r(ws,{"any, any":function(u,m){return null===u?null===m:null===m?null===u:void 0===u?void 0===m:void 0===m?void 0===u:i(u,m)},"SparseMatrix, SparseMatrix":function(u,m){return c(u,m,i)},"SparseMatrix, DenseMatrix":function(u,m){return o(m,u,i,!0)},"DenseMatrix, SparseMatrix":function(u,m){return o(u,m,i,!1)},"DenseMatrix, DenseMatrix":function(u,m){return s(u,m,i)},"Array, Array":function(u,m){return this(n(u),n(m)).valueOf()},"Array, Matrix":function(u,m){return this(n(u),m)},"Matrix, Array":function(u,m){return this(u,n(m))},"SparseMatrix, any":function(u,m){return d(u,m,i,!1)},"DenseMatrix, any":function(u,m){return p(u,m,i,!1)},"any, SparseMatrix":function(u,m){return d(m,u,i,!0)},"any, DenseMatrix":function(u,m){return p(m,u,i,!0)},"Array, any":function(u,m){return p(n(u),m,i,!1).valueOf()},"any, Array":function(u,m){return p(n(m),u,i,!0).valueOf()}})}),zf=(W(ws,["typed","equalScalar"],function(t){var n=t.equalScalar;return(0,t.typed)(ws,{"any, any":function(a,o){return null===a?null===o:null===o?null===a:void 0===a?void 0===o:void 0===o?void 0===a:n(a,o)}})}),"setCartesian"),OO=W(zf,["typed","size","subset","compareNatural","Index","DenseMatrix"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index,c=t.DenseMatrix;return(0,t.typed)(zf,{"Array | Matrix, Array | Matrix":function(s,p){var l=[];if(0!==i(n(s),new o(0))&&0!==i(n(p),new o(0))){var u=Zt(Array.isArray(s)?s:s.toArray()).sort(a),m=Zt(Array.isArray(p)?p:p.toArray()).sort(a);l=[];for(var g=0;g<u.length;g++)for(var f=0;f<m.length;f++)l.push([u[g],m[f]])}return Array.isArray(s)&&Array.isArray(p)?l:new c(l)}})}),Hf="setSymDifference",DO=W(Hf,["typed","size","concat","subset","setDifference","Index"],function(t){var n=t.size,i=t.concat,a=t.subset,o=t.setDifference,c=t.Index;return(0,t.typed)(Hf,{"Array | Matrix, Array | Matrix":function(s,p){if(0===a(n(s),new c(0)))return Zt(p);if(0===a(n(p),new c(0)))return Zt(s);var l=Zt(s),u=Zt(p);return i(o(l,u),o(u,l))}})}),ZO=W("fix",["typed","Complex","matrix","ceil","floor"],function(t){var r=t.typed,n=t.Complex,i=t.matrix,a=t.ceil,o=t.floor,c=zt({typed:r});return r("fix",{number:function(s){return s>0?o(s):a(s)},"number, number | BigNumber":function(s,p){return s>0?o(s,p):a(s,p)},Complex:function(s){return new n(s.re>0?Math.floor(s.re):Math.ceil(s.re),s.im>0?Math.floor(s.im):Math.ceil(s.im))},"Complex, number | BigNumber":function(s,p){return new n(s.re>0?o(s.re,p):a(s.re,p),s.im>0?o(s.im,p):a(s.im,p))},BigNumber:function(s){return s.isNegative()?a(s):o(s)},"BigNumber, number | BigNumber":function(s,p){return s.isNegative()?a(s,p):o(s,p)},Fraction:function(s){return s.s<0?s.ceil():s.floor()},"Fraction, number | BigNumber":function(s,p){return s.s<0?s.ceil(p):s.floor(p)},"Array | Matrix":function(s){return We(s,this,!0)},"Array | Matrix, number | BigNumber":function(s,p){var l=this;return We(s,function(u){return l(u,p)},!0)},"number | Complex | BigNumber, Array":function(s,p){return c(i(p),s,this,!0).valueOf()}})}),Qf="ctranspose",RO=W(Qf,["typed","transpose","conj"],function(t){var n=t.transpose,i=t.conj;return(0,t.typed)(Qf,{any:function(o){return i(n(o))}})}),Vf="deepEqual",BO=W(Vf,["typed","equal"],function(t){var n=t.equal;return(0,t.typed)(Vf,{"any, any":function(o,c){return i(o.valueOf(),c.valueOf())}});function i(a,o){if(Array.isArray(a)){if(Array.isArray(o)){var c=a.length;if(c!==o.length)return!1;for(var d=0;d<c;d++)if(!i(a[d],o[d]))return!1;return!0}return!1}return!Array.isArray(o)&&n(a,o)}}),Jf="setIsSubset",zO=W(Jf,["typed","size","subset","compareNatural","Index"],function(t){var n=t.size,i=t.subset,a=t.compareNatural,o=t.Index;return(0,t.typed)(Jf,{"Array | Matrix, Array | Matrix":function(d,s){if(0===i(n(d),new o(0)))return!0;if(0===i(n(s),new o(0)))return!1;for(var u,p=Aa(Zt(Array.isArray(d)?d:d.toArray()).sort(a)),l=Aa(Zt(Array.isArray(s)?s:s.toArray()).sort(a)),m=0;m<p.length;m++){u=!1;for(var g=0;g<l.length;g++)if(0===a(p[m].value,l[g].value)&&p[m].identifier===l[g].identifier){u=!0;break}if(!1===u)return!1}return!0}})}),QO=W("xor",["typed","matrix","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.DenseMatrix,a=nr({typed:r}),o=Rr({typed:r,DenseMatrix:i}),c=rr({typed:r,DenseMatrix:i}),d=Xt({typed:r}),s=zt({typed:r});return r("xor",{"number, number":mp,"Complex, Complex":function(l,u){return(0!==l.re||0!==l.im)!=(0!==u.re||0!==u.im)},"BigNumber, BigNumber":function(l,u){return(!l.isZero()&&!l.isNaN())!=(!u.isZero()&&!u.isNaN())},"Unit, Unit":function(l,u){return this(l.value||0,u.value||0)},"SparseMatrix, SparseMatrix":function(l,u){return o(l,u,this)},"SparseMatrix, DenseMatrix":function(l,u){return a(u,l,this,!0)},"DenseMatrix, SparseMatrix":function(l,u){return a(l,u,this,!1)},"DenseMatrix, DenseMatrix":function(l,u){return d(l,u,this)},"Array, Array":function(l,u){return this(n(l),n(u)).valueOf()},"Array, Matrix":function(l,u){return this(n(l),u)},"Matrix, Array":function(l,u){return this(l,n(u))},"SparseMatrix, any":function(l,u){return c(l,u,this,!1)},"DenseMatrix, any":function(l,u){return s(l,u,this,!1)},"any, SparseMatrix":function(l,u){return c(u,l,this,!0)},"any, DenseMatrix":function(l,u){return s(u,l,this,!0)},"Array, any":function(l,u){return s(n(l),u,this,!1).valueOf()},"any, Array":function(l,u){return s(n(u),l,this,!0).valueOf()}})}),Yf="divideScalar",JO=W(Yf,["typed","numeric"],function(t){var n=t.numeric;return(0,t.typed)(Yf,{"number, number":function(a,o){return a/o},"Complex, Complex":function(a,o){return a.div(o)},"BigNumber, BigNumber":function(a,o){return a.div(o)},"Fraction, Fraction":function(a,o){return a.div(o)},"Unit, number | Fraction | BigNumber":function(a,o){var c=a.clone(),d=n(1,rn(o));return c.value=this(null===c.value?c._normalize(d):c.value,o),c},"number | Fraction | BigNumber, Unit":function(a,o){var c=o.clone();c=c.pow(-1);var d=n(1,rn(a));return c.value=this(a,null===o.value?o._normalize(d):o.value),c},"Unit, Unit":function(a,o){return a.divide(o)}})}),$f="nthRoots",YO=W($f,["config","typed","divideScalar","Complex"],function(t){var a=t.Complex,o=[function(s){return new a(s,0)},function(s){return new a(0,s)},function(s){return new a(-s,0)},function(s){return new a(0,-s)}];function c(d,s){if(s<0)throw new Error("Root must be greater than zero");if(0===s)throw new Error("Root must be non-zero");if(s%1!=0)throw new Error("Root must be an integer");if(0===d||0===d.abs())return[new a(0,0)];var l,p="number"==typeof d;(p||0===d.re||0===d.im)&&(l=p?2*+(d<0):0===d.im?2*+(d.re<0):2*+(d.im<0)+1);for(var u=d.arg(),m=d.abs(),g=[],f=Math.pow(m,1/s),h=0;h<s;h++){var w=(l+4*h)/s;w!==Math.round(w)?g.push(new a({r:f,phi:(u+2*Math.PI*h)/s})):g.push(o[w%4](f))}return g}return(0,t.typed)($f,{Complex:function(s){return c(s,2)},"Complex, number":c})});function Co(t){var r=t.DenseMatrix;return function(i,a,o){var c=i.size();if(2!==c.length)throw new RangeError("Matrix must be two dimensional (size: "+Nt(c)+")");var d=c[0];if(d!==c[1])throw new RangeError("Matrix must be square (size: "+Nt(c)+")");var p=[];if(wt(a)){var l=a.size(),u=a._data;if(1===l.length){if(l[0]!==d)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<d;m++)p[m]=[u[m]];return new r({data:p,size:[d,1],datatype:a._datatype})}if(2===l.length){if(l[0]!==d||1!==l[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Wo(a)){if(o){p=[];for(var g=0;g<d;g++)p[g]=[u[g][0]];return new r({data:p,size:[d,1],datatype:a._datatype})}return a}if(Yi(a)){for(var f=0;f<d;f++)p[f]=[0];for(var h=a._values,w=a._index,y=a._ptr,M=y[1],_=y[0];_<M;_++)p[w[_]][0]=h[_];return new r({data:p,size:[d,1],datatype:a._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Kt(a)){var x=kt(a);if(1===x.length){if(x[0]!==d)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<d;v++)p[v]=[a[v]];return new r({data:p,size:[d,1]})}if(2===x.length){if(x[0]!==d||1!==x[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<d;A++)p[A]=[a[A][0]];return new r({data:p,size:[d,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var jO=W("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.divideScalar,a=t.multiplyScalar,o=t.subtract,c=t.equalScalar,d=t.DenseMatrix,s=Co({DenseMatrix:d});return r("lsolve",{"SparseMatrix, Array | Matrix":function(m,g){return function l(u,m){for(var g=(m=s(u,m,!0))._data,f=u._size[0],h=u._size[1],w=u._values,y=u._index,M=u._ptr,_=[],b=0;b<h;b++){var x=g[b][0]||0;if(c(x,0))_[b]=[0];else{for(var v=0,A=[],S=[],E=M[b+1],P=M[b];P<E;P++){var Z=y[P];Z===b?v=w[P]:Z>b&&(A.push(w[P]),S.push(Z))}if(c(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=i(x,v),U=0,j=S.length;U<j;U++){var B=S[U];g[B]=[o(g[B][0]||0,a(V,A[U]))]}_[b]=[V]}}return new d({data:_,size:[f,1]})}(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return p(m,g)},"Array, Array | Matrix":function(m,g){return p(n(m),g).valueOf()}});function p(u,m){for(var g=(m=s(u,m,!0))._data,f=u._size[0],h=u._size[1],w=[],y=u._data,M=0;M<h;M++){var _=g[M][0]||0,b=void 0;if(c(_,0))b=0;else{var x=y[M][M];if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");b=i(_,x);for(var v=M+1;v<f;v++)g[v]=[o(g[v][0]||0,a(b,y[v][M]))]}w[M]=[b]}return new d({data:w,size:[f,1]})}});function Gf(t){return function e9(t){if(Array.isArray(t))return Sc(t)}(t)||function XO(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function KO(t,r){if(t){if("string"==typeof t)return Sc(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sc(t,r)}}(t)||function GO(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}var Kf="lsolveAll",n9=W(Kf,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.divideScalar,a=t.multiplyScalar,o=t.subtract,c=t.equalScalar,d=t.DenseMatrix,s=Co({DenseMatrix:d});return r(Kf,{"SparseMatrix, Array | Matrix":function(m,g){return function l(u,m){for(var g=[s(u,m,!0)._data.map(function(ye){return ye[0]})],f=u._size[0],h=u._size[1],w=u._values,y=u._index,M=u._ptr,_=0;_<h;_++)for(var b=g.length,x=0;x<b;x++){for(var v=g[x],A=[],S=[],E=M[_+1],P=0,Z=M[_];Z<E;Z++){var V=y[Z];V===_?P=w[Z]:V>_&&(A.push(w[Z]),S.push(V))}if(c(P,0))if(c(v[_],0)){if(0===x){var O=Gf(v);O[_]=1;for(var X=0,D=S.length;X<D;X++){var de=S[X];O[de]=o(O[de],A[X])}g.push(O)}}else{if(0===x)return[];g.splice(x,1),x-=1,b-=1}else{v[_]=i(v[_],P);for(var U=0,j=S.length;U<j;U++){var B=S[U];v[B]=o(v[B],a(v[_],A[U]))}}}return g.map(function(ye){return new d({data:ye.map(function(Oe){return[Oe]}),size:[f,1]})})}(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return p(m,g)},"Array, Array | Matrix":function(m,g){return p(n(m),g).map(function(w){return w.valueOf()})}});function p(u,m){for(var g=[s(u,m,!0)._data.map(function(S){return S[0]})],f=u._data,h=u._size[0],w=u._size[1],y=0;y<w;y++)for(var M=g.length,_=0;_<M;_++){var b=g[_];if(c(f[y][y],0))if(c(b[y],0)){if(0===_){var v=Gf(b);v[y]=1;for(var A=y+1;A<w;A++)v[A]=o(v[A],f[A][y]);g.push(v)}}else{if(0===_)return[];g.splice(_,1),_-=1,M-=1}else{b[y]=i(b[y],f[y][y]);for(var x=y+1;x<w;x++)b[x]=o(b[x],a(b[y],f[x][y]))}}return g.map(function(S){return new d({data:S.map(function(N){return[N]}),size:[h,1]})})}}),a9=W("Spa",["addScalar","equalScalar","FibonacciHeap"],function(t){var r=t.addScalar,n=t.equalScalar,i=t.FibonacciHeap;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(o,c){if(this._values[o])this._values[o].value=c;else{var d=this._heap.insert(o,c);this._values[o]=d}},a.prototype.get=function(o){var c=this._values[o];return c?c.value:0},a.prototype.accumulate=function(o,c){var d=this._values[o];d?d.value=r(d.value,c):(d=this._heap.insert(o,c),this._values[o]=d)},a.prototype.forEach=function(o,c,d){var s=this._heap,p=this._values,l=[],u=s.extractMinimum();for(u&&l.push(u);u&&u.key<=c;)u.key>=o&&(n(u.value,0)||d(u.key,u.value,this)),(u=s.extractMinimum())&&l.push(u);for(var m=0;m<l.length;m++){var g=l[m];p[(u=s.insert(g.key,g.value)).key]=u}},a.prototype.swap=function(o,c){var d=this._values[o],s=this._values[c];if(!d&&s)d=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=d,this._values[c]=void 0;else if(d&&!s)s=this._heap.insert(c,d.value),this._heap.remove(d),this._values[c]=s,this._values[o]=void 0;else if(d&&s){var p=d.value;d.value=s.value,s.value=p}},a},{isClass:!0}),Xf="setUnion",s9=W(Xf,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],function(t){var n=t.size,i=t.concat,a=t.subset,o=t.setIntersect,c=t.setSymDifference,d=t.Index;return(0,t.typed)(Xf,{"Array | Matrix, Array | Matrix":function(p,l){if(0===a(n(p),new d(0)))return Zt(l);if(0===a(n(l),new d(0)))return Zt(p);var u=Zt(p),m=Zt(l);return i(c(u,m),o(u,m))}})}),u9=W("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],function(t){var n=t.matrix,i=t.abs,a=t.addScalar,o=t.divideScalar,c=t.multiplyScalar,d=t.subtract,s=t.larger,p=t.equalScalar,l=t.unaryMinus,u=t.DenseMatrix,m=t.SparseMatrix,g=t.Spa;return(0,t.typed)("lup",{DenseMatrix:function(y){return f(y)},SparseMatrix:function(y){return function h(w){var j,B,O,y=w._size[0],M=w._size[1],_=Math.min(y,M),b=w._values,x=w._index,v=w._ptr,A=[],S=[],N=[],E=[y,_],P=[],Z=[],V=[],U=[_,M],X=[],D=[];for(j=0;j<y;j++)X[j]=j,D[j]=j;var ye=function(){var oe=new g;B<y&&(N.push(A.length),A.push(1),S.push(B)),V.push(P.length);var je=v[B+1];for(O=v[B];O<je;O++)oe.set(X[j=x[O]],b[O]);B>0&&oe.forEach(0,B-1,function(Me,Ze){m._forEachRow(Me,A,S,N,function(Ke,lt){Ke>Me&&oe.accumulate(Ke,l(c(lt,Ze)))})});var le=B,pe=oe.get(B),we=i(pe);oe.forEach(B+1,y-1,function(Me,Ze){var Ke=i(Ze);s(Ke,we)&&(le=Me,we=Ke,pe=Ze)}),B!==le&&(m._swapRows(B,le,E[1],A,S,N),m._swapRows(B,le,U[1],P,Z,V),oe.swap(B,le),function(oe,Ae){var je=D[oe],le=D[Ae];X[je]=Ae,X[le]=oe,D[oe]=le,D[Ae]=je}(B,le)),oe.forEach(0,y-1,function(Me,Ze){Me<=B?(P.push(Ze),Z.push(Me)):(Ze=o(Ze,pe),p(Ze,0)||(A.push(Ze),S.push(Me)))})};for(B=0;B<M;B++)ye();return V.push(P.length),N.push(A.length),{L:new m({values:A,index:S,ptr:N,size:E}),U:new m({values:P,index:Z,ptr:V,size:U}),p:X,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(y)},Array:function(y){var _=f(n(y));return{L:_.L.valueOf(),U:_.U.valueOf(),p:_.p}}});function f(w){var N,E,P,y=w._size[0],M=w._size[1],_=Math.min(y,M),b=ut(w._data),x=[],v=[y,_],A=[],S=[_,M],Z=[];for(N=0;N<y;N++)Z[N]=N;for(E=0;E<M;E++){if(E>0)for(N=0;N<y;N++){var V=Math.min(N,E),U=0;for(P=0;P<V;P++)U=a(U,c(b[N][P],b[P][E]));b[N][E]=d(b[N][E],U)}var j=E,B=0,O=0;for(N=E;N<y;N++){var X=b[N][E],D=i(X);s(D,B)&&(j=N,B=D,O=X)}if(E!==j&&(Z[E]=[Z[j],Z[j]=Z[E]][0],u._swapRows(E,j,b)),E<y)for(N=E+1;N<y;N++)p(b[N][E],0)||(b[N][E]=o(b[N][E],O))}for(E=0;E<M;E++)for(N=0;N<y;N++)0===E&&(N<M&&(A[N]=[]),x[N]=[]),N<E?(N<M&&(A[N][E]=b[N][E]),E<y&&(x[N][E]=0)):N!==E?(N<M&&(A[N][E]=0),E<y&&(x[N][E]=b[N][E])):(N<M&&(A[N][E]=b[N][E]),E<y&&(x[N][E]=1));var ye=new u({data:x,size:v}),Oe=new u({data:A,size:S}),oe=[];for(N=0,_=Z.length;N<_;N++)oe[Z[N]]=N;return{L:ye,U:Oe,p:oe,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}});function tg(t,r,n,i,a,o,c){var d=0;for(n[c]=t;d>=0;){var s=n[c+d],p=n[i+s];-1===p?(d--,o[r++]=s):(n[i+s]=n[a+p],n[c+ ++d]=p)}return r}function Ni(t){return-t-2}var h9=W("csAmd",["add","multiply","transpose"],function(t){var r=t.add,n=t.multiply,i=t.transpose;return function(l,u){if(!u||l<=0||l>3)return null;var m=u._size,g=m[0],f=m[1],h=0,w=Math.max(16,10*Math.sqrt(f)),y=function a(p,l,u,m,g){var f=i(l);if(1===p&&m===u)return r(l,f);if(2===p){for(var h=f._index,w=f._ptr,y=0,M=0;M<u;M++){var _=w[M];if(w[M]=y,!(w[M+1]-_>g))for(var b=w[M+1];_<b;_++)h[y++]=h[_]}return w[u]=y,l=i(f),n(f,l)}return n(f,l)}(l,u,g,f,w=Math.min(f-2,w));!function m9(t,r,n){for(var i=t._values,a=t._index,o=t._ptr,d=t._size[1],s=0,p=0;p<d;p++){var l=o[p];for(o[p]=s;l<o[p+1];l++)r(a[l],p,i?i[l]:1,n)&&(a[s]=a[l],i&&(i[s]=i[l]),s++)}o[d]=s,a.splice(s,a.length-s),i&&i.splice(s,i.length-s)}(y,s,null);for(var D,de,ye,Oe,oe,Ae,je,le,pe,we,Me,Ze,Ke,lt,at,dt,M=y._index,_=y._ptr,b=_[f],x=[],v=[],S=f+1,N=2*(f+1),E=3*(f+1),P=4*(f+1),Z=5*(f+1),V=6*(f+1),U=7*(f+1),j=x,B=function o(p,l,u,m,g,f,h,w,y,M,_,b){for(var x=0;x<p;x++)u[m+x]=l[x+1]-l[x];u[m+p]=0;for(var v=0;v<=p;v++)u[g+v]=-1,f[v]=-1,u[h+v]=-1,u[w+v]=-1,u[y+v]=1,u[M+v]=1,u[_+v]=0,u[b+v]=u[m+v];var A=d(0,0,u,M,p);return u[_+p]=-2,l[p]=-1,u[M+p]=0,A}(f,_,v,0,E,j,N,U,S,V,P,Z),O=function c(p,l,u,m,g,f,h,w,y,M,_){for(var b=0,x=0;x<p;x++){var v=u[m+x];if(0===v)u[g+x]=-2,b++,l[x]=-1,u[f+x]=0;else if(v>h)u[w+x]=0,u[g+x]=-1,b++,l[x]=Ni(p),u[w+p]++;else{var A=u[y+v];-1!==A&&(M[A]=x),u[_+x]=u[y+v],u[y+v]=x}}return b}(f,_,v,Z,P,V,w,S,E,j,N),X=0;O<f;){for(ye=-1;X<f&&-1===(ye=v[E+X]);X++);-1!==v[N+ye]&&(j[v[N+ye]]=-1),v[E+X]=v[N+ye];var G=v[P+ye],ie=v[S+ye];O+=ie;var Pe=0;v[S+ye]=-ie;var Ie=_[ye],He=0===G?Ie:b,Ve=He;for(Oe=1;Oe<=G+1;Oe++){for(Oe>G?(Ae=ye,je=Ie,le=v[0+ye]-G):(je=_[Ae=M[Ie++]],le=v[0+Ae]),oe=1;oe<=le;oe++)!((pe=v[S+(D=M[je++])])<=0)&&(Pe+=pe,v[S+D]=-pe,M[Ve++]=D,-1!==v[N+D]&&(j[v[N+D]]=j[D]),-1!==j[D]?v[N+j[D]]=v[N+D]:v[E+v[Z+D]]=v[N+D]);Ae!==ye&&(_[Ae]=Ni(ye),v[V+Ae]=0)}for(0!==G&&(b=Ve),v[Z+ye]=Pe,_[ye]=He,v[0+ye]=Ve-He,v[P+ye]=-2,B=d(B,h,v,V,f),we=He;we<Ve;we++)if(!((Me=v[P+(D=M[we])])<=0)){var it=B-(pe=-v[S+D]);for(Ie=_[D],Ze=_[D]+Me-1;Ie<=Ze;Ie++)v[V+(Ae=M[Ie])]>=B?v[V+Ae]-=pe:0!==v[V+Ae]&&(v[V+Ae]=v[Z+Ae]+it)}for(we=He;we<Ve;we++){for(Ke=(Ze=_[D=M[we]])+v[P+D]-1,lt=Ze,at=0,dt=0,Ie=Ze;Ie<=Ke;Ie++)if(0!==v[V+(Ae=M[Ie])]){var Mt=v[V+Ae]-B;Mt>0?(dt+=Mt,M[lt++]=Ae,at+=Ae):(_[Ae]=Ni(ye),v[V+Ae]=0)}v[P+D]=lt-Ze+1;var bt=lt,Fn=Ze+v[0+D];for(Ie=Ke+1;Ie<Fn;Ie++){var hn=v[S+(de=M[Ie])];hn<=0||(dt+=hn,M[lt++]=de,at+=de)}0===dt?(_[D]=Ni(ye),Pe-=pe=-v[S+D],ie+=pe,O+=pe,v[S+D]=0,v[P+D]=-1):(v[Z+D]=Math.min(v[Z+D],dt),M[lt]=M[bt],M[bt]=M[Ze],M[Ze]=ye,v[0+D]=lt-Ze+1,v[N+D]=v[U+(at=(at<0?-at:at)%f)],v[U+at]=D,j[D]=at)}for(v[Z+ye]=Pe,B=d(B+(h=Math.max(h,Pe)),h,v,V,f),we=He;we<Ve;we++)if(!(v[S+(D=M[we])]>=0))for(D=v[U+(at=j[D])],v[U+at]=-1;-1!==D&&-1!==v[N+D];D=v[N+D],B++){for(le=v[0+D],Me=v[P+D],Ie=_[D]+1;Ie<=_[D]+le-1;Ie++)v[V+M[Ie]]=B;var jn=D;for(de=v[N+D];-1!==de;){var ar=v[0+de]===le&&v[P+de]===Me;for(Ie=_[de]+1;ar&&Ie<=_[de]+le-1;Ie++)v[V+M[Ie]]!==B&&(ar=0);ar?(_[de]=Ni(D),v[S+D]+=v[S+de],v[S+de]=0,v[P+de]=-1,v[N+jn]=de=v[N+de]):(jn=de,de=v[N+de])}}for(Ie=He,we=He;we<Ve;we++)!((pe=-v[S+(D=M[we])])<=0)&&(v[S+D]=pe,dt=v[Z+D]+Pe-pe,-1!==v[E+(dt=Math.min(dt,f-O-pe))]&&(j[v[E+dt]]=D),v[N+D]=v[E+dt],j[D]=-1,v[E+dt]=D,X=Math.min(X,dt),v[Z+D]=dt,M[Ie++]=D);v[S+ye]=ie,0==(v[0+ye]=Ie-He)&&(_[ye]=-1,v[V+ye]=0),0!==G&&(b=Ie)}for(D=0;D<f;D++)_[D]=Ni(_[D]);for(de=0;de<=f;de++)v[E+de]=-1;for(de=f;de>=0;de--)v[S+de]>0||(v[N+de]=v[E+_[de]],v[E+_[de]]=de);for(Ae=f;Ae>=0;Ae--)v[S+Ae]<=0||-1!==_[Ae]&&(v[N+Ae]=v[E+_[Ae]],v[E+_[Ae]]=Ae);for(ye=0,D=0;D<=f;D++)-1===_[D]&&(ye=tg(D,ye,v,E,N,x,V));return x.splice(x.length-1,1),x};function d(p,l,u,m,g){if(p<2||p+l<0){for(var f=0;f<g;f++)0!==u[m+f]&&(u[m+f]=1);p=2}return p}function s(p,l){return p!==l}});function v9(t,r,n,i,a,o,c){var d,s,l,p=0;if(t<=r||n[i+r]<=n[a+t])return-1;n[a+t]=n[i+r];var u=n[o+t];if(n[o+t]=r,-1===u)p=1,l=t;else{for(p=2,l=u;l!==n[c+l];l=n[c+l]);for(d=u;d!==l;d=s)s=n[c+d],n[c+d]=l}return{jleaf:p,q:l}}var y9=W("csCounts",["transpose"],function(t){var r=t.transpose;return function(n,i,a,o){if(!n||!i||!a)return null;var p,l,u,m,g,h,c=n._size,d=c[0],s=c[1],w=4*s+(o?s+d+1:0),y=[],_=s,b=2*s,x=3*s,v=4*s,A=5*s+1;for(u=0;u<w;u++)y[u]=-1;var S=[],N=r(n),E=N._index,P=N._ptr;for(u=0;u<s;u++)for(S[l=a[u]]=-1===y[x+l]?1:0;-1!==l&&-1===y[x+l];l=i[l])y[x+l]=u;if(o){for(u=0;u<s;u++)y[a[u]]=u;for(p=0;p<d;p++){for(u=s,h=P[p+1],g=P[p];g<h;g++)u=Math.min(u,y[E[g]]);y[A+p]=y[v+u],y[v+u]=p}}for(p=0;p<s;p++)y[0+p]=p;for(u=0;u<s;u++){for(-1!==i[l=a[u]]&&S[i[l]]--,m=o?y[v+u]:l;-1!==m;m=o?y[A+m]:-1)for(g=P[m];g<P[m+1];g++){var Z=v9(p=E[g],l,y,x,_,b,0);Z.jleaf>=1&&S[l]++,2===Z.jleaf&&S[Z.q]--}-1!==i[l]&&(y[0+l]=i[l])}for(l=0;l<s;l++)-1!==i[l]&&(S[i[l]]+=S[l]);return S}}),C9=W("csSqr",["add","multiply","transpose"],function(t){var i=t.transpose,a=h9({add:t.add,multiply:t.multiply,transpose:i}),o=y9({transpose:i});return function(s,p,l){var f,u=p._ptr,g=p._size[1],h={};if(h.q=a(s,p),s&&!h.q)return null;if(l){var w=s?function l9(t,r,n,i){for(var a=t._values,o=t._index,c=t._ptr,d=t._size,s=t._datatype,p=d[0],l=d[1],u=i&&t._values?[]:null,m=[],g=[],f=0,h=0;h<l;h++){g[h]=f;for(var w=n?n[h]:h,M=c[w+1],_=c[w];_<M;_++)m[f]=r?r[o[_]]:o[_],u&&(u[f]=a[_]),f++}return g[l]=f,t.createSparseMatrix({values:u,index:m,ptr:g,size:[p,l],datatype:s})}(p,null,h.q,0):p;h.parent=function p9(t,r){if(!t)return null;var u,m,n=t._index,i=t._ptr,a=t._size,o=a[0],c=a[1],d=[],s=[],l=c;if(r)for(u=0;u<o;u++)s[l+u]=-1;for(var g=0;g<c;g++){d[g]=-1,s[0+g]=-1;for(var h=i[g+1],w=i[g];w<h;w++){var y=n[w];for(u=r?s[l+y]:y;-1!==u&&u<g;u=m)m=s[0+u],s[0+u]=g,-1===m&&(d[u]=g);r&&(s[l+y]=g)}}return d}(w,1);var y=function d9(t,r){if(!t)return null;var i,n=0,a=[],o=[],d=r,s=2*r;for(i=0;i<r;i++)o[0+i]=-1;for(i=r-1;i>=0;i--)-1!==t[i]&&(o[d+i]=o[0+t[i]],o[0+t[i]]=i);for(i=0;i<r;i++)-1===t[i]&&(n=tg(i,n,o,0,d,a,s));return a}(h.parent,g);if(h.cp=o(w,h.parent,y,1),w&&h.parent&&h.cp&&function c(d,s){var p=d._ptr,l=d._index,u=d._size,m=u[0],g=u[1];s.pinv=[],s.leftmost=[];var v,A,S,E,f=s.parent,h=s.pinv,w=s.leftmost,y=[],_=m,b=m+g,x=m+2*g;for(A=0;A<g;A++)y[_+A]=-1,y[b+A]=-1,y[x+A]=0;for(v=0;v<m;v++)w[v]=-1;for(A=g-1;A>=0;A--)for(E=p[A+1],S=p[A];S<E;S++)w[l[S]]=A;for(v=m-1;v>=0;v--)h[v]=-1,-1!==(A=w[v])&&(0==y[x+A]++&&(y[b+A]=v),y[0+v]=y[_+A],y[_+A]=v);for(s.lnz=0,s.m2=m,A=0;A<g;A++)if(v=y[_+A],s.lnz++,v<0&&(v=s.m2++),h[v]=A,!(--x[A]<=0)){s.lnz+=y[x+A];var P=f[A];-1!==P&&(0===y[x+P]&&(y[b+P]=y[b+A]),y[0+y[b+A]]=y[_+P],y[_+P]=y[0+v],y[x+P]+=y[x+A])}for(v=0;v<m;v++)h[v]<0&&(h[v]=A++);return!0}(w,h))for(h.unz=0,f=0;f<g;f++)h.unz+=h.cp[f]}else h.unz=4*u[g]+g,h.lnz=h.unz;return h}});function Nc(t,r){return t[r]<0}function ng(t,r){t[r]=Ni(t[r])}function rg(t){return t<0?Ni(t):t}function M9(t,r,n,i,a){var p,l,u,o=r._index,c=r._ptr,s=r._size[1],m=0;for(i[0]=t;m>=0;){t=i[m];var g=a?a[t]:t;Nc(c,t)||(ng(c,t),i[s+m]=g<0?0:rg(c[g]));var f=1;for(l=i[s+m],u=g<0?0:rg(c[g+1]);l<u;l++)if(!Nc(c,p=o[l])){i[s+m]=l,i[++m]=p,f=0;break}f&&(m--,i[--n]=t)}return n}var T9=W("csSpsolve",["divideScalar","multiply","subtract"],function(t){var r=t.divideScalar,n=t.multiply,i=t.subtract;return function(o,c,d,s,p,l,u){var b,x,v,A,m=o._values,g=o._index,f=o._ptr,w=o._size[1],y=c._values,M=c._index,_=c._ptr,S=function S9(t,r,n,i,a){var l,m,o=t._ptr,d=r._index,s=r._ptr,p=t._size[1],g=p;for(m=s[n+1],l=s[n];l<m;l++){var f=d[l];Nc(o,f)||(g=M9(f,t,g,i,a))}for(l=g;l<p;l++)ng(o,i[l]);return g}(o,c,d,s,l);for(b=S;b<w;b++)p[s[b]]=0;for(v=_[d+1],b=x=_[d];b<v;b++)p[M[b]]=y[b];for(var N=S;N<w;N++){var E=s[N],P=l?l[E]:E;if(!(P<0))for(x=f[P],v=f[P+1],p[E]=r(p[E],m[u?x:v-1]),b=u?x+1:x,A=u?v:v-1;b<A;b++){var Z=g[b];p[Z]=i(p[Z],n(m[b],p[E]))}}return S}}),O9=W("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],function(t){var r=t.abs,n=t.divideScalar,i=t.multiply,o=t.larger,c=t.largerEq,d=t.SparseMatrix,s=T9({divideScalar:n,multiply:i,subtract:t.subtract});return function(l,u,m){if(!l)return null;var h,f=l._size[1],w=100,y=100;u&&(h=u.q,w=u.lnz||w,y=u.unz||y);var P,Z,M=[],_=[],b=[],x=new d({values:M,index:_,ptr:b,size:[f,f]}),v=[],A=[],S=[],N=new d({values:v,index:A,ptr:S,size:[f,f]}),E=[],V=[],U=[];for(P=0;P<f;P++)V[P]=0,E[P]=-1,b[P+1]=0;w=0,y=0;for(var j=0;j<f;j++){b[j]=w,S[j]=y;var B=h?h[j]:j,O=s(x,l,B,U,V,E,1),X=-1,D=-1;for(Z=O;Z<f;Z++)if(E[P=U[Z]]<0){var de=r(V[P]);o(de,D)&&(D=de,X=P)}else A[y]=E[P],v[y++]=V[P];if(-1===X||D<=0)return null;E[B]<0&&c(r(V[B]),i(D,m))&&(X=B);var ye=V[X];for(A[y]=j,v[y++]=ye,E[X]=j,_[w]=X,M[w++]=1,Z=O;Z<f;Z++)E[P=U[Z]]<0&&(_[w]=P,M[w++]=n(V[P],ye)),V[P]=0}for(b[f]=w,S[f]=y,Z=0;Z<w;Z++)_[Z]=E[_[Z]];return M.splice(w,M.length-w),_.splice(w,_.length-w),v.splice(y,v.length-y),A.splice(y,A.length-y),{L:x,U:N,pinv:E}}}),D9=W("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],function(t){var r=t.typed,n=t.abs,a=t.multiply,c=t.divideScalar,d=t.subtract,s=t.larger,p=t.largerEq,l=t.SparseMatrix,u=C9({add:t.add,multiply:a,transpose:t.transpose}),m=O9({abs:n,divideScalar:c,multiply:a,subtract:d,larger:s,largerEq:p,SparseMatrix:l});return r("slu",{"SparseMatrix, number, number":function(f,h,w){if(!nt(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(w<0||w>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=u(h,f,!1),M=m(f,y,w);return{L:M.L,U:M.U,p:M.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),P9=W("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],function(t){var n=t.matrix,i=t.subtract,a=t.multiply,o=t.unaryMinus,c=t.lup;return(0,t.typed)("det",{any:function(p){return ut(p)},"Array | Matrix":function(p){var l;switch((l=wt(p)?p.size():Array.isArray(p)?(p=n(p)).size():[]).length){case 0:return ut(p);case 1:if(1===l[0])return ut(p.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Nt(l)+")");case 2:var u=l[0];if(u===l[1])return function d(s,p,l){if(1===p)return ut(s[0][0]);if(2===p)return i(a(s[0][0],s[1][1]),a(s[1][0],s[0][1]));for(var u=c(s),m=u.U[0][0],g=1;g<p;g++)m=a(m,u.U[g][g]);for(var f=0,h=0,w=[];;){for(;w[h];)h++;if(h>=p)break;for(var y=h,M=0;!w[u.p[y]];)w[u.p[y]]=!0,y=u.p[y],M++;M%2==0&&f++}return f%2==0?m:o(m)}(p.clone().valueOf(),u);throw new RangeError("Matrix must be square (size: "+Nt(l)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(l)+")")}}})}),og="distance",L9=W(og,["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],function(t){var n=t.addScalar,i=t.subtract,a=t.multiplyScalar,o=t.divideScalar,c=t.unaryMinus,d=t.sqrt,s=t.abs;return(0,t.typed)(og,{"Array, Array, Array":function(x,v,A){if(2===x.length&&2===v.length&&2===A.length){if(!l(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(v))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var S=o(i(A[1],A[0]),i(v[1],v[0])),N=a(a(S,S),v[0]),E=c(a(S,v[0]));return w(x[0],x[1],N,E,x[1])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,v,A){if(2===Object.keys(x).length&&2===Object.keys(v).length&&2===Object.keys(A).length){if(!l(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(v))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(A))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in v&&"lineOnePtY"in v&&"lineTwoPtX"in A&&"lineTwoPtY"in A){var S=o(i(A.lineTwoPtY,A.lineTwoPtX),i(v.lineOnePtY,v.lineOnePtX)),N=a(a(S,S),v.lineOnePtX),E=c(a(S,v.lineOnePtX));return w(x.pointX,x.pointY,N,E,x.pointX)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,v){if(2===x.length&&3===v.length){if(!l(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(v))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return w(x[0],x[1],v[0],v[1],v[2])}if(3===x.length&&6===v.length){if(!u(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(v))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(x[0],x[1],x[2],v[0],v[1],v[2],v[3],v[4],v[5])}if(x.length===v.length&&x.length>0){if(!m(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(v))throw new TypeError("All values of an array should be numbers or BigNumbers");return M(x,v)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,v){if(2===Object.keys(x).length&&3===Object.keys(v).length){if(!l(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(v))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in v&&"yCoeffLine"in v&&"constant"in v)return w(x.pointX,x.pointY,v.xCoeffLine,v.yCoeffLine,v.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(x).length&&6===Object.keys(v).length){if(!u(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!g(v))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in v&&"y0"in v&&"z0"in v&&"a"in v&&"b"in v&&"c"in v)return y(x.pointX,x.pointY,x.pointZ,v.x0,v.y0,v.z0,v.a,v.b,v.c);throw new TypeError("Key names do not match")}if(2===Object.keys(x).length&&2===Object.keys(v).length){if(!l(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(v))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in v&&"pointTwoY"in v)return M([x.pointOneX,x.pointOneY],[v.pointTwoX,v.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(x).length&&3===Object.keys(v).length){if(!u(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!u(v))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in v&&"pointTwoY"in v&&"pointTwoZ"in v)return M([x.pointOneX,x.pointOneY,x.pointOneZ],[v.pointTwoX,v.pointTwoY,v.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!function h(b){if(2===b[0].length&&p(b[0][0])&&p(b[0][1])){if(b.some(function(x){return 2!==x.length||!p(x[0])||!p(x[1])}))return!1}else{if(!(3===b[0].length&&p(b[0][0])&&p(b[0][1])&&p(b[0][2])))return!1;if(b.some(function(x){return 3!==x.length||!p(x[0])||!p(x[1])||!p(x[2])}))return!1}return!0}(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function _(b){for(var x=[],v=[],A=[],S=0;S<b.length-1;S++)for(var N=S+1;N<b.length;N++)2===b[0].length?(v=[b[S][0],b[S][1]],A=[b[N][0],b[N][1]]):3===b[0].length&&(v=[b[S][0],b[S][1],b[S][2]],A=[b[N][0],b[N][1],b[N][2]]),x.push(M(v,A));return x}(x)}});function p(b){return"number"==typeof b||vt(b)}function l(b){return b.constructor!==Array&&(b=f(b)),p(b[0])&&p(b[1])}function u(b){return b.constructor!==Array&&(b=f(b)),p(b[0])&&p(b[1])&&p(b[2])}function m(b){return Array.isArray(b)||(b=f(b)),b.every(p)}function g(b){return b.constructor!==Array&&(b=f(b)),p(b[0])&&p(b[1])&&p(b[2])&&p(b[3])&&p(b[4])&&p(b[5])}function f(b){for(var x=Object.keys(b),v=[],A=0;A<x.length;A++)v.push(b[x[A]]);return v}function w(b,x,v,A,S){var N=s(n(n(a(v,b),a(A,x)),S)),E=d(n(a(v,v),a(A,A)));return o(N,E)}function y(b,x,v,A,S,N,E,P,Z){var V=[i(a(i(S,x),Z),a(i(N,v),P)),i(a(i(N,v),E),a(i(A,b),Z)),i(a(i(A,b),P),a(i(S,x),E))];V=d(n(n(a(V[0],V[0]),a(V[1],V[1])),a(V[2],V[2])));var U=d(n(n(a(E,E),a(P,P)),a(Z,Z)));return o(V,U)}function M(b,x){for(var v=b.length,A=0,S=0,N=0;N<v;N++)S=i(b[N],x[N]),A=n(a(S,S),A);return d(A)}}),sg="stirlingS2",U9=W(sg,["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],function(t){var n=t.addScalar,i=t.subtract,a=t.multiplyScalar,o=t.divideScalar,c=t.pow,d=t.factorial,s=t.combinations,p=t.isNegative,l=t.isInteger,u=t.larger;return(0,t.typed)(sg,{"number | BigNumber, number | BigNumber":function(g,f){if(!l(g)||p(g)||!l(f)||p(f))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(u(f,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var h=d(f),w=0,y=0;y<=f;y++){var M=c(-1,i(f,y)),_=s(f,y),b=c(y,g);w=n(w,a(a(_,b),M))}return o(w,h)}})}),cg="catalan",F9=W(cg,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],function(t){var n=t.addScalar,i=t.divideScalar,a=t.multiplyScalar,o=t.combinations,c=t.isNegative,d=t.isInteger;return(0,t.typed)(cg,{"number | BigNumber":function(p){if(!d(p)||c(p))throw new TypeError("Non-negative integer value expected in function catalan");return i(o(a(p,2),p),n(p,1))}})}),H9=W("log",["config","typed","divideScalar","Complex"],function(t){var n=t.config,i=t.divideScalar,a=t.Complex;return(0,t.typed)("log",{number:function(c){return c>=0||n.predictable?zd(c):new a(c,0).log()},Complex:function(c){return c.log()},BigNumber:function(c){return!c.isNegative()||n.predictable?c.ln():new a(c.toNumber(),0).log()},"Array | Matrix":function(c){return We(c,this)},"any, any":function(c,d){return i(this(c),this(d))}})}),lg="dotDivide",V9=W(lg,["typed","matrix","equalScalar","divideScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.equalScalar,a=t.divideScalar,o=t.DenseMatrix,c=Ir({typed:r,equalScalar:i}),d=nr({typed:r}),s=Rr({typed:r,DenseMatrix:o}),p=Bn({typed:r,equalScalar:i}),l=rr({typed:r,DenseMatrix:o}),u=Xt({typed:r}),m=zt({typed:r});return r(lg,{"any, any":a,"SparseMatrix, SparseMatrix":function(f,h){return s(f,h,a,!1)},"SparseMatrix, DenseMatrix":function(f,h){return c(h,f,a,!0)},"DenseMatrix, SparseMatrix":function(f,h){return d(f,h,a,!1)},"DenseMatrix, DenseMatrix":function(f,h){return u(f,h,a)},"Array, Array":function(f,h){return this(n(f),n(h)).valueOf()},"Array, Matrix":function(f,h){return this(n(f),h)},"Matrix, Array":function(f,h){return this(f,n(h))},"SparseMatrix, any":function(f,h){return p(f,h,a,!1)},"DenseMatrix, any":function(f,h){return m(f,h,a,!1)},"any, SparseMatrix":function(f,h){return l(h,f,a,!0)},"any, DenseMatrix":function(f,h){return m(h,f,a,!0)},"Array, any":function(f,h){return m(n(f),h,a,!1).valueOf()},"any, Array":function(f,h){return m(n(h),f,a,!0).valueOf()}})});function dg(t){return function $9(t){if(Array.isArray(t))return Ac(t)}(t)||function Y9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function W9(t,r){if(t){if("string"==typeof t)return Ac(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(t,r)}}(t)||function J9(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}var pg="usolveAll",G9=W(pg,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.divideScalar,a=t.multiplyScalar,o=t.subtract,c=t.equalScalar,d=t.DenseMatrix,s=Co({DenseMatrix:d});return r(pg,{"SparseMatrix, Array | Matrix":function(m,g){return function l(u,m){for(var g=[s(u,m,!0)._data.map(function(ye){return ye[0]})],f=u._size[0],w=u._values,y=u._index,M=u._ptr,_=u._size[1]-1;_>=0;_--)for(var b=g.length,x=0;x<b;x++){for(var v=g[x],A=[],S=[],N=M[_],P=0,Z=M[_+1]-1;Z>=N;Z--){var V=y[Z];V===_?P=w[Z]:V<_&&(A.push(w[Z]),S.push(V))}if(c(P,0))if(c(v[_],0)){if(0===x){var O=dg(v);O[_]=1;for(var X=0,D=S.length;X<D;X++){var de=S[X];O[de]=o(O[de],A[X])}g.push(O)}}else{if(0===x)return[];g.splice(x,1),x-=1,b-=1}else{v[_]=i(v[_],P);for(var U=0,j=S.length;U<j;U++){var B=S[U];v[B]=o(v[B],a(v[_],A[U]))}}}return g.map(function(ye){return new d({data:ye.map(function(Oe){return[Oe]}),size:[f,1]})})}(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return p(m,g)},"Array, Array | Matrix":function(m,g){return p(n(m),g).map(function(w){return w.valueOf()})}});function p(u,m){for(var g=[s(u,m,!0)._data.map(function(S){return S[0]})],f=u._data,h=u._size[0],y=u._size[1]-1;y>=0;y--)for(var M=g.length,_=0;_<M;_++){var b=g[_];if(c(f[y][y],0))if(c(b[y],0)){if(0===_){var v=dg(b);v[y]=1;for(var A=y-1;A>=0;A--)v[A]=o(v[A],f[A][y]);g.push(v)}}else{if(0===_)return[];g.splice(_,1),_-=1,M-=1}else{b[y]=i(b[y],f[y][y]);for(var x=y-1;x>=0;x--)b[x]=o(b[x],a(b[y],f[x][y]))}}return g.map(function(S){return new d({data:S.map(function(N){return[N]}),size:[h,1]})})}}),X9=W("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],function(t){var n=t.abs,i=t.addScalar,a=t.divideScalar,o=t.multiplyScalar,c=t.sqrt,d=t.smaller,s=t.isPositive;return(0,t.typed)("hypot",{"... number | BigNumber":function p(l){for(var u=0,m=0,g=0;g<l.length;g++){var f=n(l[g]);d(m,f)?(u=o(u,o(a(m,f),a(m,f))),u=i(u,1),m=f):u=i(u,s(f)?o(a(f,m),a(f,m)):f)}return o(m,c(u))},Array:function(u){return this.apply(this,Zt(u))},Matrix:function(u){return this.apply(this,Zt(u.toArray()))}})});function Tc(){return Tc=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tc.apply(this,arguments)}var tk=W("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],function(t){var n=t.matrix,i=t.zeros,a=t.identity,o=t.isZero,c=t.equal,d=t.sign,s=t.sqrt,p=t.conj,l=t.unaryMinus,u=t.addScalar,m=t.divideScalar,g=t.multiplyScalar,f=t.subtract,h=t.complex;return Tc((0,t.typed)("qr",{DenseMatrix:function(b){return y(b)},SparseMatrix:function(b){return function M(_){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(b){var v=y(n(b));return{Q:v.Q.valueOf(),R:v.R.valueOf()}}}),{_denseQRimpl:w});function w(_){var E,P,Z,b=_._size[0],x=_._size[1],v=a([b],"dense"),A=v._data,S=_.clone(),N=S._data,V=i([b],"");for(Z=0;Z<Math.min(x,b);++Z){var U=N[Z][Z],j=l(c(U,0)?1:d(U)),B=p(j),O=0;for(E=Z;E<b;E++)O=u(O,g(N[E][Z],p(N[E][Z])));var X=g(j,s(O));if(!o(X)){var D=f(U,X);for(V[Z]=1,E=Z+1;E<b;E++)V[E]=m(N[E][Z],D);var de=l(p(m(D,X))),ye=void 0;for(P=Z;P<x;P++){for(ye=0,E=Z;E<b;E++)ye=u(ye,g(p(V[E]),N[E][P]));for(ye=g(ye,de),E=Z;E<b;E++)N[E][P]=g(f(N[E][P],g(V[E],ye)),B)}for(E=0;E<b;E++){for(ye=0,P=Z;P<b;P++)ye=u(ye,g(A[E][P],V[P]));for(ye=g(ye,de),P=Z;P<b;++P)A[E][P]=m(f(A[E][P],g(ye,p(V[P]))),B)}}}return{Q:v,R:S,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(_){var b=w(_),x=b.R._data;if(_._data.length>0)for(var v="Complex"===x[0][0].type?h(0):0,A=0;A<x.length;++A)for(var S=0;S<A&&S<(x[0]||[]).length;++S)x[A][S]=v;return b}}),rk=W("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],function(t){var n=t.matrix,i=t.divideScalar,a=t.addScalar,o=t.multiply,c=t.unaryMinus,d=t.det,s=t.identity,p=t.abs;return(0,t.typed)("inv",{"Array | Matrix":function(m){var g=wt(m)?m.size():kt(m);switch(g.length){case 1:if(1===g[0])return wt(m)?n([i(1,m.valueOf()[0])]):[i(1,m[0])];throw new RangeError("Matrix must be square (size: "+Nt(g)+")");case 2:var f=g[0],h=g[1];if(f===h)return wt(m)?n(l(m.valueOf(),f,h),m.storage()):l(m,f,h);throw new RangeError("Matrix must be square (size: "+Nt(g)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(g)+")")}},any:function(m){return i(1,m)}});function l(u,m,g){var f,h,w,y,M;if(1===m){if(0===(y=u[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,y)]]}if(2===m){var _=d(u);if(0===_)throw Error("Cannot calculate inverse, determinant is zero");return[[i(u[1][1],_),i(c(u[0][1]),_)],[i(c(u[1][0]),_),i(u[0][0],_)]]}var b=u.concat();for(f=0;f<m;f++)b[f]=b[f].concat();for(var x=s(m).valueOf(),v=0;v<g;v++){var A=p(b[v][v]),S=v;for(f=v+1;f<m;)p(b[f][v])>A&&(A=p(b[f][v]),S=f),f++;if(0===A)throw Error("Cannot calculate inverse, determinant is zero");(f=S)!==v&&(M=b[v],b[v]=b[f],b[f]=M,M=x[v],x[v]=x[f],x[f]=M);var N=b[v],E=x[v];for(f=0;f<m;f++){var P=b[f],Z=x[f];if(f!==v){if(0!==P[v]){for(w=i(c(P[v]),N[v]),h=v;h<g;h++)P[h]=a(P[h],o(w,N[h]));for(h=0;h<g;h++)Z[h]=a(Z[h],o(w,E[h]))}}else{for(w=N[v],h=v;h<g;h++)P[h]=i(P[h],w);for(h=0;h<g;h++)Z[h]=i(Z[h],w)}}}return x}}),ak=W("expm",["typed","abs","add","identity","inv","multiply"],function(t){var n=t.abs,i=t.add,a=t.identity,o=t.inv,c=t.multiply;return(0,t.typed)("expm",{Matrix:function(u){var m=u.size();if(2!==m.length||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+Nt(m)+")");for(var g=m[0],h=function d(l){for(var u=l.size()[0],m=0,g=0;g<u;g++){for(var f=0,h=0;h<u;h++)f+=n(l.get([g,h]));m=Math.max(f,m)}return m}(u),w=function s(l,u){for(var g=0;g<30;g++)for(var f=0;f<=g;f++){var h=g-f;if(p(l,f,h)<u)return{q:f,j:h}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(h,1e-15),y=w.q,M=w.j,_=c(u,Math.pow(2,-M)),b=a(g),x=a(g),v=1,A=_,S=-1,N=1;N<=y;N++)N>1&&(A=c(A,_),S=-S),b=i(b,c(v=v*(y-N+1)/((2*y-N+1)*N),A)),x=i(x,c(v*S,A));for(var E=c(o(x),b),P=0;P<M;P++)E=c(E,E);return Yi(u)?u.createSparseMatrix(E):E}});function p(l,u,m){for(var g=1,f=2;f<=u;f++)g*=f;for(var h=g,w=u+1;w<=2*u;w++)h*=w;var y=h*(2*u+1);return 8*Math.pow(l/Math.pow(2,m),2*u)*g*g/(h*y)}}),ck=W("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],function(t){var r=t.typed,n=t.matrix,i=t.multiply,o=t.divideScalar,c=t.inv,d=Bn({typed:r,equalScalar:t.equalScalar}),s=zt({typed:r});return r("divide",jo({"Array | Matrix, Array | Matrix":function(l,u){return i(l,c(u))},"DenseMatrix, any":function(l,u){return s(l,u,o,!1)},"SparseMatrix, any":function(l,u){return d(l,u,o,!1)},"Array, any":function(l,u){return s(n(l),u,o,!1).valueOf()},"any, Array | Matrix":function(l,u){return i(l,c(u))}},o.signatures))}),vg="kldivergence",lk=W(vg,["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],function(t){var n=t.matrix,i=t.divide,a=t.sum,o=t.multiply,c=t.dotDivide,d=t.log,s=t.isNumeric;return(0,t.typed)(vg,{"Array, Array":function(u,m){return p(n(u),n(m))},"Matrix, Array":function(u,m){return p(u,n(m))},"Array, Matrix":function(u,m){return p(n(u),m)},"Matrix, Matrix":function(u,m){return p(u,m)}});function p(l,u){var m=u.size().length,g=l.size().length;if(m>1)throw new Error("first object must be one dimensional");if(g>1)throw new Error("second object must be one dimensional");if(m!==g)throw new Error("Length of two vectors must be equal");if(0===a(l))throw new Error("Sum of elements in first object must be non zero");if(0===a(u))throw new Error("Sum of elements in second object must be non zero");var w=i(l,a(l)),y=i(u,a(u)),M=a(o(w,d(c(w,y))));return s(M)?M:Number.NaN}}),_g="bellNumbers",pk=W(_g,["typed","addScalar","isNegative","isInteger","stirlingS2"],function(t){var n=t.addScalar,i=t.isNegative,a=t.isInteger,o=t.stirlingS2;return(0,t.typed)(_g,{"number | BigNumber":function(d){if(!a(d)||i(d))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var s=0,p=0;p<=d;p++)s=n(s,o(d,p));return s}})}),fk=W("log1p",["typed","config","divideScalar","log","Complex"],function(t){var n=t.config,i=t.divideScalar,a=t.log,o=t.Complex;return(0,t.typed)("log1p",{number:function(s){return s>=-1||n.predictable?ol(s):c(new o(s,0))},Complex:c,BigNumber:function(s){var p=s.plus(1);return!p.isNegative()||n.predictable?p.ln():c(new o(s.toNumber(),0))},"Array | Matrix":function(s){return We(s,this)},"any, any":function(s,p){return i(this(s),a(p))}});function c(d){var s=d.re+1;return new o(Math.log(Math.sqrt(s*s+d.im*d.im)),Math.atan2(d.im,s))}});function Mo(t){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function So(){return So=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},So.apply(this,arguments)}function yg(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Ic(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?yg(Object(n),!0).forEach(function(i){gk(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gk(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var _k=W("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],function(t){var b,x,v,r=t.on,n=t.config,i=t.addScalar,a=t.subtract,o=t.multiplyScalar,c=t.divideScalar,d=t.pow,s=t.abs,p=t.fix,l=t.round,u=t.equal,m=t.isNumeric,g=t.format,h=t.Complex,w=t.BigNumber,y=t.Fraction,M=t.number;function _(G,ie){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=G&&!m(G)&&!yi(G))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==ie&&("string"!=typeof ie||""===ie))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==ie){var Pe=_.parse(ie);this.units=Pe.units,this.dimensions=Pe.dimensions}else{this.units=[{unit:Oe,prefix:O.NONE,power:0}],this.dimensions=[];for(var Ie=0;Ie<X.length;Ie++)this.dimensions[Ie]=0}this.value=null!=G?this._normalize(G):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function A(){for(;" "===v||"\t"===v;)E()}function N(G){return G>="0"&&G<="9"}function E(){x++,v=b.charAt(x)}function P(G){v=b.charAt(x=G)}function Z(){var G="",ie=x;if("+"===v?E():"-"===v&&(G+=v,E()),!function S(G){return G>="0"&&G<="9"||"."===G}(v))return P(ie),null;if("."===v){if(G+=v,E(),!N(v))return P(ie),null}else{for(;N(v);)G+=v,E();"."===v&&(G+=v,E())}for(;N(v);)G+=v,E();if("E"===v||"e"===v){var Pe="",Ie=x;if(Pe+=v,E(),("+"===v||"-"===v)&&(Pe+=v,E()),!N(v))return P(Ie),G;for(G+=Pe;N(v);)G+=v,E()}return G}function V(){for(var G="";N(v)||_.isValidAlpha(v);)G+=v,E();var ie=G.charAt(0);return _.isValidAlpha(ie)?G:null}function U(G){return v===G?(E(),G):null}function j(G){if(Ge(oe,G)){var ie=oe[G];return{unit:ie,prefix:ie.prefixes[""]}}for(var Ie in oe)if(Ge(oe,Ie)&&pb(G,Ie)){var He=oe[Ie],it=G.substring(0,G.length-Ie.length),Mt=Ge(He.prefixes,it)?He.prefixes[it]:void 0;if(void 0!==Mt)return{unit:He,prefix:Mt}}return null}function B(G){return G.equalBase(D.NONE)&&null!==G.value&&!n.predictable?G.value:G}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(G,ie){if(ie=ie||{},x=-1,v="","string"!=typeof(b=G))throw new TypeError("Invalid argument in Unit.parse, string expected");var Pe=new _;Pe.units=[];var Ie=1,He=!1;E(),A();var Ve=Z(),it=null;if(Ve){if("BigNumber"===n.number)it=new w(Ve);else if("Fraction"===n.number)try{it=new y(Ve)}catch{it=parseFloat(Ve)}else it=parseFloat(Ve);A(),U("*")?(Ie=1,He=!0):U("/")&&(Ie=-1,He=!0)}for(var Mt=[],bt=1;;){for(A();"("===v;)Mt.push(Ie),bt*=Ie,Ie=1,E(),A();var Fn;if(!v)break;var hn=v;if(null===(Fn=V()))throw new SyntaxError('Unexpected "'+hn+'" in "'+b+'" at index '+x.toString());var jn=j(Fn);if(null===jn)throw new SyntaxError('Unit "'+Fn+'" not found.');var ar=Ie*bt;if(A(),U("^")){A();var Di=Z();if(null===Di)throw new SyntaxError('In "'+G+'", "^" must be followed by a floating-point number');ar*=Di}Pe.units.push({unit:jn.unit,prefix:jn.prefix,power:ar});for(var Qr=0;Qr<X.length;Qr++)Pe.dimensions[Qr]+=(jn.unit.dimensions[Qr]||0)*ar;for(A();")"===v;){if(0===Mt.length)throw new SyntaxError('Unmatched ")" in "'+b+'" at index '+x.toString());bt/=Mt.pop(),E(),A()}He=!1,U("*")?(Ie=1,He=!0):U("/")?(Ie=-1,He=!0):Ie=1,jn.unit.base&&(le.auto[jn.unit.base.key]={unit:jn.unit,prefix:jn.prefix})}if(A(),v)throw new SyntaxError('Could not parse: "'+G+'"');if(He)throw new SyntaxError('Trailing characters: "'+G+'"');if(0!==Mt.length)throw new SyntaxError('Unmatched "(" in "'+b+'"');if(0===Pe.units.length&&!ie.allowNoUnits)throw new SyntaxError('"'+G+'" contains no units');return Pe.value=void 0!==it?Pe._normalize(it):null,Pe},_.prototype.clone=function(){var G=new _;G.fixPrefix=this.fixPrefix,G.skipAutomaticSimplification=this.skipAutomaticSimplification,G.value=ut(this.value),G.dimensions=this.dimensions.slice(0),G.units=[];for(var ie=0;ie<this.units.length;ie++)for(var Pe in G.units[ie]={},this.units[ie])Ge(this.units[ie],Pe)&&(G.units[ie][Pe]=this.units[ie][Pe]);return G},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(G){var ie,Pe,Ie,He,Ve;if(null==G||0===this.units.length)return G;if(this._isDerived()){var it=G;Ve=_._getNumberConverter(rn(G));for(var Mt=0;Mt<this.units.length;Mt++)ie=Ve(this.units[Mt].unit.value),He=Ve(this.units[Mt].prefix.value),Ie=Ve(this.units[Mt].power),it=o(it,d(o(ie,He),Ie));return it}return ie=(Ve=_._getNumberConverter(rn(G)))(this.units[0].unit.value),Pe=Ve(this.units[0].unit.offset),He=Ve(this.units[0].prefix.value),o(i(G,Pe),o(ie,He))},_.prototype._denormalize=function(G,ie){var Pe,Ie,He,Ve,it;if(null==G||0===this.units.length)return G;if(this._isDerived()){var Mt=G;it=_._getNumberConverter(rn(G));for(var bt=0;bt<this.units.length;bt++)Pe=it(this.units[bt].unit.value),Ve=it(this.units[bt].prefix.value),He=it(this.units[bt].power),Mt=c(Mt,d(o(Pe,Ve),He));return Mt}return Pe=(it=_._getNumberConverter(rn(G)))(this.units[0].unit.value),Ve=it(this.units[0].prefix.value),Ie=it(this.units[0].unit.offset),a(c(c(G,Pe),ie??Ve),Ie)},_.isValuelessUnit=function(G){return null!==j(G)},_.prototype.hasBase=function(G){if("string"==typeof G&&(G=D[G]),!G)return!1;for(var ie=0;ie<X.length;ie++)if(Math.abs((this.dimensions[ie]||0)-(G.dimensions[ie]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(G){for(var ie=0;ie<X.length;ie++)if(Math.abs((this.dimensions[ie]||0)-(G.dimensions[ie]||0))>1e-12)return!1;return!0},_.prototype.equals=function(G){return this.equalBase(G)&&u(this.value,G.value)},_.prototype.multiply=function(G){for(var ie=this.clone(),Pe=0;Pe<X.length;Pe++)ie.dimensions[Pe]=(this.dimensions[Pe]||0)+(G.dimensions[Pe]||0);for(var Ie=0;Ie<G.units.length;Ie++){var He=Ic({},G.units[Ie]);ie.units.push(He)}if(null!==this.value||null!==G.value){var Ve=null===this.value?this._normalize(1):this.value,it=null===G.value?G._normalize(1):G.value;ie.value=o(Ve,it)}else ie.value=null;return ie.skipAutomaticSimplification=!1,B(ie)},_.prototype.divide=function(G){for(var ie=this.clone(),Pe=0;Pe<X.length;Pe++)ie.dimensions[Pe]=(this.dimensions[Pe]||0)-(G.dimensions[Pe]||0);for(var Ie=0;Ie<G.units.length;Ie++){var He=Ic(Ic({},G.units[Ie]),{},{power:-G.units[Ie].power});ie.units.push(He)}if(null!==this.value||null!==G.value){var Ve=null===this.value?this._normalize(1):this.value,it=null===G.value?G._normalize(1):G.value;ie.value=c(Ve,it)}else ie.value=null;return ie.skipAutomaticSimplification=!1,B(ie)},_.prototype.pow=function(G){for(var ie=this.clone(),Pe=0;Pe<X.length;Pe++)ie.dimensions[Pe]=(this.dimensions[Pe]||0)*G;for(var Ie=0;Ie<ie.units.length;Ie++)ie.units[Ie].power*=G;return ie.value=null!==ie.value?d(ie.value,G):null,ie.skipAutomaticSimplification=!1,B(ie)},_.prototype.abs=function(){var G=this.clone();for(var ie in G.value=null!==G.value?s(G.value):null,G.units)("VA"===G.units[ie].unit.name||"VAR"===G.units[ie].unit.name)&&(G.units[ie].unit=oe.W);return G},_.prototype.to=function(G){var ie,Pe=null===this.value?this._normalize(1):this.value;if("string"==typeof G){if(ie=_.parse(G),!this.equalBase(ie))throw new Error("Units do not match ('".concat(ie.toString(),"' != '").concat(this.toString(),"')"));if(null!==ie.value)throw new Error("Cannot convert to a unit with a value");return ie.value=ut(Pe),ie.fixPrefix=!0,ie.skipAutomaticSimplification=!0,ie}if(co(G)){if(!this.equalBase(G))throw new Error("Units do not match ('".concat(G.toString(),"' != '").concat(this.toString(),"')"));if(null!==G.value)throw new Error("Cannot convert to a unit with a value");return(ie=G.clone()).value=ut(Pe),ie.fixPrefix=!0,ie.skipAutomaticSimplification=!0,ie}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(G){return M(this.toNumeric(G))},_.prototype.toNumeric=function(G){var ie;return(ie=G?this.to(G):this.clone())._isDerived()||0===ie.units.length?ie._denormalize(ie.value):ie._denormalize(ie.value,ie.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(G){var ie=new _(G.value,G.unit);return ie.fixPrefix=G.fixPrefix||!1,ie},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var Pe,He,G=this.clone(),ie=[];for(var Ie in pe)if(Ge(pe,Ie)&&G.hasBase(D[Ie])){Pe=Ie;break}if("NONE"===Pe)G.units=[];else if(Pe&&Ge(pe,Pe)&&(He=pe[Pe]),He)G.units=[{unit:He.unit,prefix:He.prefix,power:1}];else{for(var Ve=!1,it=0;it<X.length;it++){var Mt=X[it];Math.abs(G.dimensions[it]||0)>1e-12&&(Ge(pe,Mt)?ie.push({unit:pe[Mt].unit,prefix:pe[Mt].prefix,power:G.dimensions[it]||0}):Ve=!0)}ie.length<G.units.length&&!Ve&&(G.units=ie)}return G},_.prototype.toSI=function(){for(var G=this.clone(),ie=[],Pe=0;Pe<X.length;Pe++){var Ie=X[Pe];if(Math.abs(G.dimensions[Pe]||0)>1e-12){if(!Ge(le.si,Ie))throw new Error("Cannot express custom unit "+Ie+" in SI units");ie.push({unit:le.si[Ie].unit,prefix:le.si[Ie].prefix,power:G.dimensions[Pe]||0})}}return G.units=ie,G.fixPrefix=!0,G.skipAutomaticSimplification=!0,G},_.prototype.formatUnits=function(){for(var G="",ie="",Pe=0,Ie=0,He=0;He<this.units.length;He++)this.units[He].power>0?(Pe++,G+=" "+this.units[He].prefix.name+this.units[He].unit.name,Math.abs(this.units[He].power-1)>1e-15&&(G+="^"+this.units[He].power)):this.units[He].power<0&&Ie++;if(Ie>0)for(var Ve=0;Ve<this.units.length;Ve++)this.units[Ve].power<0&&(Pe>0?(ie+=" "+this.units[Ve].prefix.name+this.units[Ve].unit.name,Math.abs(this.units[Ve].power+1)>1e-15&&(ie+="^"+-this.units[Ve].power)):(ie+=" "+this.units[Ve].prefix.name+this.units[Ve].unit.name,ie+="^"+this.units[Ve].power));G=G.substr(1),ie=ie.substr(1),Pe>1&&Ie>0&&(G="("+G+")"),Ie>1&&Pe>0&&(ie="("+ie+")");var it=G;return Pe>0&&Ie>0&&(it+=" / "),it+ie},_.prototype.format=function(G){var ie=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),Pe=!1;for(var Ie in typeof ie.value<"u"&&null!==ie.value&&yi(ie.value)&&(Pe=Math.abs(ie.value.re)<1e-14),ie.units)Ge(ie.units,Ie)&&ie.units[Ie].unit&&("VA"===ie.units[Ie].unit.name&&Pe?ie.units[Ie].unit=oe.VAR:"VAR"===ie.units[Ie].unit.name&&!Pe&&(ie.units[Ie].unit=oe.VA));1===ie.units.length&&!ie.fixPrefix&&Math.abs(ie.units[0].power-Math.round(ie.units[0].power))<1e-14&&(ie.units[0].prefix=ie._bestPrefix());var He=ie._denormalize(ie.value),Ve=null!==ie.value?g(He,G||{}):"",it=ie.formatUnits();return ie.value&&yi(ie.value)&&(Ve="("+Ve+")"),it.length>0&&Ve.length>0&&(Ve+=" "),Ve+it},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var G=null!==this.value?s(this.value):0,ie=s(this.units[0].unit.value),Pe=this.units[0].prefix;if(0===G)return Pe;var Ie=this.units[0].power,He=Math.log(G/Math.pow(Pe.value*ie,Ie))/Math.LN10-1.2;if(He>-2.200001&&He<1.800001)return Pe;He=Math.abs(He);var Ve=this.units[0].unit.prefixes;for(var it in Ve)if(Ge(Ve,it)){var Mt=Ve[it];if(Mt.scientific){var bt=Math.abs(Math.log(G/Math.pow(Mt.value*ie,Ie))/Math.LN10-1.2);(bt<He||bt===He&&Mt.name.length<Pe.name.length)&&(Pe=Mt,He=bt)}}return Pe},_.prototype.splitUnit=function(G){for(var ie=this.clone(),Pe=[],Ie=0;Ie<G.length&&(ie=ie.to(G[Ie]),Ie!==G.length-1);Ie++){var He=ie.toNumeric(),Ve=l(He),bt=new _(u(Ve,He)?Ve:p(ie.toNumeric()),G[Ie].toString());Pe.push(bt),ie=a(ie,bt)}for(var Fn=0,hn=0;hn<Pe.length;hn++)Fn=i(Fn,Pe[hn].value);return u(Fn,this.value)&&(ie.value=0),Pe.push(ie),Pe};var O={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};O.SHORTLONG=So({},O.SHORT,O.LONG),O.BINARY_SHORT=So({},O.BINARY_SHORT_SI,O.BINARY_SHORT_IEC),O.BINARY_LONG=So({},O.BINARY_LONG_SI,O.BINARY_LONG_IEC);var X=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],D={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var de in D)Ge(D,de)&&(D[de].key=de);var Oe={name:"",base:{},value:1,offset:0,dimensions:X.map(function(G){return 0})},oe={meter:{name:"meter",base:D.LENGTH,prefixes:O.LONG,value:1,offset:0},inch:{name:"inch",base:D.LENGTH,prefixes:O.NONE,value:.0254,offset:0},foot:{name:"foot",base:D.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yard:{name:"yard",base:D.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mile:{name:"mile",base:D.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},link:{name:"link",base:D.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rod:{name:"rod",base:D.LENGTH,prefixes:O.NONE,value:5.0292,offset:0},chain:{name:"chain",base:D.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:D.LENGTH,prefixes:O.NONE,value:1e-10,offset:0},m:{name:"m",base:D.LENGTH,prefixes:O.SHORT,value:1,offset:0},in:{name:"in",base:D.LENGTH,prefixes:O.NONE,value:.0254,offset:0},ft:{name:"ft",base:D.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yd:{name:"yd",base:D.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mi:{name:"mi",base:D.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},li:{name:"li",base:D.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rd:{name:"rd",base:D.LENGTH,prefixes:O.NONE,value:5.02921,offset:0},ch:{name:"ch",base:D.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},mil:{name:"mil",base:D.LENGTH,prefixes:O.NONE,value:254e-7,offset:0},m2:{name:"m2",base:D.SURFACE,prefixes:O.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:D.SURFACE,prefixes:O.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:D.SURFACE,prefixes:O.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:D.SURFACE,prefixes:O.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:D.SURFACE,prefixes:O.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:D.SURFACE,prefixes:O.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:D.SURFACE,prefixes:O.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:D.SURFACE,prefixes:O.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:D.SURFACE,prefixes:O.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:D.SURFACE,prefixes:O.NONE,value:1e4,offset:0},m3:{name:"m3",base:D.VOLUME,prefixes:O.CUBIC,value:1,offset:0},L:{name:"L",base:D.VOLUME,prefixes:O.SHORT,value:.001,offset:0},l:{name:"l",base:D.VOLUME,prefixes:O.SHORT,value:.001,offset:0},litre:{name:"litre",base:D.VOLUME,prefixes:O.LONG,value:.001,offset:0},cuin:{name:"cuin",base:D.VOLUME,prefixes:O.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:D.VOLUME,prefixes:O.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:D.VOLUME,prefixes:O.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:D.VOLUME,prefixes:O.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:D.VOLUME,prefixes:O.NONE,value:15e-6,offset:0},drop:{name:"drop",base:D.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:D.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},minim:{name:"minim",base:D.VOLUME,prefixes:O.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:D.VOLUME,prefixes:O.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:D.VOLUME,prefixes:O.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:D.VOLUME,prefixes:O.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:D.VOLUME,prefixes:O.NONE,value:1e-6,offset:0},cup:{name:"cup",base:D.VOLUME,prefixes:O.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:D.VOLUME,prefixes:O.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:D.VOLUME,prefixes:O.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:D.VOLUME,prefixes:O.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:D.VOLUME,prefixes:O.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:D.VOLUME,prefixes:O.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:D.VOLUME,prefixes:O.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:D.VOLUME,prefixes:O.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:D.VOLUME,prefixes:O.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:D.VOLUME,prefixes:O.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:D.VOLUME,prefixes:O.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:D.VOLUME,prefixes:O.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:D.VOLUME,prefixes:O.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:D.VOLUME,prefixes:O.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:D.VOLUME,prefixes:O.NONE,value:.1173478,offset:0},obl:{name:"obl",base:D.VOLUME,prefixes:O.NONE,value:.1589873,offset:0},g:{name:"g",base:D.MASS,prefixes:O.SHORT,value:.001,offset:0},gram:{name:"gram",base:D.MASS,prefixes:O.LONG,value:.001,offset:0},ton:{name:"ton",base:D.MASS,prefixes:O.SHORT,value:907.18474,offset:0},t:{name:"t",base:D.MASS,prefixes:O.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:D.MASS,prefixes:O.LONG,value:1e3,offset:0},grain:{name:"grain",base:D.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:D.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:D.MASS,prefixes:O.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:D.MASS,prefixes:O.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:D.MASS,prefixes:O.NONE,value:45.359237,offset:0},stick:{name:"stick",base:D.MASS,prefixes:O.NONE,value:.115,offset:0},stone:{name:"stone",base:D.MASS,prefixes:O.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:D.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:D.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:D.MASS,prefixes:O.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:D.MASS,prefixes:O.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:D.MASS,prefixes:O.NONE,value:45.359237,offset:0},s:{name:"s",base:D.TIME,prefixes:O.SHORT,value:1,offset:0},min:{name:"min",base:D.TIME,prefixes:O.NONE,value:60,offset:0},h:{name:"h",base:D.TIME,prefixes:O.NONE,value:3600,offset:0},second:{name:"second",base:D.TIME,prefixes:O.LONG,value:1,offset:0},sec:{name:"sec",base:D.TIME,prefixes:O.LONG,value:1,offset:0},minute:{name:"minute",base:D.TIME,prefixes:O.NONE,value:60,offset:0},hour:{name:"hour",base:D.TIME,prefixes:O.NONE,value:3600,offset:0},day:{name:"day",base:D.TIME,prefixes:O.NONE,value:86400,offset:0},week:{name:"week",base:D.TIME,prefixes:O.NONE,value:604800,offset:0},month:{name:"month",base:D.TIME,prefixes:O.NONE,value:2629800,offset:0},year:{name:"year",base:D.TIME,prefixes:O.NONE,value:31557600,offset:0},decade:{name:"decade",base:D.TIME,prefixes:O.NONE,value:315576e3,offset:0},century:{name:"century",base:D.TIME,prefixes:O.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:D.TIME,prefixes:O.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:D.FREQUENCY,prefixes:O.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:D.FREQUENCY,prefixes:O.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:D.ANGLE,prefixes:O.SHORT,value:1,offset:0},radian:{name:"radian",base:D.ANGLE,prefixes:O.LONG,value:1,offset:0},deg:{name:"deg",base:D.ANGLE,prefixes:O.SHORT,value:null,offset:0},degree:{name:"degree",base:D.ANGLE,prefixes:O.LONG,value:null,offset:0},grad:{name:"grad",base:D.ANGLE,prefixes:O.SHORT,value:null,offset:0},gradian:{name:"gradian",base:D.ANGLE,prefixes:O.LONG,value:null,offset:0},cycle:{name:"cycle",base:D.ANGLE,prefixes:O.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:D.ANGLE,prefixes:O.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:D.ANGLE,prefixes:O.NONE,value:null,offset:0},A:{name:"A",base:D.CURRENT,prefixes:O.SHORT,value:1,offset:0},ampere:{name:"ampere",base:D.CURRENT,prefixes:O.LONG,value:1,offset:0},K:{name:"K",base:D.TEMPERATURE,prefixes:O.NONE,value:1,offset:0},degC:{name:"degC",base:D.TEMPERATURE,prefixes:O.NONE,value:1,offset:273.15},degF:{name:"degF",base:D.TEMPERATURE,prefixes:O.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:D.TEMPERATURE,prefixes:O.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:D.TEMPERATURE,prefixes:O.NONE,value:1,offset:0},celsius:{name:"celsius",base:D.TEMPERATURE,prefixes:O.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:D.TEMPERATURE,prefixes:O.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:D.TEMPERATURE,prefixes:O.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:D.AMOUNT_OF_SUBSTANCE,prefixes:O.SHORT,value:1,offset:0},mole:{name:"mole",base:D.AMOUNT_OF_SUBSTANCE,prefixes:O.LONG,value:1,offset:0},cd:{name:"cd",base:D.LUMINOUS_INTENSITY,prefixes:O.SHORT,value:1,offset:0},candela:{name:"candela",base:D.LUMINOUS_INTENSITY,prefixes:O.LONG,value:1,offset:0},N:{name:"N",base:D.FORCE,prefixes:O.SHORT,value:1,offset:0},newton:{name:"newton",base:D.FORCE,prefixes:O.LONG,value:1,offset:0},dyn:{name:"dyn",base:D.FORCE,prefixes:O.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:D.FORCE,prefixes:O.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:D.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:D.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:D.FORCE,prefixes:O.LONG,value:4448.2216,offset:0},J:{name:"J",base:D.ENERGY,prefixes:O.SHORT,value:1,offset:0},joule:{name:"joule",base:D.ENERGY,prefixes:O.SHORT,value:1,offset:0},erg:{name:"erg",base:D.ENERGY,prefixes:O.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:D.ENERGY,prefixes:O.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:D.ENERGY,prefixes:O.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:D.ENERGY,prefixes:O.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:D.ENERGY,prefixes:O.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:D.POWER,prefixes:O.SHORT,value:1,offset:0},watt:{name:"watt",base:D.POWER,prefixes:O.LONG,value:1,offset:0},hp:{name:"hp",base:D.POWER,prefixes:O.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:D.POWER,prefixes:O.SHORT,value:h.I,offset:0},VA:{name:"VA",base:D.POWER,prefixes:O.SHORT,value:1,offset:0},Pa:{name:"Pa",base:D.PRESSURE,prefixes:O.SHORT,value:1,offset:0},psi:{name:"psi",base:D.PRESSURE,prefixes:O.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:D.PRESSURE,prefixes:O.NONE,value:101325,offset:0},bar:{name:"bar",base:D.PRESSURE,prefixes:O.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:D.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:D.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:D.PRESSURE,prefixes:O.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:D.PRESSURE,prefixes:O.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:D.ELECTRIC_CHARGE,prefixes:O.LONG,value:1,offset:0},C:{name:"C",base:D.ELECTRIC_CHARGE,prefixes:O.SHORT,value:1,offset:0},farad:{name:"farad",base:D.ELECTRIC_CAPACITANCE,prefixes:O.LONG,value:1,offset:0},F:{name:"F",base:D.ELECTRIC_CAPACITANCE,prefixes:O.SHORT,value:1,offset:0},volt:{name:"volt",base:D.ELECTRIC_POTENTIAL,prefixes:O.LONG,value:1,offset:0},V:{name:"V",base:D.ELECTRIC_POTENTIAL,prefixes:O.SHORT,value:1,offset:0},ohm:{name:"ohm",base:D.ELECTRIC_RESISTANCE,prefixes:O.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:D.ELECTRIC_INDUCTANCE,prefixes:O.LONG,value:1,offset:0},H:{name:"H",base:D.ELECTRIC_INDUCTANCE,prefixes:O.SHORT,value:1,offset:0},siemens:{name:"siemens",base:D.ELECTRIC_CONDUCTANCE,prefixes:O.LONG,value:1,offset:0},S:{name:"S",base:D.ELECTRIC_CONDUCTANCE,prefixes:O.SHORT,value:1,offset:0},weber:{name:"weber",base:D.MAGNETIC_FLUX,prefixes:O.LONG,value:1,offset:0},Wb:{name:"Wb",base:D.MAGNETIC_FLUX,prefixes:O.SHORT,value:1,offset:0},tesla:{name:"tesla",base:D.MAGNETIC_FLUX_DENSITY,prefixes:O.LONG,value:1,offset:0},T:{name:"T",base:D.MAGNETIC_FLUX_DENSITY,prefixes:O.SHORT,value:1,offset:0},b:{name:"b",base:D.BIT,prefixes:O.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:D.BIT,prefixes:O.BINARY_LONG,value:1,offset:0},B:{name:"B",base:D.BIT,prefixes:O.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:D.BIT,prefixes:O.BINARY_LONG,value:8,offset:0}},Ae={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function je(G){if("BigNumber"===G.number){var ie=lc(w);oe.rad.value=new w(1),oe.deg.value=ie.div(180),oe.grad.value=ie.div(200),oe.cycle.value=ie.times(2),oe.arcsec.value=ie.div(648e3),oe.arcmin.value=ie.div(10800)}else oe.rad.value=1,oe.deg.value=Math.PI/180,oe.grad.value=Math.PI/200,oe.cycle.value=2*Math.PI,oe.arcsec.value=Math.PI/648e3,oe.arcmin.value=Math.PI/10800;oe.radian.value=oe.rad.value,oe.degree.value=oe.deg.value,oe.gradian.value=oe.grad.value}je(n),r&&r("config",function(G,ie){G.number!==ie.number&&je(G)});var le={si:{NONE:{unit:Oe,prefix:O.NONE[""]},LENGTH:{unit:oe.m,prefix:O.SHORT[""]},MASS:{unit:oe.g,prefix:O.SHORT.k},TIME:{unit:oe.s,prefix:O.SHORT[""]},CURRENT:{unit:oe.A,prefix:O.SHORT[""]},TEMPERATURE:{unit:oe.K,prefix:O.SHORT[""]},LUMINOUS_INTENSITY:{unit:oe.cd,prefix:O.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:oe.mol,prefix:O.SHORT[""]},ANGLE:{unit:oe.rad,prefix:O.SHORT[""]},BIT:{unit:oe.bits,prefix:O.SHORT[""]},FORCE:{unit:oe.N,prefix:O.SHORT[""]},ENERGY:{unit:oe.J,prefix:O.SHORT[""]},POWER:{unit:oe.W,prefix:O.SHORT[""]},PRESSURE:{unit:oe.Pa,prefix:O.SHORT[""]},ELECTRIC_CHARGE:{unit:oe.C,prefix:O.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:oe.F,prefix:O.SHORT[""]},ELECTRIC_POTENTIAL:{unit:oe.V,prefix:O.SHORT[""]},ELECTRIC_RESISTANCE:{unit:oe.ohm,prefix:O.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:oe.H,prefix:O.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:oe.S,prefix:O.SHORT[""]},MAGNETIC_FLUX:{unit:oe.Wb,prefix:O.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:oe.T,prefix:O.SHORT[""]},FREQUENCY:{unit:oe.Hz,prefix:O.SHORT[""]}}};le.cgs=JSON.parse(JSON.stringify(le.si)),le.cgs.LENGTH={unit:oe.m,prefix:O.SHORT.c},le.cgs.MASS={unit:oe.g,prefix:O.SHORT[""]},le.cgs.FORCE={unit:oe.dyn,prefix:O.SHORT[""]},le.cgs.ENERGY={unit:oe.erg,prefix:O.NONE[""]},le.us=JSON.parse(JSON.stringify(le.si)),le.us.LENGTH={unit:oe.ft,prefix:O.NONE[""]},le.us.MASS={unit:oe.lbm,prefix:O.NONE[""]},le.us.TEMPERATURE={unit:oe.degF,prefix:O.NONE[""]},le.us.FORCE={unit:oe.lbf,prefix:O.NONE[""]},le.us.ENERGY={unit:oe.BTU,prefix:O.BTU[""]},le.us.POWER={unit:oe.hp,prefix:O.NONE[""]},le.us.PRESSURE={unit:oe.psi,prefix:O.NONE[""]},le.auto=JSON.parse(JSON.stringify(le.si));var pe=le.auto;for(var we in _.setUnitSystem=function(G){if(!Ge(le,G))throw new Error("Unit system "+G+" does not exist. Choices are: "+Object.keys(le).join(", "));pe=le[G]},_.getUnitSystem=function(){for(var G in le)if(Ge(le,G)&&le[G]===pe)return G},_.typeConverters={BigNumber:function(ie){return new w(ie+"")},Fraction:function(ie){return new y(ie)},Complex:function(ie){return ie},number:function(ie){return ie}},_._getNumberConverter=function(G){if(!_.typeConverters[G])throw new TypeError('Unsupported type "'+G+'"');return _.typeConverters[G]},oe)if(Ge(oe,we)){var Me=oe[we];Me.dimensions=Me.base.dimensions}for(var Ze in Ae)if(Ge(Ae,Ze)){var Ke=oe[Ae[Ze]],lt={};for(var at in Ke)Ge(Ke,at)&&(lt[at]=Ke[at]);lt.name=Ze,oe[Ze]=lt}return _.isValidAlpha=function(ie){return/^[a-zA-Z]$/.test(ie)},_.createUnit=function(G,ie){if("object"!==Mo(G))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(ie&&ie.override)for(var Pe in G)if(Ge(G,Pe)&&_.deleteUnit(Pe),G[Pe].aliases)for(var Ie=0;Ie<G[Pe].aliases.length;Ie++)_.deleteUnit(G[Pe].aliases[Ie]);var He;for(var Ve in G)Ge(G,Ve)&&(He=_.createUnitSingle(Ve,G[Ve]));return He},_.createUnitSingle=function(G,ie,Pe){if((typeof ie>"u"||null===ie)&&(ie={}),"string"!=typeof G)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ge(oe,G))throw new Error('Cannot create unit "'+G+'": a unit with that name already exists');!function dt(G){for(var ie=0;ie<G.length;ie++){if(v=G.charAt(ie),0===ie&&!_.isValidAlpha(v))throw new Error('Invalid unit name (must begin with alpha character): "'+G+'"');if(ie>0&&!_.isValidAlpha(v)&&!N(v))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+G+'"')}}(G);var it,Mt,bt,Ie=null,He=[],Ve=0;if(ie&&"Unit"===ie.type)Ie=ie.clone();else if("string"==typeof ie)""!==ie&&(it=ie);else{if("object"!==Mo(ie))throw new TypeError('Cannot create unit "'+G+'" from "'+ie.toString()+'": expecting "string" or "Unit" or "Object"');it=ie.definition,Mt=ie.prefixes,Ve=ie.offset,bt=ie.baseName,ie.aliases&&(He=ie.aliases.valueOf())}if(He)for(var Fn=0;Fn<He.length;Fn++)if(Ge(oe,He[Fn]))throw new Error('Cannot create alias "'+He[Fn]+'": a unit with that name already exists');if(it&&"string"==typeof it&&!Ie)try{Ie=_.parse(it,{allowNoUnits:!0})}catch(re){throw re.message='Could not create unit "'+G+'" from "'+it+'": '+re.message,re}else it&&"Unit"===it.type&&(Ie=it.clone());He=He||[],Ve=Ve||0,Mt=Mt&&Mt.toUpperCase&&O[Mt.toUpperCase()]||O.NONE;var hn={};if(Ie){hn={name:G,value:Ie.value,dimensions:Ie.dimensions.slice(0),prefixes:Mt,offset:Ve};var Qr=!1;for(var da in D)if(Ge(D,da)){for(var Fo=!0,Ja=0;Ja<X.length;Ja++)if(Math.abs((hn.dimensions[Ja]||0)-(D[da].dimensions[Ja]||0))>1e-12){Fo=!1;break}if(Fo){Qr=!0,hn.base=D[da];break}}if(!Qr){bt=bt||G+"_STUFF";var qs={dimensions:Ie.dimensions.slice(0)};qs.key=bt,D[bt]=qs,pe[bt]={unit:hn,prefix:O.NONE[""]},hn.base=D[bt]}}else{if(X.indexOf(bt=bt||G+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+G+'": a base unit with that name already exists (and cannot be overridden)');for(var jn in X.push(bt),D)Ge(D,jn)&&(D[jn].dimensions[X.length-1]=0);for(var ar={dimensions:[]},Di=0;Di<X.length;Di++)ar.dimensions[Di]=0;ar.dimensions[X.length-1]=1,ar.key=bt,D[bt]=ar,hn={name:G,value:1,dimensions:D[bt].dimensions.slice(0),prefixes:Mt,offset:Ve,base:D[bt]},pe[bt]={unit:hn,prefix:O.NONE[""]}}_.UNITS[G]=hn;for(var Wa=0;Wa<He.length;Wa++){var pn=He[Wa],Ya={};for(var T in hn)Ge(hn,T)&&(Ya[T]=hn[T]);Ya.name=pn,_.UNITS[pn]=Ya}return new _(null,G)},_.deleteUnit=function(G){delete _.UNITS[G]},_.PREFIXES=O,_.BASE_DIMENSIONS=X,_.BASE_UNITS=D,_.UNIT_SYSTEMS=le,_.UNITS=oe,_},{isClass:!0}),bg="createUnit",yk=W(bg,["typed","Unit"],function(t){var n=t.Unit;return(0,t.typed)(bg,{"Object, Object":function(a,o){return n.createUnit(a,o)},Object:function(a){return n.createUnit(a,{})},"string, Unit | string | Object, Object":function(a,o,c){var d={};return d[a]=o,n.createUnit(d,c)},"string, Unit | string | Object":function(a,o){var c={};return c[a]=o,n.createUnit(c,{})},string:function(a){var o={};return o[a]={},n.createUnit(o,{})}})}),Ck=W("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],function(t){var r=t.config,i=t.matrix,a=t.addScalar,o=t.subtract,c=t.equal,d=t.abs,s=t.atan,p=t.cos,l=t.sin,u=t.multiplyScalar,m=t.inv,g=t.bignumber,f=t.multiply,h=t.add;return(0,t.typed)("eigs",{Array:function(j){var B=i(j),O=B.size();if(2!==O.length||O[0]!==O[1])throw new RangeError("Matrix must be square (size: "+Nt(O)+")");var X=y(B,O[0]);return{values:X[0],vectors:X[1]}},Matrix:function(j){var B=j.size();if(2!==B.length||B[0]!==B[1])throw new RangeError("Matrix must be square (size: "+Nt(B)+")");var O=y(j,B[0]);return{values:i(O[0]),vectors:i(O[1])}}});function y(U,j){var B=U.datatype();if(void 0===B&&(B=U.getDataType()),"number"!==B&&"BigNumber"!==B&&"Fraction"!==B)throw"mixed"===B?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+B+")");if(function w(U,j){for(var B=0;B<j;B++)for(var O=B;O<j;O++)if(!c(U[B][O],U[O][B]))throw new TypeError("Input matrix is not symmetric")}(U.toArray(),j),"number"===B)return M(U.toArray());if("Fraction"===B){for(var O=U.toArray(),X=0;X<j;X++)for(var D=X;D<j;D++)O[X][D]=O[X][D].valueOf(),O[D][X]=O[X][D];return M(U.toArray())}return"BigNumber"===B?function _(U){for(var O,j=U.length,B=d(r.epsilon/j),X=new Array(j),D=0;D<j;D++)X[D]=V(j,0),X[D][D]=1;for(var de=P(U);d(de[1])>=d(B);){var ye=de[0][0],Oe=de[0][1];U=S(U,O=x(U[ye][ye],U[Oe][Oe],U[ye][Oe]),ye,Oe),X=A(X,O,ye,Oe),de=P(U)}for(var oe=V(j,0),Ae=0;Ae<j;Ae++)oe[Ae]=U[Ae][Ae];return Z(ut(oe),ut(X))}(U.toArray()):void 0}function M(U){for(var O,j=U.length,B=Math.abs(r.epsilon/j),X=new Array(j),D=0;D<j;D++)X[D]=V(j,0),X[D][D]=1;for(var de=E(U);Math.abs(de[1])>=Math.abs(B);){var ye=de[0][0],Oe=de[0][1];U=N(U,O=b(U[ye][ye],U[Oe][Oe],U[ye][Oe]),ye,Oe),X=v(X,O,ye,Oe),de=E(U)}for(var oe=V(j,0),Ae=0;Ae<j;Ae++)oe[Ae]=U[Ae][Ae];return Z(ut(oe),ut(X))}function b(U,j,B){return Math.abs(j-U)<=r.epsilon?Math.PI/4:.5*Math.atan(2*B/(j-U))}function x(U,j,B){var O=o(j,U);return d(O)<=r.epsilon?g(-1).acos().div(4):u(.5,s(f(2,B,m(O))))}function v(U,j,B,O){for(var X=U.length,D=Math.cos(j),de=Math.sin(j),ye=V(X,0),Oe=V(X,0),oe=0;oe<X;oe++)ye[oe]=D*U[oe][B]-de*U[oe][O],Oe[oe]=de*U[oe][B]+D*U[oe][O];for(var Ae=0;Ae<X;Ae++)U[Ae][B]=ye[Ae],U[Ae][O]=Oe[Ae];return U}function A(U,j,B,O){for(var X=U.length,D=p(j),de=l(j),ye=V(X,g(0)),Oe=V(X,g(0)),oe=0;oe<X;oe++)ye[oe]=o(u(D,U[oe][B]),u(de,U[oe][O])),Oe[oe]=a(u(de,U[oe][B]),u(D,U[oe][O]));for(var Ae=0;Ae<X;Ae++)U[Ae][B]=ye[Ae],U[Ae][O]=Oe[Ae];return U}function S(U,j,B,O){for(var X=U.length,D=g(p(j)),de=g(l(j)),ye=u(D,D),Oe=u(de,de),oe=V(X,g(0)),Ae=V(X,g(0)),je=f(g(2),D,de,U[B][O]),le=a(o(u(ye,U[B][B]),je),u(Oe,U[O][O])),pe=h(u(Oe,U[B][B]),je,u(ye,U[O][O])),we=0;we<X;we++)oe[we]=o(u(D,U[B][we]),u(de,U[O][we])),Ae[we]=a(u(de,U[B][we]),u(D,U[O][we]));U[B][B]=le,U[O][O]=pe,U[B][O]=g(0),U[O][B]=g(0);for(var Me=0;Me<X;Me++)Me!==B&&Me!==O&&(U[B][Me]=oe[Me],U[Me][B]=oe[Me],U[O][Me]=Ae[Me],U[Me][O]=Ae[Me]);return U}function N(U,j,B,O){for(var X=U.length,D=Math.cos(j),de=Math.sin(j),ye=D*D,Oe=de*de,oe=V(X,0),Ae=V(X,0),je=ye*U[B][B]-2*D*de*U[B][O]+Oe*U[O][O],le=Oe*U[B][B]+2*D*de*U[B][O]+ye*U[O][O],pe=0;pe<X;pe++)oe[pe]=D*U[B][pe]-de*U[O][pe],Ae[pe]=de*U[B][pe]+D*U[O][pe];U[B][B]=je,U[O][O]=le,U[B][O]=0,U[O][B]=0;for(var we=0;we<X;we++)we!==B&&we!==O&&(U[B][we]=oe[we],U[we][B]=oe[we],U[O][we]=Ae[we],U[we][O]=Ae[we]);return U}function E(U){for(var j=U.length,B=0,O=[0,1],X=0;X<j;X++)for(var D=X+1;D<j;D++)Math.abs(B)<Math.abs(U[X][D])&&(B=Math.abs(U[X][D]),O=[X,D]);return[O,B]}function P(U){for(var j=U.length,B=0,O=[0,1],X=0;X<j;X++)for(var D=X+1;D<j;D++)d(B)<d(U[X][D])&&(B=d(U[X][D]),O=[X,D]);return[O,B]}function Z(U,j){for(var B=U.length,O=Array(B),X=Array(B),D=0;D<B;D++)X[D]=Array(B);for(var de=0;de<B;de++){for(var ye=0,Oe=U[0],oe=0;oe<U.length;oe++)U[oe]<Oe&&(Oe=U[ye=oe]);O[de]=U.splice(ye,1)[0];for(var Ae=0;Ae<B;Ae++)X[Ae][de]=j[Ae][ye],j[Ae].splice(ye,1)}return[ut(O),ut(X)]}function V(U,j){for(var B=new Array(U),O=0;O<U;O++)B[O]=j;return B}}),Nk=W("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],function(t){var n=t.config,i=t.abs,a=t.add,o=t.addScalar,c=t.matrix,d=t.multiply,s=t.multiplyScalar,p=t.divideScalar,l=t.subtract,u=t.smaller,m=t.equalScalar;return(0,t.typed)("intersect",{"Array, Array, Array":function(v,A,S){if(!h(v))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function w(x){return 4===x.length&&g(x[0])&&g(x[1])&&g(x[2])&&g(x[3])}(S))throw new TypeError("Array with 4 numbers expected as third argument");return function b(x,v,A,S,N,E,P,Z,V,U){var j=s(x,P),B=s(S,P),O=s(v,Z),X=s(N,Z),D=s(A,V),de=s(E,V),ye=p(l(l(l(U,j),O),D),l(l(l(o(o(B,X),de),j),O),D));return[o(x,s(ye,l(S,x))),o(v,s(ye,l(N,v))),o(A,s(ye,l(E,A)))]}(v[0],v[1],v[2],A[0],A[1],A[2],S[0],S[1],S[2],S[3])},"Array, Array, Array, Array":function(v,A,S,N){if(2===v.length){if(!f(v))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!f(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!f(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function y(x,v,A,S){var N=x,E=A,P=l(N,v),Z=l(E,S),V=l(s(P[0],Z[1]),s(Z[0],P[1]));if(u(i(V),n.epsilon))return null;var U=s(Z[0],N[1]),j=s(Z[1],N[0]),B=s(Z[0],E[1]),O=s(Z[1],E[0]),X=p(o(l(l(U,j),B),O),V);return a(d(P,X),N)}(v,A,S,N)}if(3===v.length){if(!h(v))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!h(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!h(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function _(x,v,A,S,N,E,P,Z,V,U,j,B){var O=M(x,P,U,P,v,Z,j,Z,A,V,B,V),X=M(U,P,S,x,j,Z,N,v,B,V,E,A),D=M(x,P,S,x,v,Z,N,v,A,V,E,A),de=M(U,P,U,P,j,Z,j,Z,B,V,B,V),ye=M(S,x,S,x,N,v,N,v,E,A,E,A),Oe=p(l(s(O,X),s(D,de)),l(s(ye,de),s(X,X))),oe=p(o(O,s(Oe,X)),de),Ae=o(x,s(Oe,l(S,x))),je=o(v,s(Oe,l(N,v))),le=o(A,s(Oe,l(E,A))),pe=o(P,s(oe,l(U,P))),we=o(Z,s(oe,l(j,Z))),Me=o(V,s(oe,l(B,V)));return m(Ae,pe)&&m(je,we)&&m(le,Me)?[Ae,je,le]:null}(v[0],v[1],v[2],A[0],A[1],A[2],S[0],S[1],S[2],N[0],N[1],N[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(v,A,S){return c(this(v.valueOf(),A.valueOf(),S.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(v,A,S,N){return c(this(v.valueOf(),A.valueOf(),S.valueOf(),N.valueOf()))}});function g(x){return"number"==typeof x||vt(x)}function f(x){return 2===x.length&&g(x[0])&&g(x[1])}function h(x){return 3===x.length&&g(x[0])&&g(x[1])&&g(x[2])}function M(x,v,A,S,N,E,P,Z,V,U,j,B){var O=s(l(x,v),l(A,S)),X=s(l(N,E),l(P,Z)),D=s(l(V,U),l(j,B));return o(o(O,X),D)}}),Tk=W("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],function(t){var r=t.typed,n=t.matrix,i=t.divideScalar,a=t.multiplyScalar,o=t.subtract,c=t.equalScalar,d=t.DenseMatrix,s=Co({DenseMatrix:d});return r("usolve",{"SparseMatrix, Array | Matrix":function(m,g){return function l(u,m){for(var g=(m=s(u,m,!0))._data,f=u._size[0],w=u._values,y=u._index,M=u._ptr,_=[],b=u._size[1]-1;b>=0;b--){var x=g[b][0]||0;if(c(x,0))_[b]=[0];else{for(var v=0,A=[],S=[],N=M[b],P=M[b+1]-1;P>=N;P--){var Z=y[P];Z===b?v=w[P]:Z<b&&(A.push(w[P]),S.push(Z))}if(c(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=i(x,v),U=0,j=S.length;U<j;U++){var B=S[U];g[B]=[o(g[B][0],a(V,A[U]))]}_[b]=[V]}}return new d({data:_,size:[f,1]})}(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return p(m,g)},"Array, Array | Matrix":function(m,g){return p(n(m),g).valueOf()}});function p(u,m){for(var g=(m=s(u,m,!0))._data,f=u._size[0],w=[],y=u._data,M=u._size[1]-1;M>=0;M--){var _=g[M][0]||0,b=void 0;if(c(_,0))b=0;else{var x=y[M][M];if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");b=i(_,x);for(var v=M-1;v>=0;v--)g[v]=[o(g[v][0]||0,a(b,y[v][M]))]}w[M]=[b]}return new d({data:w,size:[f,1]})}}),Ek=W("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],function(t){var n=t.abs,i=t.add,a=t.pow,o=t.conj,c=t.sqrt,d=t.multiply,s=t.equalScalar,p=t.larger,l=t.smaller,u=t.matrix,m=t.ctranspose,g=t.eigs;return(0,t.typed)("norm",{number:Math.abs,Complex:function(S){return S.abs()},BigNumber:function(S){return S.abs()},boolean:function(S){return Math.abs(S)},Array:function(S){return v(u(S),2)},Matrix:function(S){return v(S,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(S){return this(S)},"Array, number | BigNumber | string":function(S,N){return v(u(S),N)},"Matrix, number | BigNumber | string":function(S,N){return v(S,N)}});function v(A,S){var N=A.size();if(1===N.length)return function w(A,S){if(S===Number.POSITIVE_INFINITY||"inf"===S)return function f(A){var S=0;return A.forEach(function(N){var E=n(N);p(E,S)&&(S=E)},!0),S}(A);if(S===Number.NEGATIVE_INFINITY||"-inf"===S)return function h(A){var S;return A.forEach(function(N){var E=n(N);(!S||l(E,S))&&(S=E)},!0),S||0}(A);if("fro"===S)return v(A,2);if("number"==typeof S&&!isNaN(S)){if(!s(S,0)){var N=0;return A.forEach(function(E){N=i(a(n(E),S),N)},!0),a(N,1/S)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(A,S);if(2===N.length){if(N[0]&&N[1])return function x(A,S){if(1===S)return function M(A){var S=[],N=0;return A.forEach(function(E,P){var Z=P[1],V=i(S[Z]||0,n(E));p(V,N)&&(N=V),S[Z]=V},!0),N}(A);if(S===Number.POSITIVE_INFINITY||"inf"===S)return function b(A){var S=[],N=0;return A.forEach(function(E,P){var Z=P[0],V=i(S[Z]||0,n(E));p(V,N)&&(N=V),S[Z]=V},!0),N}(A);if("fro"===S)return function y(A){var S=0;return A.forEach(function(N,E){S=i(S,d(N,o(N)))}),n(c(S))}(A);if(2===S)return function _(A){var S=A.size();if(S[0]!==S[1])throw new RangeError("Invalid matrix dimensions");var N=m(A),E=d(N,A),P=g(E).values,Z=P.get([P.size()[0]-1]);return n(c(Z))}(A);throw new Error("Unsupported parameter value "+S)}(A,S);throw new RangeError("Invalid matrix dimensions")}}});function Mg(t,r){var n,i=r.length,a=[];if(t)for(n=0;n<i;n++)a[t[n]]=r[n];else for(n=0;n<i;n++)a[n]=r[n];return a}var Sg="lusolve",Ok=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],kk=W(Sg,Ok,function(t){var r=t.typed,n=t.matrix,i=t.lup,a=t.slu,o=t.usolve,c=t.lsolve,s=Co({DenseMatrix:t.DenseMatrix});return r(Sg,{"Array, Array | Matrix":function(m,g){m=n(m);var f=i(m);return l(f.L,f.U,f.p,null,g).valueOf()},"DenseMatrix, Array | Matrix":function(m,g){var f=i(m);return l(f.L,f.U,f.p,null,g)},"SparseMatrix, Array | Matrix":function(m,g){var f=i(m);return l(f.L,f.U,f.p,null,g)},"SparseMatrix, Array | Matrix, number, number":function(m,g,f,h){var w=a(m,f,h);return l(w.L,w.U,w.p,w.q,g)},"Object, Array | Matrix":function(m,g){return l(m.L,m.U,m.p,m.q,g)}});function p(u){if(wt(u))return u;if(Kt(u))return n(u);throw new TypeError("Invalid Matrix LU decomposition")}function l(u,m,g,f,h){u=p(u),m=p(m),g&&((h=s(u,h,!0))._data=Mg(g,h._data));var w=c(u,h),y=o(m,w);return f&&(y._data=Mg(f,y._data)),y}}),Dk=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],qk=W("sqrtm",Dk,function(t){var n=t.abs,i=t.add,a=t.multiply,o=t.sqrt,c=t.subtract,d=t.inv,s=t.size,p=t.max,l=t.identity,m=1e-6;return(0,t.typed)("sqrtm",{"Array | Matrix":function(h){var w=wt(h)?h.size():kt(h);switch(w.length){case 1:if(1===w[0])return o(h);throw new RangeError("Matrix must be square (size: "+Nt(w)+")");case 2:if(w[0]===w[1])return function g(f){var h,w=0,y=f,M=l(s(f));do{var _=y;if(y=a(.5,i(_,d(M))),M=a(.5,i(M,d(_))),(h=p(n(c(y,_))))>m&&++w>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(h>m);return y}(h);throw new RangeError("Matrix must be square (size: "+Nt(w)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+Nt(w)+")")}}})}),Ag="multinomial",Pk=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Zk=W(Ag,Pk,function(t){var n=t.add,i=t.divide,a=t.multiply,o=t.factorial,c=t.isInteger,d=t.isPositive;return(0,t.typed)(Ag,{"Array | Matrix":function(p){var l=0,u=1;return Xr(p,function(m){if(!c(m)||!d(m))throw new TypeError("Positive integer value expected in function multinomial");l=n(l,m),u=a(u,o(m))}),i(o(l),u)}})}),Tg="rotationMatrix",Lk=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Rk=W(Tg,Lk,function(t){var n=t.config,i=t.multiplyScalar,a=t.addScalar,o=t.unaryMinus,c=t.norm,d=t.BigNumber,s=t.matrix,p=t.DenseMatrix,l=t.SparseMatrix,u=t.cos,m=t.sin;return(0,t.typed)(Tg,{"":function(){return"Matrix"===n.matrix?s([]):[]},string:function(_){return s(_)},"number | BigNumber | Complex | Unit":function(_){return g(_,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(_,b){return g(_,b)},"number | BigNumber | Complex | Unit, Array":function(_,b){var x=s(b);return f(x),y(_,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(_,b){f(b);var x=b.storage()||("Matrix"===n.matrix?"dense":void 0);return y(_,b,x)},"number | BigNumber | Complex | Unit, Array, string":function(_,b,x){var v=s(b);return f(v),y(_,v,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(_,b,x){return f(b),y(_,b,x)}});function g(M,_){var x=vt(M)?new d(-1):-1,v=u(M),A=m(M);return w([[v,i(x,A)],[A,v]],_)}function f(M){var _=M.size();if(_.length<1||3!==_[0])throw new RangeError("Vector must be of dimensions 1x3")}function h(M){return M.reduce(function(_,b){return i(_,b)})}function w(M,_){if(_){if("sparse"===_)return new l(M);if("dense"===_)return new p(M);throw new TypeError('Unknown matrix type "'.concat(_,'"'))}return M}function y(M,_,b){var x=c(_);if(0===x)throw new RangeError("Rotation around zero vector");var v=vt(M)?d:null,A=v?new v(1):1,S=v?new v(-1):-1,N=v?new v(_.get([0])/x):_.get([0])/x,E=v?new v(_.get([1])/x):_.get([1])/x,P=v?new v(_.get([2])/x):_.get([2])/x,Z=u(M),V=a(A,o(Z)),U=m(M);return w([[a(Z,h([N,N,V])),a(h([N,E,V]),h([S,P,U])),a(h([N,P,V]),h([E,U]))],[a(h([N,E,V]),h([P,U])),a(Z,h([E,E,V])),a(h([E,P,V]),h([S,N,U]))],[a(h([N,P,V]),h([S,E,U])),a(h([E,P,V]),h([N,U])),a(Z,h([P,P,V]))]],b)}}),Uk=["typed","add","divide","compare","partitionSelect"],Bk=W("median",Uk,function(t){var r=t.typed,n=t.add,i=t.divide,a=t.compare,o=t.partitionSelect;function c(p){try{var l=(p=Zt(p.valueOf())).length;if(0===l)throw new Error("Cannot calculate median of an empty array");if(l%2==0){for(var u=l/2-1,m=o(p,u+1),g=p[u],f=0;f<u;++f)a(p[f],g)>0&&(g=p[f]);return s(g,m)}var h=o(p,(l-1)/2);return d(h)}catch(w){throw hr(w,"median")}}var d=r({"number | BigNumber | Complex | Unit":function(l){return l}}),s=r({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(l,u){return i(n(l,u),2)}});return r("median",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(l,u){throw new Error("median(A, dim) is not yet supported")},"...":function(l){if(xo(l))throw new TypeError("Scalar values expected in function median");return c(l)}})}),Fk=["typed","multiply","rotationMatrix"],zk=W("rotate",Fk,function(t){var n=t.multiply,i=t.rotationMatrix;return(0,t.typed)("rotate",{"Array , number | BigNumber | Complex | Unit":function(c,d){return a(c,2),n(i(d),c).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(c,d){return a(c,2),n(i(d),c)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(c,d,s){return a(c,3),n(i(d,s),c)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(c,d,s){return a(c,3),n(i(d,s),c)}});function a(o,c){var d=Array.isArray(o)?kt(o):o.size();if(d.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(c));if(2===d.length&&1!==d[1])throw new RangeError("Vector must be of dimensions 1x".concat(c));if(d[0]!==c)throw new RangeError("Vector must be of dimensions 1x".concat(c))}}),Hk=["typed","abs","map","median","subtract"],Qk=W("mad",Hk,function(t){var n=t.abs,i=t.map,a=t.median,o=t.subtract;return(0,t.typed)("mad",{"Array | Matrix":c,"...":function(s){return c(s)}});function c(d){if(0===(d=Zt(d.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var s=a(d);return a(i(d,function(p){return n(o(p,s))}))}catch(p){throw p instanceof TypeError&&-1!==p.message.indexOf("median")?new TypeError(p.message.replace("median","mad")):hr(p,"mad")}}}),Vk=["typed","Unit"],Jk=W("unit",Vk,function(t){var n=t.Unit;return(0,t.typed)("unit",{Unit:function(a){return a.clone()},string:function(a){return n.isValuelessUnit(a)?new n(null,a):n.parse(a,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(a,o){return new n(a,o)},"Array | Matrix":function(a){return We(a,this)}})}),Dg=y4({}),dn=M4({}),qg=A4({}),Wk=L4({}),Yk=R4({}),$k=Z4({}),Re=nN({config:Ee}),Cs=aN({}),jk=cN({}),Gk=G4({Complex:dn}),Kk=J4({BigNumber:Re,config:Ee}),Xk=Y4({BigNumber:Re,config:Ee}),eD=B4({BigNumber:Re,config:Ee}),Pg=F4({BigNumber:Re,config:Ee}),tD=$4({BigNumber:Re,config:Ee}),nD=z4({BigNumber:Re,config:Ee}),rD=LN({BigNumber:Re,config:Ee}),iD=TN({BigNumber:Re,config:Ee}),aD=WN({BigNumber:Re,config:Ee}),oD=ZN({BigNumber:Re,config:Ee}),Ki=c5({}),Zg=H4({BigNumber:Re,config:Ee}),sD=U4({BigNumber:Re,config:Ee}),cD=W4({BigNumber:Re,config:Ee}),uD=K4({}),It=d5({Matrix:Cs}),lD=Q4({BigNumber:Re,config:Ee}),ne=f5({BigNumber:Re,Complex:dn,DenseMatrix:It,Fraction:Ki}),Er=v5({typed:ne}),Za=x5({typed:ne}),Ms=w5({typed:ne}),No=M5({typed:ne}),Rt=A5({config:Ee,typed:ne}),La=E5({typed:ne}),dD=k5({typed:ne}),Ec=P5({Complex:dn,typed:ne}),pD=L5({typed:ne}),mD=J5({BigNumber:Re,config:Ee,typed:ne}),Oc=Fl({isInteger:Er,typed:ne}),fD=Y5({typed:ne}),gD=j5({Complex:dn,typed:ne}),hD=K5({Complex:dn,config:Ee,typed:ne}),yn=tA({typed:ne}),Lg=rA({BigNumber:Re,Fraction:Ki,complex:Ec,typed:ne}),vD=aA({typed:ne}),_D=mA({typed:ne}),xD=gA({typed:ne}),yD=vA({typed:ne}),Rg=yA({typed:ne}),bD=CA({typed:ne}),wD=SA({typed:ne}),Ug=TA({typed:ne}),CD=kA({typed:ne}),Bg=LA({typed:ne}),MD=BA({typed:ne}),SD=zA({typed:ne}),ND=QA({typed:ne}),AD=JA({Complex:dn,config:Ee,typed:ne}),TD=iT({BigNumber:Re,typed:ne}),ID=oT({BigNumber:Re,Complex:dn,config:Ee,typed:ne}),ED=cT({BigNumber:Re,Complex:dn,config:Ee,typed:ne}),OD=lT({Complex:dn,config:Ee,typed:ne}),Fg=mT({typed:ne}),kD=gT({Complex:dn,config:Ee,typed:ne}),DD=vT({typed:ne}),qD=xT({BigNumber:Re,typed:ne}),PD=bT({BigNumber:Re,typed:ne}),ZD=CT({BigNumber:Re,typed:ne}),LD=ST({typed:ne}),RD=TT({typed:ne}),Ss=ET({typed:ne}),UD=PT({config:Ee,typed:ne}),BD=LT({config:Ee,typed:ne}),FD=V4({BigNumber:Re,config:Ee}),zD=UT({typed:ne}),HD=FT({isNumeric:Za,typed:ne}),QD=HT({typed:ne}),VD=VT({typed:ne}),Ao=YT({Fraction:Ki,typed:ne}),ti=jT({typed:ne}),In=KT({typed:ne}),JD=eI({typed:ne}),WD=nI({Complex:dn,config:Ee,typed:ne}),Ai=aI({Complex:dn,config:Ee,typed:ne}),To=sI({typed:ne}),YD=uI({typed:ne}),$D=dI({isNaN:No,isNumeric:Za,typed:ne}),jD=pI({typed:ne}),GD=fI({Complex:dn,config:Ee,typed:ne}),KD=hI({BigNumber:Re,typed:ne}),XD=xI({typed:ne}),kc=bI({typed:ne}),eq=CI({BigNumber:Re,typed:ne}),Dc=SI({typed:ne}),tq=AI({typed:ne}),nq=II({config:Ee,typed:ne}),rq=j4({BigNumber:Re,config:Ee}),Ra=OI({typed:ne}),ni=qI({Matrix:Cs,equalScalar:Rt,typed:ne}),ze=ZI({DenseMatrix:It,Matrix:Cs,SparseMatrix:ni,typed:ne}),iq=RI({BigNumber:Re,Complex:dn,Fraction:Ki,config:Ee,isNegative:Ra,matrix:ze,typed:ne,unaryMinus:ti}),aq=jI({BigNumber:Re,DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne}),oq=cE({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne}),sq=pE({BigNumber:Re,equalScalar:Rt,matrix:ze,typed:ne}),cq=fE({BigNumber:Re,config:Ee,matrix:ze,typed:ne}),uq=hE({equalScalar:Rt,matrix:ze,typed:ne}),lq=yE({DenseMatrix:It,matrix:ze,typed:ne}),dq=wE({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne}),qc=Yl({isInteger:Er,matrix:ze,typed:ne}),pq=ME({DenseMatrix:It,SparseMatrix:ni,matrix:ze,typed:ne}),Ua=NE({BigNumber:Re,DenseMatrix:It,SparseMatrix:ni,config:Ee,matrix:ze,typed:ne}),mq=IE({BigNumber:Re,config:Ee,matrix:ze,typed:ne}),fq=OE({isInteger:Er,matrix:ze,typed:ne}),_r=DE({matrix:ze,config:Ee,typed:ne}),Cr=Vl({matrix:ze,typed:ne}),Xi=PE({BigNumber:Re,config:Ee,matrix:ze,typed:ne}),gq=ZE({typed:ne}),Ns=UE({BigNumber:Re,DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne,zeros:Xi}),hq=QE({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne,zeros:Xi}),vq=JE({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne,zeros:Xi}),Ba=YE({BigNumber:Re,DenseMatrix:It,Fraction:Ki,config:Ee,equalScalar:Rt,matrix:ze,typed:ne}),zg=jE({matrix:ze,typed:ne}),Ur=KE({DenseMatrix:It,config:Ee,matrix:ze,typed:ne}),Or=e8({DenseMatrix:It,config:Ee,matrix:ze,typed:ne}),_q=n8({DenseMatrix:It,config:Ee,equalScalar:Rt,matrix:ze,typed:ne}),Hg=a8({DenseMatrix:It,smaller:Ur}),Qg=c8({larger:Or,smaller:Ur}),xq=l8({SparseMatrix:ni,typed:ne}),yq=p8({BigNumber:Re,Complex:dn,config:Ee,typed:ne}),bq=h8({BigNumber:Re,DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne}),wq=_8({BigNumber:Re,typed:ne}),En=y8({DenseMatrix:It,SparseMatrix:ni,addScalar:In,equalScalar:Rt,matrix:ze,typed:ne}),Vg=w8({addScalar:In,conj:To,multiplyScalar:yn,size:_r,typed:ne}),Cq=M8({addScalar:In,combinations:Ss,isInteger:Er,isNegative:Ra,isPositive:Ms,larger:Or,typed:ne}),Fa=N8({typed:ne}),xr=T8({typed:ne}),Jg=P8({config:Ee,equalScalar:Rt,matrix:ze,round:Ns,typed:ne}),wn=L8({addScalar:In,dot:Vg,equalScalar:Rt,matrix:ze,multiplyScalar:yn,typed:ne}),Mq=U8({equalScalar:Rt,matrix:ze,multiplyScalar:yn,typed:ne}),Sq=F8({typed:ne}),Nq=H8({matrix:ze,typed:ne}),Aq=J8({config:Ee,matrix:ze}),Tq=Y8({matrix:ze,typed:ne}),Iq=j8({matrix:ze,typed:ne}),Ti=K8({Complex:dn,config:Ee,fraction:Ao,identity:Ua,matrix:ze,multiply:wn,number:La,typed:ne}),Eq=e7({DenseMatrix:It,equalScalar:Rt,matrix:ze,pow:Ti,typed:ne}),Oq=n7({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne,zeros:Xi}),Br=a7({compare:Ba,typed:ne}),kq=c7({compareText:zg,isZero:Fa,typed:ne}),As=l7({DenseMatrix:It,config:Ee,matrix:ze,typed:ne}),Pc=p7({compare:Ba,isNaN:No,isNumeric:Za,typed:ne}),Yn=g7({ImmutableDenseMatrix:Hg}),Dq=v7({BigNumber:Re,Complex:dn,config:Ee,typed:ne}),qq=x7({typed:ne}),Wg=b7({DenseMatrix:It,Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),Yg=C7({DenseMatrix:It,Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),Pq=S7({Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),Zq=A7({compareNatural:Br,typed:ne}),Lq=E7({add:En,matrix:ze,typed:ne}),Rq=D7({add:En,compare:Ba,multiply:wn,partitionSelect:Pc,typed:ne}),$g=P7({BigNumber:Re,Complex:dn,config:Ee,multiplyScalar:yn,pow:Ti,typed:ne}),Ii=R7({BigNumber:Re,typed:ne}),Uq=B7({equalScalar:Rt,matrix:ze,typed:ne}),Bq=z7({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne}),Fq=Q7({matrix:ze,multiplyScalar:yn,typed:ne}),Zc=W7({matrix:ze,typed:ne}),kr=j7({bignumber:Ii,fraction:Ao,number:La}),zq=K7({equalScalar:Rt,matrix:ze,not:Rg,typed:ne,zeros:Xi}),Lc=eO({DenseMatrix:It,config:Ee,matrix:ze,typed:ne}),Hq=nO({compare:Ba,compareNatural:Br,matrix:ze,typed:ne}),Qq=Xl({config:Ee,numeric:kr,smaller:Ur,typed:ne}),Vq=iO({BigNumber:Re,typed:ne}),Jq=oO({DenseMatrix:It,Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),Wq=cO({Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),Yq=lO({Index:Yn,typed:ne}),jg=td({add:En,config:Ee,numeric:kr,typed:ne}),Ts=pO({gamma:$g,typed:ne}),$q=fO({factorial:Ts,typed:ne}),Gg=bO({config:Ee,equalScalar:Rt,matrix:ze,round:Ns,typed:ne}),fn=CO({DenseMatrix:It,addScalar:In,equalScalar:Rt,matrix:ze,typed:ne,unaryMinus:ti}),jq=SO({matrix:ze,multiply:wn,subtract:fn,typed:ne}),Io=od({bignumber:Ii,matrix:ze,config:Ee,larger:Or,largerEq:As,smaller:Ur,smallerEq:Lc,typed:ne}),Gq=dd({Index:Yn,matrix:ze,range:Io,typed:ne}),Kq=AO({config:Ee,multiplyScalar:yn,numeric:kr,typed:ne}),Ei=IO({DenseMatrix:It,equalScalar:Rt,matrix:ze,typed:ne}),Kg=Gl({config:Ee,larger:Or,numeric:kr,typed:ne}),Xq=OO({DenseMatrix:It,Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),Xg=DO({Index:Yn,concat:qc,setDifference:Wg,size:_r,subset:Cr,typed:ne}),eh=ZO({Complex:dn,ceil:Gg,floor:Jg,matrix:ze,typed:ne}),eP=id({Index:Yn,matrix:ze,range:Io,typed:ne}),th=RO({conj:To,transpose:Zc,typed:ne}),tP=BO({equal:Ei,typed:ne}),nP=zO({Index:Yn,compareNatural:Br,size:_r,subset:Cr,typed:ne}),rP=QO({DenseMatrix:It,matrix:ze,typed:ne}),Cn=JO({numeric:kr,typed:ne}),iP=YO({Complex:dn,config:Ee,divideScalar:Cn,typed:ne}),nh=jO({DenseMatrix:It,divideScalar:Cn,equalScalar:Rt,matrix:ze,multiplyScalar:yn,subtract:fn,typed:ne}),aP=n9({DenseMatrix:It,divideScalar:Cn,equalScalar:Rt,matrix:ze,multiplyScalar:yn,subtract:fn,typed:ne}),rh=a9({FibonacciHeap:Qg,addScalar:In,equalScalar:Rt}),oP=s9({Index:Yn,concat:qc,setIntersect:Yg,setSymDifference:Xg,size:_r,subset:Cr,typed:ne}),Rc=u9({DenseMatrix:It,Spa:rh,SparseMatrix:ni,abs:xr,addScalar:In,divideScalar:Cn,equalScalar:Rt,larger:Or,matrix:ze,multiplyScalar:yn,subtract:fn,typed:ne,unaryMinus:ti}),ih=D9({SparseMatrix:ni,abs:xr,add:En,divideScalar:Cn,larger:Or,largerEq:As,multiply:wn,subtract:fn,transpose:Zc,typed:ne}),ah=P9({lup:Rc,matrix:ze,multiply:wn,subtract:fn,typed:ne,unaryMinus:ti}),sP=L9({abs:xr,addScalar:In,divideScalar:Cn,multiplyScalar:yn,sqrt:Ai,subtract:fn,typed:ne,unaryMinus:ti}),oh=U9({addScalar:In,combinations:Ss,divideScalar:Cn,factorial:Ts,isInteger:Er,isNegative:Ra,larger:Or,multiplyScalar:yn,pow:Ti,subtract:fn,typed:ne}),cP=F9({addScalar:In,combinations:Ss,divideScalar:Cn,isInteger:Er,isNegative:Ra,multiplyScalar:yn,typed:ne}),uP=cd({matrix:ze,number:La,subtract:fn,typed:ne}),Uc=H9({Complex:dn,config:Ee,divideScalar:Cn,typed:ne}),sh=V9({DenseMatrix:It,divideScalar:Cn,equalScalar:Rt,matrix:ze,typed:ne}),lP=G9({DenseMatrix:It,divideScalar:Cn,equalScalar:Rt,matrix:ze,multiplyScalar:yn,subtract:fn,typed:ne}),dP=X9({abs:xr,addScalar:In,divideScalar:Cn,isPositive:Ms,multiplyScalar:yn,smaller:Ur,sqrt:Ai,typed:ne}),pP=tk({addScalar:In,complex:Ec,conj:To,divideScalar:Cn,equal:Ei,identity:Ua,isZero:Fa,matrix:ze,multiplyScalar:yn,sign:Lg,sqrt:Ai,subtract:fn,typed:ne,unaryMinus:ti,zeros:Xi}),Eo=rk({abs:xr,addScalar:In,det:ah,divideScalar:Cn,identity:Ua,matrix:ze,multiply:wn,typed:ne,unaryMinus:ti}),mP=ak({abs:xr,add:En,identity:Ua,inv:Eo,multiply:wn,typed:ne}),Fr=ck({divideScalar:Cn,equalScalar:Rt,inv:Eo,matrix:ze,multiply:wn,typed:ne}),fP=md({add:En,divide:Fr,typed:ne}),Bc=gd({add:En,apply:Oc,divide:Fr,isNaN:No,multiply:wn,subtract:fn,typed:ne}),gP=lk({divide:Fr,dotDivide:sh,isNumeric:Za,log:Uc,matrix:ze,multiply:wn,sum:jg,typed:ne}),hP=pk({addScalar:In,isInteger:Er,isNegative:Ra,stirlingS2:oh,typed:ne}),vP=fk({Complex:dn,config:Ee,divideScalar:Cn,log:Uc,typed:ne}),mt=_k({BigNumber:Re,Complex:dn,Fraction:Ki,abs:xr,addScalar:In,config:Ee,divideScalar:Cn,equal:Ei,fix:eh,format:Bg,isNumeric:Za,multiplyScalar:yn,number:La,pow:Ti,round:Ns,subtract:fn}),_P=yk({Unit:mt,typed:ne}),ch=Ck({abs:xr,add:En,addScalar:In,atan:Fg,bignumber:Ii,config:Ee,cos:kc,equal:Ei,inv:Eo,matrix:ze,multiply:wn,multiplyScalar:yn,sin:Dc,subtract:fn,typed:ne}),xP=Nk({abs:xr,add:En,addScalar:In,config:Ee,divideScalar:Cn,equalScalar:Rt,matrix:ze,multiply:wn,multiplyScalar:yn,smaller:Ur,subtract:fn,typed:ne}),yP=_d({sqrt:Ai,typed:ne,variance:Bc}),bP=RN({BigNumber:Re,Unit:mt,config:Ee}),wP=_N({BigNumber:Re,Unit:mt,config:Ee}),CP=BN({BigNumber:Re,Unit:mt,config:Ee}),MP=xN({BigNumber:Re,Unit:mt,config:Ee}),SP=ON({BigNumber:Re,Unit:mt,config:Ee}),NP=NN({BigNumber:Re,Unit:mt,config:Ee}),AP=FN({BigNumber:Re,Unit:mt,config:Ee}),TP=zN({BigNumber:Re,Unit:mt,config:Ee}),IP=lN({BigNumber:Re,Unit:mt,config:Ee}),EP=IN({BigNumber:Re,Unit:mt,config:Ee}),OP=CN({BigNumber:Re,Unit:mt,config:Ee}),kP=mN({BigNumber:Re,Unit:mt,config:Ee}),DP=GN({BigNumber:Re,Unit:mt,config:Ee}),qP=VN({BigNumber:Re,Unit:mt,config:Ee}),PP=kN({BigNumber:Re,Unit:mt,config:Ee}),ZP=r5({BigNumber:Re,Unit:mt,config:Ee}),LP=e5({BigNumber:Re,Unit:mt,config:Ee}),RP=i5({BigNumber:Re,Unit:mt,config:Ee}),UP=EN({BigNumber:Re,Unit:mt,config:Ee}),BP=pN({BigNumber:Re,Unit:mt,config:Ee}),FP=YN({BigNumber:Re,Unit:mt,config:Ee}),zP=$N({BigNumber:Re,Unit:mt,config:Ee}),HP=gN({BigNumber:Re,Unit:mt,config:Ee}),uh=Tk({DenseMatrix:It,divideScalar:Cn,equalScalar:Rt,matrix:ze,multiplyScalar:yn,subtract:fn,typed:ne}),lh=Ek({abs:xr,add:En,conj:To,ctranspose:th,eigs:ch,equalScalar:Rt,larger:Or,matrix:ze,multiply:wn,pow:Ti,smaller:Ur,sqrt:Ai,typed:ne}),QP=kk({DenseMatrix:It,lsolve:nh,lup:Rc,matrix:ze,slu:ih,typed:ne,usolve:uh}),VP=qk({abs:xr,add:En,identity:Ua,inv:Eo,max:Kg,multiply:wn,size:_r,sqrt:Ai,subtract:fn,typed:ne}),JP=Zk({add:En,divide:Fr,factorial:Ts,isInteger:Er,isPositive:Ms,multiply:wn,typed:ne}),WP=UN({BigNumber:Re,Unit:mt,config:Ee}),YP=SN({BigNumber:Re,Unit:mt,config:Ee}),$P=fN({BigNumber:Re,Unit:mt,config:Ee}),jP=AN({BigNumber:Re,Unit:mt,config:Ee}),GP=XN({BigNumber:Re,Unit:mt,config:Ee}),KP=HN({BigNumber:Re,Unit:mt,config:Ee}),XP=KN({BigNumber:Re,Unit:mt,config:Ee}),eZ=wN({BigNumber:Re,Unit:mt,config:Ee}),tZ=t5({BigNumber:Re,Unit:mt,config:Ee}),nZ=DN({BigNumber:Re,Unit:mt,config:Ee}),rZ=uN({BigNumber:Re,Unit:mt,config:Ee}),iZ=jN({BigNumber:Re,Unit:mt,config:Ee}),dh=Rk({BigNumber:Re,DenseMatrix:It,SparseMatrix:ni,addScalar:In,config:Ee,cos:kc,matrix:ze,multiplyScalar:yn,norm:lh,sin:Dc,typed:ne,unaryMinus:ti}),ph=Bk({add:En,compare:Ba,divide:Fr,partitionSelect:Pc,typed:ne}),aZ=MN({BigNumber:Re,Unit:mt,config:Ee}),oZ=vN({BigNumber:Re,Unit:mt,config:Ee}),sZ=yN({BigNumber:Re,Unit:mt,config:Ee}),cZ=JN({BigNumber:Re,Unit:mt,config:Ee}),uZ=n5({BigNumber:Re,Unit:mt,config:Ee}),lZ=PN({BigNumber:Re,Unit:mt,config:Ee}),dZ=zk({multiply:wn,rotationMatrix:dh,typed:ne}),pZ=Qk({abs:xr,map:Ug,median:ph,subtract:fn,typed:ne}),mZ=hN({BigNumber:Re,Unit:mt,config:Ee}),fZ=bN({BigNumber:Re,Unit:mt,config:Ee}),gZ=qN({BigNumber:Re,Unit:mt,config:Ee}),hZ=Jk({Unit:mt,typed:ne}),vZ=QN({BigNumber:Re,Unit:mt,config:Ee}),_Z=dN({BigNumber:Re,Unit:mt,config:Ee});function Oo(){return Oo=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oo.apply(this,arguments)}var za={},ko={},mh={},$n=j2({mathWithTransform:ko}),fh=vb({Node:$n}),gh=yb({Node:$n,ResultSet:Dg}),Do=Nb({Node:$n}),hh=kb({Node:$n}),qo=Pb({Node:$n}),vh=Rb({Node:$n}),Fc=Fb({math:za}),xZ=Qb({classes:mh}),_h=Wb({Node:$n}),Po=jb({Node:$n}),xh=Xb({Node:$n}),yh=nw({Node:$n,typed:ne}),yZ=iw({Chain:Fc,typed:ne}),bh=sw({Node:$n,subset:Cr}),wh=gw({Node:$n,Range:qg,size:_r}),Ch=xw({matrix:ze,Node:$n,subset:Cr}),Ha=ww({Unit:mt,Node:$n,math:za}),Zo=Sw({Node:$n,SymbolNode:Ha,math:za}),Oi=Tw({AccessorNode:bh,ArrayNode:fh,AssignmentNode:Ch,BlockNode:gh,ConditionalNode:_h,ConstantNode:Do,FunctionAssignmentNode:yh,FunctionNode:Zo,IndexNode:wh,ObjectNode:hh,OperatorNode:Po,ParenthesisNode:qo,RangeNode:xh,RelationalNode:vh,SymbolNode:Ha,config:Ee,numeric:kr,typed:ne}),Mh=Ew({parse:Oi,typed:ne}),Sh=Dw({parse:Oi}),Nh=Zw({parse:Oi}),bZ=UM({Help:Sh,mathWithTransform:ko,typed:ne}),wZ=FM({parse:Oi,typed:ne}),zc=XM({bignumber:Ii,fraction:Ao,ConstantNode:Do,FunctionNode:Zo,OperatorNode:Po,ParenthesisNode:qo,SymbolNode:Ha,add:En,config:Ee,divide:Fr,equal:Ei,isZero:Fa,mathWithTransform:ko,multiply:wn,parse:Oi,pow:Ti,subtract:fn,typed:ne}),CZ=tS({bignumber:Ii,fraction:Ao,ConstantNode:Do,FunctionNode:Zo,OperatorNode:Po,ParenthesisNode:qo,SymbolNode:Ha,add:En,config:Ee,divide:Fr,equal:Ei,isZero:Fa,mathWithTransform:ko,multiply:wn,parse:Oi,pow:Ti,simplify:zc,subtract:fn,typed:ne}),MZ=rS({Parser:Nh,typed:ne}),SZ=oS({ConstantNode:Do,FunctionNode:Zo,OperatorNode:Po,ParenthesisNode:qo,SymbolNode:Ha,config:Ee,equal:Ei,isZero:Fa,numeric:kr,parse:Oi,simplify:zc,typed:ne});Oo(za,{reviver:xZ,false:Wk,null:Yk,true:$k,replacer:jk,i:Gk,LN10:Kk,LOG10E:Xk,NaN:eD,pi:Pg,SQRT1_2:tD,tau:nD,efimovFactor:rD,fineStructure:iD,sackurTetrode:aD,weakMixingAngle:oD,e:Zg,Infinity:sD,LOG2E:cD,PI:Pg,version:uD,E:Zg,phi:lD,typed:ne,isInteger:Er,isNumeric:Za,isPositive:Ms,isNaN:No,equalScalar:Rt,number:La,boolean:dD,complex:Ec,splitUnit:pD,unaryPlus:mD,apply:Oc,cube:fD,expm1:gD,log10:hD,multiplyScalar:yn,sign:Lg,square:vD,bitNot:_D,arg:xD,im:yD,not:Rg,filter:bD,forEach:wD,map:Ug,erf:CD,format:Bg,oct:MD,print:SD,isPrime:ND,acos:AD,acot:TD,acsc:ID,asec:ED,asin:OD,atan:Fg,atanh:kD,cosh:DD,coth:qD,csch:PD,sech:ZD,sinh:LD,tanh:RD,chain:yZ,combinations:Ss,pickRandom:UD,randomInt:BD,LN2:FD,clone:zD,hasNumericValue:HD,typeOf:QD,string:VD,fraction:Ao,unaryMinus:ti,addScalar:In,exp:JD,log2:WD,sqrt:Ai,conj:To,getMatrixDataType:YD,mode:$D,bin:jD,acosh:GD,acsch:KD,asinh:XD,cos:kc,csc:eq,sin:Dc,combinationsWithRep:tq,random:nq,SQRT2:rq,isNegative:Ra,matrix:ze,cbrt:iq,gcd:aq,mod:oq,nthRoot:sq,xgcd:cq,bitAnd:uq,bitXor:lq,or:dq,concat:qc,diag:pq,identity:Ua,ones:mq,reshape:fq,size:_r,subset:Cr,zeros:Xi,hex:gq,round:Ns,leftShift:hq,rightLogShift:vq,compare:Ba,compareText:zg,smaller:Ur,larger:Or,unequal:_q,sparse:xq,acoth:yq,atan2:bq,sec:wq,add:En,dot:Vg,composition:Cq,isZero:Fa,abs:xr,floor:Jg,multiply:wn,dotMultiply:Mq,re:Sq,flatten:Nq,resize:Aq,squeeze:Tq,to:Iq,pow:Ti,dotPow:Eq,rightArithShift:Oq,compareNatural:Br,equalText:kq,largerEq:As,partitionSelect:Pc,asech:Dq,tan:qq,setDifference:Wg,setIntersect:Yg,setMultiplicity:Pq,setSize:Zq,trace:Lq,quantileSeq:Rq,gamma:$g,bignumber:Ii,lcm:Uq,bitOr:Bq,kron:Fq,transpose:Zc,numeric:kr,and:zq,smallerEq:Lc,sort:Hq,min:Qq,cot:Vq,setDistinct:Jq,setPowerset:Wq,index:Yq,sum:jg,factorial:Ts,permutations:$q,ceil:Gg,subtract:fn,cross:jq,range:Io,row:Gq,prod:Kq,equal:Ei,max:Kg,setCartesian:Xq,setSymDifference:Xg,fix:eh,column:eP,ctranspose:th,deepEqual:tP,setIsSubset:nP,xor:rP,divideScalar:Cn,nthRoots:iP,lsolve:nh,lsolveAll:aP,setUnion:oP,lup:Rc,slu:ih,det:ah,distance:sP,stirlingS2:oh,catalan:cP,diff:uP,log:Uc,dotDivide:sh,usolveAll:lP,hypot:dP,qr:pP,inv:Eo,expm:mP,divide:Fr,mean:fP,variance:Bc,kldivergence:gP,bellNumbers:hP,log1p:vP,createUnit:_P,eigs:ch,intersect:xP,std:yP,atomicMass:bP,bohrMagneton:wP,boltzmann:CP,conductanceQuantum:MP,deuteronMass:SP,electronMass:NP,faraday:AP,firstRadiation:TP,gravitationConstant:IP,hartreeEnergy:EP,klitzing:OP,magneticConstant:kP,molarMass:DP,molarPlanckConstant:qP,neutronMass:PP,planckCharge:ZP,planckLength:LP,planckTemperature:RP,protonMass:UP,reducedPlanckConstant:BP,secondRadiation:FP,stefanBoltzmann:zP,vacuumImpedance:HP,usolve:uh,norm:lh,lusolve:QP,sqrtm:VP,multinomial:JP,avogadro:WP,classicalElectronRadius:YP,electricConstant:$P,fermiCoupling:jP,gravity:GP,loschmidt:KP,molarMassC12:XP,nuclearMagneton:eZ,planckMass:tZ,quantumOfCirculation:nZ,speedOfLight:rZ,wienDisplacement:iZ,rotationMatrix:dh,median:ph,bohrRadius:aZ,elementaryCharge:oZ,inverseConductanceQuantum:sZ,molarVolume:cZ,planckTime:uZ,thomsonCrossSection:lZ,rotate:dZ,parse:Oi,evaluate:Mh,mad:pZ,coulomb:mZ,magneticFluxQuantum:fZ,rydberg:gZ,unit:hZ,help:bZ,gasConstant:vZ,compile:wZ,simplify:zc,rationalize:CZ,parser:MZ,planckConstant:_Z,derivative:SZ,config:Ee}),Oo(ko,za,{apply:dS({isInteger:Er,typed:ne}),filter:fS({typed:ne}),map:vS({typed:ne}),forEach:yS({typed:ne}),subset:AS({matrix:ze,typed:ne}),index:ES({Index:Yn}),concat:qS({isInteger:Er,matrix:ze,typed:ne}),max:RS({config:Ee,larger:Or,numeric:kr,typed:ne}),min:zS({config:Ee,numeric:kr,smaller:Ur,typed:ne}),sum:VS({add:En,config:Ee,numeric:kr,typed:ne}),column:$S({Index:Yn,matrix:ze,range:Io,typed:ne}),range:XS({bignumber:Ii,matrix:ze,config:Ee,larger:Or,largerEq:As,smaller:Ur,smallerEq:Lc,typed:ne}),diff:n4({bignumber:Ii,matrix:ze,number:La,subtract:fn,typed:ne}),row:o4({Index:Yn,matrix:ze,range:Io,typed:ne}),mean:l4({add:En,divide:Fr,typed:ne}),variance:m4({add:En,apply:Oc,divide:Fr,isNaN:No,multiply:wn,subtract:fn,typed:ne}),std:v4({sqrt:Ai,typed:ne,variance:Bc})}),Oo(mh,{ResultSet:Dg,Complex:dn,Range:qg,Node:$n,ArrayNode:fh,BlockNode:gh,ConstantNode:Do,ObjectNode:hh,ParenthesisNode:qo,RelationalNode:vh,Chain:Fc,BigNumber:Re,Matrix:Cs,ConditionalNode:_h,OperatorNode:Po,Fraction:Ki,RangeNode:xh,DenseMatrix:It,FunctionAssignmentNode:yh,SparseMatrix:ni,ImmutableDenseMatrix:Hg,FibonacciHeap:Qg,AccessorNode:bh,IndexNode:wh,Index:Yn,AssignmentNode:Ch,Spa:rh,Unit:mt,SymbolNode:Ha,FunctionNode:Zo,Help:Sh,Parser:Nh}),Fc.createProxy(za);const NZ=["calcexp"],AZ=function(t){return{show:t}};function TZ(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),e._uU(5),e.qZA(),e.TgZ(6,"input",6,7),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw().mainText=a})("keyup.enter",function(){return e.CHM(n),e.oxw().getAnswer()}),e.qZA()(),e.TgZ(8,"div",8)(9,"table",9)(10,"tr")(11,"td",10),e.NdJ("click",function(){return e.CHM(n),e.oxw().allClear()}),e._uU(12,"AC"),e.qZA(),e.TgZ(13,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("(")}),e._uU(14,"("),e.qZA(),e.TgZ(15,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey(")")}),e._uU(16,")"),e.qZA(),e.TgZ(17,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("!")}),e._uU(18,"!"),e.qZA()(),e.TgZ(19,"tr")(20,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("^")}),e._uU(21,"^"),e.qZA(),e.TgZ(22,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("sqrt(")}),e._uU(23,"sqrt"),e.qZA(),e.TgZ(24,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("log(")}),e._uU(25,"ln"),e.qZA(),e.TgZ(26,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("e")}),e._uU(27,"e"),e.qZA()(),e.TgZ(28,"tr")(29,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("sin(")}),e._uU(30,"sin"),e.qZA(),e.TgZ(31,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("cos(")}),e._uU(32,"cos"),e.qZA(),e.TgZ(33,"td",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("tan(")}),e._uU(34,"tan"),e.qZA(),e.TgZ(35,"td",12),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("/")}),e._uU(36,"/"),e.qZA()(),e.TgZ(37,"tr")(38,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("7")}),e._uU(39,"7"),e.qZA(),e.TgZ(40,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("8")}),e._uU(41,"8"),e.qZA(),e.TgZ(42,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("9")}),e._uU(43,"9"),e.qZA(),e.TgZ(44,"td",14),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("*")}),e._uU(45,"*"),e.qZA()(),e.TgZ(46,"tr")(47,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("4")}),e._uU(48,"4"),e.qZA(),e.TgZ(49,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("5")}),e._uU(50,"5"),e.qZA(),e.TgZ(51,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("6")}),e._uU(52,"6"),e.qZA(),e.TgZ(53,"td",14),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("-")}),e._uU(54,"-"),e.qZA()(),e.TgZ(55,"tr")(56,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("3")}),e._uU(57,"3"),e.qZA(),e.TgZ(58,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("2")}),e._uU(59,"2"),e.qZA(),e.TgZ(60,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("1")}),e._uU(61,"1"),e.qZA(),e.TgZ(62,"td",14),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("+")}),e._uU(63,"+"),e.qZA()(),e.TgZ(64,"tr")(65,"td",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey("0")}),e._uU(66,"0"),e.qZA(),e.TgZ(67,"td",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().pressKey(".")}),e._uU(68,"."),e.qZA(),e.TgZ(69,"td",16),e.NdJ("click",function(){return e.CHM(n),e.oxw().getAnswer()}),e._uU(70,"="),e.qZA()()()()(),e._UZ(71,"br"),e.TgZ(72,"div",17),e.NdJ("click",function(){return e.CHM(n),e.oxw().closeCalculator()}),e.O4$(),e.TgZ(73,"svg",18),e._UZ(74,"path",19),e.qZA()()()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(7,AZ,n.showCalculator)),e.xp6(1),e.ekj("dark",n.darkMode),e.xp6(3),e.Oqu(n.subText),e.xp6(1),e.Q6J("ngModel",n.mainText),e.xp6(3),e.ekj("dark",n.darkMode)}}let IZ=(()=>{class t{constructor(n){this.store=n,this.subText="",this.mainText="",this.calculationString=""}ngOnInit(){this.store.select(F.xf).subscribe(n=>{this.showCalculator=n.showCalculator,n.showCalculator&&this.focusOnCalculator()}),this.store.select(Q.sx).subscribe(n=>this.darkMode=n)}pressKey(n){if(this.focusOnCalculator(),"/"===n||"x"===n||"-"===n||"+"===n){const i=this.mainText[this.mainText.length-1];if("/"===i||"x"===i||"-"===i||"+"===i||""===this.mainText)return}this.mainText+=n}allClear(){this.focusOnCalculator(),this.mainText="",this.subText=""}getAnswer(){this.focusOnCalculator(),this.calculationString=this.mainText,this.subText=this.calculationString;try{this.mainText=Mh(this.calculationString)}catch{}}focusOnCalculator(){this.showCalculator&&setTimeout(()=>{this.calcExpressionField.nativeElement.focus()},0)}closeCalculator(){this.store.dispatch((0,Y.E5)())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["on-screen-calculator"]],viewQuery:function(n,i){if(1&n&&e.Gf(NZ,5),2&n){let a;e.iGM(a=e.CRH())&&(i.calcExpressionField=a.first)}},decls:1,vars:1,consts:[["id","calculator",4,"ngIf"],["id","calculator"],["cdkDrag","","cdkDragBoundary","body",1,"overlay","cursor-grab",3,"ngClass"],[1,"base"],[1,"maindisplay"],[1,"subdisplay"],["placeholder","Type Expression",1,"input",3,"ngModel","ngModelChange","keyup.enter"],["calcexp",""],[1,"keypad"],[2,"width","100%"],["colspan","1",1,"keys","ackey",3,"click"],["colspan","1",1,"keys","opkey",3,"click"],["colspan","1",1,"keys","opkey","operands",3,"click"],[1,"keys","numkey",3,"click"],[1,"keys","opkey","operands",3,"click"],["colspan","2",1,"keys","numkey",3,"click"],[1,"keys","equalkey",3,"click"],[1,"calcRightButton",3,"click"],["width","12","height","12","viewBox","0 0 12 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z","stroke","#A1A1AA","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(n,i){1&n&&e.YNc(0,TZ,75,9,"div",0),2&n&&e.Q6J("ngIf",i.showCalculator)},directives:[Ue.O5,Js.Zt,Ue.mk,Qe.Fj,Qe.JJ,Qe.On],styles:[".overlay[_ngcontent-%COMP%]{display:none;position:fixed;bottom:30px;right:20px;z-index:125;padding:20px}.show[_ngcontent-%COMP%]{display:block}.base[_ngcontent-%COMP%]{background:#fafafa;width:300px;margin:auto;border-radius:10px 10px 0 0}.base.dark[_ngcontent-%COMP%]{background:rgb(51,65,85)}tr[_ngcontent-%COMP%]{min-height:45px;height:45px}table.dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:rgb(51,65,85)}table.dark[_ngcontent-%COMP%]   td.keys.opkey[_ngcontent-%COMP%]{color:#22c55e!important}table.dark[_ngcontent-%COMP%]   td.keys[_ngcontent-%COMP%]{color:#cbd5e1!important}.equalkey[_ngcontent-%COMP%]{background-color:#22c55e!important;color:#fafafa!important;font-size:2em!important}.circular[_ngcontent-%COMP%]{webkit-box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.3)!important;box-shadow:0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f,0 5px 5px -3px #0000004d!important}.maindisplay[_ngcontent-%COMP%]{padding:5%!important;font-size:1.75rem;overflow:auto;max-width:400px;width:100%;background:#3b82f6;color:#fff;border-radius:10px 10px 0 0}.subdisplay[_ngcontent-%COMP%]{height:20px;font-size:16px;overflow:auto}.input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;max-width:98%;display:block;margin:auto;text-align:right;width:100%;height:50px;color:#fff}.input[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:.3}.keypad[_ngcontent-%COMP%]{height:75%;width:100%}table[_ngcontent-%COMP%]{border:none;outline:none;height:100%;width:100%}.keys[_ngcontent-%COMP%]{margin:0!important;background:#fafafa;padding:5px;font-size:1.5rem;height:17%;font-size:16px;line-height:24px;font-weight:500;text-align:center;color:#71717a;cursor:pointer;outline:1px solid rgba(136,14,79,.1);box-shadow:none;transition:box-shadow .2s}.opkey[_ngcontent-%COMP%]{margin:0!important;color:#16a34a!important}.operands[_ngcontent-%COMP%]{font-size:1.6em}@media screen and (max-width: 900px){.overlay[_ngcontent-%COMP%]{right:80px;bottom:100px}#calculator[_ngcontent-%COMP%]{bottom:60px!important}}.calcRightButton[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px;height:25px;width:25px;padding-top:10px;color:#515152;background-color:transparent;cursor:pointer!important}\n/*# sourceMappingURL=on-screen-calculator.component.css.map*/"]}),t})();var Is=ke(35365);function EZ(t,r){if(1&t&&e._UZ(0,"mcq-single",13),2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)}}function OZ(t,r){if(1&t&&e._UZ(0,"mcq-checkbox",13),2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)}}function kZ(t,r){if(1&t&&e._UZ(0,"subjective-manual",13),2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)}}function DZ(t,r){if(1&t&&e._UZ(0,"work-sample",13),2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)}}function qZ(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-video-explanation",14),e.NdJ("saveRecordedVideo",function(a){return e.CHM(n),e.oxw(5).saveRecordedVideoToS3(a)}),e.qZA()}if(2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)("testId",n.testId)("deviceChange",n.deviceChanged)("sectionOver",n.sectionOverEventsSubject.asObservable())}}function PZ(t,r){if(1&t&&e._UZ(0,"machine-learning",13),2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)}}function ZZ(t,r){if(1&t&&e._UZ(0,"coding",15),2&t){const n=e.oxw(5);e.Q6J("questionHash",n.qContext.hash)("isDragging",n.isDragging)}}function LZ(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"project",16),e.NdJ("updateVMInteractionEvent",function(a){return e.CHM(n),e.oxw(5).updateVMInteractionForQuestion(a)})("updateVMStateEvent",function(a){return e.CHM(n),e.oxw(5).updateVMStateForQuestion(a)}),e.qZA()}if(2&t){const n=e.oxw(5);e.Q6J("isDragging",n.isDragging)("qType",n.qContext.type)("questionHash",n.qContext.hash)}}const RZ=function(t,r,n,i){return[t,r,n,i]},UZ=function(t,r){return[t,r]};function BZ(t,r){if(1&t&&(e.ynx(0),e.YNc(1,EZ,1,1,"mcq-single",9),e.YNc(2,OZ,1,1,"mcq-checkbox",9),e.YNc(3,kZ,1,1,"subjective-manual",9),e.YNc(4,DZ,1,1,"work-sample",9),e.YNc(5,qZ,1,4,"app-video-explanation",10),e.YNc(6,PZ,1,1,"machine-learning",9),e.YNc(7,ZZ,1,2,"coding",11),e.YNc(8,LZ,1,3,"project",12),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.MCQ_SINGLE),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.MCQ_MULTIPLE),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.SUBJECTIVE_MANUAL),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.WORK_SAMPLE),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.VIDEO_EXPLANATION),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.MACHINE_LEARNING),e.xp6(1),e.Q6J("ngIf",e.l5B(8,RZ,n.QuestionTypesEnum.PROGRAMMING_GENERAL,n.QuestionTypesEnum.DEBUGGING,n.QuestionTypesEnum.DATA_SCIENCE,n.QuestionTypesEnum.DATABASE).includes(n.qContext.type)),e.xp6(1),e.Q6J("ngIf",e.WLB(13,UZ,n.QuestionTypesEnum.PROJECT,n.QuestionTypesEnum.DEVOPS).includes(n.qContext.type))}}function FZ(t,r){if(1&t&&(e.ynx(0),e.YNc(1,BZ,9,16,"ng-container",3),e.BQk()),2&t){const n=r.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n===(null==i.qContext?null:i.qContext.hash))}}function zZ(t,r){if(1&t&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2),e.qZA(),e.TgZ(3,"div",44),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(2),e.hij(" Are you sure you want to end your ",n.quizDetails.quizNomenclatureLower," here? "),e.xp6(2),e.hij(" You cannot come back to the ",n.quizDetails.quizNomenclatureLower," later once submitted ")}}function HZ(t,r){if(1&t&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2,"Looks like you ran out of time"),e.qZA(),e.TgZ(3,"div",44),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(4),e.hij(" Here is a summary of your ",n.quizDetails.quizNomenclatureLower," attempt ")}}function QZ(t,r){if(1&t&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2,"You have exceeded the permissable violation count"),e.qZA(),e.TgZ(3,"div",44),e._uU(4),e.qZA()()),2&t){const n=e.oxw(4);e.xp6(4),e.hij(" Your ",n.quizDetails.quizNomenclatureLower," will now be terminated ")}}function VZ(t,r){1&t&&(e.TgZ(0,"div",45),e._uU(1,"Flagged"),e.qZA())}function JZ(t,r){1&t&&(e.TgZ(0,"div",45),e._uU(1,"Skipped"),e.qZA())}function WZ(t,r){if(1&t&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",(null==n.attemptedData?null:n.attemptedData.flaggedCount)||0," questions ")}}function YZ(t,r){if(1&t&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",(null==n.attemptedData?null:n.attemptedData.skipped)||0," questions ")}}function $Z(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).continueToTest()}),e._uU(1),e.qZA()}if(2&t){const n=e.oxw(4);e.ekj("white-button",!n.darkMode)("gray-button",n.darkMode),e.xp6(1),e.hij(" Continue ",n.quizDetails.quizNomenclatureLower," ")}}function jZ(t,r){1&t&&(e.TgZ(0,"div",47),e._uU(1," Please wait while your data is getting saved... "),e.qZA())}const GZ=function(t){return{"text-orange-600":t}},KZ=function(t){return{disabled:t}};function XZ(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div",19),e._UZ(3,"div",20),e.TgZ(4,"div",21),e._uU(5),e.qZA()()(),e.TgZ(6,"div",22),e.YNc(7,zZ,5,2,"div",23),e.YNc(8,HZ,5,1,"div",23),e.YNc(9,QZ,5,1,"div",23),e.TgZ(10,"div",24)(11,"div",25),e._uU(12,"You have"),e.qZA(),e.TgZ(13,"table",26)(14,"tbody")(15,"tr",27)(16,"td",28)(17,"div",29)(18,"div",30)(19,"div",31),e._uU(20,"Completed"),e.qZA()()()(),e.TgZ(21,"td",32)(22,"div",33),e._uU(23),e.qZA()()(),e.TgZ(24,"tr",27)(25,"td",28)(26,"div",29)(27,"div",30),e.YNc(28,VZ,2,0,"div",34),e.YNc(29,JZ,2,0,"div",34),e.qZA()()(),e.TgZ(30,"td",32),e.YNc(31,WZ,2,1,"div",35),e.YNc(32,YZ,2,1,"div",35),e.qZA()(),e.TgZ(33,"tr")(34,"td",28)(35,"div",29)(36,"div",30)(37,"div",36),e._uU(38,"Unattempted"),e.qZA()()()(),e.TgZ(39,"td",32)(40,"div",37),e._uU(41),e.qZA()()()()()()(),e.TgZ(42,"div",38),e.YNc(43,$Z,2,5,"button",39),e.TgZ(44,"button",40),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).finishTest()}),e._uU(45),e.qZA()(),e.YNc(46,jZ,2,0,"div",41),e.qZA()}if(2&t){const n=e.oxw(3);e.ekj("darkModal",n.darkMode),e.Q6J("show",n.showFinishTestModal),e.xp6(5),e.hij(" Submit ",n.quizDetails.quizNomenclatureLower," "),e.xp6(2),e.Q6J("ngIf","candidateTriggered"===n.finishTestReason),e.xp6(1),e.Q6J("ngIf","timeOut"===n.finishTestReason),e.xp6(1),e.Q6J("ngIf","proctoringTrigger"===n.finishTestReason),e.xp6(5),e.ekj("bg-white",!n.darkMode),e.xp6(1),e.ekj("border-gray-400",n.darkMode),e.xp6(1),e.ekj("border-gray-400",n.darkMode),e.xp6(7),e.AsE(" ",null==n.attemptedData?null:n.attemptedData.attempted,"/",null==n.attemptedData?null:n.attemptedData.totalQuestions," questions "),e.xp6(1),e.ekj("border-gray-400",n.darkMode),e.xp6(1),e.ekj("border-gray-400",n.darkMode),e.xp6(3),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",n.inAdaptiveMode),e.xp6(2),e.Q6J("ngIf",!n.inAdaptiveMode),e.xp6(1),e.Q6J("ngIf",n.inAdaptiveMode),e.xp6(2),e.ekj("border-gray-400",n.darkMode),e.xp6(6),e.Q6J("ngClass",e.VKq(35,GZ,(null==n.attemptedData?null:n.attemptedData.remainingAnswers)>0)),e.xp6(1),e.hij(" ",null==n.attemptedData?null:n.attemptedData.remainingAnswers," questions "),e.xp6(1),e.ekj("darkModalAction",n.darkMode),e.xp6(1),e.Q6J("ngIf",n.showContinueButton()),e.xp6(1),e.ekj("dark",n.darkMode),e.Q6J("ngClass",e.VKq(37,KZ,n.currentVideoFileStatus===n.ApiStateEnum.LOADING)),e.xp6(1),e.hij(" Submit ",n.quizDetails.quizNomenclatureLower," "),e.xp6(1),e.Q6J("ngIf",n.currentVideoFileStatus===n.ApiStateEnum.LOADING)}}function eL(t,r){if(1&t&&(e.ynx(0),e._UZ(1,"section-switch-modal",48),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("show",n.showSectionSwitchModal)("testId",n.testId)("currentSection",n.activeSectionDetail)("NextSection",n.nextActiveSection)}}function tL(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"div",4)(3,"div",5)(4,"candidate-editor-layout",6),e.NdJ("isDragging",function(a){return e.CHM(n),e.oxw(2).isDragging=a}),e.YNc(5,FZ,2,1,"ng-container",7),e.qZA()()()(),e.YNc(6,XZ,47,39,"div",8),e.YNc(7,eL,2,4,"ng-container",3),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(2),e.ekj("dark",n.darkMode),e.xp6(3),e.Q6J("ngForOf",n.allQuestionHashes),e.xp6(1),e.Q6J("ngIf",n.showFinishTestModal),e.xp6(1),e.Q6J("ngIf",n.showSectionSwitchModal)}}function nL(t,r){1&t&&(e.ynx(0),e._UZ(1,"proctor")(2,"on-screen-calculator"),e.BQk())}function rL(t,r){1&t&&e.GkF(0)}function iL(t,r){if(1&t&&(e.ynx(0),e.YNc(1,rL,1,0,"ng-container",49),e.BQk()),2&t){e.oxw(2);const n=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}const aL=function(t){return{"scroll-lock":t}};function oL(t,r){if(1&t&&(e.TgZ(0,"html",2),e.YNc(1,tL,8,5,"ng-container",3),e.YNc(2,nL,3,0,"ng-container",3),e.YNc(3,iL,2,1,"ng-container",3),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",e.VKq(4,aL,n.splitView)),e.xp6(1),e.Q6J("ngIf",n.isReplayOn||n.sessionController.isValid),e.xp6(1),e.Q6J("ngIf",!n.isReplayOn&&n.sessionController.isValid),e.xp6(1),e.Q6J("ngIf",!n.sessionController.isValid)}}function sL(t,r){if(1&t&&(e.TgZ(0,"div",61)(1,"div",62)(2,"div",29),e.O4$(),e.TgZ(3,"svg",63),e._UZ(4,"path",64),e.qZA()(),e.kcU(),e.TgZ(5,"div",65)(6,"div",66),e._uU(7),e.qZA(),e.TgZ(8,"div",67),e._uU(9),e.qZA()()()()),2&t){const n=e.oxw(2);e.xp6(7),e.hij(" The ",n.quizDetails.quizNomenclatureLower," is active on a different window "),e.xp6(2),e.hij(" If you want to continue on this tab, please ",n.candidatesEmail?"":"type your email and"," click on continue. ")}}function cL(t,r){1&t&&(e.TgZ(0,"div",67),e._uU(1,"Contact the manager to get your link"),e.qZA())}function uL(t,r){if(1&t&&(e.TgZ(0,"div",61)(1,"div",68)(2,"div",29),e.O4$(),e.TgZ(3,"svg",63),e._UZ(4,"path",64),e.qZA()(),e.kcU(),e.TgZ(5,"div",65)(6,"div",69),e._uU(7),e.qZA(),e.YNc(8,cL,2,0,"div",70),e.qZA()()()),2&t){const n=e.oxw(2);e.xp6(7),e.hij(" This ",n.quizDetails.quizNomenclatureLower," is not associated with the provided email "),e.xp6(1),e.Q6J("ngIf",!1)}}function lL(t,r){if(1&t&&(e.TgZ(0,"div",61)(1,"div",68)(2,"div",29),e.O4$(),e.TgZ(3,"svg",63),e._UZ(4,"path",64),e.qZA()(),e.kcU(),e.TgZ(5,"div",65)(6,"div",69),e._uU(7),e.qZA()()()()),2&t){const n=e.oxw(2);e.xp6(7),e.hij(" ",n.updateSessionApiState.error.errorMessage," ")}}function dL(t,r){if(1&t&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",73),e._UZ(2,"path",74),e.qZA(),e.kcU(),e.TgZ(3,"span",33),e._uU(4," Candidate "),e.TgZ(5,"span",75),e._uU(6),e.qZA()(),e.BQk()),2&t){const n=e.oxw(3);e.xp6(6),e.Oqu(n.candidatesEmail)}}function pL(t,r){if(1&t&&(e.TgZ(0,"p",80),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",n.updateSessionApiState.error.errorMessage," ")}}function mL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"label"),e._uU(3,"Enter your email"),e.qZA()(),e.TgZ(4,"input",78),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(3).candidateEmailInputValue=a}),e.qZA(),e.YNc(5,pL,2,1,"p",79),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(4),e.Q6J("ngModel",n.candidateEmailInputValue),e.xp6(1),e.Q6J("ngIf",n.updateSessionApiState.state===n.ApiStateEnum.ERROR&&"invalid_email"===n.updateSessionApiState.error.errorCode)}}function fL(t,r){if(1&t&&(e.TgZ(0,"div",71),e.YNc(1,dL,7,1,"ng-container",3),e.YNc(2,mL,6,2,"div",72),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.candidatesEmail),e.xp6(1),e.Q6J("ngIf",!n.candidatesEmail)}}function gL(t,r){if(1&t&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",73),e._UZ(2,"path",74),e.qZA(),e.kcU(),e.TgZ(3,"span",33),e._uU(4," Candidate "),e.TgZ(5,"span",75),e._uU(6),e.qZA()(),e.BQk()),2&t){const n=e.oxw(3);e.xp6(6),e.Oqu(n.candidatesEmail)}}function hL(t,r){if(1&t&&(e.TgZ(0,"p",80),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",n.updateSessionApiState.error.errorMessage," ")}}function vL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"label"),e._uU(3,"Enter your email"),e.qZA()(),e.TgZ(4,"input",78),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(3).candidateEmailInputValue=a}),e.qZA(),e.YNc(5,hL,2,1,"p",79),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(4),e.Q6J("ngModel",n.candidateEmailInputValue),e.xp6(1),e.Q6J("ngIf",n.updateSessionApiState.state===n.ApiStateEnum.ERROR&&"invalid_email"===n.updateSessionApiState.error.errorCode)}}function _L(t,r){if(1&t&&(e.TgZ(0,"div",71),e.YNc(1,gL,7,1,"ng-container",3),e.YNc(2,vL,6,2,"div",72),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.candidatesEmail),e.xp6(1),e.Q6J("ngIf",!n.candidatesEmail)}}const Ah=function(t){return{loading:t}};function xL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",81)(1,"button",82),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).updateSession()}),e._uU(2," Continue "),e.qZA()()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("disabled",!(n.candidatesEmail||null!=n.candidateEmailInputValue&&n.candidateEmailInputValue.length))("ngClass",e.VKq(2,Ah,n.updateSessionApiState.state===n.ApiStateEnum.LOADING))}}function yL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",81)(1,"button",82),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).updateSession()}),e._uU(2," Continue "),e.qZA()()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("disabled",!(n.candidatesEmail||null!=n.candidateEmailInputValue&&n.candidateEmailInputValue.length))("ngClass",e.VKq(2,Ah,n.updateSessionApiState.state===n.ApiStateEnum.LOADING))}}function bL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",81)(1,"button",83),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).launchApp()}),e._uU(2," Continue in Sherlock "),e.qZA()()}}const wL=function(){return["test_not_found","quiz_not_found","quiz_inactive","session_id_not_found","feedback_submitted","already_attempted"]};function CL(t,r){if(1&t&&(e.TgZ(0,"landing-page-layout",50)(1,"div",51),e.YNc(2,sL,10,2,"div",52),e.YNc(3,uL,9,2,"div",52),e.YNc(4,lL,8,1,"div",52),e.TgZ(5,"div",53),e._uU(6),e.qZA(),e.TgZ(7,"div",54)(8,"div"),e._UZ(9,"i",55),e.TgZ(10,"span",56),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"div",29),e.O4$(),e.TgZ(14,"svg",57),e._UZ(15,"path",58),e.qZA(),e.kcU(),e.TgZ(16,"span",56),e._uU(17),e.qZA()()(),e.YNc(18,fL,3,2,"div",59),e.YNc(19,_L,3,2,"div",59),e.YNc(20,xL,3,4,"div",60),e.YNc(21,yL,3,4,"div",60),e.YNc(22,bL,3,0,"div",60),e.qZA()()),2&t){const n=e.oxw();e.Q6J("isLoading",!1)("testLogo",n.quizDetails.orgLogo)("testBanner",n.quizDetails.orgBanner),e.xp6(2),e.Q6J("ngIf",n.sessionController.loggedOut&&n.updateSessionApiState.state!==n.ApiStateEnum.ERROR&&n.updateSessionApiState.state!==n.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.updateSessionApiState.state===n.ApiStateEnum.ERROR&&"email_mismatch"===n.updateSessionApiState.error.errorCode),e.xp6(1),e.Q6J("ngIf",n.updateSessionApiState.state===n.ApiStateEnum.ERROR&&e.DdM(17,wL).includes(n.updateSessionApiState.error.errorCode)),e.xp6(2),e.hij(" ",n.quizDetails.name," "),e.xp6(5),e.hij("",e.xi3(12,14,n.quizDetails.duration/60,".0-2")," mins"),e.xp6(6),e.hij("",n.quizDetails.totalQuestions," Questions"),e.xp6(1),e.Q6J("ngIf",!n.sherlock),e.xp6(1),e.Q6J("ngIf",n.sherlock&&n.isSherlockWindow),e.xp6(1),e.Q6J("ngIf",!n.sherlock),e.xp6(1),e.Q6J("ngIf",n.sherlock&&n.isSherlockWindow),e.xp6(1),e.Q6J("ngIf",n.sherlock&&!n.isSherlockWindow)}}let ea=class{constructor(r,n,i,a,o,c,d,s,p,l){this.store=r,this._testportalService=n,this._sharedClient=i,this._route=a,this._router=o,this._authorizationService=c,this._auditService=d,this._toastr=s,this._screenShareService=p,this._indexedDbService=l,this.QuestionTypesEnum=te.ON,this.lastReloadAt=0,this.guestEmail="",this.quizId="",this.isSherlockWindow=!1,this.showFinishTestModal=!1,this.finishTestReason="candidateTriggered",this.changeFlag=!0,this.showReload=!1,this.isWindowExtended=!1,this.innerWidth=1200,this.innerHeight=435,this.syncBatchLength=25,this.attemptedData={},this.inAdaptiveMode=!1,this.lastPushToServerAttemptTimestamp=0,this.isFinished=!1,this.currentVideoFileStatus=he.V.NOTLOADED,this.ApiStateEnum=he.V,this.currentVideoFileSelector=null,this.orgLogo=null,this.orgBanner=null,this.updateSessionApiState={state:he.V.NOTLOADED},this.deviceChanged=new li.xQ,this.projectQuestionPollingInterval=5e3,this.sectionOverEventsSubject=new li.xQ,this.videoSubmissionIndexedDbIntervalDuration=5e3,this.videoSubmissionsGettingUploaded=[],this._toastr.toastrConfig.preventDuplicates=!0,this.nextButtonText="",this.answerCounterMap={},this.answerKeys={},this.testId="",this.attemptCounter=0,this.answerQueue=[],this.visitedQuestions={},this.importantQuestions={},this.savedToServer={},this.answers={},this.prevAnswers={},this.prevAnswerKeys={},this.qContext={},this.questionId=0,this.sectionId=0,this.timeLeft={hr:0,min:0,sec:0},this.showAttempted=z.N.testEditor.showAttempted,this.showTopNavigator=z.N.testEditor.showTopNavigator,this.showSaveToServer=z.N.testEditor.showSaveToServer,this.warningTime=15,this.timeWarning=!1,this.splitView=!1,this.fullScreenView=!1,this.disableSplitView=!1,this.testType="Test",this.testId=this._route.snapshot.params.testId,this.candidatesEmail=""}refreshScope(){}auditExtendedScreen(){window.screen.isExtended&&!this.isWindowExtended&&(this.isWindowExtended=!0,(0,H.yi)({eventType:"extended_screen",message:"Users screen is extended",eventDetails:{time:Date.now()}})),setTimeout(()=>this.auditExtendedScreen(),3e4)}auditScreenDimension(){this.store.dispatch((0,H.yi)({eventType:"screen_dimension",message:"Users screen dimensions",eventDetails:{time:Date.now(),screenHeight:`${window.innerHeight}px`,screenWidth:`${window.innerWidth}px`}}))}auditSyatemSpecs(){this.store.dispatch((0,H.yi)({eventType:"system_specs",message:"Users system specifications",eventDetails:{supports_webgl:ee.P.checkWebGLSupport(),supports_web_worker:!!window.Worker,ram:navigator.deviceMemory||0,cores:navigator.hardwareConcurrency||0,platform:navigator.platform||""}}))}ngOnInit(){var r=this;return(0,Le.Z)(function*(){r.checkSherlockWindow(),r.store.select(F.Tq).subscribe(i=>r.dataInitializedSuccessfully=i),r.store.select(Q.wg).subscribe(i=>{r.answerUpdateInterval=i.answerUpdateInterval}),r.store.select(Q.U_).subscribe(i=>{r.sherlock=i.sherlock}),r.store.select(Q.U_).subscribe(i=>{r.screenRecording=i.screenRecording,r.screenRecordingWithoutAudio=i.screenRecordingWithoutAudio}),r.store.select(F.C3).subscribe(i=>r.sections=i),r.store.select(F.k9).subscribe(i=>r.sessionController=i),r.store.select(F.RO).subscribe(i=>{r.quizDetails=i}),r.store.select(F.pl).subscribe(i=>{r.candidatesEmail=i}),r.store.select(F.UB).subscribe(i=>r.allQuestionHashes=i),r.store.select(F.t8).subscribe(i=>r.allQuestionMap=i),r.store.select(F.n7).subscribe(i=>{r.qContext=i,r.currentVideoFileSelector&&r.currentVideoFileSelector.unsubscribe()}),r.store.select(Q.ow).subscribe(i=>r.isReplayOn=i),r.store.select(Q.EV).subscribe(i=>{r.currentVideoFileStatus=i}),r.store.select(F.cj).subscribe(i=>r.inAdaptiveMode=i),r.store.select(Q.K3).subscribe(i=>{0!==i.duration?i.duration!==r.localStorageDumpSettings.duration&&(clearInterval(r.localStorageDumpInterval),r.localStorageDumpInterval=setInterval(()=>{r.dumpLocalStorageToS3(i)},1e3*i.duration)):clearInterval(r.localStorageDumpInterval),r.localStorageDumpSettings=i}),r.store.select(Q.lM).subscribe(i=>{r.answerQueue=i}),r.store.select(Q.U).subscribe(i=>{r.showFinishTestModal=i.showFinishTestModal,r.finishTestReason=i.finishTestReason,r.showFinishTestModal&&"candidateTriggered"!==r.finishTestReason&&setTimeout(()=>{r._screenShareService.stopRecording(),r._screenShareService.stopScreenStream()},1e3)}),r.store.select(F.$K).subscribe(i=>{r.attemptedData={...r.attemptedData,...i},r.attemptedData.remainingAnswers=i.totalQuestions-i.attempted}),r.store.select(Q.B_).subscribe(i=>{r.attemptedData.flaggedCount=i.length}),r.store.select(F.Ch).subscribe(i=>r.hackathonMode=i),r.store.select(Q.cs).subscribe(i=>{i&&r.showReloadToast()}),r.store.select(Q.jn).subscribe(function(){var i=(0,Le.Z)(function*(a){return r.timer=a});return function(a){return i.apply(this,arguments)}}()),r.store.select(Q.sx).subscribe(i=>r.darkMode=i),r.store.select(Q.JQ).subscribe(i=>r.isOffline=i),r.store.select(Q.MJ).subscribe(function(){var i=(0,Le.Z)(function*(a){return r.lastReloadAt=a});return function(a){return i.apply(this,arguments)}}()),r.store.select(F.UI).subscribe(i=>r.isMobileDevice=i),r.store.select(Q.kP).subscribe(i=>r.isFinished=i),r.store.select(Q.E8).subscribe(i=>{r.sections.forEach((a,o)=>{a.hash===i.activeSectionHash&&(r.activeSectionDetail={hash:i.activeSectionHash,name:a.name?a.name:`Section ${o+1}`,timeleft:i.activeSectionHashTimeleft}),a.hash===i.nextSectionHash&&(r.nextActiveSection={hash:i.nextSectionHash,name:a.name?a.name:`Section ${o+1}`})}),r.showSectionSwitchModal=i.show}),r.store.select(F.$j).subscribe(i=>r.isSectionBasedTimer=i),r.store.select(Q.wb).subscribe(i=>r.sectionHashIndexMap=i),r.store.select(Q.kC).subscribe(i=>{r.qTypeStoreDataMap=i}),r._sharedClient.showHeaderLoading=!1,r._sharedClient.showLoading=!1,r.username=r._authorizationService.getAuthorizedUserName(),r.refreshScope(),r._route.data.subscribe(i=>{(i=i.data).response?(r.store.dispatch((0,Y.WW)()),r.postProcessGetTest(i.response)):i.error&&"already_attempted"===i.error?.errorCode?(alert(i.error.errorMessage),r._router.navigateByUrl(`tests/${r.testId}/feedback`)):i.error&&"feedback_submitted"===i.error?.errorCode?(alert(i.error.errorMessage),r.redirectUrlHandler()):(alert(i.error?.errorMessage||"Something went wrong. Please check your internet connection and try again"),r._router.navigateByUrl("/"))}),r.getDeviceDimensionInterval=setInterval(()=>{const i=window.innerHeight<r.innerHeight||window.innerWidth<r.innerWidth;if(r.isMobileDevice!==i){let a=!1,o=!1;r.store.select(Q.mo).subscribe(c=>o=c).unsubscribe(),r.store.select(Q.UH).subscribe(c=>a=c).unsubscribe(),i&&o&&(alert("Screen dimension is small. Page will be reloaded, consider resizing your screen."),location.reload()),i&&a&&!r.screenRecordingWithoutAudio&&!r.screenRecording&&r.store.dispatch((0,H.eL)()),r.store.dispatch((0,Y.bc)({isMobileDevice:i}))}},1e3),r.reloadTimeInterval=setInterval((0,Le.Z)(function*(){r.candidatesEmail&&"candidateTriggered"===r.finishTestReason&&r.sessionController.isValid&&(yield r.getReloadTimeStamp())}),1e3*(r.hackathonMode?240:30)),r.secureTickInterval=setInterval((0,Le.Z)(function*(){r.candidatesEmail&&"candidateTriggered"===r.finishTestReason&&r.sessionController.isValid&&(yield r._auditService.secureTick())}),1e4),r.triggerPushAnswerToServer(),r.auditSyatemSpecs(),r.auditScreenDimension(),(0,On.R)(window,"resize").pipe((0,Gt.b)(1e3),(0,Te.t)(r)).subscribe(()=>r.auditScreenDimension()),navigator.mediaDevices.addEventListener("devicechange",()=>{r._screenShareService.deviceChangeHandler(),r.deviceChanged.next(!0)}),yield r._indexedDbService.openDatabase([{storeName:r._indexedDbService.storeName,keyPath:"id",indices:[{name:"testId-type-index",keyPath:["testId","type"]}]}]),r.videoSubmissionIndexedDbInterval=setInterval((0,Le.Z)(function*(){yield r.initializeVideoSubmissionInterval()}),r.videoSubmissionIndexedDbIntervalDuration)})()}ngOnDestroy(){$(".ui.modal").modal("hide dimmer").remove(),clearInterval(this.testTimer),clearInterval(this.getDeviceDimensionInterval),clearInterval(this.reloadTimeInterval),clearInterval(this.secureTickInterval),clearInterval(this.localStorageDumpInterval),clearInterval(this.videoSubmissionIndexedDbInterval),this._screenShareService.stopRecording(),this._screenShareService.stopScreenStream(),this._indexedDbService.closeDb()}checkSherlockWindow(){window.electronAPI&&window.electronAPI.appId&&(window.electronAPI.appId===z.N.sherlockAppId?this.isSherlockWindow=!0:(alert("Unauthorized application detected. Please use the official application."),window.electronAPI.closeTestWindow(),console.warn("App ID mismatch. Unauthorized application detected.")))}redirectUrlHandler(){window.location.href=this.quizDetails?.redirectUrl&&""!==this.quizDetails?.redirectUrl?this.quizDetails.redirectUrl:Fe[Math.floor(Math.random()*Fe.length)]}postProcessGetTest(r){(r.quiz.section||[]).forEach(o=>{(o.questions||[]).forEach(c=>{if(c.type=this.getQuestionType(o.t,c.type,c),!c.allowedLanguages?.length)switch(c.type){case te.ON.PROGRAMMING_GENERAL:case te.ON.DEBUGGING:c.allowedLanguages=te.$E.map(d=>d.name);break;case te.ON.DATA_SCIENCE:(c.allowedLanguages=te.Jf).map(d=>d.name);break;case te.ON.DATABASE:c.allowedLanguages=te.UV.map(d=>d.name)}})}),this.source=r.source;const n=((r?.formdata||[]).find(o=>"Email"===o.key)||{}).value,i=((r?.formdata||[]).find(o=>"Name"===o.key)||{}).value;this.store.dispatch((0,Y.yl)({candidateEmail:n,candidateName:i,testInstanceId:r._id,sections:r.quiz.section,hackathonMode:r.quiz.hackathonMode,enableCalculator:!!r.quiz.enableCalculator,inAdaptiveMode:r.quiz.adaptive,showLeaderboard:r.quiz.showLeaderboard,isWatermarkEnabled:n&&r.quiz.isWatermarkEnabled,isSectionBasedTimer:r.quiz.sectionBasedTime,quizId:r.quizId,quizName:r.quiz.name,quizDuration:r.quiz.duration,redirectUrl:r.quiz.redirectUrl,disableLsp:r.quiz.disableLsp,baseImageUrl:r.imageUrl?r.imageUrl:"",quizNomenclature:r.quiz.org?.nomenclature?.quiz?r.quiz.org?.nomenclature?.quiz:"Test",quizNomenclatureLower:r.quiz.org?.nomenclature?.quiz?r.quiz.org?.nomenclature?.quiz:"test",orgLogo:r.quiz.org?.testLogo?r.quiz.org.testLogo:null,orgBanner:r.quiz.org?.testBanner?r.quiz.org.testBanner:null,sessionDetails:r.sessionDetails||{}})),this.store.dispatch((0,Y.Ff)({sectionIndex:r.lastQuestionAudit?.sectionIndex,questionIndex:r.lastQuestionAudit?.questionIndex,sections:r.quiz.section,latestAnswerAuditTimestamp:r.latestAnswerAuditTimestamp||0}));const a={};r.quiz.sectionBasedTime&&r.quiz.section.forEach((o,c)=>{a[o.hash]=c}),r.quiz.blockMobileAndUnwantedBrowsers&&(r.quiz.proctoring.blockMobileAndUnwantedBrowsers=r.quiz.blockMobileAndUnwantedBrowsers),this.store.dispatch((0,H.sw)({testInstanceId:r._id,inAdaptiveMode:r.quiz.adaptive,hackathonMode:r.quiz.hackathonMode||!1,proctorSettings:r.quiz.proctoring,tabChangeCount:r.tabChangeCount||0,auditUpdateInterval:r.quiz.auditUpdateInterval||0,answerUpdateInterval:r.quiz.answerUpdateInterval||0,honorCodeSigned:!!r.honorCodeSigned,localStorageDumpSettings:this.getLocalStorageDumpSettings(r.quiz.localStorageDumpSettings),sectionBasedTimer:{value:!!r.quiz.sectionBasedTime,...r.quiz.sectionBasedTime?{sectionDetails:r.sectionDetails,sectionHashIndexMap:a}:{sectionDetails:{}}}})),r.quiz.sectionBasedTime&&this.store.dispatch(rt({activeSectionHash:r.activeSectionHash})),r.quiz.proctoring?.disableMultiScreen&&(this._screenShareService.setTestId(r._id),this._screenShareService.setupMultiScreenChecks()),r.quiz.proctoring?.screenRecording&&(this._screenShareService.setTestId(r._id),this._screenShareService.setS3Settings(r.screenRecordConfig),this.sessionController.isValid&&this._screenShareService.startRecording()),this.isReplayOn||(this.store.dispatch((0,Y.TY)()),this._auditService.initAuditService(),this.store.dispatch((0,H.q_)({timeLeft:r.timeLeft}))),!r.quiz.practice&&!this.testTimer&&(this.testTimer=setInterval(()=>{this.testTimerManager()},1e3)),this.loadAllVMs()}scrollToTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}getUserDataFromLocal(){localStorage&&(localStorage.getItem(this.username+this.testId)&&(this.answers=JSON.parse(localStorage.getItem(this.username+this.testId))),localStorage.getItem(this.username+this.testId+"prevAnswer")&&(this.prevAnswers=JSON.parse(localStorage.getItem(this.username+this.testId+"prevAnswer"))),localStorage.getItem(this.username+this.testId+"prevAnswerKeys")&&(this.prevAnswerKeys=JSON.parse(localStorage.getItem(this.username+this.testId+"prevAnswerKeys"))),localStorage.getItem(this.username+this.testId+"savedToServer")&&(this.savedToServer=JSON.parse(localStorage.getItem(this.username+this.testId+"savedToServer"))),localStorage.getItem(this.username+this.testId+"answerQueue")&&(this.answerQueue=JSON.parse(localStorage.getItem(this.username+this.testId+"answerQueue"))))}openQuestionsModal(){$("#showQuestionsModal").modal({blurring:!0}).modal("show")}showReloadToast(){const r=this._toastr.show("Click here to reload the test. This will not affect your progress on the test","There are a few changes in your test",{...me.Tb[me.hd.RELOAD],timeOut:0,extendedTimeOut:0}),n=r.toastRef.componentInstance;n.reloadText="Reload test",n.reload(),r.onTap.subscribe(()=>this.store.dispatch((0,H.tT)()))}switchViewEvent(r){this.splitView=!this.splitView,this.fullScreenView=!1,this.splitView?$("html, body").css({overflow:"hidden",height:"100vh"}):$("html, body").css({overflow:"auto",height:"auto"})}getReloadTimeStamp(){return new Promise((r,n)=>{this._testportalService.getReloadTimestamp(this.testId,this.sessionController.sessionId,(i,a)=>{if(i)return"session_id_mismatch"===i.error.errorCode&&this.store.dispatch((0,Y.qH)()),r(null);if(a.reloadTimestamp>this.lastReloadAt&&this.store.dispatch((0,H.Hm)()),a.proctorMessages&&this.store.dispatch((0,H.Do)({proctorMessages:a.proctorMessages})),a.overrides){let o=q;a.overrides?.localStorageDumpSettings?.duration&&(o={value:!0,...a.overrides.localStorageDumpSettings}),this.store.dispatch((0,H.GQ)({proctorMessages:a.proctorMessages,proctorSettings:a.overrides.proctoring,disableCodeAudit:a.overrides.skipReplayAudits,localStorageDumpSettings:o,auditUpdateInterval:a.overrides.auditUpdateInterval,answerUpdateInterval:a.overrides.answerUpdateInterval}))}a.timeLeft&&this.store.dispatch((0,H.q_)({timeLeft:a.timeLeft})),a.finished&&this.store.dispatch((0,H.hT)()),a.sectionBasedTimerDetail&&a.activeSectionHash&&this.sectionHashIndexMap[a.activeSectionHash]>=this.sectionHashIndexMap[this.activeSectionDetail.hash]&&(this.store.dispatch(De({sectionDetails:a.sectionBasedTimerDetail})),this.store.dispatch(rt({activeSectionHash:a.activeSectionHash})))})})}testTimerManager(){var r=this;return(0,Le.Z)(function*(){r.timeLeft=r.timer.formattedTime,r.timer.showWarning&&(r.timeWarning=!0);let n=!1;r.isSectionBasedTimer&&1===r.activeSectionDetail.timeleft&&(n=!0,r.sectionOverEventsSubject.next(!0)),r.store.dispatch((0,H.Cj)()),n&&r.activeSectionDetail.hash&&r.store.dispatch(rt({activeSectionHash:r.activeSectionDetail.hash}))})()}updateSession(){!this.candidateEmailInputValue?.length||ee.P.valid_email_regex.test(this.candidateEmailInputValue)?this.updateSessionApiState.state!==he.V.LOADING&&(this.updateSessionApiState={state:he.V.LOADING},this._testportalService.updateSessionId(this.testId,{...this.candidateEmailInputValue?{email:this.candidateEmailInputValue}:{}},this.sessionController.sessionId,(r,n)=>{if(r){if(console.error(`[updateSession] Failed to update session id: ${JSON.stringify(r)}`),r&&"feedback_submitted"===r?.errorCode)return alert(r.errorMessage),this.redirectUrlHandler();if(r&&"already_attempted"===r?.errorCode)return alert(r.errorMessage),this._router.navigateByUrl(`tests/${this.testId}/feedback`);this.updateSessionApiState={state:he.V.ERROR,error:{errorCode:r.errorCode||"unknown_error",errorMessage:r.errorMessage||"Something went wrong."}}}else this.store.dispatch((0,H.yi)({eventType:"session_change",message:"User changed the active session",eventDetails:{sessionId:this.sessionController.sessionId}})),this.postProcessGetTest(n),this.candidateEmailInputValue="",this.updateSessionApiState={state:he.V.LOADED}})):this.updateSessionApiState={state:he.V.ERROR,error:{errorCode:"invalid_email",errorMessage:"Please enter a valid email"}}}continueToTest(){!this.showFinishTestModal||this.store.dispatch((0,H.ll)({}))}finishTest(){if(this.showFinishTestModal){if(this.isFinished)return this.preProcessFinishTest(),this.postProcessFinish(),this._screenShareService.stopRecording(),void this._screenShareService.stopScreenStream();this.preProcessFinishTest(),this._testportalService.finishTest(this.testId,{finishTestReason:this.finishTestReason},(r,n)=>{this.store.dispatch((0,H.hT)()),this.postProcessFinish()})}}showContinueButton(){return"candidateTriggered"===this.finishTestReason}preProcessFinishTest(){this.pushAnswerToServer(),this.dumpLocalStorageToS3(this.localStorageDumpSettings),this.autoSubmitAnswerInCodeQuestions()}postProcessFinish(){setTimeout(()=>{this._router.navigateByUrl("tests/"+this.testId+"/feedback")},300)}triggerPushAnswerToServer(){setTimeout(()=>{this.isReplayOn||(this.pushAnswerToServer(),this.triggerPushAnswerToServer())},this.answerUpdateInterval)}pushAnswerToServer(){const r=Object.keys(this.answerQueue);if(this.syncingAnswer||!r.length||!this.sessionController.isValid)return;this.syncingAnswer=!0,r.sort((a,o)=>Number(a.split("|")[0])-Number(o.split("|")[0]));const n=r.splice(0,this.syncBatchLength),i=n.map(a=>this.answerQueue[a]);this._testportalService.updateAnswer(this.testId,i,this.sessionController.sessionId,a=>{a?(console.error(`[pushAnswerToServer] Error while saving answer to server: ${JSON.stringify(a)}`),"session_id_mismatch"===a.error.errorCode?this.store.dispatch((0,Y.qH)()):(this.store.dispatch((0,H.nn)({hashList:n})),this.store.dispatch((0,H.Nt)({typeOfAPI:"updateAnswer"})))):this.store.dispatch((0,H.EH)({hashList:n})),this.syncingAnswer=!1})}loadAllVMs(){const r=this.sections.reduce((n,i)=>n.concat(i.questions.filter(a=>[te.ON.PROJECT,te.ON.DEVOPS].includes(a.type))),[]);if(!(r.length>2))for(let n of r)this.store.dispatch((0,H.AR)({qType:n.type,questionHash:n.hash})),ai(this.store,this._testportalService,this.quizDetails,this.testId,n,this.constructor.name,this.loadAllVMs.name)}autoSubmitAnswerInCodeQuestions(){var r=this;return(0,Le.Z)(function*(){const i=r.sections.reduce((a,o)=>a.concat(o.questions.filter(c=>[te.ON.PROGRAMMING_GENERAL,te.ON.DEBUGGING,te.ON.DATA_SCIENCE,te.ON.DATABASE].includes(c.type))),[]);return Promise.all(i.map(a=>(a=>new Promise((o,c)=>{const d=si(r.testId,`${a.hash}|language`);if(!d)return o(1);const s=si(r.testId,`${a.hash}|${d}`)?.trim();if(!s)return o(1);const p=Qn.M.find(f=>f.name===d);let l;if(r.store.select(Fi(a.hash)).subscribe(f=>l=f).unsubscribe(),l?.execution&&!l.execution.runSample&&l.execution.langName===d&&l.execution.sourceCode===s)return o(1);r._testportalService.runTestCases(r.testId,{sourceCode:s,lang:p.index,testId:r.testId,questionHash:a.hash,customInput:"",custom:!1},(f,h)=>((f||!h._id)&&console.error(`[autoSubmitAnswerInCodeQuestions] Failed to auto submit code for question ${a.hash}: ${JSON.stringify(f)}`),o(1)))}))(a)))})()}getQuestionType(r,n,i){const a=c=>{let d;return d=c.vmQuestionId?c.vmQuestionId.startsWith("wecp_projects_")?"project":"devops":c.linuxQuestionId?"devops":"project",d};return["code","code_specific","debugging","Data Science","AI Coding","database","Multiple Choice","Checkboxes","Subjective","workSample","project","devops","codegaps","videoExplanation"].includes(n)?n:"interactive subjective"===n?a(i):"objective"===r||"paragraph"===r?1==n?"Multiple Choice":2==n?"Checkboxes":"Subjective":"code"===r?1==n?"code":"Data Science":"interactive subjective"===r&&a(i)?a(i):r}dumpLocalStorageToS3(r){if(r.value){const n=this.getLocalStorageAsJSONFile();this._testportalService.dumpFileToS3(n,`test-recovery/${this.quizDetails.quizId}/${n.name}`,r)}}getLocalStorageAsJSONFile(){const r=this.getLocalStorageData();return new File([JSON.stringify(r)],`${this.testId}`,{type:"application/json"})}getLocalStorageData(){const r={};for(let n of Object.keys(localStorage))r[n]=localStorage.getItem(n);return r}getLocalStorageDumpSettings(r){let n=q;return r&&r?.duration>0&&(n={value:!0,...r}),n}getMaskedEmail(r){const[n,i]=r?.split("@");return`${n[0]}${"*".repeat(n.length-2)}${n.slice(-1)}@${i}`}updateVMStateForQuestion(r){const{qType:n,questionHash:i}=r,a=this.allQuestionMap[i],o=a.vmQuestionId||a.linuxQuestionId,c=this.qTypeStoreDataMap[n][i],d=new Date;if(this.showFinishTestModal&&"candidateTriggered"!==this.finishTestReason||!c.instanceDetails?.instanceId||![Ln.PENDING,Ln.RUNNING].includes(c.instanceDetails?.vmState)||c.vmStatusLastCheckedAt&&d.getTime()-new Date(c.vmStatusLastCheckedAt).getTime()<=6e4||c.vmStateApiLoadInfo.state===he.V.LOADING)return;this.store.dispatch(ma({qType:n,questionHash:i}));const p={vmQuestionId:o};this._testportalService.getVMStatus(c.instanceDetails.instanceId,p,(l,u)=>{if(l)this.store.dispatch(zn({qType:n,questionHash:i,error:l})),console.error(`[updateVMStatusFail], Params: ${p}: ${JSON.stringify(l)}`);else{const m={instanceId:u.InstanceId,vmState:u.State.Name,password:u.password,launchTime:u.LaunchTime,...u.PublicDnsName&&u.PublicIpAddress?Hn(a,u.password,u.PublicDnsName,u.PublicIpAddress):{}};this.store.dispatch(Vt({qType:n,questionHash:i,instanceDetails:m})),this.getQuestionStatusInEc2Instance(m,n,i)}})}getQuestionStatusInEc2Instance(r,n,i,a=20){this.isFinished||this._testportalService.getQuestionStatusInEc2Instance({url:r.vmLink},(c,d)=>{if(c){if(--a<=0)return void this.store.dispatch(sn({qType:n,questionHash:i,error:{errorMessage:"failed to load server"}}));setTimeout(()=>{this.getQuestionStatusInEc2Instance(r,n,i,a)},this.projectQuestionPollingInterval)}else this.store.dispatch(et({qType:n,questionHash:i,instanceDetails:r}))})}updateVMInteractionForQuestion(r){const{qType:n,questionHash:i}=r,o=this.qTypeStoreDataMap[n][i],c=new Date;if(this.showFinishTestModal&&"candidateTriggered"!==this.finishTestReason||!o?.instanceDetails?.instanceId||o.vmInteractionLastCheckedAt&&c.getTime()-new Date(o.vmInteractionLastCheckedAt).getTime()<=3e5||o.vmInteractionApiLoadInfo.state===he.V.LOADING)return;this.store.dispatch(Vr({qType:n,questionHash:i}));const d=o.instanceDetails.instanceId;this.store.dispatch((0,H.yi)({eventType:"vm_interaction",message:"Update instance interaction",eventDetails:{instanceId:d,questionId:i}})),this._testportalService.updateVMInteraction(d,{},(p,l)=>{p?(this.store.dispatch(Zn({qType:n,questionHash:i,error:p})),console.error(`[updateVMInteractionFail], Payload: ${d}: ${JSON.stringify(p)}`)):this.store.dispatch(dr({qType:n,questionHash:i,response:l}))})}getMultipartChunks(r,n=5242880){const i=[];let a=[],o=0;for(let c=0;c<r.length;c++){const d=r[c];if(a.push(d),o+=d.size,o>=n){const s=new Blob(a,{type:"video/webm"});i.push(s),a=[],o=0}}if(a.length>0){const c=new Blob(a,{type:"video/webm"});i.push(c)}return i}initiateMultiPartUploadAsync(r){return new Promise((n,i)=>{this._testportalService.initiateMultiPartUpload((a,o)=>o?i(o):n(a),r)})}generateMultiPartWriteSignatureAsync(r){return new Promise((n,i)=>{this._testportalService.generateMultiPartWriteSignature((a,o)=>o?i(o):n(a),r)})}completeMultiPartUploadAsync(r){return new Promise((n,i)=>{this._testportalService.completeMultiPartUpload((a,o)=>o?i(o):n(a),r)})}initializeVideoSubmissionInterval(){var r=this;return(0,Le.Z)(function*(){const n=yield r._indexedDbService.getItemByIndex(r._indexedDbService.storeName,"testId-type-index",[r.testId,"videoSubmission"]);n?.testId===r.testId&&n&&!r.videoSubmissionsGettingUploaded.length&&(yield r.saveRecordedVideoToS3(n.metaData,n.id))})()}addVideoSubmissionToIndexedDb({questionHash:r,duration:n,recordedBlobs:i,fileKey:a,isAnswer:o}){var c=this;return(0,Le.Z)(function*(){const d={metaData:{questionHash:r,duration:n,recordedBlobs:i,fileKey:a,isAnswer:o},type:"videoSubmission",testId:c.testId,timestamp:Date.now(),id:ee.P.getRandomString(16)};try{const s=yield c._indexedDbService.addItem(c._indexedDbService.storeName,d);return console.log("Added item to indexed db with key:",s),s}catch(s){console.error("Error adding item to idxdb:",s)}})()}saveRecordedVideoToS3({questionHash:r,duration:n,recordedBlobs:i,fileKey:a,isAnswer:o},c=null){var d=this;return(0,Le.Z)(function*(){if(!i.length)return;let s;o&&(d.videoSubmissionsGettingUploaded.push(r),s=c||(yield d.addVideoSubmissionToIndexedDb({questionHash:r,duration:n,recordedBlobs:i,fileKey:a,isAnswer:o})));const p=a||`video-explanation/${d.testId}/${r}`,l=Date.now();try{const m=d.getMultipartChunks(i,5242880),g={key:p,bucket:"SUBMISSION",contentType:"video/webm",numberOfParts:m.length},h=(yield d.initiateMultiPartUploadAsync(g)).uploadId;o&&d.store.dispatch(tn({questionHash:r}));const w=3,y=500,M=2,_=function(){var P=(0,Le.Z)(function*(Z,V,U=1){try{const j={uploadId:h,partNumber:V,key:p,bucket:"SUBMISSION"},O=(yield d.generateMultiPartWriteSignatureAsync(j)).presignedUrl,X=yield fetch(O,{method:"PUT",headers:{"Content-Type":"video/webm"},body:Z});if(!X.ok)throw new Error(`Failed to upload part ${V}, status: ${X.status}, text: ${X.statusText}`);const D=X.headers.get("ETag");if(!D)throw new Error(`ETag missing for part ${V}`);return{PartNumber:V,ETag:D}}catch(j){if(U<w){const B=y*Math.pow(2,U-1);return console.warn(`Attempt ${U} for part ${V} failed. Retrying in ${B} ms...`,j),yield new Promise(O=>setTimeout(O,B)),_(Z,V,U+1)}throw console.error(`Failed to upload part ${V} after ${w} attempts.`),j}});return function(V,U){return P.apply(this,arguments)}}(),x=yield function(){var P=(0,Le.Z)(function*(Z,V){const U=[];let j=0;const B=function(){var X=(0,Le.Z)(function*(){for(;j<Z.length;){const D=j++,de=Z[D],ye=D+1;try{const Oe=yield _(de,ye);U[D]=Oe}catch(Oe){throw Oe}}});return function(){return X.apply(this,arguments)}}(),O=Array.from({length:V},()=>B());return yield Promise.all(O),U});return function(V,U){return P.apply(this,arguments)}}()(m,M),v={uploadId:h,key:p,parts:x,bucket:"SUBMISSION"};if(yield d.completeMultiPartUploadAsync(v),!o)return;const N=`submissions:${p}`,E="ap-south-1";(0,kn.dS)("Video question response uploaded",{s3Path:`submissions:${p}`,testId:d.testId,user:d.username,quizId:d.quizId,timeToUpload:Math.floor((Date.now()-l)/1e3),...n?{videoDuration:n/1e3}:{}}),o&&s&&(yield d._indexedDbService.deleteItem(d._indexedDbService.storeName,s),console.log("Item removed with key:",s)),d._testportalService.generateCustomReadSignature({key:N,region:E},(P,Z)=>{if(P)console.error(JSON.stringify(P)),d.store.dispatch(Xn({questionHash:r}));else{const V={submissionFileKey:a,submissionFileUrl:Z.url};d.store.dispatch((0,H.ee)({questionHash:r,answer:[""],answerKey:ee.P.isEmpty(p)?"":p,videoDuration:n})),d.store.dispatch(ht({questionHash:r,fileDetails:V}))}})}catch(u){(0,kn.dS)("Failed to upload video question response using multipart upload",{testId:d.testId,user:d.username,quizId:d.quizId,question:r,error:u.message}),o&&d.store.dispatch(Xn({questionHash:r})),console.error(u)}finally{o&&(d.videoSubmissionsGettingUploaded=d.videoSubmissionsGettingUploaded.filter(u=>u!==r))}})()}launchApp(){const r=this.source,n=`sherlock://open?id=${this.quizDetails.quizId}`,i=r?`${n}&inviteId=${r}`:n,a=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(window.innerWidth<=768||a)return void this._toastr.show("The app cannot be opened on a phone or tablet. Please use a desktop browser instead.","App Launch Error",me.Tb[me.hd.ERROR]).toastRef.componentInstance.error();let c=!1;window.onblur=()=>{c=!0},window.location.href=i,setTimeout(()=>{c||this._toastr.show("The app may not be installed or detected. Refresh your browser window and try again","Failed to launch the app",me.Tb[me.hd.ERROR]).toastRef.componentInstance.error()},1e3)}};ea.\u0275fac=function(r){return new(r||ea)(e.Y36(J.yh),e.Y36(ct.X),e.Y36(ao.h),e.Y36(gt.gz),e.Y36(gt.F0),e.Y36(Ps.Z),e.Y36(Zs.I),e.Y36(Ls._W),e.Y36(zo.d),e.Y36(hu))},ea.\u0275cmp=e.Xpm({type:ea,selectors:[["candidate-editor"]],decls:3,vars:1,consts:[["style","min-height: 92vh",3,"ngClass",4,"ngIf"],["multipleSession",""],[2,"min-height","92vh",3,"ngClass"],[4,"ngIf"],["id","questionContainer"],["id","questionTypeContainer"],[3,"isDragging"],[4,"ngFor","ngForOf"],["modal-new","","class","ui tiny modal rounded-8",3,"show","darkModal",4,"ngIf"],[3,"questionHash",4,"ngIf"],[3,"questionHash","testId","deviceChange","sectionOver","saveRecordedVideo",4,"ngIf"],[3,"questionHash","isDragging",4,"ngIf"],[3,"isDragging","qType","questionHash","updateVMInteractionEvent","updateVMStateEvent",4,"ngIf"],[3,"questionHash"],[3,"questionHash","testId","deviceChange","sectionOver","saveRecordedVideo"],[3,"questionHash","isDragging"],[3,"isDragging","qType","questionHash","updateVMInteractionEvent","updateVMStateEvent"],["modal-new","",1,"ui","tiny","modal","rounded-8",3,"show"],[1,"flex","justify-between","items-center","padding-horizontal-16","padding-top-16","common-border-bottom"],[1,"text-base","text-size-16","font-weight-500","flex","items-center"],[1,"option-icon","finish-test-icon"],[1,"padding-left-4","display-inline","vertical-align-middle","text-blue-600","margin-left-8"],[1,"padding-left-24","padding-vertical-20"],["class","padding-left-24 padding-right-56 common-border-bottom",4,"ngIf"],[1,"padding-left-24","padding-right-56","margin-top-16","common-border-bottom"],[1,"text-sm","text-gray-400","font-weight-400"],[1,"min-w-full","border-collapse","margin-top-8"],[1,"border-bottom-solid","border-gray-200"],[1,"padding-vertical-4","padding-left-8","padding-right-20","whitespace-nowrap","border-right-solid","border-gray-200"],[1,"flex","items-center"],[1,"ml-4"],[1,"text-sm","font-medium","text-green-600"],[1,"padding-vertical-4","padding-left-20","padding-right-8","whitespace-nowrap","text-align-right"],[1,"text-sm","text-gray-500"],["class","text-sm font-medium text-yellow-500",4,"ngIf"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-sm","text-gray-500",3,"ngClass"],[1,"actions","flex","justify-end","items-center","col-gap-12","padding-horizontal-20"],["class","button",3,"white-button","gray-button","click",4,"ngIf"],[1,"button","blue-button",3,"ngClass","click"],["class","actions padding-horizontal-20 padding-vertical-12 text-gray-600 font-weight-500",4,"ngIf"],[1,"padding-left-24","padding-right-56","common-border-bottom"],[1,"text-sm","font-weight-500"],[1,"text-sm","text-gray-500","font-weight-500"],[1,"text-sm","font-medium","text-yellow-500"],[1,"button",3,"click"],[1,"actions","padding-horizontal-20","padding-vertical-12","text-gray-600","font-weight-500"],[3,"show","testId","currentSection","NextSection"],[4,"ngTemplateOutlet"],[3,"isLoading","testLogo","testBanner"],[1,"quiz-details","flex","flex-col","justify-center","padding-vertical-24","width-100"],["style","width: 550px; max-width: 100%",4,"ngIf"],[1,"text-black","font-weight-700","text-3xl","break-word","margin-vertical-8"],[1,"flex","col-gap-24","text-gray-500"],[1,"ui","clock","outline","icon"],[1,"text-sm","margin-left-8"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",2,"width","16px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"],["class","flex items-center gap-12 margin-top-8 fit-content-width",4,"ngIf"],["class","flex flex-wrap col-gap-12 row-gap-12 margin-top-24",4,"ngIf"],[2,"width","550px","max-width","100%"],[1,"rounded-4","bg-yellow-100","padding-horizontal-16","padding-vertical-8","flex","col-gap-12","items-center",2,"border","1px solid var(--yellow-300)"],["width","20","height","19","viewBox","0 0 20 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.99944 6.49975V10.4998M9.99944 13.4998H10.0094M3.07144 17.4998H16.9274C18.4674 17.4998 19.4294 15.8328 18.6594 14.4998L11.7314 2.49975C10.9614 1.16675 9.03744 1.16675 8.26744 2.49975L1.33944 14.4998C0.569436 15.8328 1.53144 17.4998 3.07144 17.4998Z","stroke","#A16207","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"flex-grow-1"],[1,"text-sm","font-weight-700","text-yellow-700"],[1,"text-gray-600","text-xs","font-weight-500"],[1,"rounded-4","bg-red-100","padding-horizontal-16","padding-vertical-8","flex","col-gap-12","items-center",2,"border","1px solid var(--red-300)"],[1,"text-sm","font-weight-700","text-red-700"],["class","text-gray-600 text-xs font-weight-500",4,"ngIf"],[1,"flex","items-center","gap-12","margin-top-8","fit-content-width"],["class","custom-input flex flex-col padding-vertical-8",4,"ngIf"],["width","14","height","14","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"margin-auto"],["d","M3.121 15.804C5.21942 14.6179 7.58958 13.9963 10 14C12.5 14 14.847 14.655 16.879 15.804M13 8C13 8.79565 12.6839 9.55871 12.1213 10.1213C11.5587 10.6839 10.7956 11 10 11C9.20435 11 8.44129 10.6839 7.87868 10.1213C7.31607 9.55871 7 8.79565 7 8C7 7.20435 7.31607 6.44129 7.87868 5.87868C8.44129 5.31607 9.20435 5 10 5C10.7956 5 11.5587 5.31607 12.1213 5.87868C12.6839 6.44129 13 7.20435 13 8ZM19 10C19 11.1819 18.7672 12.3522 18.3149 13.4442C17.8626 14.5361 17.1997 15.5282 16.364 16.364C15.5282 17.1997 14.5361 17.8626 13.4442 18.3149C12.3522 18.7672 11.1819 19 10 19C8.8181 19 7.64778 18.7672 6.55585 18.3149C5.46392 17.8626 4.47177 17.1997 3.63604 16.364C2.80031 15.5282 2.13738 14.5361 1.68508 13.4442C1.23279 12.3522 1 11.1819 1 10C1 7.61305 1.94821 5.32387 3.63604 3.63604C5.32387 1.94821 7.61305 1 10 1C12.3869 1 14.6761 1.94821 16.364 3.63604C18.0518 5.32387 19 7.61305 19 10Z","stroke","#71717A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"margin-left-8","text-gray-700"],[1,"custom-input","flex","flex-col","padding-vertical-8"],[1,"label"],["type","text",2,"min-width","300px",3,"ngModel","ngModelChange"],["class","text-red-600 padding-vertical-4 text-xs",4,"ngIf"],[1,"text-red-600","padding-vertical-4","text-xs"],[1,"flex","flex-wrap","col-gap-12","row-gap-12","margin-top-24"],[1,"button","blue-button",3,"disabled","ngClass","click"],[1,"button","blue-button",3,"click"]],template:function(r,n){1&r&&(e.YNc(0,oL,4,6,"html",0),e.YNc(1,CL,23,18,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",n.dataInitializedSuccessfully)},directives:[Ue.O5,Ue.mk,Su,Ue.sg,mi,fi,gi,hi,Vi,vi,_i,xi,di.m,Ey,A2,IZ,Ue.tP,Is.U,Qe.Fj,Qe.JJ,Qe.On],pipes:[Ue.JJ],styles:['*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.fourteenWidth[_ngcontent-%COMP%]{border-right:0!important}.twelveWidth[_ngcontent-%COMP%]{border-right:1px solid rgba(200,200,200,1)}.meta[_ngcontent-%COMP%]{color:#a0a0a0;font-size:15px}.scroll-lock[_ngcontent-%COMP%]{overflow:hidden}#questionsButton[_ngcontent-%COMP%]{display:none}i.circular[_ngcontent-%COMP%]{box-shadow:0 0 0 .1em inset!important}.darkModal[_ngcontent-%COMP%]{background:#18191b;color:#a1a1aa}.darkModalAction[_ngcontent-%COMP%]{background:#18191b!important;color:#a1a1aa!important;border-top:1px solid #3f3f46!important}.gray-button[_ngcontent-%COMP%]{border:1px solid #334155;color:#fff;background-color:#334155}#questionTypeContainer[_ngcontent-%COMP%]{height:99vh}@media screen and (max-width: 900px){#splitViewButton[_ngcontent-%COMP%], #sideNavbar[_ngcontent-%COMP%]{display:none}#questionsButton[_ngcontent-%COMP%]{display:inline-block}#showQuestionsModal[_ngcontent-%COMP%]{width:15rem}#questionNavButtons[_ngcontent-%COMP%]{text-align:left!important;margin-top:30px;margin-bottom:10px}}@media screen and (max-height: 435px),screen and (max-width: 1200px){#questionContainer.dark[_ngcontent-%COMP%]{height:calc(100vh - 50px);background-color:var(--gray-900)}}.finish-test-icon[_ngcontent-%COMP%]{height:20px;width:20px;background-size:20px 20px;background-repeat:no-repeat!important;background-image:url(\'data:image/svg+xml;utf8, <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M12.6667 11.3335L16 8.00016M16 8.00016L12.6667 4.66683M16 8.00016H4.33333M9.33333 11.3335V12.1668C9.33333 12.8299 9.06994 13.4658 8.6011 13.9346C8.13226 14.4034 7.49637 14.6668 6.83333 14.6668H3.5C2.83696 14.6668 2.20107 14.4034 1.73223 13.9346C1.26339 13.4658 1 12.8299 1 12.1668V3.8335C1 3.17045 1.26339 2.53457 1.73223 2.06573C2.20107 1.59689 2.83696 1.3335 3.5 1.3335H6.83333C7.49637 1.3335 8.13226 1.59689 8.6011 2.06573C9.06994 2.53457 9.33333 3.17045 9.33333 3.8335V4.66683" stroke="%232563EB" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/> </svg>\')}.blue-button.dark[_ngcontent-%COMP%]{border:1px solid #1d4ed8}\n/*# sourceMappingURL=candidate-editor.component.css.map*/']}),ea=(0,fe.gn)([(0,Te.c)()],ea);let Th=(()=>{class t{constructor(n,i){this._testPortal=n,this.router=i}resolve(n){return new Promise(i=>{let a=n.params.testId;const o=ee.P.getFromSessionStorage("sessionId")||ee.P.getRandomString(32);ee.P.setToSessionStorage("sessionId",o),this._testPortal.getTest(a,o,(c,d)=>{i({error:c?.error,response:d})})})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(ct.X),e.LFG(gt.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Ih=(()=>{class t{constructor(n,i){this._testPortal=n,this.router=i}resolve(n){return new Promise((i,a)=>{this._testPortal.getTestById(n.params.testId,n.queryParams.inviteId?n.queryParams.inviteId:"",(d,s)=>{i({error:d,response:s})})})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(ct.X),e.LFG(gt.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var ML=ke(55242),Eh=ke(49843),SL=ke(44105);function NL(t,r){if(1&t&&e._UZ(0,"mcq-single",38),2&t){const n=e.oxw(4);e.Q6J("questionHash",n.qContext.hash)}}function AL(t,r){if(1&t&&e._UZ(0,"mcq-checkbox",38),2&t){const n=e.oxw(4);e.Q6J("questionHash",n.qContext.hash)}}function TL(t,r){if(1&t&&e._UZ(0,"subjective-manual",38),2&t){const n=e.oxw(4);e.Q6J("questionHash",n.qContext.hash)}}function IL(t,r){if(1&t&&e._UZ(0,"work-sample",38),2&t){const n=e.oxw(4);e.Q6J("questionHash",n.qContext.hash)}}function EL(t,r){if(1&t&&e._UZ(0,"machine-learning",38),2&t){const n=e.oxw(4);e.Q6J("questionHash",n.qContext.hash)}}function OL(t,r){if(1&t&&e._UZ(0,"coding",39),2&t){const n=e.oxw(4);e.Q6J("questionHash",n.qContext.hash)("replayOn",!0)}}function kL(t,r){if(1&t&&e._UZ(0,"project",40),2&t){const n=e.oxw(4);e.Q6J("qType",n.qContext.type)("questionHash",n.qContext.hash)}}const DL=function(t,r,n,i){return[t,r,n,i]},qL=function(t,r){return[t,r]};function PL(t,r){if(1&t&&(e.ynx(0),e.YNc(1,NL,1,1,"mcq-single",35),e.YNc(2,AL,1,1,"mcq-checkbox",35),e.YNc(3,TL,1,1,"subjective-manual",35),e.YNc(4,IL,1,1,"work-sample",35),e.YNc(5,EL,1,1,"machine-learning",35),e.YNc(6,OL,1,2,"coding",36),e.YNc(7,kL,1,2,"project",37),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.MCQ_SINGLE),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.MCQ_MULTIPLE),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.SUBJECTIVE_MANUAL),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.WORK_SAMPLE),e.xp6(1),e.Q6J("ngIf",n.qContext.type===n.QuestionTypesEnum.MACHINE_LEARNING),e.xp6(1),e.Q6J("ngIf",e.l5B(7,DL,n.QuestionTypesEnum.PROGRAMMING_GENERAL,n.QuestionTypesEnum.DEBUGGING,n.QuestionTypesEnum.DATA_SCIENCE,n.QuestionTypesEnum.DATABASE).includes(n.qContext.type)),e.xp6(1),e.Q6J("ngIf",e.WLB(12,qL,n.QuestionTypesEnum.PROJECT,n.QuestionTypesEnum.DEVOPS).includes(n.qContext.type))}}function ZL(t,r){if(1&t&&(e.ynx(0),e.YNc(1,PL,8,15,"ng-container",34),e.BQk()),2&t){const n=r.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n===i.qContext.hash)}}function LL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",30)(1,"candidate-editor-layout"),e.YNc(2,ZL,2,1,"ng-container",31),e.qZA(),e.TgZ(3,"div",32)(4,"div",23),e._uU(5,"This test has ended."),e.qZA(),e.TgZ(6,"div",26)(7,"a",33),e.NdJ("click",function(){return e.CHM(n),e.oxw().closeWindow()}),e._uU(8," Ok "),e.qZA()()()()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.allQuestionHashes)}}function RL(t,r){if(1&t&&e._UZ(0,"img",41),2&t){const n=e.oxw();e.Q6J("src",n.imageUrl,e.LSH)}}function UL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"i",42),e.NdJ("click",function(){return e.CHM(n),e.oxw().play=!0}),e.qZA()}}function BL(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"i",43),e.NdJ("click",function(){return e.CHM(n),e.oxw().play=!1}),e.qZA()}}function FL(t,r){1&t&&e._UZ(0,"i",44)}function zL(t,r){1&t&&e._UZ(0,"i",45)}function HL(t,r){1&t&&(e.TgZ(0,"span",46),e._uU(1,"User was online"),e.qZA())}function QL(t,r){1&t&&(e.TgZ(0,"span",47),e._uU(1,"User went offline"),e.qZA())}function VL(t,r){1&t&&(e.TgZ(0,"span",46),e._uU(1,"Fullscreen enabled"),e.qZA())}function JL(t,r){1&t&&(e.TgZ(0,"span",47),e._uU(1,"Fullscreen violation detected"),e.qZA())}function WL(t,r){if(1&t&&(e.TgZ(0,"div",48),e.YNc(1,VL,2,0,"span",18),e.YNc(2,JL,2,0,"span",19),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.fullscreenViolation),e.xp6(1),e.Q6J("ngIf",n.fullscreenViolation)}}function YL(t,r){1&t&&(e.TgZ(0,"span",46),e._uU(1,"Test window active"),e.qZA())}function $L(t,r){1&t&&(e.TgZ(0,"span",47),e._uU(1,"User switched tab"),e.qZA())}function jL(t,r){if(1&t&&(e.TgZ(0,"div",49),e.YNc(1,YL,2,0,"span",18),e.YNc(2,$L,2,0,"span",19),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.tabChangeViolation),e.xp6(1),e.Q6J("ngIf",n.tabChangeViolation)}}function GL(t,r){if(1&t&&(e.TgZ(0,"p",47),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.errorSendingMessage)}}const KL=function(t){return{disabled:t}},XL=function(t){return{loading:t}},eR=jsondiffpatch.create({}),Oh=Qn.M.reduce((t,r)=>(t[r.stubname]=r.name,t),{}),kh=Qn.M.reduce((t,r)=>(t[r.storedStubname]=r.name,t),{});let tR=(()=>{class t{constructor(n,i,a,o,c,d,s){this._route=n,this._router=i,this._sharedClient=a,this._testManagementService=o,this._authorizationService=c,this._testPortalService=d,this.store=s,this.QuestionTypesEnum=te.ON,this.spinnerState=!0,this.timestamp=0,this.testEnded=!1,this.tabChangeViolation=!1,this.play=!0,this.auditIndex=0,this.imageUrl="",this.online=!0,this.fullscreenViolation=!1,this.sendingMessage=!1,this.live=!1,this.attemptedData={},this.timeMarker=0,this.quizDetails={section:[{questions:[]}]},this.qContext={},this.testDetails={},this.showSaveToServer=z.N.testEditor.showSaveToServer,this.showAttempted=z.N.testEditor.showAttempted,this.audits=[]}ngOnInit(){this._sharedClient.showHeaderLoading=!1,this._sharedClient.showLoading=!1,this.username=this._authorizationService.getAuthorizedUserName(),this._route.data.subscribe(n=>{if((n=n.data).error)alert(n.error?.error?.errorMessage||"Something went wrong. Please check your internet connection and try again"),this.spinnerState=!1,this._router.navigateByUrl("/");else{if(this.spinnerState=!1,n.response.isArchived)return void this._router.navigateByUrl("/error/404");this.postProcessGetTest(n.response)}}),this.store.select(Q.St).subscribe(n=>{n||this.store.dispatch((0,H.cN)())}),this.store.select(F.UB).subscribe(n=>this.allQuestionHashes=n),this.store.select(F.n7).subscribe(n=>this.qContext=n),this.store.select(F.$K).subscribe(n=>{this.attemptedData={...this.attemptedData,...n},this.attemptedData.remainingAnswers=n.totalQuestions-n.attempted}),this.store.select(Q.jn).subscribe(n=>{this.timer=n,this.timeMarker=Math.round(1e3*(this.quizDetails.duration+(this.testDetails.addonTime||0)-this.timer.time)),this.updatePlayerProgress()}),this.store.select(Yr).subscribe(n=>{this.codeEditorState=n})}ngAfterViewInit(){$("#record-player-timeline").progress({value:150,total:1e3})}getQuestionType(n,i,a){const o=d=>{let s;return s=d.vmQuestionId?d.vmQuestionId.startsWith("wecp_projects_")?"project":"devops":d.linuxQuestionId?"devops":"project",s};return["code","code_specific","debugging","Data Science","AI Coding","database","Multiple Choice","Checkboxes","Subjective","workSample","project","devops","codegaps"].includes(i)?i:"interactive subjective"===i?o(a):"objective"===n||"paragraph"===n?1==i?"Multiple Choice":2==i?"Checkboxes":"Subjective":"code"===n?1==i?"code":"Data Science":"interactive subjective"===n&&o(a)?o(a):n}updatePlayerProgress(){let n=0;this.testDetails.timeLeft>0&&!1===this.testDetails.finished?n=new Date-new Date(this.testDetails.createdAt):!0===this.testDetails.finished&&(n=new Date(this.testDetails.finishTime)-new Date(this.testDetails.createdAt)),$("#timescale").css("width",this.timeMarker/n*100+"%")}startPlayback(){this.getTimestamp(Date.now())-(this.getTimestamp(this.startTime)+2e4)>0?($("#liveStreamDelay").modal("hide"),this.runPlayer()):(this.startTime&&$("#liveStreamDelay").modal({closable:!1}).modal("show"),setTimeout(()=>{this.startPlayback()},100))}loadCodeStub(n){var i=this;return(0,Le.Z)(function*(){let a;i.store.dispatch(ve({questionHash:n.hash})),a=n.type===te.ON.DATA_SCIENCE?qu.O:n.codestub?yield i.loadCodeStubFromServer(n.hash,n.codestub):Qn.M.reduce((o,c)=>(o[c.name]=c.baseCode,o),{}),i.store.dispatch(Ye({questionHash:n.hash,stub:a})),i.store.dispatch(Je({questionHash:n.hash,getFromLocalStorage:!0}))})()}loadCodeStubFromServer(n,i){var a=this;return(0,Le.Z)(function*(){return new Promise((o,c)=>{a._testPortalService.getCodeStub(a.testId,n,i,(d,s)=>{let p={};!d&&s&&s.length&&(p=s.reduce((l,u)=>{let m=u.language;return kh.hasOwnProperty(m)?m=kh[m]:Oh.hasOwnProperty(m)&&(m=Oh[m]),l[m]=u.codestub,l},{})),o(p)})})})()}getNewAuditData(){const n=new Date(this.testDetails.createdAt)>new Date(z.N.migrationDate);"v1"===this.testDetails.migration?this._testManagementService.getRealTimeTestAudit(this.testDetails._id,this.timestamp,n,(i,a)=>{this.getAuditCallback(i,a)}):this._testManagementService.getRealTimeUserAudit(this.testDetails.testId,this.testDetails.userId,this.timestamp,n,(i,a)=>{this.getAuditCallback(i,a)})}getAuditCallback(n,i){if(!n){const a=i.find(c=>c.event.endsWith("proctor_image"));a&&(this.imageUrl=JSON.parse(a.eventDetails).imageKey),i.length&&(this.timestamp=i[0].serverTimestamp);const o=[];for(const c of i)if(c.event.endsWith("code_change")){const d=JSON.parse(c.eventDetails),{questionId:s,audit:p,userTimeStamp:l}=d;for(const u of p)!u||o.push({event:"code_change",eventDetails:JSON.stringify({audit:{difference:void 0===u.difference?u:u.difference},questionId:s}),timestamp:void 0===u.timestamp?l:u.timestamp,serverTimestamp:c.serverTimestamp})}i=(i=i.filter(c=>!c.event.endsWith("code_change"))).concat(o)}this.audits=this.audits.concat(i).sort((a,o)=>new Date(a.timestamp).valueOf()-new Date(o.timestamp).valueOf()),this.audits.length&&(this.startTime=new Date(this.audits[0].timestamp)),this.testEnded||setTimeout(()=>this.getNewAuditData(),3e3)}auditPatcher(n){for(let i=this.auditIndex;i<this.audits.length&&!(n+this.startTime.valueOf()<new Date(this.audits[i].timestamp).valueOf());i++){if(this.audits[i].event.endsWith("question_change")||this.audits[i].event.endsWith("section_change")){const a=JSON.parse(this.audits[i].eventDetails);let o=0,c=0,d=!1;for(const s of this.quizDetails.section){if(s.hash===a.section){for(const p of s.questions){if(p.hash===a.question){d=!0;break}c++}if(d)break}o++}this.store.dispatch((0,Y.L7)({questionIndex:c,sectionIndex:o}))}else if(this.audits[i].event.endsWith("answer")){const a=JSON.parse(this.audits[i].eventDetails),o=JSON.parse(a.answer);this.store.dispatch((0,H.ee)({questionHash:a.qId,answer:o,answerKey:a.answerKey}))}else if(this.audits[i].event.endsWith("proctor_image"))this.imageUrl=JSON.parse(this.audits[i].eventDetails).imageKey;else if(this.audits[i].event.endsWith("unwanted_action"))this.tabChangeViolation=!0===JSON.parse(this.audits[i].eventDetails).tabChanged;else if(this.audits[i].event.endsWith("fullscreen_voilation"))this.fullscreenViolation=!0!==JSON.parse(this.audits[i].eventDetails).fullscreen;else if(this.audits[i].event.endsWith("finish_test"))this.testEnded=!0,$("#finishedTestModal").modal({closable:!1}).modal("show");else if(this.audits[i].event.endsWith("language_change")){const a=JSON.parse(this.audits[i].eventDetails);let o=!1;for(const c of this.quizDetails.section){for(const d of c.questions)if(d.hash===a.questionId){let s=a.language;ee.P.isNum(s)&&(s=Qn.M.find(p=>p.index===s).name),this.store.dispatch(Je({questionHash:d.hash,language:s})),this.store.dispatch(oi({questionHash:d.hash})),o=!0;break}if(o)break}}else if(this.audits[i].event.endsWith("code_change")){const a=JSON.parse(this.audits[i].eventDetails);let o=!1;for(const c of this.quizDetails.section){for(const d of c.questions)if(d.hash===a.questionId){const s=this.codeEditorState.editor[d.hash],p=s.language.name;let l="";if(s.code.hasOwnProperty(p))l=s.code[s.language.name];else{let m=s.stub?s.stub[s.language.name]:void 0;null==m&&(m=Qn.M.find(g=>g.name===p)?.baseCode||""),l=m}const u=eR.patch(l,a.audit.difference);this.store.dispatch(_t({questionHash:d.hash,code:u})),this.store.dispatch(oi({questionHash:d.hash})),this.store.dispatch((0,H.ee)({questionHash:d.hash,answer:u,answerKey:""})),o=!0;break}if(o)break}}this.auditIndex++}this.checkOnline()}incrementTimeMarker(n){this.store.dispatch((0,H.q_)({timeLeft:this.timer.time-n/1e3}))}decrementTimeMarker(n){this.store.dispatch((0,H.q_)({timeLeft:this.timer.time+n/1e3}))}runPlayer(){!1===this.play||(this.auditPatcher(this.timeMarker+1e3),this.incrementTimeMarker(1e3)),setTimeout(()=>this.runPlayer(),1e3)}getUserTimeStamp(n){return JSON.parse(n.eventDetails).userTimeStamp}getTimestamp(n){return new Date(n).valueOf()}checkOnline(){if(!this.audits.length||this.auditIndex>=this.audits.length)return;const n=this.getUserTimeStamp(this.audits[0])||this.getTimestamp(this.audits[0].timestamp);for(let i=this.auditIndex;i>=0;i--){const a=JSON.parse(this.audits[i].eventDetails),o=this.getUserTimeStamp(this.audits[i])||this.getTimestamp(this.audits[i].timestamp);if(n+this.timeMarker-o<15e3&&this.audits[i].event.endsWith("status")){if("offline"===a.status){this.online=!1;break}if("online"===a.status){this.online=!0;break}}}}forward(n){n*=1e3;const i=this.getTimestamp(Date.now())-2e4-(this.getTimestamp(this.startTime)+n+this.timeMarker);i>0&&i>n?this.incrementTimeMarker(n):i>0&&(this.live=!0,this.incrementTimeMarker(i))}rewind(n){this.live=!1,this.decrementTimeMarker(this.timeMarker>(n*=1e3)?n:this.timeMarker),this.resetWindow()}goLive(){const n=this.getTimestamp(Date.now())-2e4-(this.getTimestamp(this.startTime)+this.timeMarker);n>0&&(this.live=!0,this.incrementTimeMarker(n))}goToTime(n){const i=document.getElementById("timescale-holder"),c=(n.pageX-i.offsetLeft)/i.offsetWidth*100;let d=0;this.testDetails.timeLeft>0&&!this.testDetails.finished?d=new Date-new Date(this.testDetails.createdAt):this.testDetails.finished&&(d=new Date(this.testDetails.finishTime)-new Date(this.testDetails.createdAt)),this.store.dispatch((0,H.q_)({timeLeft:this.quizDetails.duration-c*d/1e5})),this.resetWindow()}resetWindow(){this.auditIndex=0,this.store.dispatch((0,H.N3)())}sendMessage(){if(!this.sendingMessage)if(this.message){const n={timestamp:this.getTimestamp(new Date),message:this.message,seenAt:0};this.sendingMessage=!0,this._testManagementService.saveProctorMessage(this.testId,{proctorMessages:n},(i,a)=>{i?this.errorSendingMessage=i:($("#alertModal").modal("hide"),this.message=""),this.sendingMessage=!1})}else alert("Please enter the message.")}openAlertModal(){this.errorSendingMessage="",$("#alertModal").modal("show")}closeWindow(){$(".ui.modal").modal("hide all"),window.close()}postProcessGetTest(n){this.testDetails=n,this.quizDetails=n.quiz,this.testId=this.testDetails._id||this.testDetails.testId,n.quiz.section=n.quiz.section.filter(o=>o.questions&&o.questions.length>0),n.quiz.section.forEach(o=>{o.questions.forEach(c=>{c.type=this.getQuestionType(o.t,c.type,c)})});const i=((n.formdata||[]).find(o=>"Email"===o.key)||{}).value,a=((n.formdata||[]).find(o=>"Name"===o.key)||{}).value;this.store.dispatch((0,Y.yl)({candidateEmail:i,candidateName:a,testInstanceId:this.testId,sections:n.quiz.section,hackathonMode:n.quiz.hackathonMode,enableCalculator:!!n.quiz.enableCalculator,inAdaptiveMode:n.quiz.adaptive,showLeaderboard:n.quiz.showLeaderboard,isWatermarkEnabled:i&&n.quiz.isWatermarkEnabled,isSectionBasedTimer:n.quiz.sectionBasedTime,quizId:n.quizId,quizName:n.quiz.name,quizDuration:n.quiz.duration,disableLsp:n.quiz.disableLsp,baseImageUrl:"",quizNomenclature:n.quiz.org.nomenclature?.quiz||"Test",quizNomenclatureLower:n.quiz.org.nomenclature?.quiz||"test",orgLogo:n.quiz.org?.testLogo?n.quiz.org.testLogo:null,orgBanner:n.quiz.org?.testBanner?n.quiz.org.testBanner:null,sessionDetails:{createdAt:Date.now(),sessionId:"",ipAddress:"",sessionCount:0}})),this.store.dispatch((0,H.sw)({testInstanceId:this.testId,inAdaptiveMode:n.quiz.adaptive,hackathonMode:n.quiz.hackathonMode||!1,proctorSettings:n.quiz.proctoring,tabChangeCount:n.tabChangeCount||0,isReplayOn:!0,localStorageDumpSettings:q,honorCodeSigned:!0,sectionBasedTimer:{value:!1}})),this.store.dispatch((0,H.q_)({timeLeft:this.quizDetails.duration+(this.testDetails.addonTime||0)}));for(let o of n.quiz.section)for(let c of o.questions)(0,H.AR)({qType:c.type,questionHash:c.hash}),[te.ON.PROGRAMMING_GENERAL,te.ON.DEBUGGING,te.ON.DATA_SCIENCE,te.ON.DATABASE].includes(c.type)&&(this.store.dispatch(Ne({testId:this.testId,isReplayOn:!0,questionHash:c.hash,allowedLanguages:c.haslanguagerestriction?c.allowedLanguages:null,stubID:c.codestub,testcases:(c.testcases||[]).map(d=>({testcase_id:d.hash,sample:!!d.sample}))})),this.loadCodeStub(c));n.quiz.allowSectionSelection||this.store.dispatch((0,Y.L7)({questionIndex:0,sectionIndex:0})),$(".ui").popup(),this.getNewAuditData(),this.startPlayback()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(gt.gz),e.Y36(gt.F0),e.Y36(ao.h),e.Y36(Eh.v),e.Y36(Ps.Z),e.Y36(ct.X),e.Y36(J.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-screen-mirroring"]],decls:40,vars:18,consts:[["style","z-index: -1; margin-bottom: 80px",4,"ngIf"],["id","record-player"],["id","proctor-image",3,"src",4,"ngIf"],["id","record-player-dash"],["id","timescale-holder",1,"cursor-pointer",3,"click"],["id","timescale"],["id","record-player-controls"],["data-content","Rewind by 30 secs",1,"ui","inverted","big","fast","backward","icon",3,"click"],["data-content","Rewind by 10 secs",1,"ui","inverted","big","backward","icon",3,"click"],["class","ui inverted big play icon cursor",3,"click",4,"ngIf"],["class","ui inverted big pause icon cursor",3,"click",4,"ngIf"],["data-content","Forward by 10 secs",1,"ui","inverted","big","forward","icon",3,"click"],["data-content","Forward by 30 secs",1,"ui","inverted","big","fast","forward","icon",3,"click"],[2,"color","whitesmoke","cursor","pointer","margin-left","20px",3,"click"],[1,"bell","inverted","big","icon"],["class","dot red circle icon",4,"ngIf"],["class","dot circle outline icon",4,"ngIf"],[1,"status","online"],["style","color: green",4,"ngIf"],["style","color: red",4,"ngIf"],["class","status fullscreen",4,"ngIf"],["class","status tabChange",4,"ngIf"],["id","alertModal",1,"ui","mini","modal"],[1,"header"],[1,"ui","input","content"],["type","text","placeholder","Enter the message here",2,"width","100%",3,"ngModel","ngModelChange"],[1,"actions"],[1,"ui","deny","red","button",3,"ngClass"],[1,"ui","blue","button",3,"ngClass","click"],["modal","","id","liveStreamDelay",1,"ui","mini","modal"],[2,"z-index","-1","margin-bottom","80px"],[4,"ngFor","ngForOf"],["modal","","id","finishedTestModal",1,"ui","mini","modal"],[1,"ui","red","button",3,"click"],[4,"ngIf"],[3,"questionHash",4,"ngIf"],[3,"questionHash","replayOn",4,"ngIf"],[3,"qType","questionHash",4,"ngIf"],[3,"questionHash"],[3,"questionHash","replayOn"],[3,"qType","questionHash"],["id","proctor-image",3,"src"],[1,"ui","inverted","big","play","icon","cursor",3,"click"],[1,"ui","inverted","big","pause","icon","cursor",3,"click"],[1,"dot","red","circle","icon"],[1,"dot","circle","outline","icon"],[2,"color","green"],[2,"color","red"],[1,"status","fullscreen"],[1,"status","tabChange"]],template:function(n,i){1&n&&(e.YNc(0,LL,9,1,"div",0),e.TgZ(1,"div",1),e.YNc(2,RL,1,1,"img",2),e.TgZ(3,"div",3)(4,"div",4),e.NdJ("click",function(o){return i.goToTime(o)}),e._UZ(5,"div",5),e.qZA(),e.TgZ(6,"div",6)(7,"i",7),e.NdJ("click",function(){return i.rewind(30)}),e.qZA(),e.TgZ(8,"i",8),e.NdJ("click",function(){return i.rewind(10)}),e.qZA(),e.YNc(9,UL,1,0,"i",9),e.YNc(10,BL,1,0,"i",10),e.TgZ(11,"i",11),e.NdJ("click",function(){return i.forward(10)}),e.qZA(),e.TgZ(12,"i",12),e.NdJ("click",function(){return i.forward(30)}),e.qZA(),e.TgZ(13,"span",13),e.NdJ("click",function(){return i.openAlertModal()}),e._UZ(14,"i",14),e._uU(15," Alert candidate "),e.qZA(),e.TgZ(16,"span",13),e.NdJ("click",function(){return i.goLive()}),e.YNc(17,FL,1,0,"i",15),e.YNc(18,zL,1,0,"i",16),e._uU(19," Live "),e.qZA(),e.TgZ(20,"div",17),e.YNc(21,HL,2,0,"span",18),e.YNc(22,QL,2,0,"span",19),e.qZA(),e.YNc(23,WL,3,2,"div",20),e.YNc(24,jL,3,2,"div",21),e.qZA()(),e.TgZ(25,"div")(26,"div",22)(27,"div",23),e._uU(28,"Enter the message:"),e.qZA(),e.TgZ(29,"div",24)(30,"input",25),e.NdJ("ngModelChange",function(o){return i.message=o}),e.qZA(),e.YNc(31,GL,2,1,"p",19),e.qZA(),e.TgZ(32,"div",26)(33,"a",27),e._uU(34," Cancel "),e.qZA(),e.TgZ(35,"a",28),e.NdJ("click",function(){return i.sendMessage()}),e._uU(36," Send "),e.qZA()()()(),e.TgZ(37,"div",29)(38,"div",23),e._uU(39,"Live streaming will start in few seconds"),e.qZA()()()),2&n&&(e.Q6J("ngIf",i.qContext),e.xp6(2),e.Q6J("ngIf",i.imageUrl),e.xp6(7),e.Q6J("ngIf",!1===i.play),e.xp6(1),e.Q6J("ngIf",!0===i.play),e.xp6(7),e.Q6J("ngIf",i.live),e.xp6(1),e.Q6J("ngIf",!i.live),e.xp6(3),e.Q6J("ngIf",i.online),e.xp6(1),e.Q6J("ngIf",!i.online),e.xp6(1),e.Q6J("ngIf",(null==i.quizDetails||null==i.quizDetails.proctoring?null:i.quizDetails.proctoring.fullscreen)&&i.online),e.xp6(1),e.Q6J("ngIf",(null==i.quizDetails||null==i.quizDetails.proctoring?null:i.quizDetails.proctoring.tabChange)&&i.online),e.xp6(6),e.Q6J("ngModel",i.message),e.xp6(1),e.Q6J("ngIf",i.errorSendingMessage),e.xp6(2),e.Q6J("ngClass",e.VKq(14,KL,i.sendingMessage)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,XL,i.sendingMessage)))},directives:[Ue.O5,Su,Ue.sg,mi,fi,gi,hi,vi,_i,xi,SL.o,Qe.Fj,Qe.JJ,Qe.On,Ue.mk],styles:["#record-player[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,.1);z-index:1000}#record-player-dash[_ngcontent-%COMP%]{width:100%;height:80px;background:black;position:absolute;bottom:0;margin-top:100px}#record-player-timeline[_ngcontent-%COMP%]{margin-bottom:20px}#record-player-controls[_ngcontent-%COMP%]{padding-left:20px}#timescale-holder[_ngcontent-%COMP%]{width:100%;height:13px;position:relative;background:#333333;margin-bottom:20px}#timescale[_ngcontent-%COMP%]{width:1%;height:13px;position:absolute;background:#2185d0;transition:width 1s}#proctor-image[_ngcontent-%COMP%]{width:200px;height:150px;position:absolute;right:0;bottom:80px;background:black}#cursor[_ngcontent-%COMP%]{cursor:pointer}.status[_ngcontent-%COMP%]{float:right;padding-right:10px}.online[_ngcontent-%COMP%]{padding-left:10px}.fullscreen[_ngcontent-%COMP%]{border-right:1px solid grey;padding-left:10px}.tabChange[_ngcontent-%COMP%]{border-right:1px solid grey}  candidate-editor-sidebar>div .navigator{height:100vh!important;z-index:101!important;overflow-y:scroll!important}  candidate-editor-sidebar>div .extended-options{pointer-events:none;z-index:1000!important;border-top:1px solid #e5e5e5;margin-bottom:80px!important}  candidate-editor-sidebar>div .button{pointer-events:none;background:var(--gray-50);color:#71717a;border:1px solid #e4e4e7}  candidate-editor-layout>div{height:100%!important;width:100%!important}  as-split-area{height:auto!important}\n/*# sourceMappingURL=screen-mirroring.component.css.map*/"]}),t})();const nR={candidateEmail:"",candidateName:"",testInstanceId:"",currentQuestionIndex:0,currentSectionIndex:0,sections:[],calculator:{enableCalculator:!1,showCalculator:!1},hackathonMode:!1,inAdaptiveMode:!1,isMobileDevice:!1,isSectionBasedTimer:!1,showLeaderboard:!1,isWatermarkEnabled:!1,quizId:"",quizName:"",quizDuration:0,quizNomenclature:"Test",quizNomenclatureLower:"test",orgLogo:null,orgBanner:null,intellisenseDisabled:!1,baseImageUrl:"",sessionController:{sessionId:"",isValid:!1,loggedOut:!1},dataInitializedSuccessfully:!1},iR=Vs,cR=(t,r)=>{const n=t.testInstanceId,i=ee.P.getFromLocalStorage(`${n}|answerQueue`)||{};return i[`${r.localTime}|${ee.P.getRandomString(32)}`]=r,ee.P.setToLocalStorage(`${n}|answerQueue`,i),t=gn(t,"answer",`User changed answer to the question ${r.questionId}`,{answer:r.answer,...r.answerKey&&{answerKey:r.answerKey},qId:r.questionId}),{...t,answerQueue:i}},Dh=(t,r)=>{let n=ee.P.deepClone(t);return r?(n=gn(n,"status","User went offline",{isOffline:!0,status:"offline"}),n.showFinishTestModal=!1):n=gn(n,"status","User is back online",{isOffline:!1,status:"online"}),n.proctorViolationState.isOffline=r,n},qh=(t,r)=>{const n=ee.P.deepClone(r.proctorMessages),i=ee.P.deepClone(t.proctorMessages);return n.forEach(a=>{i[a.timestamp]||(i[a.timestamp]=a)}),{...t,proctorMessages:i}},gn=(t,r,n,i)=>{const a=ee.P.deepClone(t.auditController.auditQueue);i.userTimeStamp=Date.now(),a[`${Date.now()}|${ee.P.getRandomString(32)}`]={event:r,message:n,timestamp:Date.now(),source:window.location.href,eventDetails:JSON.stringify(i)};const c=ee.P.deepClone(t.auditSettings);return"finish_test"===r&&(c.forcePushAudits=!0),"answer"===r&&ee.P.setToLocalStorage(`${t.testInstanceId}|latestAnswerAudit`,Date.now()),ee.P.setToLocalStorage(`${t.testInstanceId}|auditQueue`,a),{...t,auditSettings:c,auditController:{...t.auditController,auditQueue:a}}},Qc=t=>{ee.P.setToLocalStorage(`${t.testInstanceId}|uiStates`,{isSideBarExpanded:t.isSideBarExpanded,darkMode:t.darkMode,showWebcamStream:t.showWebcamStream})},Ut=(t,r,n)=>t.qTypes[r]?t.qTypes[r][n]:null,Bt=(t,r,n,i)=>({...t,qTypes:{...t.qTypes,[r]:{...t.qTypes[r],[n]:i}}}),Vc=()=>{try{navigator.clipboard.writeText("").then().catch(t=>console.error(`Clipboard Event ${t}`))}catch(t){console.error(JSON.stringify(`Clipboard Event ${t}`))}},Et="[Candidate Instructions Component]";var ta=(()=>{return(t=ta||(ta={})).LANDING="LANDING",t.FORM="FORM",ta;var t})(),bn=(()=>{return(t=bn||(bn={})).LOADING="LOADING",t.TEST_DETAILS="TEST_DETAILS",t.PASSWORD="PASSWORD",t.ERROR="ERROR",bn;var t})(),yt=(()=>{return(t=yt||(yt={})).SYSTEM_CHECK="SYSTEM_CHECK",t.PERSONAL_INFO="PERSONAL_INFO",t.CANDIDATE_ID="CANDIDATE_ID",t.PHOTO_VERIFICATION="PHOTO_VERIFICATION",t.LIVENESS_CHECK="LIVENESS_CHECK",t.INSTRUCTIONS="INSTRUCTIONS",t.CUSTOMER_INSTRUCTIONS="CUSTOMER_INSTRUCTIONS",yt;var t})(),ir=(()=>{return(t=ir||(ir={})).PENDING="PENDING",t.ONGOING="ONGOING",t.COMPLETED="COMPLETED",t.ERROR="ERROR",ir;var t})(),cn=(()=>{return(t=cn||(cn={})).BROWSER="BROWSER",t.FIREWALL="FIREWALL",t.NET_SPEED="NET_SPEED",t.DEVICE="DEVICE",t.MICTEST="MICTEST",cn;var t})(),ur=(()=>{return(t=ur||(ur={})).PENDING="PENDING",t.ONGOING="ONGOING",t.COMPLETED="COMPLETED",ur;var t})();const Ph="candidate-personal-information-id",Zh="password-form-id";var _n=(()=>{return(t=_n||(_n={})).CANDIDATE_ID="CANDIDATE_ID",t.PHOTO_VERIFICATION="PHOTO_VERIFICATION",_n;var t})(),Ht=(()=>{return(t=Ht||(Ht={}))[t.WEBCAM_ERROR=1]="WEBCAM_ERROR",t[t.NOT_TAKEN=2]="NOT_TAKEN",t[t.COUNTDOWN=3]="COUNTDOWN",t[t.IMAGE_SNAPPED=4]="IMAGE_SNAPPED",t[t.UPLOADING=5]="UPLOADING",t[t.ANALYZING=6]="ANALYZING",t[t.API_ERROR=7]="API_ERROR",t[t.COMPLETED=8]="COMPLETED",Ht;var t})(),zr=(()=>{return(t=zr||(zr={})).NOT_OPEN="NOT_OPEN",t.OPEN="OPEN",t.CLOSE="CLOSE",zr;var t})();const na={[yt.SYSTEM_CHECK]:{type:yt.SYSTEM_CHECK,name:"System check",visited:!1},[yt.PERSONAL_INFO]:{type:yt.PERSONAL_INFO,name:"Personal information",visited:!1},[yt.CANDIDATE_ID]:{type:yt.CANDIDATE_ID,name:"Upload ID",visited:!1},[yt.PHOTO_VERIFICATION]:{type:yt.PHOTO_VERIFICATION,name:"Photo verification",visited:!1},[yt.LIVENESS_CHECK]:{type:yt.LIVENESS_CHECK,name:"Video verification",visited:!1},[yt.INSTRUCTIONS]:{type:yt.INSTRUCTIONS,name:"General instructions",visited:!1},[yt.CUSTOMER_INSTRUCTIONS]:{type:yt.CUSTOMER_INSTRUCTIONS,name:"Customer Instructions",visited:!1}},Lh={[cn.BROWSER]:{type:cn.BROWSER,name:"Browser Compatibility",loadMsg:"Checking if your browser is compatible...",state:ur.PENDING},[cn.DEVICE]:{type:cn.DEVICE,name:"Device Compatibility",loadMsg:"Checking if your device is compatible...",state:ur.PENDING},[cn.FIREWALL]:{type:cn.FIREWALL,name:"Network firewall",loadMsg:"Checking if your firewall is allowing access...",state:ur.PENDING},[cn.NET_SPEED]:{type:cn.NET_SPEED,name:"Network speed",loadMsg:"Checking your network speed...",state:ur.PENDING},[cn.MICTEST]:{type:cn.MICTEST,name:"Microphone Test",loadMsg:"Checking your microphone...",state:ur.PENDING}},Jc={initDataLoadState:{state:he.V.NOTLOADED},dataInitializedSuccessfully:!1,testWindowEndTimeWarning:!1},Rh=t=>{const r=t.toLocaleString("en-US",{year:"numeric"}),n=t.toLocaleString("en-US",{month:"short"}),i=t.toLocaleString("en-US",{day:"numeric"});return`${t.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}, ${i} ${n} ${r}`},PR=()=>{let r=(new Date).toLocaleTimeString("en-US",{timeZoneName:"short",hour12:!1}).split(" ");return r[r.length-1]},Uh=t=>{const r=t.tabs.findIndex(a=>a.type===t.activeTab);return{tabs:t.tabs,activeTabIndex:r,activeTab:t.tabs[r],lastTab:t.tabs[t.tabs.length-1]}},Wc=(t,r)=>!(!t?.proctoring?.video||!r&&t.authentication),Bh=(t,r)=>Wc(t,r)&&!t?.proctoring?.overwriteAndDisableLivenessCheck&&ee.P.checkWebGLSupport()&&navigator.deviceMemory>4,Fh=t=>{let n=ee.P.isEmpty(t.about)?"":ee.P.stripTags(t.about).trim();return!(ee.P.isEmpty(n)||["No detail is provided.","No quiz detail is provided."].includes(n))},zh=(t,r)=>!(!t.candidateId||!r&&t.authentication),Lo=(t,r)=>!(!t?.proctoring?.screenRecording||!r&&t.authentication),Yc=(t,r)=>!(!t?.proctoring?.screenRecordingWithoutAudio||!r&&t.authentication),Hh=(t,r)=>Lo(t,r)||!(!t?.proctoring?.disableMultiScreen||!r&&t.authentication),zR=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,HR=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Qh=(t,r)=>t,Vh=(0,J.PH)(`${Et} initialize instructions`),Jh=(0,J.PH)(`${Et} Data Initialized successfully`),Wh=(0,J.PH)(`${Et} store login info`,(0,J.Ky)()),Yh=(0,J.PH)(`${Et} load instructions`),$h=(0,J.PH)(`${Et} load instructions success`,(0,J.Ky)()),$c=(0,J.PH)(`${Et} load instructions fail`,(0,J.Ky)()),jh=(0,J.PH)(`${Et} goto form`),Gh=(0,J.PH)(`${Et} setup form page`),Kh=(0,J.PH)(`${Et} goto next tab`),Xh=(0,J.PH)(`${Et} goto tab`,(0,J.Ky)()),jc=(0,J.PH)(`${Et} start system checks`),e1=(0,J.PH)(`${Et} start system checks in landing page`),Gc=(0,J.PH)(`${Et} trigger test window end timer warning`),Kc=(0,J.PH)(`${Et} set system check response`,(0,J.Ky)()),t1=((0,J.PH)(`${Et} system check failed unexpectedly`),(0,J.PH)(`${Et} set personal information form data value`)),n1=(0,J.PH)(`${Et} submit form`),Xc=(0,J.PH)(`${Et} handle file input field`,(0,J.Ky)()),r1=(0,J.PH)(`${Et} init candidate id`),i1=(0,J.PH)(`${Et} candidate id webcam failed`,(0,J.Ky)()),a1=(0,J.PH)(`${Et} candidate id image countdown`),o1=(0,J.PH)(`${Et} candidate id image taken `),s1=(0,J.PH)(`${Et} candidate id image upload `),c1=(0,J.PH)(`${Et} candidate id image upload error`,(0,J.Ky)()),u1=(0,J.PH)(`${Et} candidate id image upload success`,(0,J.Ky)()),l1=(0,J.PH)(`${Et} candidate id webcam reload`),d1=(0,J.PH)(`${Et} candidate id retake image`),p1=(0,J.PH)(`${Et} init photo verification`),m1=(0,J.PH)(`${Et} photo verification webcam failed`,(0,J.Ky)()),f1=(0,J.PH)(`${Et} photo verification image countdown`),g1=(0,J.PH)(`${Et} photo verification image taken `),h1=(0,J.PH)(`${Et} photo verification image upload `),eu=(0,J.PH)(`${Et} photo verification image upload error`,(0,J.Ky)()),v1=(0,J.PH)(`${Et} photo verification image analyze`,(0,J.Ky)()),Es=(0,J.PH)(`${Et} photo verification image analyze success`,(0,J.Ky)()),Qa=(0,J.PH)(`${Et} photo verification image analyze error`,(0,J.Ky)()),_1=(0,J.PH)(`${Et} photo verification reload`),x1=(0,J.PH)(`${Et} photo verification retake image`);var ra=ke(80506),ia=ke(52736),Os=ke(84475);function tu(t,r){return null==t&&(t=""),null==r&&(r=""),t.toString().toLowerCase().localeCompare(r.toString().toLowerCase())}var Dt=(()=>{return(t=Dt||(Dt={})).PROGRAMMING_GENERAL="code",t.PROGRAMMING_SPECIFIC="code_specific",t.PROJECT="project",t.DEVOPS="devops",t.DATA_SCIENCE="Data Science",t.MACHINE_LEARNING="AI Coding",t.DATABASE="database",t.MCQ_SINGLE="Multiple Choice",t.MCQ_MULTIPLE="Checkboxes",t.SUBJECTIVE_MANUAL="Subjective",t.WORK_SAMPLE="workSample",t.CODEGAPS="codegaps",t.VIDEO_EXPLANATION="videoExplanation",t.WHITEBOARD="whiteboard",t.DEBUGGING="debugging",Dt;var t})();const nu=[{index:0,name:"TEXT",stubname:"TEXT",storedStubname:"TEXT",displayName:"Text",extension:"text",enabled:!0,judgeExtension:"TEXT",baseCode:"Enter the text here",logoPath:"assets/languages-logos/text.svg"},{index:1,name:"C",stubname:"c",storedStubname:"C",displayName:"C",extension:"c",enabled:!0,judgeExtension:"c",baseCode:'/*\n// Sample code to perform I/O:\n#include <stdio.h>\n\nint main(){\n\nint num;\nscanf("%d", &num);              \t\t\t// Reading input from STDIN\nprintf("Input number is %d.", num);       // Writing output to STDOUT\n}\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n// Write your code here',logoPath:"assets/languages-logos/cprogramming.svg"},{index:2,name:"CPP14",stubname:"cpp14",storedStubname:"CPP14",displayName:"C++ 14",extension:"c_cpp",enabled:!0,judgeExtension:"CPP14",baseCode:'/*\n// Sample code to perform I/O:\n\ncin >> name;                            // Reading input from STDIN\ncout << "Hi, " << name << ".\\n";        // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n#include <cmath>\n#include <cstdio>\n#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\t/* Enter your code here. Read input from STDIN. Print output to STDOUT */\n\treturn 0;\n}',logoPath:"assets/languages-logos/cpp.svg"},{index:3,name:"JAVA8",stubname:"java8",storedStubname:"Java8",displayName:"Java 8",extension:"java",enabled:!0,judgeExtension:"JAVA8",baseCode:'/* IMPORTANT: Multiple classes and nested static classes are supported */\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n\n/* Sample code to perform I/O:\n* Use either of these methods for input\n\n//BufferedReader\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nString name = br.readLine();                // Reading input from STDIN\nSystem.out.println("Hi, " + name + ".");    // Writing output to STDOUT\n\n//Scanner\nScanner s = new Scanner(System.in);\nString name = s.nextLine();                 // Reading input from STDIN\nSystem.out.println("Hi, " + name + ".");    // Writing output to STDOUT\n\n*/\n\nimport java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\n\tpublic static void main(String[] args) {\n\t\t/* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n\t}\n}',logoPath:"assets/languages-logos/java.svg"},{index:4,name:"PY2",stubname:"python2",storedStubname:"Python2",displayName:"Python 2",extension:"python",enabled:!0,judgeExtension:"PY2",baseCode:"# Sample code to perform I/O:\n\n#name = raw_input()          # Reading input from STDIN\n\n#print 'Hi, %s.' % name      # Writing output to STDOUT\n\n# Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n\n# Enter your code here. Read input from STDIN. Print output to STDOUT",logoPath:"assets/languages-logos/python.svg"},{index:5,name:"PY3",stubname:"python",storedStubname:"Python3",displayName:"Python 3",extension:"python",enabled:!0,judgeExtension:"PY3",baseCode:"''' \n# Sample code to perform I/O:\n\nname = input()                  # Reading input from STDIN\nprint('Hi, %s.' % name)         # Writing output to STDOUT\n\n# Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n\n# Enter your code here. Read input from STDIN. Print output to STDOUT \n'''",logoPath:"assets/languages-logos/python.svg"},{index:6,name:"Javascript",stubname:"javascript",storedStubname:"JavaScript",displayName:"JavaScript",extension:"javascript",enabled:!0,judgeExtension:"V8JS",baseCode:"/* Javascript\n`print(...)`: prints all argument separated by space followed by new line.\n`gets()`: returns one line of input from`stdin`.\n*/",logoPath:"assets/languages-logos/js.svg"},{index:7,name:"Node",stubname:"node",storedStubname:"Node",displayName:"Node JS",extension:"javascript",enabled:!0,judgeExtension:"V8JS",baseCode:"/* Node\n`print(...)`: prints all argument separated by space followed by new line.\n`gets()`: returns one line of input from`stdin`.\n*/",logoPath:"assets/languages-logos/nodejs.svg"},{index:8,name:"Perl",stubname:"perl",storedStubname:"PERL",displayName:"Perl",extension:"pr",enabled:!0,judgeExtension:"PERL",baseCode:'=comment\n# Sample code to perform I/O:\n\nmy $name = <STDIN>;             # Reading input from STDIN\nprint "Hi, $name.";           # Writing output to STDOUT\n\n# Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n=cut\n\n# Write your code here',logoPath:"assets/languages-logos/perl.svg"},{index:9,name:"PHP",stubname:"php",storedStubname:"PHP",displayName:"PHP",extension:"php",enabled:!0,judgeExtension:"PHP",baseCode:'<?php \n /* \n // Sample code to perform I/O: \n fscanf(STDIN, "%s\\n", $name);           // Reading input from STDIN \n echo "Hi, ".$name.".\\n";                // Writing output to STDOUT \n // Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail \n */ // Write your code here \n ?>',logoPath:"assets/languages-logos/php.svg"},{index:10,name:"OBJC",stubname:"OBJC",storedStubname:"OBJC",displayName:"Objective-C",extension:"csharp",enabled:!0,judgeExtension:"OBJC",baseCode:'/* \n // Sample code to perform I/O: \n # include<stdio.h> \n int main(){ \n int num; \n scanf("%s", &num);                              // Reading input from STDIN \n printf("Input number is %s.\\n", &num);           // Writing output to STDOUT \n } \n // Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail \n */ \n // Write your code here',logoPath:"assets/languages-logos/objectivec.svg"},{index:11,name:"R",stubname:"r",storedStubname:"R",displayName:"R",extension:"r",enabled:!0,judgeExtension:"R",baseCode:'# cat("Hello World!")',logoPath:"assets/languages-logos/r-project.svg"},{index:12,name:"C#",stubname:"c#",storedStubname:"CSharp",displayName:"C#",extension:"CS",enabled:!0,judgeExtension:"MONOCS",baseCode:'/*\n// Sample code to perform I/O:\n\nname = Console.ReadLine();                  // Reading input from STDIN\nConsole.WriteLine("Hi, {0}.", name);        // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n// Write your code here',logoPath:"assets/languages-logos/csharp.svg"},{index:13,name:"SWIFT",stubname:"swift",storedStubname:"SWIFT",displayName:"Swift",extension:"swift",enabled:!0,judgeExtension:"SWIFT",baseCode:'/* \n// Sample code to perform I/O: \nlet name = readLine()                           // Reading input from STDIN\nprint("Hi, ", name!, ".\n", separator: "")      // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n// Write your code here',logoPath:"assets/languages-logos/swift.svg"},{index:14,name:"SQL",stubname:"SQLITE",storedStubname:"SQLITE",displayName:"SQLITE",extension:"sql",enabled:!0,judgeExtension:"SQLITE",baseCode:"-- Enter your query here",logoPath:"assets/languages-logos/sqlite.svg"},{index:15,name:"Haskell",stubname:"HASKELL",storedStubname:"HASKELL",displayName:"Haskell",extension:"hs",enabled:!1,judgeExtension:"HASKELL",baseCode:'-- Sample code to perform I/O:\n\n-- main = do\n--     name <- getLine                         -- Reading input from STDIN\n--     putStrLn ("Hi, " ++ name ++ ".")        -- Writing output to STDOUT\n\n-- Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n-- Write your code here',logoPath:"assets/languages-logos/hakskell.svg"},{index:16,name:"Scala",stubname:"scala",storedStubname:"SCALA",displayName:"Scala",extension:"sc",enabled:!0,judgeExtension:"SCALA",baseCode:'/*\n// Sample code to perform I/O:\n\nval name = scala.io.StdIn.readLine()        // Reading input from STDIN\nprintln("Hi, " + name + ".")                // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n// Write your code here',logoPath:"assets/languages-logos/scala.svg"},{index:17,name:"Pascal",stubname:"PASCAL",storedStubname:"PASCAL",displayName:"Pascal",extension:"ps",enabled:!1,judgeExtension:"PASCAL",baseCode:"(* \n// Sample code to perform I/O: \n\nreadln (name);                      // Reading input from STDIN\nwriteln ('Hi, ', name, '.');        // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*)\n\n// Write your code here",logoPath:"assets/languages-logos/text.svg"},{index:18,name:"Go",stubname:"go",storedStubname:"GO",displayName:"Go",extension:"go",enabled:!0,judgeExtension:"GO",baseCode:'/*\n// Sample code to perform I/O:\n\nfmt.Scanf("%s", &myname)            // Reading input from STDIN\n\nfmt.Println("Hello", myname)        // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n// Write your code here',logoPath:"assets/languages-logos/go.svg"},{index:19,name:"Ruby",stubname:"ruby",storedStubname:"RUBY",displayName:"Ruby",extension:"rb",enabled:!0,judgeExtension:"RUBY2",baseCode:'=begin \n # Sample code to perform I/O: \n name = gets.chomp                # Reading input from STDIN \n print "Hi, #{name}."           # Writing output to STDOUT \n # Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail \n=end \n# Write your code here',logoPath:"assets/languages-logos/ruby.svg"},{index:20,name:"PyPy",stubname:"PyPy",storedStubname:"PyPy",displayName:"PyPy",extension:"py",judgeExtension:"PYPY",disabled:!0,logoPath:"assets/languages-logos/python.svg"},{index:21,name:"PyPy3",stubname:"PyPy3",storedStubname:"PyPy3",displayName:"PyPy3",extension:"py",judgeExtension:"PYPY3",disabled:!0,logoPath:"assets/languages-logos/python.svg"},{index:22,name:"CPP11",stubname:"cpp11",storedStubname:"CPP11",displayName:"C++ 11",extension:"c_cpp",enabled:!0,judgeExtension:"CPP11",baseCode:'/*\n// Sample code to perform I/O:\n\ncin >> name;                            // Reading input from STDIN\ncout << "Hi, " << name << ".\\n";        // Writing output to STDOUT\n\n// Warning: Printing unwanted or ill-formatted data to output will cause the test cases to fail\n*/\n\n#include <cmath>\n#include <cstdio>\n#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\t/* Enter your code here. Read input from STDIN. Print output to STDOUT */\n\treturn 0;\n}',logoPath:"assets/languages-logos/c++.svg"},{index:23,name:"MYSQL",storedStubname:"MYSQL",stubname:"MYSQL",displayName:"MYSQL",extension:"sql",enabled:!0,judgeExtension:"MYSQL",baseCode:"-- Enter your query here \n-- Note: MySQL queries are case-sensitive. To ensure correctness of the code, please follow the same standard.",logoPath:"assets/languages-logos/mysql.svg"},{index:24,name:"MSSQL",storedStubname:"MSSQL",stubname:"MSSQL",displayName:"MSSQL",extension:"sql",enabled:!0,judgeExtension:"MSSQL",baseCode:"-- Enter your query here \n-- ",logoPath:"assets/languages-logos/mssql.svg"}];var Va=(()=>{return(t=Va||(Va={})).VOID="Void",t.INT="Integer",t.LONG="Long",t.CHAR="Character",t.FLOAT="Float",t.DOUBLE="Double",t.STRING="String",t.BOOLEAN="Boolean",t.INT_SINGLE_LL="Integer Single Linked List",t.LONG_SINGLE_LL="Long Single Linked List",t.CHAR_SINGLE_LL="Character Single Linked List",t.FLOAT_SINGLE_LL="Float Single Linked List",t.DOUBLE_SINGLE_LL="Double Single Linked List",t.STRING_SINGLE_LL="String Single Linked List",t.BOOLEAN_SINGLE_LL="Boolean Single Linked List",t.INT_DOUBLE_LL="Integer Doubly Linked List",t.LONG_DOUBLE_LL="Long Doubly Linked List",t.CHAR_DOUBLE_LL="Character Doubly Linked List",t.FLOAT_DOUBLE_LL="Float Doubly Linked List",t.DOUBLE_DOUBLE_LL="Double Doubly Linked List",t.STRING_DOUBLE_LL="String Doubly Linked List",t.BOOLEAN_DOUBLE_LL="Boolean Doubly Linked List",t.INT_ARR="Integer Array",t.LONG_ARR="Long Array",t.CHAR_ARR="Character Array",t.FLOAT_ARR="Float Array",t.DOUBLE_ARR="Double Array",t.STRING_ARR="String Array",t.BOOLEAN_ARR="Boolean Array",t.INT_ARR_2D="Integer 2D Array",t.LONG_ARR_2D="Long 2D Array",t.CHAR_ARR_2D="Character 2D Array",t.FLOAT_ARR_2D="Float 2D Array",t.DOUBLE_ARR_2D="Double 2D Array",t.STRING_ARR_2D="String 2D Array",t.BOOLEAN_ARR_2D="Boolean 2D Array",Va;var t})();const w1=[Va.INT_ARR_2D,Va.LONG_ARR_2D,Va.CHAR_ARR_2D,Va.FLOAT_ARR_2D,Va.DOUBLE_ARR_2D,Va.STRING_ARR_2D,Va.BOOLEAN_ARR_2D];[Va.INT,Va.LONG,Va.CHAR,Va.FLOAT,Va.DOUBLE,Va.STRING,Va.BOOLEAN].concat([Va.INT_SINGLE_LL,Va.LONG_SINGLE_LL,Va.CHAR_SINGLE_LL,Va.FLOAT_SINGLE_LL,Va.DOUBLE_SINGLE_LL,Va.STRING_SINGLE_LL,Va.BOOLEAN_SINGLE_LL,Va.INT_DOUBLE_LL,Va.LONG_DOUBLE_LL,Va.CHAR_SINGLE_LL,Va.FLOAT_DOUBLE_LL,Va.DOUBLE_DOUBLE_LL,Va.STRING_DOUBLE_LL,Va.BOOLEAN_DOUBLE_LL,Va.INT_ARR,Va.LONG_ARR,Va.CHAR_ARR,Va.FLOAT_ARR,Va.DOUBLE_ARR,Va.STRING_ARR,Va.BOOLEAN_ARR]).concat(w1),Object.values(Va),nu.filter(t=>t.enabled).sort((t,r)=>tu(t.displayName,r.displayName)),nu.filter(t=>t.enabled).filter(t=>["PY2","PY3","R"].includes(t.name)).sort((t,r)=>tu(t.displayName,r.displayName)),nu.filter(t=>t.enabled).filter(t=>["SQL","MYSQL","MSSQL"].includes(t.name)).sort((t,r)=>tu(t.displayName,r.displayName));const N1=(0,xe.mD)({password:(0,xe.Gu)(ra.C1)}),pU=()=>{let t=(0,xe.j6)(Zh,{password:""});return t=N1(t),t},qt=$e.m.produceOnWrapper(),mU=(0,J.Lq)(Jc,(0,xe.c_)(),(0,xe.GT)(xe._2,(t,r)=>{const n=r.controlId.split(".")[0];if(n===Ph){const i=parseInt(r.controlId.split(".")[1]),a=[];t.formData.value[i].required&&a.push(ra.C1);const o=A1(t.formData.value[i].type);o&&a.push(o);const c=(0,xe.Lu)((d,s)=>s===i,(0,xe.mD)({value:(0,xe.Gu)(a)}))(t.formData);return{...t,formData:c}}if(n===Zh){let i=N1(t.passwordFormState);return{...t,passwordFormState:i}}return t}),qt(Vh,(t,r)=>({...(0,ia.cA)(Jc),page:ta.LANDING,landingMode:bn.LOADING})),qt(Wh,(t,r)=>(t.username=r.username,t.email=r.email,t)),qt(Yh,(t,r)=>{let n={...t,initDataLoadState:{state:he.V.LOADING}};switch(t.landingMode){case bn.LOADING:case bn.TEST_DETAILS:break;case bn.PASSWORD:n={...n,passwordFormState:(0,ia.cA)((0,xe.h$)(t.passwordFormState)),initDataLoadState:{...t.initDataLoadState,state:n.initDataLoadState.state}}}return n}),qt($h,(t,r)=>{switch(t.initDataLoadState={state:he.V.LOADED},"redirectionURL"in r.response?t.redirectionURL=r.response.redirectionURL:t.instructions=r.response,t.landingMode){case bn.LOADING:t.landingMode=bn.TEST_DETAILS;break;case bn.TEST_DETAILS:break;case bn.PASSWORD:t.password=t.passwordFormState.controls.password.value,t.passwordFormState=null,t.landingMode=bn.TEST_DETAILS}return t}),qt(Jh,(t,r)=>(t.dataInitializedSuccessfully=!0,t)),qt($c,(t,r)=>{const n={state:he.V.ERROR,...r.error&&{error:r.error}};let i={...t,initDataLoadState:n};if("incorrect_access_key"===r.error.errorCode)switch(t.landingMode){case bn.LOADING:case bn.TEST_DETAILS:i={...i,landingMode:bn.PASSWORD,passwordFormState:pU()};break;case bn.PASSWORD:i={...i,landingMode:bn.PASSWORD,passwordFormState:(0,xe.FH)((0,xe.$r)((0,xe.wp)(t.passwordFormState)))}}else i={...i,landingMode:bn.ERROR};return(0,ia.cA)(i)}),qt(jh,(t,r)=>(t.page=ta.FORM,t)),qt(Gh,(t,r)=>{const n={...na[yt.CUSTOMER_INSTRUCTIONS]};return t.instructions.quiz.org.displayName&&(n.name=`Instructions from ${t.instructions.quiz.org.displayName}`),t.navigationMeta={tabs:[...window.electronAPI&&window.electronAPI.appId===z.N.sherlockAppId?[]:[{...na[yt.SYSTEM_CHECK]}],{...na[yt.PERSONAL_INFO]},...zh(t.instructions.quiz,t.username)?[{...na[yt.CANDIDATE_ID]}]:[],...Wc(t.instructions.quiz,t.username)?[{...na[yt.PHOTO_VERIFICATION]}]:[],...Bh(t.instructions.quiz,t.username)?[{...na[yt.LIVENESS_CHECK]}]:[],na[yt.INSTRUCTIONS],...Fh(t.instructions.quiz)?[n]:[]],activeTab:window.electronAPI&&window.electronAPI.appId===z.N.sherlockAppId?yt.PERSONAL_INFO:yt.SYSTEM_CHECK},t}),qt(Kh,(t,r)=>{const n=Uh(t.navigationMeta);return t.navigationMeta.activeTab=t.navigationMeta.tabs[n.activeTabIndex+1].type,t}),qt(Xh,(t,r)=>(t.navigationMeta.activeTab=r.tabType,t)),qt(jc,(t,r)=>{t.navigationMeta.tabs.find(o=>o.type===yt.SYSTEM_CHECK).visited=!0;let n=Object.values(cn).filter(o=>o!==cn.NET_SPEED);t.instructions?.questionTypes.includes(Dt.VIDEO_EXPLANATION)||Lo(t.instructions?.quiz,t.username)&&!Yc(t.instructions?.quiz,t.username)||(n=Object.values(cn).filter(o=>o!==cn.NET_SPEED&&o!==cn.MICTEST));const a={id:ee.P.getRandomString(32),checks:n.map(o=>ee.P.deepClone(Lh[o]))};return a.checks[0].state=ur.ONGOING,t.systemChecks={meta:a,computed:(0,Os.R)(a)},t}),qt(e1,(t,r)=>{let n=Object.values(cn).filter(o=>o!==cn.NET_SPEED);t.instructions?.questionTypes.includes(Dt.VIDEO_EXPLANATION)||Lo(t.instructions?.quiz,t.username)||(n=Object.values(cn).filter(o=>o!==cn.NET_SPEED&&o!==cn.MICTEST));const a={id:ee.P.getRandomString(32),checks:n.map(o=>ee.P.deepClone(Lh[o]))};return a.checks[0].state=ur.ONGOING,t.systemChecks={meta:a,computed:(0,Os.R)(a)},t}),qt(Kc,(t,r)=>(t.systemChecks=r.systemChecks,t)),qt(t1,(t,r)=>{const n={...t.navigationMeta,tabs:t.navigationMeta.tabs.map(o=>o.type===yt.PERSONAL_INFO?{...o,visited:!0}:o)},i=((t,r,n,i)=>{let c=["Name","Email",...t.quiz.cornerstoneLOId?["CornerstoneUsername"]:[],...t.quiz.formdata||[]];for(let d=0;d<c.length;d++)c[d]={key:c[d],value:"",disabled:!1,required:!1,type:"text",isFileType:!1,isDropdown:!1,options:{}},"Email"===c[d].key&&(c[d].type="email"),t.invite?("Email"===c[d].key&&(c[d].value=t.invite.user,c[d].disabled=!0),"Name"===c[d].key&&(t.invite.inviteSettings?.fullName||t.invite.name)&&(c[d].value=t.invite.inviteSettings?.fullName||t.invite.name,c[d].disabled=!0)):"Email"===c[d].key&&n?(c[d].value=n,c[d].disabled=!0):"Name"===c[d].key&&r?(c[d].value=r,c[d].disabled=!0):"CornerstoneUsername"===c[d].key&&i&&(c[d].value=i,c[d].disabled=!0),t.quiz.formRequiredFields?t.quiz.formRequiredFields.indexOf(c[d].key)>-1&&(c[d].required=!0):c[d].required=!0,t.quiz.formvalidators?t.quiz.formvalidators.forEach(s=>{c[d].key===s.formelement&&(c[d].type=s.value,s.formelementId&&(c[d].formelementId=s.formelementId),"file"===s.value&&(c[d].isFileType=!0,c[d].options.keyToUse=ee.P.getRandomString(32)),"dropdown"===s.value&&(c[d].isDropdown=!0))}):c[d].key.toLowerCase().includes("resume")&&(c[d].isFileType=!0),t.quiz.dropdownFields&&t.quiz.dropdownFields.forEach(s=>{c[d].key===s.formelement&&(c[d].dropdownItems=s.items)});return c})(t.instructions,t.username,t.email,t.conerstoneUsername);let a=(0,xe.TX)(Ph,i);return a=(0,xe.Lu)((o,c)=>o.controls.disabled.value,xe.h$)(a),(0,ia.cA)({...t,navigationMeta:n,formData:a})}),qt(Xc,(t,r)=>{const n=(0,xe.Lu)((i,a)=>a===r.control_index,(0,xe.mD)({value:(0,xe.sO)(r.fileKey),options:(0,xe.sO)({...t.formData.controls[r.control_index].value.options,fileName:r.fileName})}))(t.formData);if(n.value[r.control_index].required){const i=(0,xe.Lu)((a,o)=>o===r.control_index,(0,xe.mD)({value:(0,xe.Gu)(ra.C1)}))(n);return(0,ia.cA)({...t,formData:i})}return(0,ia.cA)({...t,formData:n})}),qt(n1,(t,r)=>{let n=(0,xe.FH)(t.formData);n=(0,xe.qf)(n);for(let i=0;i<n.controls.length;i++){const a=[];t.formData.value[i].required&&a.push(ra.C1);const o=A1(t.formData.value[i].type);o&&a.push(o),n=(0,xe.Lu)((d,s)=>s===i,(0,xe.mD)({value:(0,xe.Gu)(a)}))(n)}return(0,ia.cA)({...t,formData:n})}),qt(r1,(t,r)=>(t.navigationMeta.tabs.find(n=>n.type===yt.CANDIDATE_ID).visited=!0,t.candidateIdWebcamStatus={snapStatus:Ht.NOT_TAKEN},t)),qt(i1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.WEBCAM_ERROR,webcamError:r.error},t)),qt(a1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.COUNTDOWN},t)),qt(o1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.IMAGE_SNAPPED},t)),qt(s1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.UPLOADING},t)),qt(u1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.COMPLETED},t.candidateIdImageDetails={key:r.key,imageAsDataUrl:r.imageAsDataUrl},t)),qt(c1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.API_ERROR,apiError:r.error},t)),qt(l1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.NOT_TAKEN},t)),qt(d1,(t,r)=>(t.candidateIdWebcamStatus={snapStatus:Ht.NOT_TAKEN},t.candidateIdImageDetails=null,t)),qt(p1,(t,r)=>(t.navigationMeta.tabs.find(n=>n.type===yt.PHOTO_VERIFICATION).visited=!0,t.photoVerificationWebcamStatus={snapStatus:Ht.NOT_TAKEN},t)),qt(m1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.WEBCAM_ERROR,webcamError:r.error},t)),qt(f1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.COUNTDOWN},t)),qt(g1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.IMAGE_SNAPPED},t)),qt(h1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.UPLOADING},t)),qt(eu,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.API_ERROR,apiError:r.error},t)),qt(v1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.ANALYZING},t.photoVerificationDetails={imageAsDataUrl:r.imageAsDataUrl,key:r.key},t)),qt(Es,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.COMPLETED},r.faceApiBoxArgs?t.photoVerificationDetails.faceApiBoxArgs=r.faceApiBoxArgs:r.rekognitionBoxArgs&&(t.photoVerificationDetails.rekognitionBoxArgs=r.rekognitionBoxArgs),t)),qt(Qa,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.API_ERROR,apiError:r.error},t)),qt(_1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.NOT_TAKEN},t)),qt(Gc,(t,r)=>(t.testWindowEndTimeWarning=!t.testWindowEndTimeWarning,t)),qt(x1,(t,r)=>(t.photoVerificationWebcamStatus={snapStatus:Ht.NOT_TAKEN},t.photoVerificationDetails=null,t))),A1=t=>"url"===t?(0,ra.uj)(zR):"email"===t?(0,ra.uj)(HR):void 0,T1=(0,J.PH)(` ${Yt} Load Candidate Feedback Questions`),I1=(0,J.PH)(` ${Yt} Load Candidate Feedback Questions Success`,(0,J.Ky)()),uu=(0,J.PH)(` ${Yt} Load Candidate Feedback Questions Error`,(0,J.Ky)()),E1=(0,J.PH)(`${Yt} Update star rating feedback question`,(0,J.Ky)()),O1=(0,J.PH)(`${Yt} Update Objective/Multiple feedback question`,(0,J.Ky)()),k1=(0,J.PH)(`${Yt} validate the feedback form`),D1=(0,J.PH)(`${Yt} feedback form validation failed`),q1=(0,J.PH)(`${Yt} feedback form submitted successfully`),P1=(0,J.PH)(`${Yt} feedback form submission failed`,(0,J.Ky)()),lu=(t,r)=>(0,xe.Lu)((i,a)=>a===r,(0,xe.mD)({answer:(0,xe.Gu)(ra.C1)}))(t),Z1=(t,r)=>t.value[r].selectedIndices.every(a=>!a)?(0,xe.Lu)((a,o)=>o===r,(0,xe.B$)({missing:!0}))(t):(0,xe.Lu)((a,o)=>o===r,(0,xe.B$)({}))(t),hU={candidateEditorCoreState:function aR(t=K,r){switch(r.type){case H.Cj.type:if(t.sectionBasedTimer.value){const i=ee.P.deepClone(t.sectionBasedTimer.sectionDetails),a=i[t.sectionBasedTimer.activeSectionHash],o=a.timeLeft>0?a.timeLeft-1:0;if(0===o){const c=t.sectionBasedTimer.sectionHashIndexMap[t.sectionBasedTimer.activeSectionHash]+1;let d="";for(const[s,p]of Object.entries(t.sectionBasedTimer.sectionHashIndexMap))p<c?i[s]={...i[s],active:!1,finished:!0}:p===c&&(d=s,i[s]={...i[s],active:!0,finished:!1});if(""===d){const s={showFinishTestModal:!0,finishTestReason:"timeOut"};return localStorage.setItem(`${t.testInstanceId}|finishTestState`,JSON.stringify(s)),a.timeLeft=o,i[t.sectionBasedTimer.activeSectionHash]=a,{...t,...s,sectionBasedTimer:{...t.sectionBasedTimer,sectionDetails:i}}}return{...t,sectionBasedTimer:{...t.sectionBasedTimer,sectionDetails:i,activeSectionHash:d,showSectionSwitchModal:!1}}}return a.timeLeft=o,i[t.sectionBasedTimer.activeSectionHash]=a,{...t,sectionBasedTimer:{...t.sectionBasedTimer,sectionDetails:i}}}{const i=t.time>0?t.time-1:0;return 0===i?{...t,showFinishTestModal:!0,finishTestReason:"timeOut",time:i}:{...t,time:i}}case H.q_.type:return{...t,time:r.timeLeft<0?0:r.timeLeft};case H.sw.type:return((t,r)=>{const n=r.testInstanceId,i=ee.P.getFromLocalStorage(`${n}|answers`)||{},a=ee.P.getFromLocalStorage(`${n}|answerQueue`)||{},o=ee.P.getFromLocalStorage(`${n}|auditQueue`)||{},c=ee.P.getFromLocalStorage(`${n}|codeReplayAudit`)||{},d=ee.P.getFromLocalStorage(`${n}|flaggedQuestions`)||[],s=ee.P.getFromLocalStorage(`${n}|uiStates`)||{isSideBarExpanded:!1,darkMode:!1,showWebcamStream:!0},p=ee.P.getFromLocalStorage(`${n}|finishTestState`)||{showFinishTestModal:!1,finishTestReason:"candidateTriggered"},l=ee.P.deepClone({...L,...t.proctorViolationState||{}});l.tabChangeCount<r.tabChangeCount&&(l.tabChangeCount=r.tabChangeCount),r.honorCodeSigned&&(l.honorCodeSigned=!0);const u=r.proctorSettings||ee.P.deepClone(k);u.tabChange&&u.enableTermination&&u.violationCount<=r.tabChangeCount&&(p.showFinishTestModal=!0,p.finishTestReason="proctoringTrigger"),r.isNewTest&&(t=gn(t,"start_test","User has started the test",{time:Date.now()})),r.inAdaptiveMode&&(s.isSideBarExpanded=!1);const m=ee.P.deepClone(C);r.hackathonMode&&(m.auditUpdateInterval=12e4),r.auditUpdateInterval&&(m.auditUpdateInterval=1e3*r.auditUpdateInterval),r.answerUpdateInterval&&(m.answerUpdateInterval=1e3*r.answerUpdateInterval);let g=r.sectionBasedTimer;if(r.sectionBasedTimer.value){s.isSideBarExpanded=!0;const h=r.sectionBasedTimer.sectionDetails;let w;Object.keys(h).forEach(y=>{h[y].active&&(w=y)}),g={...r.sectionBasedTimer,activeSectionHash:w}}const f={testInstanceId:n,answers:i,answerQueue:a,auditSettings:m,auditController:{auditQueue:o,codeReplayAudit:c},lastReloadAt:Date.now(),proctorSettings:u,proctorViolationState:l,flaggedQuestions:d,isReplayOn:!!r.isReplayOn,localStorageDump:r.localStorageDumpSettings,sectionBasedTimer:g,...p,...s};return{...t,...f}})(t,r);case H.ee.type:return((t,r)=>{const n=t.testInstanceId;if(ee.P.isEmpty(r.questionHash))return t;const i=ee.P.isEmpty(r.answer)?JSON.stringify([]):JSON.stringify(r.answer),a=ee.P.isEmpty(r.answerKey)?"":r.answerKey,o=ee.P.isEmpty(r.videoDuration)?"":r.videoDuration,c=ee.P.isEmpty(t.answers[r.questionHash]?.answer)?JSON.stringify([]):t.answers[r.questionHash]?.answer,d=ee.P.isEmpty(t.answers[r.questionHash]?.answerKey)?"":t.answers[r.questionHash]?.answerKey;if(i===c&&a===d)return t;const s=t.answerAttemptCounter+1;let p=t.answers[r.questionHash]?ee.P.deepClone(t.answers[r.questionHash]):{};const l=p.counter?p.counter+1:1;p={...p,answer:i,answerKey:a,questionId:r.questionHash,counter:l,localTime:Date.now(),syncedWithServer:!1,videoDuration:o};const u={...(t=cR(t,p)).answers,[r.questionHash]:p};return ee.P.setToLocalStorage(`${n}|answers`,u),{...t,answerAttemptCounter:s,answers:u}})(t,r);case H.N3.type:return console.log("reset initiated"),{...t,answers:{}};case H.gX.type:return((t,r)=>{const n=ee.P.deepClone(t.auditController.codeReplayAudit);return t.auditController.codeReplayAudit[r.questionId]||(n[r.questionId]=[]),n[r.questionId].push(r.difference),{...t,auditController:{auditQueue:t.auditController.auditQueue,codeReplayAudit:n}}})(t,r);case H.P8.type:return(t=>{const r=ee.P.deepClone(t.auditController.codeReplayAudit);for(const n of Object.keys(t.auditController.codeReplayAudit)){const i=r[n];i&&i.length>0&&(t=gn(t,"code_change",`User changed code for question ${n}`,{questionId:n,audit:i}),delete r[n])}return{...t,auditController:{...t.auditController,codeReplayAudit:r}}})(t);case H.EH.type:return((t,r)=>{const n=t.testInstanceId,i=ee.P.deepClone(t.answerQueue),a=ee.P.deepClone(t.answers),o=ee.P.getFromLocalStorage(`${n}|syncedAnswers`)||{},c=ee.P.deepClone(t.proctorViolationState.apiFailCount);return c.updateAnswer=0,r.forEach(d=>{a[i[d].questionId].syncedWithServer=!0,i[d].syncedWithServer=!0,o[Date.now()]=i[d],delete i[d]}),ee.P.setToLocalStorage(`${n}|answers`,a),ee.P.setToLocalStorage(`${n}|answerQueue`,i),ee.P.setToLocalStorage(`${n}|syncedAnswers`,o),{...t,answers:a,answerQueue:i,proctorViolationState:{...t.proctorViolationState,apiFailCount:c}}})(t,r.hashList);case H.nn.type:return((t,r)=>{const n=t.testInstanceId,i=ee.P.deepClone(t.answerQueue);return r.forEach(a=>{i[a].retry=!0}),ee.P.setToLocalStorage(`${n}|answerQueue`,i),{...t,answerQueue:i}})(t,r.hashList);case H.mm.type:{if(ee.P.isEmpty(r.questionHash))return t;const i=ee.P.isEmpty(r.answer)?JSON.stringify([]):JSON.stringify(r.answer),a=ee.P.isEmpty(r.submissionId)?"":r.submissionId;let o=t.answers[r.questionHash]?ee.P.deepClone(t.answers[r.questionHash]):{};const c=o.counter?o.counter+1:1;o={...o,answer:i,answerKey:a,questionId:r.questionHash,counter:c,localTime:Date.now(),syncedWithServer:!0};const d={...t.answers,[r.questionHash]:o};return ee.P.setToLocalStorage(`${t.testInstanceId}|answers`,d),{...t,answers:d}}case H.u4.type:{let i=ee.P.deepClone(t.flaggedQuestions);-1===i.indexOf(r.questionHash)?i.push(r.questionHash):i=i.filter(o=>o!==r.questionHash),ee.P.setToLocalStorage(`${t.testInstanceId}|flaggedQuestions`,i);const a=i.includes(r.questionHash);return t=gn(t,"flag",`${a?"Marked":"Unmarked"} question ${r.questionHash} as flagged`,{flag:a,questionHash:r.questionHash}),{...t,flaggedQuestions:i}}case H.eL.type:{const i={...t,showWebcamStream:!t.showWebcamStream};return Qc(i),i}case H.ll.type:{const i={showFinishTestModal:!t.showFinishTestModal,finishTestReason:r.finishTestReason||t.finishTestReason};return localStorage.setItem(`${t.testInstanceId}|finishTestState`,JSON.stringify(i)),{...t,...i}}case H.hT.type:return(t=>(t=gn(t,"finish_test","Test is marked finished",{time:Date.now(),reason:t.finishTestReason}),{...t,showFinishTestModal:!1}))(t);case H.N$.type:return((t,r)=>{const n=ee.P.deepClone(t.auditController.auditQueue),i=ee.P.deepClone(t.proctorViolationState.apiFailCount);return i.audit=0,r.forEach(a=>{delete n[a]}),ee.P.setToLocalStorage(`${t.testInstanceId}|auditQueue`,n),{...t,auditController:{...t.auditController,auditQueue:n},proctorViolationState:{...t.proctorViolationState,apiFailCount:i}}})(t,r.hashKeys);case H.yi.type:return gn(t,r.eventType,r.message,ee.P.deepClone(r.eventDetails));case H.eR.type:return((t,r)=>{let n=ee.P.deepClone(t);return n=gn(n,"audio_violation","Audio violation detected",{type:r}),n})(t,r.actionType);case H.he.type:return Dh(t,!0);case H.a0.type:return Dh(t,!1);case H.Dv.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);r.externalDevice=!0,r.showHonorCodeModal=!t.proctorViolationState.honorCodeSigned;const n=!t.proctorViolationState.showHonorCodeModal&&t.proctorViolationState.honorCodeSigned;return{...t,showViolationModal:n,proctorViolationState:r}})(t);case H.g2.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);return r.externalDevice=!1,r.showHonorCodeModal=r.externalDevice&&!t.proctorViolationState.honorCodeSigned,{...t,showViolationModal:!(t.proctorViolationState.showHonorCodeModal||!t.proctorViolationState.honorCodeSigned)&&r.externalDevice,proctorViolationState:r}})(t);case H.TF.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);r.isUnauthorizedApp=!0,r.showHonorCodeModal=!t.proctorViolationState.honorCodeSigned;const n=!t.proctorViolationState.showHonorCodeModal&&t.proctorViolationState.honorCodeSigned;return{...t,showViolationModal:n,proctorViolationState:r}})(t);case H.gk.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);return r.isUnauthorizedApp=!1,r.showHonorCodeModal=r.isUnauthorizedApp&&!t.proctorViolationState.honorCodeSigned,{...t,showViolationModal:!(t.proctorViolationState.showHonorCodeModal||!t.proctorViolationState.honorCodeSigned)&&r.isUnauthorizedApp,proctorViolationState:r}})(t);case H.LX.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);r.isTabChanged=!0,r.tabChangeCount+=1;const n=!(t=gn(t,"unwanted_action","Window tab change violation detected",{tabChanged:!0,tabChangeCount:r.tabChangeCount})).proctorViolationState.showHonorCodeModal&&t.proctorViolationState.honorCodeSigned,i=!t.proctorViolationState.honorCodeSigned;return t.proctorSettings.enableTermination?t.proctorSettings.violationCount>r.tabChangeCount?{...t,showViolationModal:n,proctorViolationState:{...r,showHonorCodeModal:i}}:{...t,isFinished:!0,showFinishTestModal:!0,finishTestReason:"proctoringTrigger",proctorViolationState:r}:{...t,showViolationModal:n,proctorViolationState:{...r,showHonorCodeModal:i}}})(t);case H.LL.type:return((t,r,n)=>{const i=ee.P.deepClone(t.proctorViolationState);return i.tabChangeCount=r,t.proctorSettings.enableTermination&&t.proctorSettings.violationCount<=r||n?{...t,isFinished:n,showFinishTestModal:!0,finishTestReason:"proctoringTrigger",proctorViolationState:i}:{...t,proctorViolationState:i}})(t,r.tabChangeCount,r.isFinished);case H.Fi.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);return r.isTabChanged=!1,t=gn(t,"unwanted_action","Back to tab",{tabChanged:!1,tabChangeCount:r.tabChangeCount}),{...t,proctorViolationState:r}})(t);case H.rM.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);try{iR.request(),r.isFullscreenDisabled=!1,t=gn(t,"fullscreen_violation","Entered fullscreen",{fullscreen:!0})}catch{r.isFullscreenDisabled=!0}return r.showHonorCodeModal=r.isFullscreenDisabled&&!t.proctorViolationState.honorCodeSigned,{...t,showViolationModal:!(t.proctorViolationState.showHonorCodeModal||!t.proctorViolationState.honorCodeSigned)&&r.isFullscreenDisabled,proctorViolationState:r}})(t);case H.ut.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState);r.isFullscreenDisabled=!0,r.showHonorCodeModal=!t.proctorViolationState.honorCodeSigned;const n=!t.proctorViolationState.showHonorCodeModal&&t.proctorViolationState.honorCodeSigned;return t=gn(t,"fullscreen_violation","Fullscreen violation detected",{fullscreen:!1}),{...t,showViolationModal:n,proctorViolationState:r}})(t);case H.Sc.type:return((t,r,n)=>{let i=!1,a=ee.P.deepClone(t);return r.isWebcamOff?(a.showViolationModal=!0,a.proctorViolationState.isWebcamOff=!0,a=gn(a,"proctoring_voilation","Webcam is disabled",{type:"webcamDisabled"})):r.otherFaceDetected?(i=!0,a.proctorViolationState.isOtherFace=!0,a=gn(a,"proctoring_voilation","Other face detected",{target:n,type:"otherFaceFound"})):r.candidateNotDetected?(i=!0,a.proctorViolationState.isNoFace=!0,a=gn(a,"proctoring_voilation","Unable to detect candidate",{target:n,type:"candidateNotDetected"})):r.multipleFaceDetected&&(i=!0,a.proctorViolationState.isMultipleFace=!0,a=gn(a,"proctoring_voilation","Multiple faces detected",{target:n,type:"multipleFaceDetected"})),i&&(a.showViolationModal=!t.proctorViolationState.showHonorCodeModal&&t.proctorViolationState.honorCodeSigned,a.proctorViolationState.showHonorCodeModal=!t.proctorViolationState.honorCodeSigned),a})(t,r.violation,r.imageKey);case H.Wi.type:return(t=>{let r=ee.P.deepClone(t);return r=gn(r,"screen_recording_stop","Screen Recording stopped",{type:"screenRecordingStopped"}),r.proctorViolationState.isScreenRecordingOff=!0,r})(t);case H._C.type:return(t=>{let r=ee.P.deepClone(t);return r=gn(r,"screen_recording_start","Screen Recording started",{type:"screenRecordingStarted"}),r.proctorViolationState.isScreenRecordingOff=!1,r})(t);case H.Ce.type:return(t=>{let r=ee.P.deepClone(t);return r=gn(r,"audio_recording_stop","Audio Recording stopped",{type:"audioRecordingStopped"}),r.proctorViolationState.isAudioRecordingOff=!0,r})(t);case H.rg.type:return(t=>{let r=ee.P.deepClone(t);return r=gn(r,"audio_recording_start","Audio Recording stopped",{type:"audioRecordingStarted"}),r.proctorViolationState.isAudioRecordingOff=!1,r})(t);case H.rB.type:return(t=>{let r=ee.P.deepClone(t);return r.proctorViolationState.isScreenCheckFailed=!0,r})(t);case H.Vd.type:return((t,r)=>{let n=ee.P.deepClone(t);return n=gn(n,"screen_extended","Screen is extended",{type:"screenExtended",value:r}),n.proctorViolationState.isScreenExtended=r,n})(t,r.value);case H.fi.type:return{...t,proctorViolationState:{...t.proctorViolationState,copiedContent:r.content}};case H.l.type:{if(t.proctorViolationState.copiedContent===r.content)return t;Vc();const i=t.proctorViolationState.showHonorCodeModal&&!t.proctorViolationState.honorCodeSigned,a=!t.proctorViolationState.showHonorCodeModal&&t.proctorViolationState.honorCodeSigned&&t.showViolationModal||!0,o=gn(t,"copy_paste","Candidate pasted content",{type:"paste",content:r.content});return{...t,...o,showViolationModal:a,proctorViolationState:{...t.proctorViolationState,showHonorCodeModal:i,copiedContent:"",clipboardReset:!0}}}case H.i5.type:{r.hasFocus&&Vc();const i=(t.proctorViolationState.showHonorCodeModal||!r.hasFocus)&&!t.proctorViolationState.honorCodeSigned,a=!(t.proctorViolationState.showHonorCodeModal||!t.proctorViolationState.honorCodeSigned)&&(t.showViolationModal||!r.hasFocus);return{...t,showViolationModal:a,proctorViolationState:{...t.proctorViolationState,showHonorCodeModal:i,copiedContent:"",clipboardReset:t.showViolationModal||!r.hasFocus}}}case H.Do.type:return qh(t,r);case H.GQ.type:return((t,r)=>{let n=ee.P.deepClone(t);return n.proctorSettings={...n.proctorSettings,...r.proctorSettings},n.auditSettings.disableCodeAudit=r.disableCodeAudit,n.localStorageDump=r.localStorageDumpSettings?r.localStorageDumpSettings:n.localStorageDump,n.auditSettings.auditUpdateInterval=r.auditUpdateInterval?1e3*r.auditUpdateInterval:n.auditSettings.auditUpdateInterval,n.auditSettings.answerUpdateInterval=r.answerUpdateInterval?1e3*r.answerUpdateInterval:n.auditSettings.answerUpdateInterval,n=qh(n,r),n})(t,r);case H.xZ.type:return((t,r)=>{const n=ee.P.deepClone(t.proctorMessages);return r.messageIds?(r.messageIds.forEach(i=>{n[i]&&(n[i].seenAt=Date.now())}),{...t,proctorMessages:n}):t})(t,r);case H.ko.type:return(t=>{const r=ee.P.deepClone(t.proctorViolationState),n=ee.P.deepClone(t.proctorSettings);r.clipboardReset&&(r.clipboardReset=!1,Vc()),r.showHonorCodeModal=!1,r.isTabChanged=!1,r.isNoFace=!1,r.isMultipleFace=!1,r.isOtherFace=!1;let i=!1;return(n.video&&r.isWebcamOff||n.fullscreen&&r.isFullscreenDisabled)&&(i=!0),{...t,showViolationModal:i,proctorViolationState:r}})(t);case H.Nt.type:{const i=ee.P.deepClone(t.proctorViolationState.apiFailCount);i[r.typeOfAPI]=i[r.typeOfAPI]?i[r.typeOfAPI]+1:1;const a=i[r.typeOfAPI];return{...t,showViolationModal:a>2||t.showViolationModal,proctorViolationState:{...t.proctorViolationState,apiFailCount:i}}}case H.cN.type:{const i={...t,isSideBarExpanded:!t.isSideBarExpanded};return Qc(i),i}case H.In.type:{const i={...t,darkMode:!t.darkMode};return Qc(i),i}case H.Hm.type:return{...t,showReloadToast:!0};case H.tT.type:return window.location.reload(),{...t};case H.AR.type:{let i=t.qTypes[r.qType];if(!i){let a={[r.questionHash]:R[r.qType]};return{...t,qTypes:{...t.qTypes,[r.qType]:a}}}if(!i[r.questionHash]){let a={...i,[r.questionHash]:R[r.qType]};return{...t,qTypes:{...t.qTypes,[r.qType]:a}}}return t}case Rs.type:{let i=Ut(t,te.ON.WORK_SAMPLE,r.questionHash);return i={...i,submissionFileName:r.fileName},Bt(t,te.ON.WORK_SAMPLE,r.questionHash,i)}case ht.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,submissionFileDetails:r.fileDetails,videoFileUploadingStatus:he.V.LOADED},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case tn.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,videoFileUploadingStatus:he.V.LOADING},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case pr.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,recordingState:$r.S.COUNTDOWN},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case va.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,recordingState:$r.S.IN_RECORDING},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case Qi.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,recordingState:$r.S.NOT_RECORDING,endRecording:!1},i.endRecording||delete i.endRecordingQueuedAction,Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case Xn.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,videoFileUploadingStatus:he.V.ERROR},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case Wt.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,cameraFeedStatus:he.V.ERROR},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case An.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,cameraFeedStatus:he.V.LOADED},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case Hi.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,cameraFeedStatus:he.V.LOADING},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case ci.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,...$r.W,videoFileUploadingStatus:i?.videoFileUploadingStatus===he.V.LOADING?he.V.LOADING:"attemped"===r.state?he.V.LOADED:he.V.NOTLOADED,timeBoundDescriptionState:i?.videoFileUploadingStatus===he.V.LOADING?"attemped":r.state},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case _a.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,timeBoundDescriptionState:"countdown"},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case er.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,timeBoundDescriptionState:"record"},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case ui.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,endRecording:!i.endRecording},i.endRecording||delete i.endRecordingQueuedAction,Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case Nr.type:{let i=Ut(t,te.ON.VIDEO_EXPLANATION,r.questionHash);return i={...i,endRecordingQueuedAction:{action:r.queuedAction,data:r.data}},Bt(t,te.ON.VIDEO_EXPLANATION,r.questionHash,i)}case Au.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,fileBtnStatus:{...i.fileBtnStatus,[r.fileType]:he.J.LOADING}},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case Tu.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,fileBtnStatus:{...i.fileBtnStatus,[r.fileType]:he.J.NORMAL}},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case Iu.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,fileBtnStatus:{...i.fileBtnStatus,[r.fileType]:he.J.ERROR}},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case Us.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,submissionFileName:r.fileName},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case Eu.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,submissionStatus:{state:he.V.LOADING},submission:null},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case Ou.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,submissionStatus:{state:he.V.LOADED},submission:r.response},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case ku.type:{let i=Ut(t,te.ON.MACHINE_LEARNING,r.questionHash);return i={...i,submissionStatus:{state:he.V.ERROR,error:r.error}},Bt(t,te.ON.MACHINE_LEARNING,r.questionHash,i)}case lr.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,launchVMApiLoadInfo:{state:he.V.LOADING}},Bt(t,r.qType,r.questionHash,i)}case qe.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,instanceDetails:r.instanceDetails,launchVMApiLoadInfo:{state:he.V.LOADED}},Bt(t,r.qType,r.questionHash,i)}case sn.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,launchVMApiLoadInfo:{state:he.V.ERROR,error:r.error}},Bt(t,r.qType,r.questionHash,i)}case Sn.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,restartVMApiLoadInfo:{state:he.V.LOADING}},Bt(t,r.qType,r.questionHash,i)}case Dr.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,instanceDetails:r.instanceDetails,restartVMApiLoadInfo:{state:he.V.LOADED}},Bt(t,r.qType,r.questionHash,i)}case qr.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,restartVMApiLoadInfo:{state:he.V.ERROR,error:r.error},...r.instanceDetails?{instanceDetails:r.instanceDetails}:{}},Bt(t,r.qType,r.questionHash,i)}case ma.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,vmStateApiLoadInfo:{state:he.V.LOADING}},Bt(t,r.qType,r.questionHash,i)}case Vt.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,instanceDetails:r.instanceDetails},Bt(t,r.qType,r.questionHash,i)}case et.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,instanceDetails:r.instanceDetails,vmStateApiLoadInfo:{state:he.V.LOADED},vmStatusLastCheckedAt:(new Date).toISOString()},Bt(t,r.qType,r.questionHash,i)}case zn.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,vmStateApiLoadInfo:{state:he.V.ERROR,error:r.error},vmStatusLastCheckedAt:(new Date).toISOString()},Bt(t,r.qType,r.questionHash,i)}case Vr.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,vmInteractionApiLoadInfo:{state:he.V.LOADING}},Bt(t,r.qType,r.questionHash,i)}case dr.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,vmInteractionApiLoadInfo:{state:he.V.LOADED},vmInteractionLastCheckedAt:(new Date).toISOString()},Bt(t,r.qType,r.questionHash,i)}case Zn.type:{let i=Ut(t,r.qType,r.questionHash);return i={...i,vmInteractionApiLoadInfo:{state:he.V.ERROR,error:r.error},vmInteractionLastCheckedAt:(new Date).toISOString()},Bt(t,r.qType,r.questionHash,i)}case ae.type:return{...t,sectionBasedTimer:{...t.sectionBasedTimer,showSectionSwitchModal:!0}};case ue.type:return{...t,sectionBasedTimer:{...t.sectionBasedTimer,showSectionSwitchModal:!1}};case Se.type:{const i=r.sectionDetails;let a;return Object.keys(i).forEach(o=>{i[o].active&&(a=o)}),{...t,sectionBasedTimer:{...t.sectionBasedTimer,showSectionSwitchModal:!1,sectionDetails:r.sectionDetails,activeSectionHash:a,submitSectionLoading:!1}}}case se.type:return{...t,sectionBasedTimer:{...t.sectionBasedTimer,submitSectionLoading:!0}};case ge.type:return{...t,sectionBasedTimer:{...t.sectionBasedTimer,submitSectionLoading:!1}};case De.type:{const i={...t.sectionBasedTimer.sectionDetails,...r.sectionDetails},a=Object.entries(r.sectionDetails).find(o=>o[1].active)[0];return{...t,sectionBasedTimer:{...t.sectionBasedTimer,activeSectionHash:a,sectionDetails:i}}}case H.bQ.type:return{...t,proctorViolationState:{...t.proctorViolationState,honorCodeSigned:!0}};default:return t}},candidateEditorState:function rR(t=nR,r){switch(r.type){case Y.WW.type:{let i=t;return i={...t,dataInitializedSuccessfully:!0},i}case Y.Bf.type:{let i=t;return t.currentQuestionIndex+1>=t.sections[t.currentSectionIndex].questions.length?t.currentSectionIndex+1<t.sections.length&&(i={...t,currentSectionIndex:t.currentSectionIndex+1,currentQuestionIndex:0}):i={...t,currentQuestionIndex:t.currentQuestionIndex+1},ee.P.setToLocalStorage(`${t.testInstanceId}|currentState`,{currentQuestionIndex:i.currentQuestionIndex,currentSectionIndex:i.currentSectionIndex}),i}case Y.j6.type:{let i=t;if(t.inAdaptiveMode)return t;if(t.currentQuestionIndex-1<0){if(t.isSectionBasedTimer)return t;t.currentSectionIndex-1>=0&&(i={...t,currentSectionIndex:t.currentSectionIndex-1,currentQuestionIndex:t.sections[t.currentSectionIndex-1].questions.length-1})}else i={...t,currentQuestionIndex:t.currentQuestionIndex-1};return ee.P.setToLocalStorage(`${t.testInstanceId}|currentState`,{currentQuestionIndex:i.currentQuestionIndex,currentSectionIndex:i.currentSectionIndex}),i}case Y.L7.type:return ee.P.setToLocalStorage(`${t.testInstanceId}|currentState`,{currentQuestionIndex:r.questionIndex,currentSectionIndex:r.sectionIndex}),{...t,currentQuestionIndex:r.questionIndex,currentSectionIndex:r.sectionIndex};case Y.yl.type:{let i=t.intellisenseDisabled;isNaN(r.disableLsp)||(i=Math.random()<r.disableLsp);const a=ee.P.getFromSessionStorage("sessionId"),o=ee.P.deepClone(r.sections).filter(c=>c.questions?.length).map(c=>(c.questions.forEach(d=>{d.type===te.ON.VIDEO_EXPLANATION&&(d.timeBoundDescription="boolean"!=typeof d.timeBoundDescription||d.timeBoundDescription)}),c));return{...t,sections:o,candidateEmail:r.candidateEmail,candidateName:r.candidateName,testInstanceId:r.testInstanceId,calculator:{enableCalculator:r.enableCalculator,showCalculator:!1},inAdaptiveMode:r.inAdaptiveMode,showLeaderboard:r.showLeaderboard,isWatermarkEnabled:r.isWatermarkEnabled,isSectionBasedTimer:r.isSectionBasedTimer,quizId:r.quizId,quizName:r.quizName,quizDuration:r.quizDuration,quizNomenclature:r.quizNomenclature,quizNomenclatureLower:r.quizNomenclatureLower,intellisenseDisabled:i,baseImageUrl:r.baseImageUrl,hackathonMode:r.hackathonMode,orgLogo:r.orgLogo,orgBanner:r.orgBanner,sessionController:{...t.sessionController,sessionId:a,isValid:a&&a===r.sessionDetails.sessionId,loggedOut:!1}}}case Y.qH.type:{const i=ee.P.valid_email_regex.test(t.candidateEmail);return{...t,candidateEmail:i?null:t.candidateEmail,candidateName:i?null:t.candidateName,sessionController:{...t.sessionController,isValid:!1,loggedOut:!0}}}case Y.Ff.type:{const i={...t},a=ee.P.getFromLocalStorage(`${i.testInstanceId}|answers`),o=ee.P.getFromLocalStorage(`${i.testInstanceId}|latestAnswerAudit`)||0;if(i.currentSectionIndex=r.sectionIndex||i.currentSectionIndex,i.currentQuestionIndex=r.questionIndex||i.currentQuestionIndex,a&&o<r.latestAnswerAuditTimestamp||!a){const c={};r.sections.forEach(d=>{d.questions.forEach(s=>{s.answers&&(c[s.hash]={answer:s.answers?.answer,answerKey:s.answers?.answerKey||"",counter:1,localTime:Date.now(),questionId:s.hash,syncedWithServer:!0})})}),ee.P.setToLocalStorage(`${i.testInstanceId}|answers`,c)}return i}case Y.TY.type:{if(!localStorage)return t;const i={...t},o=ee.P.getFromLocalStorage(`${t.testInstanceId}|currentState`);return o&&(void 0===i.currentQuestionIndex||void 0===i.currentSectionIndex)&&(i.currentQuestionIndex=o.currentQuestionIndex||0,i.currentSectionIndex=o.currentSectionIndex||0),i}case Y.E5.type:return{...t,calculator:{...t.calculator,showCalculator:!t.calculator.showCalculator}};case Y.bc.type:return{...t,isMobileDevice:r.isMobileDevice};case rt.type:if(t.sections[t.currentSectionIndex].hash!==r.activeSectionHash){const i=t.sections.findIndex(a=>a.hash===r.activeSectionHash);return{...t,currentQuestionIndex:0,currentSectionIndex:i}}return t;default:return t}},codeEditorState:function ja(t=Jr,r){return $a(t,r)},candidateInstructionsState:function fU(t=Jc,r){return mU(t,r)},candidateFeedbackState:function gU(t=ot,r){const i=(0,xe.U0)(t.feedbackFormArray,r);switch(r.type){case T1.type:return{...t,initDataLoadState:{state:he.V.LOADING}};case uu.type:return{...t,initDataLoadState:{state:he.V.ERROR,error:{errorType:r.errorType,errorMessage:r.errorMessage}}};case I1.type:{let a=ee.P.deepClone(r.feedbackQuestionArray);a=a.map(c=>(c.answer="",c.selectedIndices=c.type_of_question!==on.MULTIPLE&&c.type_of_question!==on.OBJECTIVE?[]:Array(c.option.length).fill(!1),c));const o=(0,xe.TX)(At,a);return{...t,initDataLoadState:{state:he.V.LOADED},feedbackFormArray:o}}case E1.type:{let a=(0,xe.qf)((0,xe.Lu)((o,c)=>c===r.questionIndex,(0,xe.mD)({answer:(0,xe.sO)(String(r.rating))}))(i));return t.feedbackFormArray.value[r.questionIndex].required&&(a=lu(a,r.questionIndex)),{...t,feedbackFormArray:a}}case O1.type:{let a=[];r.questionType===on.OBJECTIVE&&(a=Array(t.feedbackFormArray.value[r.questionIndex].option.length).fill(!1),a[r.optionIndex]=!0),r.questionType===on.MULTIPLE&&(a=ee.P.deepClone(t.feedbackFormArray.value[r.questionIndex].selectedIndices),a[r.optionIndex]=!a[r.optionIndex]);let o=(0,xe.qf)((0,xe.Lu)((c,d)=>d===r.questionIndex,(0,xe.mD)({selectedIndices:(0,xe.sO)(a)}))(i));return t.feedbackFormArray.value[r.questionIndex].required&&(o=Z1(o,r.questionIndex)),{...t,feedbackFormArray:o}}case k1.type:{let a=t.feedbackFormArray;for(let o=0;o<t.feedbackFormArray.controls.length;o++)t.feedbackFormArray.value[o].required&&(a=t.feedbackFormArray.value[o].type_of_question===on.TEXT||t.feedbackFormArray.value[o].type_of_question===on.STAR?lu(a,o):Z1(a,o));return{...t,feedbackFormArray:a,submitFeedbackApiStatus:{state:he.V.LOADING}}}case D1.type:return{...t,submitFeedbackApiStatus:{state:he.V.NOTLOADED}};case P1.type:return{...t,submitFeedbackApiStatus:{state:he.V.ERROR,error:r.error}};case q1.type:return{...t,submitFeedbackApiStatus:{state:he.V.LOADED}};case xe._2.TYPE:{const a=r.controlId.split(".")[0],o=parseInt(r.controlId.split(".")[1]);if(a===At){if(t.feedbackFormArray.value[o].required){const c=lu(i,o);return{...t,feedbackFormArray:c}}return{...t,feedbackFormArray:i}}return t}default:return{...t,feedbackFormArray:i}}}},Pn=(0,J.ZF)("candidateInstructionsState"),vU=(0,J.P1)(Pn,t=>t.page),_U=(0,J.P1)(Pn,t=>t.landingMode),ki=(0,J.P1)(Pn,t=>t.username),aa=(0,J.P1)(Pn,t=>t.instructions),Hr=(0,J.P1)(aa,t=>t?.quiz),xU=((0,J.P1)(Hr,t=>t?.proctoring?.sherlock),(0,J.P1)(Pn,Hr,(t,r)=>!!r.enableTime&&t.testWindowEndTimeWarning)),L1=(0,J.P1)(Pn,t=>t.initDataLoadState),yU=(0,J.P1)(Pn,t=>t.dataInitializedSuccessfully),bU=(0,J.P1)(Pn,t=>t.redirectionURL),R1=(0,J.P1)(Pn,t=>t.passwordFormState),U1=(0,J.P1)(Pn,t=>t.password),wU=(0,J.P1)(R1,L1,(t,r)=>!t||t.isUntouched?null:t.isInvalid?"sync":t.isSubmitted&&t.isPristine&&r.state===he.V.ERROR?"api":null),B1=(0,J.P1)(aa,t=>{if(!t)return;const r=t.quiz;return{...r.org.testLogo&&{testLogo:r.org.testLogo},...r.org.testBanner&&{testBanner:r.org.testBanner},quizNomenclature:r.org?.nomenclature?.quiz?r.org.nomenclature.quiz:"Test",quizNomenclatureLower:r.org?.nomenclature?.quiz?r.org.nomenclature.quiz:"test",startButtonText:r.startButtonText||(r.org.nomenclature?.quiz?"Start "+r.org.nomenclature?.quiz:"Start Test"),name:r.name,active:r.active,public:r.public,durationInMin:Math.floor(r.duration)/60,totalQuestions:t.length,absoluteServerTime:t.date,allowPreview:t.allowPreview,enableTime:r.enableTime,needsAccessKey:r.needsAccessKey,hackathonMode:r.hackathonMode,...r.enableTime&&{testWindowTimeFormatted:{startTime:Rh(new Date(r.startTime)),endTime:Rh(new Date(r.endTime)),timezone:PR()},testWindowTimeAbsolute:{startTime:Date.parse(r.startTime),endTime:Date.parse(r.endTime)}}}}),CU=(0,J.P1)(Pn,t=>t.navigationMeta),ks=(0,J.P1)(CU,t=>t?Uh(t):null),du=(0,J.P1)(Pn,t=>t.systemChecks),F1=(0,J.P1)(Pn,aa,(t,r)=>({blockNonChromeBrowsers:r?.blockMobileAndUnwantedBrowsers||!1,isScreenRecordingOn:Lo(r?.quiz,t.username),isScreenRecordingWithoutAudioOn:Yc(r?.quiz,t.username),isDisableMultiScreenOn:Hh(r?.quiz,t.username),needClipboard:r?.quiz.proctoring?.copypaste||!1,blockMobile:r?.includesCoding||r?.blockMobileAndUnwantedBrowsers||!1,needWebcam:r?.quiz.proctoring?.video||Bh(r?.quiz,t.username)||!(!r?.quiz.candidateId||r?.quiz.authentication)||r?.questionTypes.includes(te.ON.VIDEO_EXPLANATION),needAudio:r?.questionTypes.includes(te.ON.VIDEO_EXPLANATION)})),z1=(0,J.P1)(Hr,ki,(t,r)=>Wc(t,r)),MU=(0,J.P1)(Hr,ki,(t,r)=>((t,r)=>!(!t.proctoring?.copypaste||!r&&t.authentication))(t,r)),SU=(0,J.P1)(Hr,ki,(t,r)=>zh(t,r)),NU=(0,J.P1)(Hr,ki,(t,r)=>Lo(t,r)),AU=(0,J.P1)(Hr,ki,(t,r)=>Yc(t,r)),TU=(0,J.P1)(Hr,ki,(t,r)=>Hh(t,r)),IU=(0,J.P1)(Hr,ki,t=>Fh(t)),EU=(0,J.P1)(aa,t=>t.includesCoding||t.blockMobileAndUnwantedBrowsers),OU=(0,J.P1)(aa,z1,(t,r)=>t.blockMobileAndUnwantedBrowsers),H1=(0,J.P1)(Pn,t=>t.formData),pu=(0,J.P1)(Pn,t=>t.candidateIdWebcamStatus),Q1=(0,J.P1)(Pn,t=>t.candidateIdImageDetails),mu=(0,J.P1)(Pn,t=>t.photoVerificationWebcamStatus),V1=(0,J.P1)(Pn,t=>t.photoVerificationDetails),kU=(0,J.P1)(ks,t=>!!(t?.tabs||[]).find(r=>[yt.CANDIDATE_ID,yt.PHOTO_VERIFICATION].includes(r.type)&&r.visited)),DU=(0,J.P1)(ks,pu,mu,Q1,V1,(t,r,n,i,a)=>{const o={process:_n.CANDIDATE_ID,webcamStatus:{snapStatus:Ht.NOT_TAKEN}};if(!t)return o;let c,s;return t.activeTab.type===yt.CANDIDATE_ID&&(c=_n.CANDIDATE_ID),t.activeTab.type===yt.PHOTO_VERIFICATION&&(c=_n.PHOTO_VERIFICATION),t.activeTab.type===yt.CANDIDATE_ID&&i?s={imageAsDataUrl:i.imageAsDataUrl}:t.activeTab.type===yt.PHOTO_VERIFICATION&&a&&(s={imageAsDataUrl:a.imageAsDataUrl,faceApiBoxArgs:a.faceApiBoxArgs,rekognitionBoxArgs:a.rekognitionBoxArgs}),{process:c,webcamStatus:(t.activeTab.type===yt.CANDIDATE_ID?r:n)||o.webcamStatus,imageDetails:s}}),qU=(0,J.P1)(ks,du,H1,pu,mu,(t,r,n,i,a)=>t?((t,r,n,i,a)=>{const o={},c=t.tabs.findIndex(d=>d.type===t.activeTab.type);for(let[d,s]of t.tabs.entries()){let p;d<c?p=ir.COMPLETED:d>c?p=ir.PENDING:d===c&&(p=s.type===yt.SYSTEM_CHECK?"error"===r?.computed?.error?ir.ERROR:ir.ONGOING:s.type===yt.PERSONAL_INFO?n&&n.isSubmitted&&n.isInvalid?ir.ERROR:ir.ONGOING:s.type===yt.CANDIDATE_ID?[Ht.WEBCAM_ERROR,Ht.API_ERROR].includes(i?.snapStatus)?ir.ERROR:ir.ONGOING:s.type===yt.PHOTO_VERIFICATION&&[Ht.WEBCAM_ERROR,Ht.API_ERROR].includes(a?.snapStatus)?ir.ERROR:ir.ONGOING),o[s.type]=p}return o})(t,r,n,i,a):null);var oa=ke(74043);function PU(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg",3),e._UZ(1,"path",4),e.qZA())}function ZU(t,r){if(1&t){const n=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div",10)(1,"p",11),e._uU(2," Take the \u2018System-check\u2019 now! "),e.qZA(),e.TgZ(3,"p",12),e._uU(4," This isn't just a test; it's a crucial moment. Quickly check your camera, microphone, and browser to avoid last-minute tech hiccups. This step ensures a smoother path to success! "),e.qZA(),e.TgZ(5,"div",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).startSystemChecks()}),e._uU(6," Run System check "),e.qZA()()}}function LU(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).startSystemChecks()}),e._uU(1," Run System check again "),e.qZA()}if(2&t){const n=e.oxw(4);e.Q6J("ngClass","error"===n.systemChecks.computed.error?"blue-button":"white-button")}}function RU(t,r){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,LU,2,1,"div",17),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.systemChecks.computed.error)}}function UU(t,r){if(1&t){const n=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div")(1,"system-check",14),e.NdJ("onSystemChecksUpdate",function(a){return e.CHM(n),e.oxw(2).onSystemChecksUpdateHandler(a)}),e.qZA(),e.YNc(2,RU,2,1,"div",15),e.qZA()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("config",n.systemCheckConfig)("systemChecks",n.systemChecks),e.xp6(1),e.Q6J("ngIf",n.systemChecks.computed.state===n.SystemCheckStateEnum.COMPLETED)}}function BU(t,r){if(1&t&&(e.TgZ(0,"div",5)(1,"div",6),e.O4$(),e.TgZ(2,"svg",7),e._UZ(3,"path",8),e.qZA()(),e.YNc(4,ZU,7,0,"div",9),e.YNc(5,UU,3,3,"div",2),e.qZA()),2&t){const n=e.oxw();e.Udp("width","550px"),e.xp6(4),e.Q6J("ngIf",!n.systemChecks),e.xp6(1),e.Q6J("ngIf",n.systemChecks)}}function FU(t,r){1&t&&(e.ynx(0),e.TgZ(1,"landing-page-layout",19),e._UZ(2,"div",20),e.qZA(),e.BQk()),2&t&&(e.xp6(1),e.Q6J("isLoading",!0))}function zU(t,r){}const fu=function(t){return{loading:t}};function HU(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"div",26),e.TgZ(2,"div",27)(3,"div",28),e.YNc(4,zU,0,0,"ng-template",29),e.qZA(),e.TgZ(5,"div",30)(6,"div",31),e._uU(7),e.qZA(),e.TgZ(8,"div",32),e._uU(9,"This option will not be visible to the candidates"),e.qZA()(),e.TgZ(10,"div")(11,"button",33),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).starTest()}),e._uU(12),e.qZA()()()()}if(2&t){const n=e.oxw(2).ngIf,i=e.oxw(),a=e.MAs(1);e.xp6(4),e.Q6J("ngTemplateOutlet",a),e.xp6(3),e.hij(" Skip login window and preview the ",(null==n.data?null:n.data.quizNomenclatureLower)||"quiz"," "),e.xp6(4),e.Q6J("ngClass",e.VKq(4,fu,n.initDataLoadState.state===i.ApiStateEnum.LOADING)),e.xp6(1),e.hij(" ",i.data.startButtonText," ")}}function QU(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"landing-page-layout",21)(2,"div",22)(3,"div",23),e._uU(4),e.qZA(),e.YNc(5,HU,13,6,"div",24),e.qZA()(),e.BQk()),2&t){const n=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("isLoading",!1),e.xp6(3),e.hij(" ",null==n.initDataLoadState||null==n.initDataLoadState.error?null:n.initDataLoadState.error.errorMessage," "),e.xp6(1),e.Q6J("ngIf",i.data&&i.data.allowPreview)}}function VU(t,r){if(1&t&&(e.TgZ(0,"div",61)(1,"div"),e._UZ(2,"i",62),e.TgZ(3,"span",63),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"div",28),e.O4$(),e.TgZ(7,"svg",64),e._UZ(8,"path",65),e.qZA(),e.kcU(),e.TgZ(9,"span",63),e._uU(10),e.qZA()()()),2&t){const n=e.oxw(2).ngIf;e.xp6(4),e.hij("",e.xi3(5,2,n.data.durationInMin,".0-2")," mins"),e.xp6(6),e.hij("",n.data.totalQuestions," Questions")}}const JU=function(t){return{"disabled-window":t}};function WU(t,r){if(1&t&&(e.TgZ(0,"div",66)(1,"div",67),e._uU(2),e.qZA(),e.TgZ(3,"div",68)(4,"div")(5,"span",69),e._uU(6),e.qZA()(),e.TgZ(7,"div",28),e._uU(8,"-"),e.qZA(),e.TgZ(9,"div")(10,"span",69),e._uU(11),e.qZA()()()()),2&t){const n=e.oxw(2).ngIf,i=e.oxw();e.Q6J("ngClass",e.VKq(5,JU,i.testWindowState===i.QuizAccessWindowEnum.CLOSE)),e.xp6(2),e.AsE(" ",n.data.quizNomenclature," login window between (time in ",n.data.testWindowTimeFormatted.timezone,"): "),e.xp6(4),e.Oqu(n.data.testWindowTimeFormatted.startTime),e.xp6(5),e.Oqu(n.data.testWindowTimeFormatted.endTime)}}const J1=function(t,r){return{"countdown-btn":t,loading:r}};function YU(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).launchApp()}),e._uU(1),e.qZA()}if(2&t){const n=e.oxw(2).ngIf,i=e.oxw();e.Q6J("ngClass",e.WLB(3,J1,i.testWindowState===i.QuizAccessWindowEnum.NOT_OPEN,n.initDataLoadState.state===i.ApiStateEnum.LOADING))("disabled",n.data.enableTime&&i.testWindowState!==i.QuizAccessWindowEnum.OPEN||!(i.termsAccepted&&i.aitermsAccepted)),e.xp6(1),e.hij(" ",i.testWindowState!==i.QuizAccessWindowEnum.OPEN?i.countdownMsg:"Start test in Sherlock App"," ")}}function $U(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).starTest()}),e._uU(1),e.qZA()}if(2&t){const n=e.oxw(2).ngIf,i=e.oxw();e.Q6J("ngClass",e.WLB(3,J1,i.testWindowState===i.QuizAccessWindowEnum.NOT_OPEN,n.initDataLoadState.state===i.ApiStateEnum.LOADING))("disabled",n.data.enableTime&&i.testWindowState!==i.QuizAccessWindowEnum.OPEN||!(i.termsAccepted&&i.aitermsAccepted)),e.xp6(1),e.hij(" ",i.countdownMsg," ")}}function jU(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).openSampleTestPage()}),e._uU(1),e.qZA()}if(2&t){const n=e.oxw(2).ngIf;e.xp6(1),e.hij(" Try a sample ",(null==n.data?null:n.data.quizNomenclatureLower)||"quiz"," ")}}function GU(t,r){}function KU(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"div",26),e.TgZ(2,"div",27)(3,"div",28),e.YNc(4,GU,0,0,"ng-template",29),e.qZA(),e.TgZ(5,"div",30)(6,"div",31),e._uU(7),e.qZA(),e.TgZ(8,"div",32),e._uU(9,"This option will not be visible to the candidates"),e.qZA()(),e.TgZ(10,"div")(11,"button",33),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).starTest()}),e._uU(12),e.qZA()()()()}if(2&t){const n=e.oxw(2).ngIf,i=e.oxw(),a=e.MAs(1);e.xp6(4),e.Q6J("ngTemplateOutlet",a),e.xp6(3),e.hij(" Skip login window and preview the ",(null==n.data?null:n.data.quizNomenclatureLower)||"quiz"," "),e.xp6(4),e.Q6J("ngClass",e.VKq(4,fu,n.initDataLoadState.state===i.ApiStateEnum.LOADING)),e.xp6(1),e.hij(" ",i.data.startButtonText," ")}}function XU(t,r){}function eB(t,r){if(1&t&&(e.TgZ(0,"div",73),e._UZ(1,"div",74),e.YNc(2,XU,0,0,"ng-template",29),e.qZA()),2&t){e.oxw(4);const n=e.MAs(3);e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function tB(t,r){if(1&t&&(e.ynx(0),e.YNc(1,eB,3,1,"div",72),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!(null!=n.instructions.quiz&&null!=n.instructions.quiz.proctoring&&n.instructions.quiz.proctoring.sherlock))}}function nB(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"landing-page-layout",34)(2,"div",35)(3,"div",36),e._uU(4),e.qZA(),e.YNc(5,VU,11,5,"div",37),e.YNc(6,WU,12,7,"div",38),e._UZ(7,"div",39),e.TgZ(8,"div",40)(9,"div",41)(10,"input",42),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(2).termsAccepted=a}),e.qZA(),e.TgZ(11,"label",43),e._uU(12," I have read through and accept WeCP's "),e.TgZ(13,"a",44),e._uU(14,"Privacy Policy"),e.qZA(),e._uU(15," and "),e.TgZ(16,"a",45),e._uU(17,"Terms and Conditions."),e.qZA()()()(),e.TgZ(18,"div",40)(19,"div",41)(20,"input",42),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw(2).aitermsAccepted=a}),e.qZA(),e.TgZ(21,"label",43),e._uU(22," I have read through and accept WeCP\u2019s "),e.TgZ(23,"a",46),e._uU(24,"AI Feature Terms"),e.qZA()()()(),e.TgZ(25,"div",40),e.YNc(26,YU,2,6,"button",47),e.YNc(27,$U,2,6,"button",47),e.YNc(28,jU,2,1,"button",48),e.qZA(),e.YNc(29,KU,13,6,"div",24),e.YNc(30,tB,2,1,"ng-container",2),e.qZA(),e.TgZ(31,"div",49)(32,"div",50)(33,"span",51),e._uU(34,"Install Sherlock app to continue"),e.qZA(),e.O4$(),e.TgZ(35,"svg",52),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).closeModal()}),e._UZ(36,"path",53),e.qZA()(),e.kcU(),e._UZ(37,"div",54),e.TgZ(38,"div",55)(39,"div",56),e._uU(40," This test can only be taken in the Sherlock app. Download and install the app to continue "),e.qZA()(),e._UZ(41,"div",57),e.TgZ(42,"div",58)(43,"button",59),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).closeModal()}),e._uU(44," Cancel "),e.qZA(),e.TgZ(45,"button",60),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).downloadApp()}),e._uU(46," Download Sherlock app "),e.qZA()()()(),e.BQk()}if(2&t){const n=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("isLoading",!1)("testLogo",n.data.testLogo)("testBanner",n.data.testBanner),e.xp6(3),e.hij(" ",n.data.name," "),e.xp6(1),e.Q6J("ngIf",i.testWindowState!==i.QuizAccessWindowEnum.NOT_OPEN),e.xp6(1),e.Q6J("ngIf",n.data.enableTime),e.xp6(4),e.Q6J("ngModel",i.termsAccepted),e.xp6(10),e.Q6J("ngModel",i.aitermsAccepted),e.xp6(6),e.Q6J("ngIf",null==i.instructions.quiz||null==i.instructions.quiz.proctoring?null:i.instructions.quiz.proctoring.sherlock),e.xp6(1),e.Q6J("ngIf",!(null!=i.instructions.quiz&&null!=i.instructions.quiz.proctoring&&i.instructions.quiz.proctoring.sherlock)),e.xp6(1),e.Q6J("ngIf",i.testWindowState!==i.QuizAccessWindowEnum.CLOSE&&!n.data.hackathonMode),e.xp6(1),e.Q6J("ngIf",i.data&&i.data.allowPreview&&i.testWindowState!==i.QuizAccessWindowEnum.OPEN),e.xp6(1),e.Q6J("ngIf",i.isTestWindowOpen),e.xp6(1),e.Q6J("show",i.showDownloadModal)}}function rB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"i",85),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).passwordFieldType="password"}),e.qZA()}}function iB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"i",86),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).passwordFieldType="text"}),e.qZA()}}function aB(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function oB(t,r){if(1&t&&(e.TgZ(0,"div",87),e.YNc(1,aB,2,0,"ng-container",2),e.qZA()),2&t){const n=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf",n.passwordFormState.controls.password.errors.required)}}function sB(t,r){1&t&&(e.ynx(0),e._uU(1,"Incorrect password"),e.BQk())}function cB(t,r){if(1&t&&(e.TgZ(0,"div",87),e.YNc(1,sB,2,0,"ng-container",2),e.qZA()),2&t){const n=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf","incorrect_access_key"===n.initDataLoadState.error.errorCode)}}const uB=function(t){return{error:t}};function lB(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"landing-page-layout",75)(2,"form",76),e.NdJ("submit",function(){return e.CHM(n),e.oxw(2).submitPassword()}),e.TgZ(3,"div",77),e._uU(4),e.qZA(),e.TgZ(5,"div",78)(6,"div",79)(7,"label"),e._uU(8,"Enter password"),e.qZA()(),e._UZ(9,"input",80),e.YNc(10,rB,1,0,"i",81),e.YNc(11,iB,1,0,"i",82),e.YNc(12,oB,2,1,"div",83),e.YNc(13,cB,2,1,"div",83),e.qZA(),e.TgZ(14,"button",84),e._uU(15," Submit "),e.qZA()()(),e.BQk()}if(2&t){const n=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("isLoading",!1)("testBanner",null!=n&&null!=n.data&&n.data.testBanner||null!=n.initDataLoadState&&null!=n.initDataLoadState.error&&null!=n.initDataLoadState.error.data&&n.initDataLoadState.error.data.testBanner?(null==n||null==n.data?null:n.data.testBanner)||(null==n||null==n.initDataLoadState||null==n.initDataLoadState.error||null==n.initDataLoadState.error.data?null:n.initDataLoadState.error.data.testBanner):"assets/illustrations/restricted-access.svg")("testLogo",null!=n&&null!=n.data&&n.data.testLogo||null!=n&&null!=n.initDataLoadState&&null!=n.initDataLoadState.error&&null!=n.initDataLoadState.error.data&&n.initDataLoadState.error.data.testLogo?(null==n||null==n.data?null:n.data.testLogo)||(null==n.initDataLoadState||null==n.initDataLoadState.error||null==n.initDataLoadState.error.data?null:n.initDataLoadState.error.data.testLogo):""),e.xp6(1),e.Q6J("ngrxFormState",n.passwordFormState),e.xp6(2),e.AsE(" This ",null!=n.data&&n.data.quizNomenclatureLower||null!=n&&null!=n.initDataLoadState&&null!=n.initDataLoadState.error&&null!=n.initDataLoadState.error.data&&n.initDataLoadState.error.data.quizNomenclature?(null==n||null==n.data?null:n.data.quizNomenclatureLower)||(null==n||null==n.initDataLoadState||null==n.initDataLoadState.error||null==n.initDataLoadState.error.data?null:n.initDataLoadState.error.data.quizNomenclature):"quiz"," is password protected, please enter the password shared with you to start the ",null!=n.data&&n.data.quizNomenclatureLower||null!=n&&null!=n.initDataLoadState&&null!=n.initDataLoadState.error&&null!=n.initDataLoadState.error.data&&n.initDataLoadState.error.data.quizNomenclature?(null==n||null==n.data?null:n.data.quizNomenclatureLower)||(null==n||null==n.initDataLoadState||null==n.initDataLoadState.error||null==n.initDataLoadState.error.data?null:n.initDataLoadState.error.data.quizNomenclature):"quiz"," "),e.xp6(5),e.Q6J("type",i.passwordFieldType)("ngrxFormControlState",n.passwordFormState.controls.password)("ngClass",e.VKq(15,uB,n.passwordFormErrorType)),e.xp6(1),e.Q6J("ngIf","text"===i.passwordFieldType),e.xp6(1),e.Q6J("ngIf","password"===i.passwordFieldType),e.xp6(1),e.Q6J("ngIf","sync"===n.passwordFormErrorType),e.xp6(1),e.Q6J("ngIf","api"===n.passwordFormErrorType),e.xp6(1),e.Q6J("disabled",n.passwordFormState.isInvalid)("ngClass",e.VKq(17,fu,n.initDataLoadState.state===i.ApiStateEnum.LOADING))}}function dB(t,r){if(1&t&&(e.ynx(0),e.YNc(1,FU,3,1,"ng-container",2),e.YNc(2,QU,6,3,"ng-container",2),e.YNc(3,nB,47,14,"ng-container",2),e.YNc(4,lB,16,19,"ng-container",2),e.BQk()),2&t){const n=r.ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",n.landingMode===i.LandingModeEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.landingMode===i.LandingModeEnum.ERROR),e.xp6(1),e.Q6J("ngIf",n.landingMode===i.LandingModeEnum.TEST_DETAILS&&i.dataInitializedSuccessfully),e.xp6(1),e.Q6J("ngIf",n.landingMode===i.LandingModeEnum.PASSWORD)}}const pB=function(t,r,n,i,a){return{initDataLoadState:t,landingMode:r,passwordFormState:n,passwordFormErrorType:i,data:a}};let sa=class{constructor(r,n,i,a,o,c,d){this._store=r,this._router=n,this._activatedRoute=i,this._authorizationService=a,this._testPortalService=o,this._ref=c,this._toastr=d,this.ApiStateEnum=he.V,this.QuizAccessWindowEnum=zr,this.LandingModeEnum=bn,this.startTest=!1,this.passwordFieldType="password",this.termsAccepted=!1,this.aitermsAccepted=!1,this.showDownloadModal=!1,this.timeLoopInterval=1e3,this.SystemCheckStateEnum=ur,this.SystemCheckTypeEnum=cn,this.landingMode$=r.select(_U),this.landingMode$.pipe((0,Te.t)(this)).subscribe(s=>{this.landingMode=s}),this.initDataLoadState$=r.select(L1).pipe((0,oa.B)()),this.passwordFormState$=r.select(R1).pipe((0,oa.B)()),this.passwordFormState$.pipe((0,Te.t)(this)).subscribe(s=>{this.passwordFormState=s}),this.passwordFormErrorType$=r.select(wU).pipe((0,oa.B)()),r.select(yU).pipe((0,oa.B)()).pipe((0,Te.t)(this)).subscribe(s=>{this.dataInitializedSuccessfully=s}),r.select(U1).pipe((0,oa.B)()).pipe((0,Te.t)(this)).subscribe(s=>{this.password=s}),this.data$=r.select(B1),this.data$.pipe((0,Te.t)(this)).subscribe(s=>this.data=s),r.select(aa).pipe((0,Te.t)(this)).subscribe(s=>{this.instructions=s}),r.select(bU).pipe((0,oa.B)()).pipe((0,Te.t)(this)).subscribe(s=>{this.redirectionURL=s}),r.select(du).pipe((0,Te.t)(this)).subscribe(s=>{this.systemChecks=s}),r.select(F1).pipe((0,Te.t)(this)).subscribe(s=>{this.systemCheckConfig=s})}ngOnInit(){window.electronAPI&&window.electronAPI.appId&&(window.electronAPI.appId===z.N.sherlockAppId?(this.startTest=!0,this.loadInstructions()):(this.startTest=!1,alert("Unauthorized application detected. Please use the official application."),window.electronAPI.closeTestWindow(),console.warn("App ID mismatch. Unauthorized application detected."))),this._store.dispatch(Wh({username:this._authorizationService.getAuthorizedFullName(),email:this._authorizationService.getAuthorizedEmail()})),this.loadInstructions()}loadInstructions(){const r={};this.landingMode===bn.PASSWORD?r.accessKey=this.passwordFormState.controls.password.value:this.landingMode===bn.TEST_DETAILS&&(r.accessKey=this.password),this._store.dispatch(Yh()),this._testPortalService.getTestInstructions(this._activatedRoute.snapshot.params.quizOrInviteId,r,(n,i)=>{n?this._store.dispatch($c({error:n})):(this._store.dispatch($h({response:i})),(i.errorCode||i.errorMessage)&&this._store.dispatch($c({error:{errorCode:i.errorCode,errorMessage:i.errorMessage}})),this.redirectionURL?this._router.navigateByUrl(this.redirectionURL):(this._store.dispatch(Jh()),this.setup(),this.startTest&&(this.testWindowState===zr.OPEN||i.allowPreview?this._store.dispatch(jh()):alert("Couldn't start the test as the test window timings have changed. Please verify and try again")))),this.startTest=!1,this._ref.markForCheck()})}setup(){this.setupTimer()}get isTestWindowOpen(){return!!(this.instructions.quiz.enableTime&&new Date(this.instructions.quiz.startTime)>new Date)}setupTimer(){!this.data||(this.clearTimer(),this.currTimeAbsolute=this.data.absoluteServerTime||Date.now(),this.data.enableTime?(this.updateAccessState(),this.timeLoop=setInterval(()=>{this.testWindowState===zr.CLOSE?this.clearTimer():(this.currTimeAbsolute=this.currTimeAbsolute+this.timeLoopInterval,this.updateAccessState()),this._ref.markForCheck()},this.timeLoopInterval)):(this.testWindowState=zr.OPEN,this.countdownMsg=this.data.startButtonText))}updateAccessState(){var t;this.testWindowState=(t=this.currTimeAbsolute)<this.data.testWindowTimeAbsolute.startTime?zr.NOT_OPEN:t>this.data.testWindowTimeAbsolute.endTime?zr.CLOSE:zr.OPEN,this.countdownMsg=((t,r,n,i,a)=>t<r?`Starts in ${(t=>{const i=s=>s<10?`0${Math.trunc(s)}`:`${Math.trunc(s)}`;t/=1e3;let a=Math.floor(t/3600);t%=3600;let o=Math.floor(t/60);t%=60;let c=Math.round(t);return`${i(a)}:${i(o)}:${i(c)}`})(r-t)}`:t>n?a+" ended":i)(this.currTimeAbsolute,this.data.testWindowTimeAbsolute.startTime,this.data.testWindowTimeAbsolute.endTime,this.data.startButtonText,this.data.quizNomenclature)}clearTimer(){this.timeLoop&&clearInterval(this.timeLoop)}launchApp(){const r=this.instructions?.invite?._id,n=`sherlock://open?id=${this.instructions?.quiz._id}`,i=r?`${n}&inviteId=${r}`:n,a=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(window.innerWidth<=768||a)return void this._toastr.show("The app cannot be opened on a phone or tablet. Please use a desktop browser instead.","App Launch Error",me.Tb[me.hd.ERROR]).toastRef.componentInstance.error();let c=!1;window.onblur=()=>{c=!0},window.location.href=i,setTimeout(()=>{c||(this.showDownloadModal=!0)},1e3)}closeModal(){this.showDownloadModal=!1}downloadApp(){const{detectOS:r}=ee.P,{os:n,arch:i}=r();let a="";if("Windows"===n&&"x64"===i)a="https://sherlock-app-files.s3.ap-south-1.amazonaws.com/Windows+v1.0.2/Sherlock-by-WeCP-1.0.2.exe";else if("macOS"===n&&"arm64"===i)a="https://sherlock-app-files.s3.ap-south-1.amazonaws.com/Mac+v1.0.3/Mac+Silicon/Sherlock-by-WeCP-1.0.3.dmg";else{if("macOS"!==n||"x64"!==i)return void alert("Unsupported operating system. Please contact support.");a="https://sherlock-app-files.s3.ap-south-1.amazonaws.com/Mac+v1.0.3/Mac+Intel/Sherlock-by-WeCP-1.0.3.dmg"}if(!a)return void alert("Unable to determine the correct file for download. Please contact support.");const o=document.createElement("a");o.href=a,o.download=a.split("/").pop(),o.click()}starTest(){this.startTest=!0,this.loadInstructions()}openSampleTestPage(){window.open("/practice","_blank")}submitPassword(){this.loadInstructions()}ngOnDestroy(){this.clearTimer()}startSystemChecks(){(0,kn.dS)("[Landing Page] Run system checks ",{action:"Start system checks",quizOrInviteId:this._activatedRoute.snapshot.params.quizOrInviteId||""}),this._store.dispatch(e1())}onSystemChecksUpdateHandler(r){this._store.dispatch(Kc({systemChecks:r}))}};sa.\u0275fac=function(r){return new(r||sa)(e.Y36(J.yh),e.Y36(gt.F0),e.Y36(gt.gz),e.Y36(Ps.Z),e.Y36(ct.X),e.Y36(e.sBO),e.Y36(Ls._W))},sa.\u0275cmp=e.Xpm({type:sa,selectors:[["candidate-instructions-landing"]],decls:10,vars:17,consts:[["starsIcon",""],["runSystemChecksBtn",""],[4,"ngIf"],["width","20","height","21","viewBox","0 0 20 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3 1.5V5.5V1.5ZM1 3.5H5H1ZM4 15.5V19.5V15.5ZM2 17.5H6H2ZM11 1.5L13.286 8.357L19 10.5L13.286 12.643L11 19.5L8.714 12.643L3 10.5L8.714 8.357L11 1.5Z","stroke","#A16207","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","gap-12","padding-vertical-12","padding-horizontal-16"],[1,"flex"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.7501 3C20.9409 3 21.9157 3.92516 21.9949 5.09595L22.0001 5.25V15.7523C22.0001 16.9431 21.0749 17.9179 19.9041 17.9971L19.7501 18.0023L15.5002 18.002V20.5L17.2512 20.5004C17.6654 20.5004 18.0012 20.8362 18.0012 21.2504C18.0012 21.6301 17.7191 21.9439 17.353 21.9936L17.2512 22.0004H6.75122C6.33701 22.0004 6.00122 21.6647 6.00122 21.2504C6.00122 20.8707 6.28337 20.5569 6.64945 20.5073L6.75122 20.5004L8.50022 20.5V18.002L4.25122 18.0023C3.06036 18.0023 2.08558 17.0771 2.00641 15.9063L2.00122 15.7523V5.25C2.00122 4.05914 2.92638 3.08436 4.09717 3.00519L4.25122 3H19.7501ZM13.9992 18.002H9.99922L10.0002 20.5004H14.0002L13.9992 18.002ZM19.7501 4.5H4.25122C3.87152 4.5 3.55773 4.78215 3.50807 5.14823L3.50122 5.25V15.7523C3.50122 16.132 3.78337 16.4458 4.14945 16.4954L4.25122 16.5023H19.7501C20.1297 16.5023 20.4435 16.2201 20.4932 15.854L20.5001 15.7523V5.25C20.5001 4.8703 20.2179 4.55651 19.8518 4.50685L19.7501 4.5ZM18.5043 6C18.7498 6 18.9539 6.17688 18.9963 6.41012L19.0043 6.5V14.5024C19.0043 14.7479 18.8274 14.9521 18.5942 14.9944L18.5043 15.0024H9.50005C9.25459 15.0024 9.05044 14.8256 9.00811 14.5923L9.00005 14.5024V6.5C9.00005 6.25454 9.17693 6.05039 9.41018 6.00806L9.50005 6H18.5043ZM7.4994 6C7.74486 6 7.94901 6.17688 7.99134 6.41012L7.9994 6.5V14.5024C7.9994 14.7479 7.82252 14.9521 7.58928 14.9944L7.4994 15.0024H5.49947C5.25401 15.0024 5.04986 14.8256 5.00752 14.5923L4.99947 14.5024V6.5C4.99947 6.25454 5.17634 6.05039 5.40959 6.00806L5.49947 6H7.4994Z","fill","#6B7280"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],[1,"font-weight-500","text-gray-700","text-sm","line-height-20","margin-vertical-auto"],[1,"font-weight-400","text-gray-500","line-height-20","margin-top-12"],[1,"button","light-blue-button","text-blue-600","font-weight-500","line-height-20","border-none",3,"click"],[3,"config","systemChecks","onSystemChecksUpdate"],["class","padding-vertical-32 flex col-gap-8 row-gap-12",4,"ngIf"],[1,"padding-vertical-32","flex","col-gap-8","row-gap-12"],["class","button",3,"ngClass","click",4,"ngIf"],[1,"button",3,"ngClass","click"],[3,"isLoading"],[1,"quiz-details-loader","pulse-loader"],["leftSideCSS","bg-gray-100",3,"isLoading"],[1,"flex","flex-col","justify-center","width-100"],[1,"flex","items-center","text-gray-400","text-base"],["style","width: 550px; max-width: 100%",4,"ngIf"],[2,"width","550px","max-width","100%"],[1,"ui","divider","preview"],[1,"rounded-4","bg-yellow-100","padding-horizontal-16","padding-vertical-8","flex","col-gap-12","items-center",2,"border","1px solid var(--yellow-300)"],[1,"flex","items-center"],[3,"ngTemplateOutlet"],[1,"flex-grow-1"],[1,"text-sm","font-weight-700","text-yellow-700"],[1,"text-gray-600","text-xs","font-weight-500"],[1,"button","white-button",3,"ngClass","click"],[3,"isLoading","testLogo","testBanner"],[1,"quiz-details","flex","flex-col","justify-center","padding-vertical-24","width-100"],[1,"text-black","font-weight-700","text-3xl","break-word","margin-bottom-8"],["class","flex col-gap-24 text-gray-500",4,"ngIf"],["class","margin-top-24",3,"ngClass",4,"ngIf"],[1,"divider","margin-top-24","width-90"],[1,"flex","flex-wrap","col-gap-12","row-gap-12","margin-top-24"],[1,"ui","checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"line-height","18px"],["href","https://www.wecreateproblems.com/privacy-policy","target","_blank",2,"text-decoration","underline","color","black"],["href","https://www.wecreateproblems.com/terms-and-conditions","target","_blank",2,"text-decoration","underline","color","black"],["href","https://www.wecreateproblems.com/ai-features-terms","target","_blank",2,"text-decoration","underline","color","black"],["class","button blue-button",3,"ngClass","disabled","click",4,"ngIf"],["class","button white-button",3,"click",4,"ngIf"],["modal-new","",1,"ui","tiny","modal","padding-bottom-12",3,"show"],[1,"flex","text-font-inter","text-size-16","text-gray-500","text-base","font-weight-500","padding-horizontal-12","padding-top-12","items-center","justify-between"],[1,"tw-text-[#18181B]"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"cursor-pointer",3,"click"],["d","M5 5L15 15M5 15L15 5L5 15Z","stroke","#71717A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"divider","width-100","border-bottom-solid","border-gray-200","margin-vertical-12"],[1,"padding-12"],[1,"text-font-inter","font-weight-400","text-base","text-gray-800"],[1,"divider","border-bottom-solid","border-gray-200","margin-vertical-12"],[1,"flex","justify-end","items-center","col-gap-12","padding-horizontal-12"],["type","button",1,"button","margin-bottom-0","border-1","auto-width","float-right","margin-left-4","button","transparent-button","padding-vertical-8","border-gray-300","box-shadow",3,"click"],["type","button",1,"button","margin-bottom-0","new-button","auto-width","float-right","margin-left-4","padding-vertical-8",3,"click"],[1,"flex","col-gap-24","text-gray-500"],[1,"ui","clock","outline","icon"],[1,"text-sm","margin-left-8"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",2,"width","16px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"],[1,"margin-top-24",3,"ngClass"],[1,"text-sm","font-weight-500","text-gray-400","margin-bottom-8"],[1,"flex","col-gap-16","text-gray-600","font-weight-500"],[1,"text-sm"],[1,"button","blue-button",3,"ngClass","disabled","click"],[1,"button","white-button",3,"click"],["class","flex flex-wrap row-gap-12",4,"ngIf"],[1,"flex","flex-wrap","row-gap-12"],[1,"ui","divider","preview","margin-vertical-16"],["leftSideCSS","bg-gray-100",3,"isLoading","testBanner","testLogo"],[1,"quiz-details","flex","flex-col","justify-center","padding-vertical-24","width-100",3,"ngrxFormState","submit"],[1,"text-gray-400","text-base","margin-bottom-16"],[1,"custom-input"],[1,"label"],["placeholder","Password",3,"type","ngrxFormControlState","ngClass"],["class","eye slash outline link icon cursor-pointer","style","margin-left: -30px",3,"click",4,"ngIf"],["class","eye link icon cursor-pointer","style","margin-left: -30px",3,"click",4,"ngIf"],["class","error-msg",4,"ngIf"],["type","submit",1,"button","blue-button","margin-top-20",3,"disabled","ngClass"],[1,"eye","slash","outline","link","icon","cursor-pointer",2,"margin-left","-30px",3,"click"],[1,"eye","link","icon","cursor-pointer",2,"margin-left","-30px",3,"click"],[1,"error-msg"]],template:function(r,n){1&r&&(e.YNc(0,PU,2,0,"ng-template",null,0,e.W1O),e.YNc(2,BU,6,4,"ng-template",null,1,e.W1O),e.YNc(4,dB,5,4,"ng-container",2),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async")),2&r&&(e.xp6(4),e.Q6J("ngIf",e.qbA(11,pB,e.lcZ(5,1,n.initDataLoadState$),e.lcZ(6,3,n.landingMode$),e.lcZ(7,5,n.passwordFormState$),e.lcZ(8,7,n.passwordFormErrorType$),e.lcZ(9,9,n.data$))))},directives:[Ue.O5,Os.q,Ue.mk,Is.U,Ue.tP,Qe.Wl,Qe.JJ,Qe.On,di.m,Qe._Y,Qe.JL,Qe.F,xe.Wz,xe.I_,xe.i6,xe.CR],pipes:[Ue.Ov,Ue.JJ],styles:["*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%], .text-base[_ngcontent-%COMP%], .text-xl[_ngcontent-%COMP%]{line-height:150%}.button[_ngcontent-%COMP%]{margin-bottom:0}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px!important;height:5px!important}i[_ngcontent-%COMP%]{margin-right:0!important}",".quiz-details-loader[_ngcontent-%COMP%]{width:100%;max-width:600px}i.icon.clock[_ngcontent-%COMP%]{font-weight:500}.disabled-window[_ngcontent-%COMP%]{opacity:.5}.countdown-btn[_ngcontent-%COMP%]{min-width:160px}.divider[_ngcontent-%COMP%]{border-top:1px solid #d1d5db}.custom-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:8px}.custom-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:325px}.custom-input[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{margin-top:8px}@media only screen and (max-width: 800px){.quiz-details[_ngcontent-%COMP%]{margin-top:5%;display:initial}}.ui.divider.preview[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:24px}.border-1[_ngcontent-%COMP%]{border-width:1px!important;border-style:solid!important}.border-gray-300[_ngcontent-%COMP%]{border-color:var(--gray-300)!important}"],changeDetection:0}),sa=(0,fe.gn)([(0,Te.c)()],sa);const mB=["webcamComponent"];function fB(t,r){1&t&&(e.TgZ(0,"div",10),e._UZ(1,"div",11),e.qZA())}function gB(t,r){1&t&&(e.TgZ(0,"div",12),e._UZ(1,"div",13),e.qZA())}const Ro=function(t,r){return[t,r]},hB=function(t){return{"snapshot-webcam":t}};function vB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-webcam",14,15),e.NdJ("onLoad",function(){return e.CHM(n),e.oxw().webcamLoadedFired()})("webcamImage",function(a){return e.CHM(n),e.oxw().onWebcamImage(a)})("errors",function(a){return e.CHM(n),e.oxw().onWebcamError.emit(a)}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("ngClass",e.VKq(7,hB,e.WLB(4,Ro,n.SnapStatusEnum.NOT_TAKEN,n.SnapStatusEnum.COUNTDOWN).includes(n.webcamStatus.snapStatus)))("width",!e.WLB(9,Ro,n.SnapStatusEnum.NOT_TAKEN,n.SnapStatusEnum.COUNTDOWN).includes(n.webcamStatus.snapStatus)||n.isWebcamLoading?0:390)("height",!e.WLB(12,Ro,n.SnapStatusEnum.NOT_TAKEN,n.SnapStatusEnum.COUNTDOWN).includes(n.webcamStatus.snapStatus)||n.isWebcamLoading?0:285)("eventType",n.process)}}function _B(t,r){1&t&&(e.ynx(0),e._uU(1," Please make sure you have a webcam and that you have allowed access to it "),e.BQk())}function xB(t,r){if(1&t&&e._uU(0),2&t){const n=e.oxw(2);e.hij(" ",n.webcamStatus.webcamError.msg," ")}}function yB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",16)(1,"div")(2,"div",17),e.O4$(),e.TgZ(3,"svg",18),e._UZ(4,"path",19)(5,"line",20),e.qZA()(),e.kcU(),e.TgZ(6,"div",21),e.YNc(7,_B,2,0,"ng-container",22),e.YNc(8,xB,1,1,"ng-template",null,23,e.W1O),e.qZA(),e.TgZ(10,"div",17)(11,"button",24),e.NdJ("click",function(){return e.CHM(n),e.oxw().reloadWebcamComponent()}),e._uU(12,"Retry"),e.qZA()()()()}if(2&t){const n=e.MAs(9),i=e.oxw();e.xp6(7),e.Q6J("ngIf","no_webcam_access"===i.webcamStatus.webcamError.code)("ngIfElse",n)}}function bB(t,r){1&t&&(e.TgZ(0,"div",33),e._uU(1," Uploading image "),e.qZA())}function wB(t,r){1&t&&(e.TgZ(0,"div",33),e._uU(1," Analyzing image "),e.qZA())}const CB=function(t,r){return{disabled:t,loading:r}};function MB(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e.NdJ("click",function(){return e.CHM(n),e.oxw().captureImageFired()}),e.TgZ(3,"span",27),e.O4$(),e.TgZ(4,"svg",28),e._UZ(5,"path",29)(6,"path",30),e.qZA()(),e.kcU(),e.TgZ(7,"div",31),e._uU(8,"Capture Image"),e.qZA()()(),e.YNc(9,bB,2,0,"div",32),e.YNc(10,wB,2,0,"div",32),e.BQk()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(6,CB,n.webcamStatus.snapStatus<n.SnapStatusEnum.NOT_TAKEN||n.webcamStatus.snapStatus===n.SnapStatusEnum.COUNTDOWN||n.isWebcamLoading,e.WLB(3,Ro,n.SnapStatusEnum.UPLOADING,n.SnapStatusEnum.ANALYZING).includes(n.webcamStatus.snapStatus)||n.isCanvasLoading)),e.xp6(7),e.Q6J("ngIf",n.webcamStatus.snapStatus===n.SnapStatusEnum.UPLOADING),e.xp6(1),e.Q6J("ngIf",n.webcamStatus.snapStatus===n.SnapStatusEnum.ANALYZING)}}function SB(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",25)(2,"div",34),e.O4$(),e.TgZ(3,"svg",35),e._UZ(4,"path",36),e.qZA(),e.kcU(),e.TgZ(5,"div",37),e._uU(6),e.qZA()()(),e.TgZ(7,"div",25)(8,"div",38),e.NdJ("click",function(){return e.CHM(n),e.oxw().retakePhoto.emit()}),e.O4$(),e.TgZ(9,"svg",39),e._UZ(10,"path",40),e.qZA(),e.kcU(),e.TgZ(11,"div",41),e._uU(12,"Retake Photo"),e.qZA()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(6),e.hij(" ",n.webcamStatus.apiError.errorMessage," ")}}function NB(t,r){1&t&&(e.ynx(0),e._uU(1,"ID uploaded successfully!"),e.BQk())}function AB(t,r){1&t&&(e.ynx(0),e._uU(1,"Photo looks good!"),e.BQk())}function TB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",42)(1,"div",17)(2,"div",43),e.O4$(),e.TgZ(3,"svg",44),e._UZ(4,"path",45),e.qZA(),e.kcU(),e.TgZ(5,"div",46),e.YNc(6,NB,2,0,"ng-container",8),e.YNc(7,AB,2,0,"ng-container",8),e.qZA()()(),e.TgZ(8,"div",47)(9,"div",38),e.NdJ("click",function(){return e.CHM(n),e.oxw().retakePhoto.emit()}),e.O4$(),e.TgZ(10,"svg",39),e._UZ(11,"path",40),e.qZA(),e.kcU(),e.TgZ(12,"div",41),e._uU(13,"Retake Photo"),e.qZA()(),e.TgZ(14,"div",48),e.NdJ("click",function(){return e.CHM(n),e.oxw().onNext.emit()}),e.TgZ(15,"div"),e._uU(16,"Next"),e.qZA()()()()}if(2&t){const n=e.oxw();e.xp6(6),e.Q6J("ngIf",n.process===n.WebcamTypeEnum.CANDIDATE_ID),e.xp6(1),e.Q6J("ngIf",n.process===n.WebcamTypeEnum.PHOTO_VERIFICATION)}}const IB=function(t){return{"zero-size":t}},EB=function(t){return{"placeholder-canvas":t}};let OB=(()=>{class t{constructor(){this.WebcamTypeEnum=_n,this.SnapStatusEnum=Ht,this.showWebcam=!1,this.isWebcamLoaded=!1,this.isWebcamLoading=!1,this.isCanvasLoading=!1,this.process=_n.CANDIDATE_ID,this.webcamStatus={snapStatus:Ht.NOT_TAKEN},this.onWebcamError=new e.vpe,this.onImageSnapped=new e.vpe,this.onImageDrawn=new e.vpe,this.reloadWebcam=new e.vpe,this.captureImage=new e.vpe,this.retakePhoto=new e.vpe,this.onNext=new e.vpe}set photoCompArgs(n){if(!n)return;this.showWebcam=!0,this.process=n.process,this.webcamStatus=n.webcamStatus;const i=this.imageDetails;this.imageDetails=n.imageDetails,this.isWebcamLoading=this.getIsWebcamLoading(),this.isCanvasLoading=this.webcamStatus.snapStatus===Ht.IMAGE_SNAPPED;const a=()=>{this.process===_n.PHOTO_VERIFICATION&&(this.imageDetails.faceApiBoxArgs?this.highlightFaceApiOnCanvas(this.imageDetails.faceApiBoxArgs):this.imageDetails.rekognitionBoxArgs&&this.highlightRekognitionOnCanvas(this.imageDetails.rekognitionBoxArgs))};this.imageDetails&&(this.imageDetails.imageAsDataUrl!==i?.imageAsDataUrl?this.drawImageOnCanvas(this.imageDetails.imageAsDataUrl).then(()=>a()):a())}ngOnInit(){}webcamLoadedFired(){this.isWebcamLoaded=!0,this.isWebcamLoading=!1}webcamErrorFired(){this.onWebcamError.emit()}captureImageFired(){this.captureImage.emit(),setTimeout(()=>{this.webcamComponent.triggerSnapshot(),this.onImageSnapped.emit()},3e3)}onWebcamImage(n){const i=$(".snapshot-canvas")[0];this.drawImageOnCanvas(n.imageAsDataUrl).then(()=>this.onImageDrawn.emit({image:n,height:i.height,width:i.width}))}triggerSnapshot(){this.webcamComponent.triggerSnapshot()}getIsWebcamLoading(){return this.webcamStatus.snapStatus===Ht.NOT_TAKEN&&(!this.isWebcamLoaded||void 0)}drawImageOnCanvas(n){return new Promise((i,a)=>{const o=document.getElementById("candidate-snapshot"),c=o.getContext("2d");c.clearRect(0,0,o.width,o.height);const d=new Image;d.onload=()=>{c.drawImage(d,0,0,o.width,o.height),i(1)},d.src=n})}highlightFaceApiOnCanvas(n){const a=document.getElementById("candidate-snapshot").getContext("2d");a.beginPath(),a.lineWidth="2",a.strokeStyle="white";for(const o in n)"mouth"!==o&&n[o].slice(1).forEach(function(d,s){a.rect(d._x,d._y,.5,.5)});a.stroke()}highlightRekognitionOnCanvas(n){const i=n.FaceDetails[0].BoundingBox,a=n.FaceDetails[0].Landmarks;let o=document.getElementById("candidate-snapshot");const c=o.width,d=o.height,s=o.getContext("2d");s.beginPath(),s.lineWidth="2",s.strokeStyle="green";const p_eye=(_,b)=>{const[x,v]=[.2*b.width,.15*b.width];return{x:_.x-x/2,y:_.y-v/2,width:x,height:v,center:_}},l={x:i.Left*c,y:i.Top*d,width:i.Width*c,height:i.Height*d,center:{x:(i.Left+i.Width/2)*c,y:(i.Right+i.Height/2)*d}},u={x:a[0].X*c,y:a[0].Y*d},m={x:a[1].X*c,y:a[1].Y*d},[g,f]=[p_eye(u,l),p_eye(m,l)],w=((_,b,x)=>{const A=_.y-(b.y+b.height+(x.y+x.height))/2,S=Math.abs(b.center.x-x.center.x)-(b.width/2+x.width/2);return{x:_.x-S/2,y:_.y-A/2,width:S,height:A,center:_}})({x:a[4].X*c,y:a[4].Y*d},g,f),M=((_,b)=>{const x=.4*b.width,v=2/3*(b.y+b.height-_.y);return{x:_.x-x/2,y:_.y-v/2,width:x,height:v,center:_}})({x:(a[2].X+a[3].X)*c/2,y:(a[2].Y+a[3].Y)*d/2},l);s.rect(l.x,l.y,l.width,l.height),s.rect(g.x,g.y,g.width,g.height),s.rect(f.x,f.y,f.width,f.height),s.rect(w.x,w.y,w.width,w.height),s.rect(M.x,M.y,M.width,M.height),s.stroke()}reloadWebcamComponent(){this.webcamStatus={...this.webcamStatus,snapStatus:Ht.NOT_TAKEN},this.showWebcam=!1,this.isWebcamLoading=!0,setTimeout(()=>{this.isWebcamLoading=!1,this.showWebcam=!0,this.reloadWebcam.emit()},500)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["photo"]],viewQuery:function(n,i){if(1&n&&e.Gf(mB,5),2&n){let a;e.iGM(a=e.CRH())&&(i.webcamComponent=a.first)}},inputs:{photoCompArgs:"photoCompArgs"},outputs:{onWebcamError:"onWebcamError",onImageSnapped:"onImageSnapped",onImageDrawn:"onImageDrawn",reloadWebcam:"reloadWebcam",captureImage:"captureImage",retakePhoto:"retakePhoto",onNext:"onNext"},decls:11,vars:16,consts:[[1,"snapshot-id-holder"],["class","snapshot-webcam",4,"ngIf"],[1,"grid",3,"ngClass"],["class","snapshot-shutter",4,"ngIf"],[3,"ngClass","width","height","eventType","onLoad","webcamImage","errors",4,"ngIf"],["class","snapshot-error",4,"ngIf"],[3,"ngClass"],["id","candidate-snapshot","height","279","width","374",1,"snapshot-canvas"],[4,"ngIf"],["class","margin-top-16",4,"ngIf"],[1,"snapshot-webcam"],[1,"pulse-loader","width-100","height-100"],[1,"snapshot-shutter"],[1,"flex","items-center","justify-center","height-100","shutter-counter"],[3,"ngClass","width","height","eventType","onLoad","webcamImage","errors"],["webcamComponent",""],[1,"snapshot-error"],[1,"flex","justify-center"],["width","44","height","45","viewBox","0 0 44 45","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.25 17.5L34.2177 13.517C34.4845 13.3837 34.7809 13.3208 35.0787 13.3342C35.3766 13.3476 35.6661 13.4369 35.9198 13.5937C36.1735 13.7504 36.3829 13.9693 36.5282 14.2297C36.6735 14.4901 36.7498 14.7833 36.75 15.0815V26.9185C36.7498 27.2167 36.6735 27.5099 36.5282 27.7703C36.3829 28.0307 36.1735 28.2496 35.9198 28.4063C35.6661 28.5631 35.3766 28.6524 35.0787 28.6658C34.7809 28.6792 34.4845 28.6163 34.2177 28.483L26.25 24.5V17.5ZM8.75 31.5H22.75C23.6783 31.5 24.5685 31.1313 25.2249 30.4749C25.8813 29.8185 26.25 28.9283 26.25 28V14C26.25 13.0717 25.8813 12.1815 25.2249 11.5251C24.5685 10.8687 23.6783 10.5 22.75 10.5H8.75C7.82174 10.5 6.9315 10.8687 6.27513 11.5251C5.61875 12.1815 5.25 13.0717 5.25 14V28C5.25 28.9283 5.61875 29.8185 6.27513 30.4749C6.9315 31.1313 7.82174 31.5 8.75 31.5Z","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","43.2071","y1","2.20711","x2","1.20711","y2","44.2071","stroke","#3F3F46","stroke-width","2"],[1,"text-center","text-sm","font-weight-500","margin-top-40"],[4,"ngIf","ngIfElse"],["showErrorMsg",""],[1,"button","white-button","margin-top-16",3,"click"],[1,"margin-top-16","flex","justify-center"],[1,"button","blue-button","flex","items-center","margin-bottom-0",3,"ngClass","click"],[1,"flex","items-center"],["width","16","height","17","viewBox","0 0 16 17","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2.39052 5.55752C2.14048 5.80756 2 6.1467 2 6.50033V12.5003C2 12.8539 2.14048 13.1931 2.39052 13.4431C2.64057 13.6932 2.97971 13.8337 3.33333 13.8337H12.6667C13.0203 13.8337 13.3594 13.6932 13.6095 13.4431C13.8595 13.1931 14 12.8539 14 12.5003V6.50033C14 6.1467 13.8595 5.80756 13.6095 5.55752C13.3594 5.30747 13.0203 5.16699 12.6667 5.16699H12.0467C11.8272 5.16702 11.6111 5.11289 11.4176 5.00939C11.2241 4.90588 11.0591 4.75621 10.9373 4.57366L10.396 3.76033C10.2742 3.57777 10.1092 3.4281 9.91571 3.3246C9.7222 3.2211 9.50612 3.16696 9.28667 3.16699H6.71333C6.49388 3.16696 6.27781 3.2211 6.08429 3.3246C5.89077 3.4281 5.7258 3.57777 5.604 3.76033L5.06267 4.57366C4.94087 4.75621 4.77589 4.90588 4.58238 5.00939C4.38886 5.11289 4.17279 5.16702 3.95333 5.16699H3.33333C2.97971 5.16699 2.64057 5.30747 2.39052 5.55752Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9.41421 10.5812C9.78929 10.2061 10 9.69743 10 9.16699C10 8.63656 9.78929 8.12785 9.41421 7.75278C9.03914 7.37771 8.53043 7.16699 8 7.16699C7.46957 7.16699 6.96086 7.37771 6.58579 7.75278C6.21071 8.12785 6 8.63656 6 9.16699C6 9.69743 6.21071 10.2061 6.58579 10.5812C6.96086 10.9563 7.46957 11.167 8 11.167C8.53043 11.167 9.03914 10.9563 9.41421 10.5812Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"margin-left-4"],["class","text-xs margin-top-4 text-center text-blue-600 loading-ellipses small",4,"ngIf"],[1,"text-xs","margin-top-4","text-center","text-blue-600","loading-ellipses","small"],[1,"rounded-8","text-orange-800","bg-orange-200","flex","items-center","col-gap-8","justify-center","padding-vertical-4","padding-horizontal-8"],["width","18","viewBox","0 0 21 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4994 6.49975V10.4998M10.4994 13.4998H10.5094M3.57144 17.4998H17.4274C18.9674 17.4998 19.9294 15.8328 19.1594 14.4998L12.2314 2.49975C11.4614 1.16675 9.53744 1.16675 8.76744 2.49975L1.83944 14.4998C1.06944 15.8328 2.03144 17.4998 3.57144 17.4998Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-sm"],[1,"button","white-button","margin-bottom-0","flex","items-center",3,"click"],["width","14","height","13","viewBox","0 0 14 13","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.66602 1.16629V4.49963H2.05402M2.05402 4.49963C2.49658 3.40505 3.2898 2.48823 4.30937 1.89287C5.32893 1.2975 6.51722 1.05724 7.68799 1.20972C8.85877 1.3622 9.94587 1.89882 10.7789 2.73548C11.612 3.57213 12.1439 4.66154 12.2913 5.83296M2.05402 4.49963H4.99935M12.3327 11.833V8.49963H11.9453M11.9453 8.49963C11.5021 9.59356 10.7087 10.5097 9.68924 11.1045C8.66977 11.6993 7.48184 11.9393 6.31142 11.7869C5.14099 11.6344 4.05415 11.0982 3.22104 10.2621C2.38793 9.42601 1.85559 8.33726 1.70735 7.16629M11.9453 8.49963H8.99935","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"margin-left-8"],[1,"margin-top-16"],[1,"rounded-8","bg-green-200","flex","items-center","col-gap-8","justify-center","padding-vertical-4","padding-horizontal-8"],["width","16","height","12","viewBox","0 0 16 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 7L5 11L15 1","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-sm","text-green-800"],[1,"margin-top-16","flex","justify-center","col-gap-8"],[1,"button","blue-button","margin-bottom-0",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,fB,2,0,"div",1),e.TgZ(2,"div",2),e.YNc(3,gB,2,0,"div",3),e.YNc(4,vB,2,15,"app-webcam",4),e.qZA(),e.YNc(5,yB,13,2,"div",5),e.TgZ(6,"div",6),e._UZ(7,"canvas",7),e.qZA(),e.YNc(8,MB,11,9,"ng-container",8),e.YNc(9,SB,13,1,"ng-container",8),e.YNc(10,TB,17,2,"div",9),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.isWebcamLoading||i.isCanvasLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(12,IB,!e.WLB(9,Ro,i.SnapStatusEnum.NOT_TAKEN,i.SnapStatusEnum.COUNTDOWN).includes(i.webcamStatus.snapStatus)||i.isWebcamLoading)),e.xp6(1),e.Q6J("ngIf",i.webcamStatus.snapStatus===i.SnapStatusEnum.COUNTDOWN),e.xp6(1),e.Q6J("ngIf",i.showWebcam),e.xp6(1),e.Q6J("ngIf",i.webcamStatus.snapStatus===i.SnapStatusEnum.WEBCAM_ERROR),e.xp6(1),e.Q6J("ngClass",e.VKq(14,EB,i.webcamStatus.snapStatus<=i.SnapStatusEnum.IMAGE_SNAPPED)),e.xp6(2),e.Q6J("ngIf",i.webcamStatus.snapStatus<=i.SnapStatusEnum.ANALYZING),e.xp6(1),e.Q6J("ngIf",i.webcamStatus.snapStatus===i.SnapStatusEnum.API_ERROR),e.xp6(1),e.Q6J("ngIf",i.webcamStatus.snapStatus===i.SnapStatusEnum.COMPLETED))},directives:[Ue.O5,Ue.mk,Qs],styles:['.zero-size[_ngcontent-%COMP%]{width:0;height:0}.snapshot-face-holder[_ngcontent-%COMP%], .snapshot-id-holder[_ngcontent-%COMP%], .photo-verification-error[_ngcontent-%COMP%]{width:max-content}.snapshot-webcam[_ngcontent-%COMP%]{height:285px;width:380px;border-radius:30px;overflow:hidden;grid-area:1/1}.snapshot-error[_ngcontent-%COMP%]{min-height:285px;width:380px;display:flex;justify-content:center;align-items:center}.snapshot-canvas[_ngcontent-%COMP%]{border-radius:30px;border:3px solid black}.snapshot-shutter[_ngcontent-%COMP%]{height:285px;width:380px;border-radius:30px;grid-area:1/1;z-index:1}.placeholder-canvas[_ngcontent-%COMP%]{width:0;height:0;overflow:hidden}.shutter-counter[_ngcontent-%COMP%]:after{animation:shutter steps(3,end) 3s;opacity:.5;content:"";color:#fff;font-size:96px;font-weight:500}@keyframes shutter{0%{content:"3"}34%{content:"2"}66%{content:"1"}}.snapshot-face[_ngcontent-%COMP%]{width:380px;height:285px;background-color:var(--gray-900)}.circular-snap-holder[_ngcontent-%COMP%]{border-radius:50%;height:285px;width:285px;overflow:hidden}.loading-ellipses.small[_ngcontent-%COMP%]:after{width:12px}']}),t})();function kB(t,r){1&t&&e._UZ(0,"div",15)}function DB(t,r){if(1&t&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("src",n.getFaceMovementGif,e.LSH)}}function qB(t,r){if(1&t&&(e.TgZ(0,"span",23),e._UZ(1,"img",24),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("src",null==n.systemMessage?null:n.systemMessage.icon,e.LSH)}}function PB(t,r){if(1&t&&(e.TgZ(0,"span",25),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.systemMessage.subMessage," ")}}function ZB(t,r){if(1&t&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3),e.qZA(),e.O4$(),e.TgZ(4,"svg",29),e._UZ(5,"circle",30)(6,"circle",31),e.qZA()()()),2&t){const n=e.oxw(3);e.xp6(3),e.hij(" ",n.countDownInformation.countdown," "),e.xp6(3),e.uIk("stroke-dashoffset",n.countDownInformation.countdown/5*100/100*77.3908)}}function LB(t,r){if(1&t&&(e.TgZ(0,"div",18)(1,"div",19),e.YNc(2,qB,2,1,"span",20),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,PB,2,1,"span",21),e.qZA(),e.YNc(6,ZB,7,2,"div",22),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.systemMessage.class?n.systemMessage.class:""),e.xp6(1),e.Q6J("ngClass",n.systemMessage.class?n.systemMessage.class:""),e.xp6(1),e.Q6J("ngIf",null==n.systemMessage?null:n.systemMessage.icon),e.xp6(2),e.Oqu(n.systemMessage.message),e.xp6(1),e.Q6J("ngIf",n.systemMessage.subMessage),e.xp6(1),e.Q6J("ngIf",n.countDownInformation.show)}}const RB=function(t){return{"div-disabled opacity-50":t}};function UB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",32),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).mainHandler()}),e.TgZ(2,"span",33),e.O4$(),e.TgZ(3,"svg",34),e._UZ(4,"path",35),e.qZA()(),e.kcU(),e.TgZ(5,"div",36),e._uU(6,"Start video verification"),e.qZA()()()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(1,RB,!n.videoStreamingStarted))}}function BB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).nextButtonHandler()}),e._uU(1," Next "),e.qZA()}}const W1=function(t){return{border:t}};function FB(t,r){if(1&t&&(e.TgZ(0,"div",4)(1,"div",5),e.YNc(2,kB,1,0,"div",6),e._UZ(3,"video",7)(4,"canvas",8),e.TgZ(5,"div",9),e._UZ(6,"div",10),e.qZA(),e.YNc(7,DB,2,1,"div",11),e.qZA(),e.YNc(8,LB,7,6,"div",12),e.YNc(9,UB,7,3,"div",13),e.YNc(10,BB,2,0,"button",14),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.videoStreamingStarted),e.xp6(3),e.Q6J("ngStyle",e.VKq(7,W1,n.getBorderStyleForFaceOverlay)),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,W1,n.getBorderStyleForFaceOverlay)),e.xp6(1),e.Q6J("ngIf","turnRight"===(null==n.systemMessage?null:n.systemMessage.type)||"turnLeft"===(null==n.systemMessage?null:n.systemMessage.type)||"lookUp"===(null==n.systemMessage?null:n.systemMessage.type)||"lookDown"===(null==n.systemMessage?null:n.systemMessage.type)),e.xp6(1),e.Q6J("ngIf",n.systemMessage),e.xp6(1),e.Q6J("ngIf","not_started"===n.analysisState),e.xp6(1),e.Q6J("ngIf",n.videoStreamingStarted&&("error"===n.analysisState||"success"===n.analysisState))}}function zB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",38)(1,"div")(2,"div",39),e.O4$(),e.TgZ(3,"svg",40),e._UZ(4,"path",41)(5,"line",42),e.qZA()(),e.kcU(),e.TgZ(6,"div",43),e._uU(7," Please make sure you have a webcam and that you have allowed access to it "),e.qZA(),e.TgZ(8,"div",39)(9,"button",44),e.NdJ("click",function(){return e.CHM(n),e.oxw().enableCam()}),e._uU(10,"Retry"),e.qZA()()()()}}const HB=ee.P.normalizeCommonJSImport(ke.e(9799).then(ke.bind(ke,69799)));let QB=(()=>{class t{constructor(){this.faceDetectorRunningMode="VIDEO",this.faceLandmarkerRunningMode="IMAGE",this.lastVideoTime=-1,this.results=null,this.videoHeight=285,this.videoWidth=380,this.videoStreamingStarted=!1,this.countDownInformation={show:!1,countdown:0},this.distanceCalibrateTrialNumber=0,this.idealDistanceFromCamera={min:.5,max:1.1},this.DISTANCE_CALIBRATION_MESSAGES=[{close:"Move your face closer to screen",far:"Move your face farther from screen"},{close:"A little more closer",far:"A little more farther"},{close:"Move face closer to proceed",far:"Move face farther to proceed"},{close:"Face is not close enough to screen",far:"Face is very close to screen, move back"},{close:"Adjust your face closer to the screen.",far:"Move away from the screen, you're too close."},{close:"Nudge your face closer to the screen",far:"Reposition yourself - you're too close to the screen."},{close:"Draw your face nearer to the screen",far:"Face is very close to screen, move back"}],this.MIN_YAW_DIFFERENCR_FOR_LEFT_TURN=-.11,this.MIN_YAW_DIFFERENCR_FOR_RIGHT_TURN=.11,this.MIN_PITCH_DIFFERENCR_FOR_UP_TURN=-.11,this.MIN_PITCH_DIFFERENCR_FOR_DOWN_TURN=.11,this.analysisState="not_started",this.successSoundFilePath="assets/audio/joinedNotification.mp3",this.onNext=new e.vpe,this.saveRecordedVideo=new e.vpe,this.turnLeftSound="assets/audio/Left.wav",this.turnRightSound="assets/audio/Right.wav",this.lookUpSound="assets/audio/Up.wav",this.lookDownSound="assets/audio/Down.wav",this.uniqueIdentifier=ee.P.getRandomString(16)}getTransformStyle(){switch(this.systemMessage.type){case"lookUp":return{transform:"rotate(-90deg)"};case"lookDown":return{transform:"rotate(90deg)"};case"turnLeft":return{transform:"rotate(180deg)"};default:return{transform:"rotate(0deg)"}}}ngOnInit(){var n=this;return(0,Le.Z)(function*(){const{FilesetResolver:i,FaceDetector:a,FaceLandmarker:o}=yield HB;yield n.initializefaceDetector(i,a,o)})()}initializefaceDetector(n,i,a){var o=this;return(0,Le.Z)(function*(){const c=yield n.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");o.faceDetector=yield i.createFromOptions(c,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_detector/blaze_face_short_range/float16/1/blaze_face_short_range.tflite",delegate:"GPU"},runningMode:o.faceDetectorRunningMode}),o.faceLandmarker=yield a.createFromOptions(c,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"GPU"},outputFaceBlendshapes:!0,runningMode:o.faceLandmarkerRunningMode,numFaces:2})})()}ngAfterViewInit(){var n=this;return(0,Le.Z)(function*(){n.enableCam()})()}enableCam(){this.webcamStatus="started";const n={video:!0};try{navigator.mediaDevices.getUserMedia(n).then(i=>{this.video=document.getElementById("webcam"),this.canvasElement=document.getElementById("output_canvas"),this.canvasCtx=this.canvasElement.getContext("2d"),this.videoBlendShapes=document.getElementById("video-blend-shapes"),this.video.srcObject=i,this.stream=i,this.video.addEventListener("loadeddata",()=>{this.videoStreamingStarted=!0})}).catch(i=>{this.webcamStatus="error",console.error(i)})}catch(i){this.webcamStatus="error",console.error(i)}}rect(n,i,a,o,c){n.beginPath(),n.lineWidth=4,n.moveTo(i,a),n.lineTo(i+o,a),n.quadraticCurveTo(i+o,a,i+o,a),n.lineTo(i+o,a+c),n.quadraticCurveTo(i+o,a+c,i+o,a+c),n.lineTo(i,a+c),n.quadraticCurveTo(i,a+c,i,a+c),n.lineTo(i,a),n.quadraticCurveTo(i,a,i,a),n.closePath(),n.stroke()}calculateCameraDistance(n,i){let a=-1,o=-1;const c=[474,475,476,477];for(const l of c){let u=n[l];(-1==a||u.x*i<a)&&(a=u.x*i),(-1==o||u.x*i>o)&&(o=u.x*i)}return(o-a)/11.7}startShowingFaceBoundryBox(){const n=this.videoHeight/this.videoWidth;this.video.style.width=this.videoWidth+"px",this.video.style.height=this.videoWidth*n+"px",this.canvasElement.style.width=this.videoWidth+"px",this.canvasElement.style.height=this.videoWidth*n+"px",this.canvasElement.width=this.videoWidth,this.canvasElement.height=this.videoHeight;const i=this.videoHeight/480;let a=performance.now();if(this.lastVideoTime!==this.video.currentTime&&(this.lastVideoTime=this.video.currentTime,this.results=this.faceDetector.detectForVideo(this.video,a)),this.results.detections.length){const o=this.results.detections[0].boundingBox;this.rect(this.canvasCtx,o.originX*i,o.originY*i,o.width*i,o.height*i)}this.animationFrameRequest=window.requestAnimationFrame(()=>{this.startShowingFaceBoundryBox()})}stopShowingFaceBoundryBox(){this.animationFrameRequest&&(window.cancelAnimationFrame(this.animationFrameRequest),this.animationFrameRequest=null),this.results=null,this.canvasCtx.clearRect(0,0,this.canvasElement.width,this.canvasElement.height)}getLandmarksOnCurrentVideoFrame(n=!1){return new Promise((i,a)=>{const o=document.getElementById("canvas"),c=document.getElementById("webcam"),d=document.getElementById("secret");d.addEventListener("load",()=>{const s=this.faceLandmarker.detect(d);if(n&&"IMAGE"===this.faceDetectorRunningMode){const p=this.faceDetector.detect(d);i({landmarksResult:s,detectorResult:p})}else i(s),n&&"IMAGE"!==this.faceDetectorRunningMode&&i(void 0)}),o.width=c.videoWidth,o.height=c.videoHeight,o.getContext("2d").drawImage(c,0,0,c.videoWidth,c.videoHeight),o.toBlob(s=>{const p=URL.createObjectURL(s);d.src=p})})}mainHandler(){var n=this;return(0,Le.Z)(function*(){if((0,kn.dS)("[Candidate Instructions] Started liveness",{quizId:n.quizId,identifier:n.uniqueIdentifier}),n.analysisState="ongoing",!n.faceDetector||!n.faceLandmarker)return n.analysisState="error",void(0,kn.dS)("[Candidate Instructions] Unable to load face analysis dependencies",{quizId:n.quizId,identifier:n.uniqueIdentifier});(yield n.faceCloseEnough())?yield n.showInstructionBeforeStartingTasks():(n.systemMessage={type:"success",message:"Proceed to next step",class:"bg-blue-50 text-blue-600"},ee.P.playAudio(n.successSoundFilePath),n.analysisState="error",(0,kn.dS)("[Candidate Instructions] Liveness Check failed",{error:"Distance calibaration failed.",quizId:n.quizId,identifier:n.uniqueIdentifier}))})()}nextButtonHandler(){this.onNext.emit()}get getBorderStyleForFaceOverlay(){switch(this.systemMessage?.type){case"error":case"warning":return"2px solid var(--red-600)";case"success":return"2px solid var(--green-600)";default:return"2px solid white"}}get getFaceMovementGif(){return"turnRight"===this.systemMessage?.type?"./../../../../../assets/images/Right.gif":"turnLeft"===this.systemMessage?.type?"./../../../../../assets/images/Left.gif":"lookUp"===this.systemMessage?.type?"./../../../../../assets/images/Up.gif":"./../../../../../assets/images/Down.gif"}faceCloseEnough(){var n=this;return(0,Le.Z)(function*(){n.startVideoRecording(),n.startShowingFaceBoundryBox();const i=yield n.calibrateDistance();return n.stopShowingFaceBoundryBox(),n.stopVideoRecording("distance-caliberation",{result:i}),i})()}startVideoRecording(){this.videoRecordedBlobs=[];let n={mimeType:"video/webm;codecs=vp9"};MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:"video/webm"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error(`${n.mimeType} is not supported`),n={mimeType:""})));try{this.mediaVideoRecorder=new MediaRecorder(this.stream,n)}catch(i){return void console.error("Exception while creating MediaRecorder <liveness>:",JSON.stringify(i))}this.mediaVideoRecorder.start(100),this.onDataAvailableVideoEvent()}stopVideoRecording(n,i){this.mediaVideoRecorder?.stop(),this.mediaVideoRecorder=null,this.saveRecordedVideo.emit({recordedBlobs:this.videoRecordedBlobs,key:n,identifier:this.uniqueIdentifier,data:i}),this.videoRecordedBlobs=[]}onDataAvailableVideoEvent(){try{this.mediaVideoRecorder.ondataavailable=n=>{n.data&&n.data.size>0&&this.videoRecordedBlobs.push(n.data)}}catch(n){console.error(n)}}showInstructionBeforeStartingTasks(){var n=this;return(0,Le.Z)(function*(){n.systemMessage=null,n.systemMessage={type:"info",message:"Please keep your head straight and inside the outline",class:"text-blue-600 bg-blue-50"},yield ee.P.sleep(2e3),n.faceDetectorRunningMode="IMAGE",yield n.faceDetector.setOptions({runningMode:n.faceDetectorRunningMode}),n.countDownInformation={show:!0,countdown:5};const i=[];for(;n.countDownInformation.countdown>0;n.countDownInformation.countdown--){yield ee.P.sleep(1e3);const o=yield n.getLandmarksOnCurrentVideoFrame(!0);if(!o.detectorResult.detections.length||!o.landmarksResult.faceLandmarks.length){n.systemMessage={type:"warning",message:"Unable to detect a face",class:"text-red-600 bg-red-50"};continue}if(o.detectorResult.detections.lengthh>1||o.landmarksResult.faceLandmarks.length>1){n.systemMessage={type:"warning",message:"More than one face detected",class:"bg-red-50 text-red-600"};continue}const c=n.calculateFaceAngle({mesh:o.landmarksResult.faceLandmarks[0],boxRaw:n.normalizeFaceBox([o.detectorResult.detections[0].boundingBox.originX,o.detectorResult.detections[0].boundingBox.originY,o.detectorResult.detections[0].boundingBox.width,o.detectorResult.detections[0].boundingBox.height],n.videoWidth,n.videoHeight)},[n.videoWidth,n.videoHeight]);i.push(c)}if(0===n.countDownInformation.countdown){if(n.countDownInformation={show:!1,countdown:0},n.systemMessage={type:"success",message:"Good job!",class:"bg-blue-50 text-blue-600"},ee.P.playAudio(n.successSoundFilePath),!i.length)return n.analysisState="error",void(0,kn.dS)("[Candidate Instructions] No face found",{error:"No face found during straight face angle calculation",quizId:n.quizId,identifier:n.uniqueIdentifier});n.straightFaceAngle=n.calcAverageAngle(i)}yield ee.P.sleep(1e3);const a=ee.P.shuffleArray([()=>n.validateLeftTurn(),()=>n.validateRightTurn(),()=>n.validateUpTurn(),()=>n.validateDownTurn()]).slice(0,2);for(let o=0;o<a.length;o++){if(yield ee.P.sleep(2e3),!(yield a[o]()))return n.systemMessage={type:"success",message:"Good job!",class:"bg-blue-50 text-blue-600"},ee.P.playAudio(n.successSoundFilePath),n.analysisState="error",void(0,kn.dS)("[Candidate Instructions] Liveness Check failed",{error:"Failed to follow tasks",quizId:n.quizId,identifier:n.uniqueIdentifier});n.systemMessage={type:"success",message:"Good job!",class:"bg-blue-50 text-blue-600"},ee.P.playAudio(n.successSoundFilePath)}n.analysisState="success",n.systemMessage={type:"success",message:"You have successfully completed the verification",class:"bg-green-100 text-green-600"},(0,kn.dS)("[Candidate Instructions] Liveness Check passed",{quizId:n.quizId,identifier:n.uniqueIdentifier}),ee.P.playAudio(n.successSoundFilePath)})()}getAverageAnglesOfNSeconds(n=3){var i=this;return(0,Le.Z)(function*(){const a=[];for(let c=0;c<n;c++){const d=yield i.getLandmarksOnCurrentVideoFrame(!0);if(d.landmarksResult.faceLandmarks.length&&d.detectorResult.detections.length){const s=i.calculateFaceAngle({mesh:d.landmarksResult.faceLandmarks[0],boxRaw:i.normalizeFaceBox([d.detectorResult.detections[0].boundingBox.originX,d.detectorResult.detections[0].boundingBox.originY,d.detectorResult.detections[0].boundingBox.width,d.detectorResult.detections[0].boundingBox.height],i.videoWidth,i.videoHeight)},[i.videoWidth,i.videoHeight]);a.push(s),yield ee.P.sleep(1e3)}}return i.calcAverageAngle(a)})()}validateLeftTurn(){var n=this;return(0,Le.Z)(function*(){ee.P.playAudio(n.turnLeftSound),n.startVideoRecording(),n.systemMessage={type:"turnLeft",message:"Turn your face left: ",subMessage:"slowly turn your head to your left.",class:"text-gray-600 font-weight-600 text-size-12 bg-blue-50 gap-8",icon:"assets/images/turnLeftIcon.svg"},yield ee.P.sleep(3e3);const a=(yield n.getAverageAnglesOfNSeconds()).yaw-n.straightFaceAngle.yaw;return n.systemMessage=null,n.stopVideoRecording("left-turn",{yawDiff:a,straightFaceAngle:n.straightFaceAngle}),a<=n.MIN_YAW_DIFFERENCR_FOR_LEFT_TURN})()}validateRightTurn(){var n=this;return(0,Le.Z)(function*(){ee.P.playAudio(n.turnRightSound),n.startVideoRecording(),n.systemMessage={type:"turnRight",message:"Turn your face right: ",subMessage:"Gently turn your head to your right.",class:"text-gray-600 font-weight-600 text-size-12 bg-blue-50 gap-8",icon:"assets/images/turnRightIcon.svg"},yield ee.P.sleep(3e3);const a=(yield n.getAverageAnglesOfNSeconds()).yaw-n.straightFaceAngle.yaw;return n.systemMessage=null,n.stopVideoRecording("right-turn",{yawDiff:a,straightFaceAngle:n.straightFaceAngle}),a>=n.MIN_YAW_DIFFERENCR_FOR_RIGHT_TURN})()}validateUpTurn(){var n=this;return(0,Le.Z)(function*(){ee.P.playAudio(n.lookUpSound),n.startVideoRecording(),n.systemMessage={type:"lookUp",message:"Look up: ",subMessage:"raise your chin upwards, as if you\u2019re looking at the sky.",class:"text-gray-600 font-weight-600 text-size-12 bg-blue-50 gap-8",icon:"assets/images/lookUpIcon.svg"},yield ee.P.sleep(3e3);const a=(yield n.getAverageAnglesOfNSeconds()).pitch-n.straightFaceAngle.pitch;return n.systemMessage=null,n.stopVideoRecording("up-turn",{pitchDiff:a,straightFaceAngle:n.straightFaceAngle}),a<=n.MIN_PITCH_DIFFERENCR_FOR_UP_TURN})()}validateDownTurn(){var n=this;return(0,Le.Z)(function*(){ee.P.playAudio(n.lookDownSound),n.startVideoRecording(),n.systemMessage={type:"lookDown",message:"Look down: ",subMessage:"tilt your head down slightly",class:"text-gray-600 font-weight-600 text-size-12 bg-blue-50 gap-8",icon:"assets/images/lookDownIcon.svg"},yield ee.P.sleep(3e3);const a=(yield n.getAverageAnglesOfNSeconds()).pitch-n.straightFaceAngle.pitch;return n.systemMessage=null,n.stopVideoRecording("down-turn",{pitchDiff:a,straightFaceAngle:n.straightFaceAngle}),a>=n.MIN_PITCH_DIFFERENCR_FOR_DOWN_TURN})()}calibrateDistance(){var n=this;return(0,Le.Z)(function*(){if(n.distanceCalibrateTrialNumber>=n.DISTANCE_CALIBRATION_MESSAGES.length)return!1;0!==n.distanceCalibrateTrialNumber&&(yield ee.P.sleep(3e3));const i=yield n.getLandmarksOnCurrentVideoFrame();if(!i.faceLandmarks.length)return n.systemMessage={type:"warning",message:"Unable to detect a face",class:"bg-red-50 text-red-600"},n.distanceCalibrateTrialNumber=n.distanceCalibrateTrialNumber+1,yield n.calibrateDistance();if(i.faceLandmarks.length>1)return n.systemMessage={type:"warning",message:"More than one face detected",class:"bg-red-50 text-red-600"},n.distanceCalibrateTrialNumber=n.distanceCalibrateTrialNumber+1,yield n.calibrateDistance();const a=n.calculateCameraDistance(i.faceLandmarks[0],n.videoWidth);return a>=n.idealDistanceFromCamera.min&&a<=n.idealDistanceFromCamera.max?(n.systemMessage={type:"info",message:"Maintain this distance",class:"bg-blue-50 text-blue-600"},!0):(a<n.idealDistanceFromCamera.min&&(n.systemMessage={type:"error",message:n.DISTANCE_CALIBRATION_MESSAGES[n.distanceCalibrateTrialNumber].close,class:"bg-blue-50 text-blue-600"}),a>n.idealDistanceFromCamera.max&&(n.systemMessage={type:"error",message:n.DISTANCE_CALIBRATION_MESSAGES[n.distanceCalibrateTrialNumber].far,class:"bg-blue-50 text-blue-600"}),n.distanceCalibrateTrialNumber=n.distanceCalibrateTrialNumber+1,yield n.calibrateDistance())})()}normalizeFaceBox(n,i,a){return[n[0]/i,n[1]/a,n[2]/i,n[3]/a]}calculateFaceAngle(n,i){const a=w=>{const y=Math.sqrt(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]);return w[0]/=y,w[1]/=y,w[2]/=y,w},o=(w,y)=>[w[0]-y[0],w[1]-y[1],w[2]-y[2]],c=(w,y)=>[w[1]*y[2]-w[2]*y[1],w[2]*y[0]-w[0]*y[2],w[0]*y[1]-w[1]*y[0]],s=n.mesh;if(!s||s.length<300)return{pitch:0,yaw:0,roll:0};const p=Math.max(n.boxRaw[2]*i[0],n.boxRaw[3]*i[1])/1.5,l=[s[10],s[152],s[234],s[454]].map(w=>[w.x*i[0]/p,w.y*i[1]/p,w.z]),u=a(o(l[1],l[0]));let m=a(o(l[3],l[2]));const g=a(c(m,u));return m=c(u,g),(w=>{const[y,M,_,b,x,v,A,S,N]=w;let E,P,Z;return b<1?b>-1?(Z=Math.asin(b),P=Math.atan2(-A,y),E=Math.atan2(-v,x)):(Z=-Math.PI/2,P=-Math.atan2(S,N),E=0):(Z=Math.PI/2,P=Math.atan2(S,N),E=0),Number.isNaN(E)&&(E=0),Number.isNaN(P)&&(P=0),Number.isNaN(Z)&&(Z=0),{pitch:2*-E,yaw:2*-P,roll:2*-Z}})([m[0],m[1],m[2],u[0],u[1],u[2],g[0],g[1],g[2]])}calcAverageAngle(n){let i={pitch:0,yaw:0,roll:0};return n.forEach(a=>{i.pitch+=a.pitch,i.yaw+=a.yaw,i.roll+=a.roll}),i.pitch/=n.length,i.yaw/=n.length,i.roll/=n.length,i}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["liveness"]],inputs:{quizId:"quizId"},outputs:{onNext:"onNext",saveRecordedVideo:"saveRecordedVideo"},decls:4,vars:2,consts:[["class","flex flex-col items-center",4,"ngIf"],["class","snapshot-error",4,"ngIf"],["id","canvas",2,"overflow","auto","display","none"],["id","secret","alt","",2,"display","none"],[1,"flex","flex-col","items-center"],[1,"main-video-holder",2,"position","relative"],["class","pulse-loader width-100 height-100",4,"ngIf"],["height","285","width","380","id","webcam","autoplay","","playsinline","",2,"position","absolute","height","285px !important","width","380px !important","transform","scale(-1, 1)"],["id","output_canvas",1,"output_canvas","position-absolute",2,"left","0px","top","0px","height","220px !important","width","380px !important","transform","scale(-1, 1)"],[1,"face-overlay","rounded-8",3,"ngStyle"],["id","liveliness-timer-circle",3,"ngStyle"],["class","gif-container flex justify-center",4,"ngIf"],["class","flex margin-top-10 width-100 items-center padding-vertical-4 padding-horizontal-8 text-white rounded-8",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","button blue-button fit-content-width margin-top-8",3,"click",4,"ngIf"],[1,"pulse-loader","width-100","height-100"],[1,"gif-container","flex","justify-center"],["alt","GIF",1,"direction-gif",3,"src"],[1,"flex","margin-top-10","width-100","items-center","padding-vertical-4","padding-horizontal-8","text-white","rounded-8",3,"ngClass"],[1,"margin-left-auto","flex","margin-right-auto","items-center",3,"ngClass"],["class","flex width-fit-content margin-right-4",4,"ngIf"],["class","font-weight-400 text-xs",4,"ngIf"],["class","text-base text-white flex items-center margin-left-4",4,"ngIf"],[1,"flex","width-fit-content","margin-right-4"],[3,"src"],[1,"font-weight-400","text-xs"],[1,"text-base","text-white","flex","items-center","margin-left-4"],[1,"liveliness-modal-timer","flex","margin-left-auto","items-center"],[1,"text","text-gray-900","font-weight-500","text-size-14","line-height-20","position-absolute"],["width","26.286px","height","26.286px","viewBox","0 0 26.286 26.286","fill","#F4F4F5","stroke-width","1.64286",1,"liveliness-modal-timer-svg"],["cx","13.1423","cy","13.1424","r","12.3214","stroke","#93C5FD","stroke-width","1.64286"],["cx","13.1423","cy","13.1424","r","12.3214","stroke","#2563EB",1,"progress","two"],[1,"button","blue-button","flex","items-center","margin-bottom-0","margin-top-8",3,"ngClass","click"],[1,"flex","items-center"],["width","14","height","10","viewBox","0 0 14 10","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0.599976 1.8002C0.599976 1.37585 0.768546 0.968883 1.0686 0.668824C1.36866 0.368766 1.77563 0.200195 2.19998 0.200195H6.99998C7.42432 0.200195 7.83129 0.368766 8.13135 0.668824C8.4314 0.968883 8.59998 1.37585 8.59998 1.8002V8.2002C8.59998 8.62454 8.4314 9.03151 8.13135 9.33157C7.83129 9.63162 7.42432 9.8002 6.99998 9.8002H2.19998C1.77563 9.8002 1.36866 9.63162 1.0686 9.33157C0.768546 9.03151 0.599976 8.62454 0.599976 8.2002V1.8002ZM10.6424 2.685C10.5095 2.75139 10.3978 2.85346 10.3196 2.97977C10.2415 3.10609 10.2001 3.25167 10.2 3.4002V6.6002C10.2001 6.74872 10.2415 6.8943 10.3196 7.02062C10.3978 7.14693 10.5095 7.249 10.6424 7.3154L12.2424 8.1154C12.3643 8.17633 12.4998 8.20509 12.636 8.19896C12.7721 8.19282 12.9045 8.152 13.0205 8.08035C13.1364 8.0087 13.2322 7.90861 13.2986 7.78958C13.365 7.67054 13.3999 7.53651 13.4 7.4002V2.6002C13.3999 2.46388 13.365 2.32985 13.2986 2.21081C13.2322 2.09178 13.1364 1.99169 13.0205 1.92004C12.9045 1.84839 12.7721 1.80757 12.636 1.80143C12.4998 1.7953 12.3643 1.82406 12.2424 1.885L10.6424 2.685Z","fill","white"],[1,"margin-left-4"],[1,"button","blue-button","fit-content-width","margin-top-8",3,"click"],[1,"snapshot-error"],[1,"flex","justify-center"],["width","44","height","45","viewBox","0 0 44 45","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.25 17.5L34.2177 13.517C34.4845 13.3837 34.7809 13.3208 35.0787 13.3342C35.3766 13.3476 35.6661 13.4369 35.9198 13.5937C36.1735 13.7504 36.3829 13.9693 36.5282 14.2297C36.6735 14.4901 36.7498 14.7833 36.75 15.0815V26.9185C36.7498 27.2167 36.6735 27.5099 36.5282 27.7703C36.3829 28.0307 36.1735 28.2496 35.9198 28.4063C35.6661 28.5631 35.3766 28.6524 35.0787 28.6658C34.7809 28.6792 34.4845 28.6163 34.2177 28.483L26.25 24.5V17.5ZM8.75 31.5H22.75C23.6783 31.5 24.5685 31.1313 25.2249 30.4749C25.8813 29.8185 26.25 28.9283 26.25 28V14C26.25 13.0717 25.8813 12.1815 25.2249 11.5251C24.5685 10.8687 23.6783 10.5 22.75 10.5H8.75C7.82174 10.5 6.9315 10.8687 6.27513 11.5251C5.61875 12.1815 5.25 13.0717 5.25 14V28C5.25 28.9283 5.61875 29.8185 6.27513 30.4749C6.9315 31.1313 7.82174 31.5 8.75 31.5Z","stroke","#3F3F46","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","43.2071","y1","2.20711","x2","1.20711","y2","44.2071","stroke","#3F3F46","stroke-width","2"],[1,"text-center","text-sm","font-weight-500","margin-top-40"],[1,"button","white-button","margin-top-16",3,"click"]],template:function(n,i){1&n&&(e.YNc(0,FB,11,11,"div",0),e.YNc(1,zB,11,0,"div",1),e._UZ(2,"canvas",2)(3,"img",3)),2&n&&(e.Q6J("ngIf","error"!==i.webcamStatus),e.xp6(1),e.Q6J("ngIf","error"===i.webcamStatus))},directives:[Ue.O5,Ue.PC,Ue.mk],styles:[".main-video-holder[_ngcontent-%COMP%]{height:224px;width:382px;border-radius:8px;overflow:hidden;grid-area:1/1;border:1px solid var(--gray-300, #71717a)}.snapshot-error[_ngcontent-%COMP%]{min-height:224px;width:382px;display:flex;justify-content:center;align-items:center}.liveliness-modal-timer[_ngcontent-%COMP%]{display:inline-block;position:relative}.liveliness-modal-timer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:10px;text-align:center;font-weight:500;line-height:15px}.liveliness-modal-timer-svg[_ngcontent-%COMP%]{display:block;margin:auto;overflow:visible}.liveliness-modal-timer[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{fill:none;stroke-width:2px;stroke:#a1a1aa}.liveliness-modal-timer[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{fill:none;stroke-width:1.64286;stroke-linecap:round;stroke-dasharray:77.3908;transform:rotate(-90deg);transform-origin:center;transition:stroke .5s ease}#webcam[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover}.face-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:flex;justify-content:center;align-items:center;overflow:hidden;z-index:2}#liveliness-timer-circle[_ngcontent-%COMP%]{width:132px;height:192px;border-radius:50%;position:relative;overflow:hidden;z-index:1;box-shadow:0 0 0 1000px #00000080}#liveliness-timer-circle[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;border-radius:50%;z-index:1}.gif-container[_ngcontent-%COMP%]{width:380px;height:220px;overflow:hidden}.direction-gif[_ngcontent-%COMP%]{max-width:100%;max-height:100%;display:block;margin:auto;position:absolute;z-index:1000000}"]}),t})();function VB(t,r){if(1&t&&(e.TgZ(0,"div",32)(1,"div",33)(2,"p",34),e._uU(3,"You must start the test before..."),e.qZA(),e.TgZ(4,"div",35)(5,"span",36),e.O4$(),e.TgZ(6,"svg",37),e._UZ(7,"path",38),e.qZA(),e.kcU(),e.TgZ(8,"span",39),e._uU(9),e.qZA()()()()()),2&t){const n=e.oxw();e.xp6(9),e.Oqu(n.quizWindowTimeString)}}const JB=function(t){return{"hover-on-section":t}};function WB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(){e.CHM(n);const a=e.oxw().$implicit;return e.oxw().gotoTab(a.type)}),e.TgZ(1,"span",45),e.O4$(),e.TgZ(2,"svg",46),e._UZ(3,"path",47),e.qZA()(),e.kcU(),e.TgZ(4,"div",48),e._uU(5),e.qZA()()}if(2&t){const n=e.oxw().$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(2,JB,n.type!==i.navigation.activeTab.type)),e.xp6(5),e.Oqu(n.name)}}function YB(t,r){if(1&t&&(e.TgZ(0,"div",49)(1,"span",45),e.O4$(),e.TgZ(2,"svg",50),e._UZ(3,"path",51),e.qZA()(),e.kcU(),e.TgZ(4,"div",48),e._uU(5),e.qZA()()),2&t){const n=e.oxw().$implicit;e.xp6(5),e.Oqu(n.name)}}function $B(t,r){if(1&t&&(e.TgZ(0,"div",52)(1,"span",45),e.O4$(),e.TgZ(2,"svg",53),e._UZ(3,"path",51),e.qZA()(),e.kcU(),e.TgZ(4,"div",48),e._uU(5),e.qZA()()),2&t){const n=e.oxw().$implicit;e.xp6(5),e.Oqu(n.name)}}function jB(t,r){if(1&t&&(e.TgZ(0,"div",54),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"path",56),e.qZA(),e.kcU(),e.TgZ(3,"div",48),e._uU(4),e.qZA()()),2&t){const n=e.oxw().$implicit;e.xp6(4),e.Oqu(n.name)}}function GB(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,WB,6,4,"div",40),e.YNc(2,YB,6,1,"div",41),e.YNc(3,$B,6,1,"div",42),e.YNc(4,jB,5,1,"div",43),e.qZA()),2&t){const n=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.tabStateMap[n.type]===i.TabStateEnum.COMPLETED),e.xp6(1),e.Q6J("ngIf",i.tabStateMap[n.type]===i.TabStateEnum.ONGOING),e.xp6(1),e.Q6J("ngIf",i.tabStateMap[n.type]===i.TabStateEnum.PENDING),e.xp6(1),e.Q6J("ngIf",i.tabStateMap[n.type]===i.TabStateEnum.ERROR)}}function KB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",79),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).runSystemChecksAgain()}),e._uU(1," Run System check again "),e.qZA()}if(2&t){const n=e.oxw(3);e.Q6J("ngClass","error"===n.systemChecks.computed.error?"blue-button":"white-button")}}function XB(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",80),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).submitSystemChecks()}),e._uU(1," Next "),e.qZA()}}function eF(t,r){if(1&t&&(e.TgZ(0,"div",76),e.YNc(1,KB,2,1,"div",77),e.YNc(2,XB,2,0,"div",78),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.systemChecks.computed.error),e.xp6(1),e.Q6J("ngIf","error"!==n.systemChecks.computed.error)}}function tF(t,r){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," Ensure you're using the latest version of Chrome browser; using other browser(s) is not allowed. "),e.qZA())}function nF(t,r){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," Use the latest version of Chrome/Firefox/Safari/Edge browser. "),e.qZA())}function rF(t,r){if(1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" Ensure your device is running a genuine copy of Windows/MacOS or the latest version of your linux distro; Mobile devices are strictly prohibited for this ",n.data.quizNomenclatureLower,". ")}}function iF(t,r){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," Your device is running a genuine copy of Windows or the latest version of your linux distro. "),e.qZA())}function aF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",57),e._UZ(2,"div",58),e.TgZ(3,"div",59)(4,"system-check",60),e.NdJ("onSystemChecksUpdate",function(a){return e.CHM(n),e.oxw().onSystemChecksUpdateHandler(a)}),e.qZA(),e.YNc(5,eF,3,2,"div",61),e.qZA()(),e.TgZ(6,"div",62)(7,"div",63)(8,"div",64),e._uU(9),e.qZA(),e.TgZ(10,"div",65)(11,"div",66)(12,"span"),e.O4$(),e.TgZ(13,"svg",67),e._UZ(14,"path",68),e.qZA()(),e.YNc(15,tF,2,0,"span",23),e.YNc(16,nF,2,0,"span",23),e.qZA(),e.kcU(),e.TgZ(17,"div",66)(18,"span"),e.O4$(),e.TgZ(19,"svg",67),e._UZ(20,"path",68),e.qZA()(),e.YNc(21,rF,2,1,"span",23),e.YNc(22,iF,2,0,"span",23),e.qZA(),e.kcU(),e.TgZ(23,"div",66)(24,"span"),e.O4$(),e.TgZ(25,"svg",67),e._UZ(26,"path",68),e.qZA()(),e.kcU(),e.TgZ(27,"span"),e._uU(28," Make sure your device is not behind any firewalls."),e.qZA()()(),e.TgZ(29,"div",69)(30,"div",70),e._uU(31,"Need help?"),e.qZA(),e.TgZ(32,"p",71),e._uU(33," Check out the below guides to help fix the issues (if any): "),e.qZA(),e.TgZ(34,"div",72)(35,"a",73),e._uU(36,"List of supported devices and browsers"),e.qZA(),e.TgZ(37,"a",73),e._uU(38,"Troubleshooting network firewall issue"),e.qZA()(),e.TgZ(39,"div",74)(40,"p",71),e._uU(41," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(42,"a",75),e._uU(43," candidate@wecreateproblems.com"),e.qZA()()()()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(4),e.Q6J("config",n.systemCheckConfig)("systemChecks",n.systemChecks),e.xp6(1),e.Q6J("ngIf",n.systemChecks.computed.state===n.SystemCheckStateEnum.COMPLETED),e.xp6(4),e.hij(" To successfully make your system compatible to this ",n.data.quizNomenclatureLower,": "),e.xp6(6),e.Q6J("ngIf",n.blockNonChromeBrowsers),e.xp6(1),e.Q6J("ngIf",!n.blockNonChromeBrowsers),e.xp6(5),e.Q6J("ngIf",n.blockMobile),e.xp6(1),e.Q6J("ngIf",!n.blockMobile),e.xp6(13),e.Q6J("href",n.browserArticle,e.LSH),e.xp6(2),e.Q6J("href",n.firewallArticle,e.LSH)}}function oF(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function sF(t,r){if(1&t&&(e.TgZ(0,"div",97),e.YNc(1,oF,2,0,"ng-container",23),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.formData.controls[0].errors._value?null:n.formData.controls[0].errors._value.required)}}function cF(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function uF(t,r){1&t&&(e.ynx(0),e._uU(1,"Please enter a valid email"),e.BQk())}function lF(t,r){if(1&t&&(e.TgZ(0,"div",97),e.YNc(1,cF,2,0,"ng-container",23),e.YNc(2,uF,2,0,"ng-container",23),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.formData.controls[1].errors._value?null:n.formData.controls[1].errors._value.required),e.xp6(1),e.Q6J("ngIf",null==n.formData.controls[1].errors._value?null:n.formData.controls[1].errors._value.pattern)}}function dF(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function pF(t,r){if(1&t&&(e.TgZ(0,"div",97),e.YNc(1,dF,2,0,"ng-container",23),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==n.formData.controls[2].errors._value?null:n.formData.controls[2].errors._value.required)}}const Uo=function(t){return{error:t}};function mF(t,r){if(1&t&&(e.TgZ(0,"div",84)(1,"div",85)(2,"label"),e._uU(3,"Cornerstone username"),e.qZA(),e.TgZ(4,"span",86),e._uU(5,"required"),e.qZA()(),e._UZ(6,"input",98),e.YNc(7,pF,2,1,"div",88),e.qZA()),2&t){const n=e.oxw(2);e.xp6(6),e.Q6J("ngrxFormControlState",n.formData.controls[2].controls.value)("ngClass",e.VKq(3,Uo,n.formData.controls[2].isInvalid&&n.formData.controls[2].isDirty)),e.xp6(1),e.Q6J("ngIf",n.formData.controls[0].isInvalid&&n.formData.controls[0].isDirty)}}function fF(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function gF(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(3).$implicit;e.xp6(1),e.hij("Please enter a valid ",n.value.type,"")}}function hF(t,r){if(1&t&&(e.TgZ(0,"div",97),e.YNc(1,fF,2,0,"ng-container",23),e.YNc(2,gF,2,1,"ng-container",23),e.qZA()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==n.errors._value?null:n.errors._value.required),e.xp6(1),e.Q6J("ngIf",null==n.errors._value?null:n.errors._value.pattern)}}function vF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",100)(2,"div",85)(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"span",86),e._uU(6),e.qZA()(),e.TgZ(7,"input",101),e.NdJ("keypress",function(){e.CHM(n);const a=e.oxw().$implicit,o=e.oxw(2);return o.preventNonNumericalInput(a.value.type,o.event)}),e.qZA(),e.YNc(8,hF,3,2,"div",88),e.qZA(),e.BQk()}if(2&t){const n=e.oxw().$implicit,i=e.oxw(2);e.xp6(4),e.Oqu(n.value.key),e.xp6(2),e.Oqu(n.value.required?"required":"optional"),e.xp6(1),e.Q6J("ngrxFormControlState",n.controls.value)("type",n.value.type)("ngClass",e.VKq(8,Uo,n.isInvalid&&n.isDirty))("inputmode","number"===n.value.type?i.numeric:"*")("pattern","number"===n.value.type?"[0-9]*":"*"),e.xp6(1),e.Q6J("ngIf",n.isInvalid&&n.isDirty)}}function _F(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",106),e._uU(2),e.qZA(),e.BQk()),2&t){const n=r.$implicit;e.xp6(1),e.uIk("data-value",n),e.xp6(1),e.hij(" ",n," ")}}function xF(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function yF(t,r){if(1&t&&(e.TgZ(0,"div",97),e.YNc(1,xF,2,0,"ng-container",23),e.qZA()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==n.errors._value?null:n.errors._value.required)}}function bF(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",100)(2,"div",85)(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"span",86),e._uU(6),e.qZA()(),e.TgZ(7,"div",102),e._UZ(8,"i",103),e.TgZ(9,"div",104),e._uU(10,"Select an option"),e.qZA(),e.TgZ(11,"div",105),e.YNc(12,_F,3,2,"ng-container",18),e.qZA()(),e.YNc(13,yF,2,1,"div",88),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(4),e.Oqu(n.value.key),e.xp6(2),e.Oqu(n.value.required?"required":"optional"),e.xp6(1),e.Q6J("ngrxFormControlState",n.controls.value)("clearable",!n.value.required)("ngClass",e.VKq(7,Uo,n.isInvalid&&n.isDirty)),e.xp6(5),e.Q6J("ngForOf",n.value.dropdownItems),e.xp6(1),e.Q6J("ngIf",n.isInvalid&&n.isDirty)}}function wF(t,r){1&t&&(e.ynx(0),e._uU(1,"This field is required"),e.BQk())}function CF(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(3).$implicit;e.xp6(1),e.hij("Please enter a valid ",n.value.type,"")}}function MF(t,r){if(1&t&&(e.TgZ(0,"div",97),e.YNc(1,wF,2,0,"ng-container",23),e.YNc(2,CF,2,1,"ng-container",23),e.qZA()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==n.errors._value?null:n.errors._value.required),e.xp6(1),e.Q6J("ngIf",null==n.errors._value?null:n.errors._value.pattern)}}function SF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",100)(2,"div",85)(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"span",86),e._uU(6),e.qZA()(),e.TgZ(7,"div",107)(8,"file-upload",108),e.NdJ("fileUploaded",function(a){e.CHM(n);const o=e.oxw().index,c=e.oxw(2);return c.fileUploadHandler(a,o+(c.quiz.cornerstoneLOId?3:2))})("fileRemoved",function(){e.CHM(n);const a=e.oxw().index,o=e.oxw(2);return o.removeFile(a+(o.quiz.cornerstoneLOId?3:2))}),e.O4$(),e.TgZ(9,"svg",37),e._UZ(10,"path",109),e.qZA(),e.kcU(),e.TgZ(11,"div",110),e._uU(12,"Upload File"),e.qZA()()(),e.TgZ(13,"div",111),e._uU(14," All common file types except executables and videos (upto 15 MB) "),e.qZA(),e.YNc(15,MF,3,2,"div",88),e.qZA(),e.BQk()}if(2&t){const n=e.oxw().$implicit,i=e.oxw(2);e.xp6(4),e.Oqu(n.value.key),e.xp6(2),e.Oqu(n.value.required?"required":"optional"),e.xp6(2),e.Q6J("keyToUse",n.value.options.keyToUse)("uploadedKey",n.value.value)("uploadedFileName",n.value.options.fileName),e.xp6(2),e.uIk("stroke",i.isDarkMode?"#F4F4F5":"#4B5563"),e.xp6(5),e.Q6J("ngIf",n.isInvalid&&n.isDirty)}}const NF=function(){return["text","number","email","url"]},AF=function(){return["dropdown"]},TF=function(){return["file"]};function IF(t,r){if(1&t&&(e.TgZ(0,"div",99),e.YNc(1,vF,9,10,"ng-container",23),e.YNc(2,bF,14,9,"ng-container",23),e.YNc(3,SF,16,7,"ng-container",23),e.qZA()),2&t){const n=r.$implicit,i=r.index,a=e.oxw(2);e.Q6J("id","personal-information-input-"+(i+a.quiz.cornerstoneLOId?3:2)),e.xp6(1),e.Q6J("ngIf",e.DdM(4,NF).includes(n.value.type)),e.xp6(1),e.Q6J("ngIf",e.DdM(5,AF).includes(n.value.type)),e.xp6(1),e.Q6J("ngIf",e.DdM(6,TF).includes(n.value.type))}}function EF(t,r){if(1&t&&(e.TgZ(0,"div",112),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.emailVerificationCheckError," ")}}const Bo=function(t){return{loading:t}};function OF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",57),e._UZ(2,"div",58),e.TgZ(3,"div",81)(4,"div",82),e._uU(5),e.qZA(),e.TgZ(6,"div",83)(7,"div",84)(8,"div",85)(9,"label"),e._uU(10,"Full Name"),e.qZA(),e.TgZ(11,"span",86),e._uU(12,"required"),e.qZA()(),e._UZ(13,"input",87),e.YNc(14,sF,2,1,"div",88),e.qZA(),e.TgZ(15,"div",89)(16,"div",85)(17,"label"),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"span",86),e._uU(20,"required"),e.qZA()(),e.TgZ(21,"div",90)(22,"input",91),e.NdJ("input",function(a){return e.CHM(n),e.oxw().handleEmailInputChange(a)}),e.qZA()(),e.YNc(23,lF,3,2,"div",88),e.qZA(),e.YNc(24,mF,8,5,"div",92),e.YNc(25,IF,4,7,"div",93),e.ALo(26,"slice"),e.qZA()(),e.TgZ(27,"div",94)(28,"button",95),e.NdJ("click",function(){return e.CHM(n),e.oxw().submitPersonalInfo()}),e._uU(29," Next "),e.qZA()(),e.YNc(30,EF,2,1,"div",96),e.qZA(),e.TgZ(31,"div",62)(32,"div",63)(33,"div",64),e._uU(34,"To successfully complete this step:"),e.qZA(),e.TgZ(35,"div",65)(36,"div",66)(37,"span"),e.O4$(),e.TgZ(38,"svg",67),e._UZ(39,"path",68),e.qZA()(),e.kcU(),e.TgZ(40,"span"),e._uU(41,"Make sure to fill all the required fields."),e.qZA()(),e.TgZ(42,"div",66)(43,"span"),e.O4$(),e.TgZ(44,"svg",67),e._UZ(45,"path",68),e.qZA()(),e.kcU(),e.TgZ(46,"span"),e._uU(47,"Ensure that all the information provided by you is accurate."),e.qZA()()(),e.TgZ(48,"div",69)(49,"div",70),e._uU(50,"Need help?"),e.qZA(),e.TgZ(51,"p",71),e._uU(52," Check out the below guide to help fix the issues (if any) "),e.qZA(),e.TgZ(53,"div",72)(54,"a",73),e._uU(55,"Guidelines to fill personal information"),e.qZA()(),e.TgZ(56,"div",74)(57,"p",71),e._uU(58," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(59,"a",75),e._uU(60," candidate@wecreateproblems.com"),e.qZA()()()()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(5),e.hij(" ",n.navigation.activeTab.name," "),e.xp6(8),e.Q6J("ngrxFormControlState",n.formData.controls[0].controls.value)("ngClass",e.VKq(16,Uo,n.formData.controls[0].isInvalid&&n.formData.controls[0].isDirty)),e.xp6(1),e.Q6J("ngIf",n.formData.controls[0].isInvalid&&n.formData.controls[0].isDirty),e.xp6(8),e.Q6J("ngrxFormControlState",n.formData.controls[1].controls.value)("ngClass",e.VKq(18,Uo,n.formData.controls[1].isInvalid&&n.formData.controls[1].isDirty)),e.xp6(1),e.Q6J("ngIf",n.formData.controls[1].isInvalid&&n.formData.controls[1].isDirty),e.xp6(1),e.Q6J("ngIf",n.quiz.cornerstoneLOId),e.xp6(1),e.Q6J("ngForOf",e.xi3(26,13,n.formData.controls,n.quiz.cornerstoneLOId?3:2))("ngForTrackBy",n.trackByFn),e.xp6(3),e.Q6J("ngClass",e.VKq(20,Bo,n.cornerstoneAccessBtnState===n.BtnStateEnum.LOADING)),e.xp6(2),e.Q6J("ngIf",n.emailVerificationCheckError),e.xp6(24),e.Q6J("href",n.personalInformationArticle,e.LSH)}}function kF(t,r){1&t&&(e.ynx(0),e._uU(1,"Take a photo of your ID card along with your face to verify yourself."),e.BQk())}function DF(t,r){1&t&&(e.ynx(0),e._uU(1,"Point your face at the camera and make sure you are in a well lit room."),e.BQk())}function qF(t,r){1&t&&(e.TgZ(0,"div",122),e._UZ(1,"div",123)(2,"div",124)(3,"div",125)(4,"div",126),e.qZA())}function PF(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",63)(2,"div",64),e._uU(3,"To successfully complete this step:"),e.qZA(),e.TgZ(4,"div",65)(5,"div",66)(6,"span"),e.O4$(),e.TgZ(7,"svg",67),e._UZ(8,"path",68),e.qZA()(),e.kcU(),e.TgZ(9,"span"),e._uU(10,"Use only a govt. issued photo-ID card."),e.qZA()(),e.TgZ(11,"div",66)(12,"span"),e.O4$(),e.TgZ(13,"svg",67),e._UZ(14,"path",68),e.qZA()(),e.kcU(),e.TgZ(15,"span"),e._uU(16,"Hold the ID card in the centre of the frame so details are clearly legible."),e.qZA()()(),e.TgZ(17,"div",69)(18,"div",70),e._uU(19,"Need help?"),e.qZA(),e.TgZ(20,"p",71),e._uU(21," Check out the below guide to help fix the issues (if any): "),e.qZA(),e.TgZ(22,"div",72)(23,"a",73),e._uU(24,"Guidelines to upload ID Card"),e.qZA()(),e.TgZ(25,"div",74)(26,"p",71),e._uU(27," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(28,"a",75),e._uU(29," candidate@wecreateproblems.com"),e.qZA()()()()(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(23),e.Q6J("href",n.uploadIdCardArticle,e.LSH)}}function ZF(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",63)(2,"div",64),e._uU(3," To successfully complete your photo verification, ensure the following steps: "),e.qZA(),e.TgZ(4,"div",127)(5,"div",66)(6,"span"),e.O4$(),e.TgZ(7,"svg",67),e._UZ(8,"path",68),e.qZA()(),e.kcU(),e.TgZ(9,"span"),e._uU(10,"Have a light source in front of your face"),e.qZA()(),e.TgZ(11,"div",66)(12,"span"),e.O4$(),e.TgZ(13,"svg",67),e._UZ(14,"path",68),e.qZA()(),e.kcU(),e.TgZ(15,"span"),e._uU(16,"Don't have a light source behind you"),e.qZA()(),e.TgZ(17,"div",66)(18,"span"),e.O4$(),e.TgZ(19,"svg",67),e._UZ(20,"path",68),e.qZA()(),e.kcU(),e.TgZ(21,"span"),e._uU(22,"Sit in a place with a plain background"),e.qZA()(),e.TgZ(23,"div",66)(24,"span"),e.O4$(),e.TgZ(25,"svg",67),e._UZ(26,"path",68),e.qZA()(),e.kcU(),e.TgZ(27,"span"),e._uU(28,"Your camera lens is clean"),e.qZA()()(),e.TgZ(29,"div",69)(30,"div",70),e._uU(31,"Need help?"),e.qZA(),e.TgZ(32,"p",71),e._uU(33," Check out the below guide to help fix the issues (if any): "),e.qZA(),e.TgZ(34,"div",72)(35,"a",73),e._uU(36,"Troubleshooting camera issues"),e.qZA(),e.TgZ(37,"a",73),e._uU(38),e.qZA()(),e.TgZ(39,"div",74)(40,"p",71),e._uU(41," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(42,"a",75),e._uU(43," candidate@wecreateproblems.com"),e.qZA()()()()(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(4),e.uIk("data-html",n.getFollowInstructionsTooltip()),e.xp6(31),e.Q6J("href",n.cameraProctoredArticle,e.LSH),e.xp6(2),e.Q6J("href",n.videoProctoredGuidlinesArticle,e.LSH),e.xp6(1),e.hij("Guidelines for a video proctored ",n.data.quizNomenclatureLower,"")}}const Ds=function(t,r){return[t,r]};function LF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",113),e._UZ(2,"div",58),e.TgZ(3,"div",114)(4,"div",115),e._uU(5),e.qZA(),e.TgZ(6,"p",116),e.YNc(7,kF,2,0,"ng-container",23),e.YNc(8,DF,2,0,"ng-container",23),e.qZA(),e.TgZ(9,"div",117)(10,"div",118)(11,"photo",119,120),e.NdJ("onWebcamError",function(a){e.CHM(n);const o=e.oxw();return o.onWebcamError(o.navigation.activeTab.type,a)})("captureImage",function(){e.CHM(n);const a=e.oxw();return a.captureImage(a.navigation.activeTab.type)})("onImageSnapped",function(){e.CHM(n);const a=e.oxw();return a.onImageSnapped(a.navigation.activeTab.type)})("onImageDrawn",function(a){e.CHM(n);const o=e.oxw();return o.onImageDrawn(o.navigation.activeTab.type,a)})("reloadWebcam",function(){e.CHM(n);const a=e.oxw();return a.reloadWebcam(a.navigation.activeTab.type)})("retakePhoto",function(){e.CHM(n);const a=e.oxw();return a.retakePhoto(a.navigation.activeTab.type)})("onNext",function(){e.CHM(n);const a=e.oxw();return a.navigation.activeTab.type===a.WebcamTypeEnum.CANDIDATE_ID?a.submitCandidateId():a.submitPhotoVerification()}),e.qZA(),e.YNc(13,qF,5,0,"div",121),e.qZA()()()(),e.TgZ(14,"div",113),e.YNc(15,PF,30,1,"ng-container",23),e.YNc(16,ZF,44,4,"ng-container",23),e.qZA(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(9,Ds,n.TabTypeEnum.CANDIDATE_ID,n.TabTypeEnum.PHOTO_VERIFICATION).includes(n.navigation.activeTab.type)?"content-left slide-up":"hidden-no-size"),e.xp6(4),e.hij(" ",n.navigation.activeTab.name," "),e.xp6(2),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.CANDIDATE_ID),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.PHOTO_VERIFICATION),e.xp6(3),e.Q6J("photoCompArgs",n.photoCompArgs),e.xp6(2),e.Q6J("ngIf",e.WLB(12,Ds,n.SnapStatusEnum.NOT_TAKEN,n.SnapStatusEnum.COUNTDOWN).includes(null==n.candidateIdWebCamStatus?null:n.candidateIdWebCamStatus.snapStatus)||e.WLB(15,Ds,n.SnapStatusEnum.NOT_TAKEN,n.SnapStatusEnum.COUNTDOWN).includes(null==n.photoVerificationWebcamStatus?null:n.photoVerificationWebcamStatus.snapStatus)),e.xp6(1),e.Q6J("ngClass",e.WLB(18,Ds,n.TabTypeEnum.CANDIDATE_ID,n.TabTypeEnum.PHOTO_VERIFICATION).includes(n.navigation.activeTab.type)?"content-right slide-up":"hidden-no-size"),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.CANDIDATE_ID),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.PHOTO_VERIFICATION)}}function RF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",57),e._UZ(2,"div",58),e.TgZ(3,"div",114)(4,"div",115),e._uU(5),e.qZA(),e.TgZ(6,"p",116),e._uU(7," Point your face at the camera and make sure you are in a well lit room. "),e.qZA(),e.TgZ(8,"div",117)(9,"div",118)(10,"liveness",128),e.NdJ("onNext",function(){return e.CHM(n),e.oxw().submitLivenessCheck()})("saveRecordedVideo",function(a){return e.CHM(n),e.oxw().saveRecordedVideoToS3(a)}),e.qZA()()()()(),e.TgZ(11,"div",62)(12,"div",63)(13,"div",64),e._uU(14," To successfully complete your photo verification, ensure the following steps: "),e.qZA(),e.TgZ(15,"div",127)(16,"div",66)(17,"span"),e.O4$(),e.TgZ(18,"svg",67),e._UZ(19,"path",68),e.qZA()(),e.kcU(),e.TgZ(20,"span"),e._uU(21,"Have a light source in front of your face"),e.qZA()(),e.TgZ(22,"div",66)(23,"span"),e.O4$(),e.TgZ(24,"svg",67),e._UZ(25,"path",68),e.qZA()(),e.kcU(),e.TgZ(26,"span"),e._uU(27,"Don't have a light source behind you"),e.qZA()(),e.TgZ(28,"div",66)(29,"span"),e.O4$(),e.TgZ(30,"svg",67),e._UZ(31,"path",68),e.qZA()(),e.kcU(),e.TgZ(32,"span"),e._uU(33,"Sit in a place with a plain background"),e.qZA()(),e.TgZ(34,"div",66)(35,"span"),e.O4$(),e.TgZ(36,"svg",67),e._UZ(37,"path",68),e.qZA()(),e.kcU(),e.TgZ(38,"span"),e._uU(39,"Your camera lens is clean"),e.qZA()()(),e.TgZ(40,"div",69)(41,"div",70),e._uU(42,"Need help?"),e.qZA(),e.TgZ(43,"p",71),e._uU(44," Check out the below guide to help fix the issues (if any): "),e.qZA(),e.TgZ(45,"div",72)(46,"a",73),e._uU(47,"Troubleshooting camera issues"),e.qZA(),e.TgZ(48,"a",73),e._uU(49),e.qZA()(),e.TgZ(50,"div",74)(51,"p",71),e._uU(52," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(53,"a",75),e._uU(54," candidate@wecreateproblems.com"),e.qZA()()()()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(5),e.hij(" ",n.navigation.activeTab.name," "),e.xp6(5),e.Q6J("quizId",null==n.quiz?null:n.quiz._id),e.xp6(5),e.uIk("data-html",n.getFollowInstructionsTooltip()),e.xp6(31),e.Q6J("href",n.cameraProctoredArticle,e.LSH),e.xp6(2),e.Q6J("href",n.videoProctoredGuidlinesArticle,e.LSH),e.xp6(1),e.hij("Guidelines for a video proctored ",n.data.quizNomenclatureLower,"")}}function UF(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",45),e._UZ(2,"div",144)(3,"div",145),e.TgZ(4,"div",146),e._uU(5),e.qZA()()()),2&t){const n=r.$implicit;e.xp6(3),e.Tol(n.icon),e.xp6(2),e.Oqu(n.name)}}function BF(t,r){if(1&t&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.xp6(1),e.hij(" ",n," ")}}function FF(t,r){if(1&t&&(e.TgZ(0,"div",132)(1,"div",138),e._uU(2,"Languages allowed"),e.qZA(),e.TgZ(3,"div",139),e.YNc(4,BF,2,1,"span",140),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.instructions.languagesAllowed)}}function zF(t,r){if(1&t&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&t){const n=r.$implicit,i=e.oxw(2);e.xp6(1),e.hij(" ",(null==i.QuestionTypeToNameMap[n]?null:i.QuestionTypeToNameMap[n].name)||n," ")}}function HF(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",148)(1,"button",80),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).submitInstructions()}),e._uU(2,"Next"),e.qZA()()}}function QF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",149),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).startTest()}),e._uU(2),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,Bo,n.startTestBtnState===n.BtnStateEnum.LOADING)),e.xp6(1),e.hij(" ",n.data.startButtonText," ")}}const VF=function(){return{name:"Single face visible at all times",icon:"userIcon"}},JF=function(t){return{name:t,icon:"clockIcon"}},WF=function(){return{name:"Stable internet connection",icon:"globeIcon"}},YF=function(t,r,n){return[t,r,n]};function $F(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",57),e._UZ(2,"div",58),e.TgZ(3,"div",114)(4,"div",129)(5,"div",130),e._uU(6,"Things to keep in mind before you get started"),e.qZA()(),e.TgZ(7,"div")(8,"div",45)(9,"div",131),e.YNc(10,UF,6,3,"div",18),e.qZA()()(),e.TgZ(11,"div",132)(12,"div",107)(13,"div",133),e.O4$(),e.TgZ(14,"svg",134),e._UZ(15,"path",135),e.qZA()(),e.kcU(),e.TgZ(16,"div",136),e._uU(17),e.qZA()()(),e.YNc(18,FF,5,1,"div",137),e.TgZ(19,"div",132)(20,"div",138),e._uU(21,"Questions that you can expect:"),e.qZA(),e.TgZ(22,"div",139),e.YNc(23,zF,2,1,"span",140),e.qZA()(),e.TgZ(24,"div",132)(25,"div",138),e._uU(26,"Support Contact / Admin"),e.qZA(),e.TgZ(27,"div",141),e._uU(28," If you experience any difficulty with challenge or platform, you can refer to our knowledge base : "),e.TgZ(29,"a",142),e._uU(30),e.qZA()(),e.TgZ(31,"div",141),e._uU(32," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(33,"a",75),e._uU(34," candidate@wecreateproblems.com"),e.qZA()()(),e.YNc(35,HF,3,0,"div",143),e.YNc(36,QF,3,4,"ng-container",23),e.qZA()(),e.TgZ(37,"div",62)(38,"div",63)(39,"div",64),e._uU(40,"In this step:"),e.qZA(),e.TgZ(41,"div",65)(42,"div",66)(43,"span"),e.O4$(),e.TgZ(44,"svg",67),e._UZ(45,"path",68),e.qZA()(),e.kcU(),e.TgZ(46,"span"),e._uU(47,"Read the instructions carefully."),e.qZA()(),e.TgZ(48,"div",66)(49,"span"),e.O4$(),e.TgZ(50,"svg",67),e._UZ(51,"path",68),e.qZA()(),e.kcU(),e.TgZ(52,"span"),e._uU(53),e.qZA()(),e.TgZ(54,"div",66)(55,"span"),e.O4$(),e.TgZ(56,"svg",67),e._UZ(57,"path",68),e.qZA()(),e.kcU(),e.TgZ(58,"span"),e._uU(59," Remember to raise a ticket by writing to "),e.TgZ(60,"a",75),e._uU(61," candidate@wecreateproblems.com"),e.qZA(),e._uU(62," in case you face any issue during the assessment. "),e.qZA()()(),e.TgZ(63,"div",69)(64,"div",70),e._uU(65,"Need help?"),e.qZA(),e.TgZ(66,"p",71),e._uU(67," Check out the below guide to help fix the issues (if any): "),e.qZA(),e.TgZ(68,"div",72)(69,"a",73),e._uU(70),e.qZA(),e.TgZ(71,"a",73),e._uU(72),e.qZA()(),e.TgZ(73,"div",74)(74,"p",71),e._uU(75," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(76,"a",75),e._uU(77," candidate@wecreateproblems.com"),e.qZA()()()()()(),e.BQk()),2&t){const n=e.oxw();e.xp6(10),e.Q6J("ngForOf",e.kEZ(17,YF,e.DdM(13,VF),e.VKq(14,JF,"Set aside time to complete the "+n.data.quizNomenclatureLower),e.DdM(16,WF))),e.xp6(7),e.hij(" If you accidentally close your browser or tab before completing your ",n.data.quizNomenclatureLower,", please check your browser history to recover your started session. "),e.xp6(1),e.Q6J("ngIf",n.instructions.languagesAllowed.length>0),e.xp6(5),e.Q6J("ngForOf",n.instructions.questionTypes),e.xp6(6),e.Q6J("href",n.helpArticles,e.LSH),e.xp6(1),e.Oqu(n.helpArticles),e.xp6(5),e.Q6J("ngIf",n.navigation.lastTab.type!==n.TabTypeEnum.INSTRUCTIONS),e.xp6(1),e.Q6J("ngIf",n.navigation.lastTab.type===n.TabTypeEnum.INSTRUCTIONS),e.xp6(17),e.hij("Remember the steps to resume the ",n.data.quizNomenclatureLower," if closed accidentally or in the event of a power/device outage."),e.xp6(16),e.Q6J("href",n.resumeTestArticle,e.LSH),e.xp6(1),e.hij("How to resume my ",n.data.quizNomenclatureLower," if closed accidentally"),e.xp6(1),e.Q6J("href",n.wecpSupportLiveTestArticle,e.LSH),e.xp6(1),e.hij("How to seek help from WeCP support during a live >Remember the steps to resume the ",n.data.quizNomenclatureLower,"")}}function jF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",57),e._UZ(2,"div",58),e.TgZ(3,"div",81)(4,"div",150),e._uU(5),e.qZA(),e.TgZ(6,"div",116),e._uU(7," Specific instructions from the company "),e.qZA(),e.TgZ(8,"div",151),e._UZ(9,"app-quill-editor",152),e.qZA(),e.TgZ(10,"button",149),e.NdJ("click",function(){return e.CHM(n),e.oxw().startTest()}),e._uU(11),e.qZA()()(),e.TgZ(12,"div",62)(13,"div",63)(14,"div",64),e._uU(15,"To successfully complete this step:"),e.qZA(),e.TgZ(16,"div",65)(17,"div",66)(18,"span"),e.O4$(),e.TgZ(19,"svg",67),e._UZ(20,"path",68),e.qZA()(),e.kcU(),e.TgZ(21,"span"),e._uU(22,"Read the given instructions carefully!"),e.qZA()(),e.TgZ(23,"div",66)(24,"span"),e.O4$(),e.TgZ(25,"svg",67),e._UZ(26,"path",68),e.qZA()(),e.kcU(),e.TgZ(27,"span"),e._uU(28,"Agree to privacy policy and terms of use by clicking on the checkbox."),e.qZA()()(),e.TgZ(29,"div",69)(30,"div",70),e._uU(31,"Need help?"),e.qZA(),e.TgZ(32,"p",71),e._uU(33," Check out the below guide to help fix the issues (if any): "),e.qZA(),e.TgZ(34,"div",72)(35,"a",73),e._uU(36,"Understanding our privacy policy and terms of use"),e.qZA(),e.TgZ(37,"a",73),e._uU(38,"When to expect results"),e.qZA()(),e.TgZ(39,"div",74)(40,"p",71),e._uU(41," In case your problem still exists, you can raise a support ticket by writing to: "),e.TgZ(42,"a",75),e._uU(43," candidate@wecreateproblems.com"),e.qZA()()()()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(5),e.Oqu(n.navigation.activeTab.name),e.xp6(4),e.Q6J("data",n.instructions.quiz.about)("modules",n.viewOnlyEditorOption)("readOnly",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(8,Bo,n.startTestBtnState===n.BtnStateEnum.LOADING)),e.xp6(1),e.hij(" ",n.data.startButtonText," "),e.xp6(24),e.Q6J("href",n.privacyPolicyArticle,e.LSH),e.xp6(2),e.Q6J("href",n.candidateResultArticle,e.LSH)}}function GF(t,r){1&t&&(e.TgZ(0,"p",164),e._uU(1," Your acknowledgment has been recorded. You may now close this tab manually. "),e.qZA())}function KF(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",153)(2,"div",154),e._uU(3," Test window expired "),e.qZA(),e._UZ(4,"div",155),e.TgZ(5,"div",156)(6,"div",157)(7,"div",158),e._uU(8," The time window to start the test has expired, you can no longer start the test. Contact the test's administrator to request for alternatives. "),e.qZA()(),e.YNc(9,GF,2,0,"p",159),e.qZA(),e._UZ(10,"div",160),e.TgZ(11,"div",161)(12,"button",162),e.NdJ("click",function(){return e.CHM(n),e.oxw().closeTab()}),e.TgZ(13,"span",163),e._uU(14,"Acknowledge and close"),e.qZA()()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("show",n.showWindowTimerEndModal),e.xp6(8),e.Q6J("ngIf",null==n.timerAcknowledgeState?null:n.timerAcknowledgeState.processed),e.xp6(3),e.Q6J("ngClass",e.VKq(4,Bo,null==n.timerAcknowledgeState?null:n.timerAcknowledgeState.loading))("disabled",!(null!=n.timerAcknowledgeState&&n.timerAcknowledgeState.loading)&&(null==n.timerAcknowledgeState?null:n.timerAcknowledgeState.processed))}}function XF(t,r){if(1&t&&(e.TgZ(0,"div",165),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.verificationCodeModal.error," ")}}let ca=class{constructor(r,n,i,a,o,c,d){this._store=r,this._testPortalService=n,this._testManagementService=i,this._router=a,this._screenShareService=o,this._activatedRoute=c,this.el=d,this.ApiStateEnum=he.V,this.PageEnum=ta,this.TabTypeEnum=yt,this.TabStateEnum=ir,this.SystemCheckStateEnum=ur,this.SystemCheckTypeEnum=cn,this.BtnStateEnum=he.J,this.SnapStatusEnum=Ht,this.WebcamTypeEnum=_n,this.QuestionTypeToNameMap=te.GQ,this.WINDOW_TIMER_END_WARNING=9e5,this.startTestBtnState=he.J.DISABLED,this.trackByFn=Qh,this.isCandidateIdRequired=!1,this.isScreenRecordingOn=!1,this.isScreenRecordingWithoutAudioOn=!1,this.isDisableMultiScreenOn=!1,this.viewOnlyEditorOption={toolbar:!1,clipboard:{matchVisual:!1}},this.isCopyPasteEnabled=!1,this.clipBoardAccessArticle=Dn.z.clipboard_access_for_test,this.cameraProctoredArticle=Dn.z.camera_for_video_proctored_test,this.microphonePermissionArticle=Dn.z.microphone_permission_for_test,this.browserArticle=Dn.z.browser_for_test_or_interview,this.firewallArticle=Dn.z.troubleshoot_network_firewall,this.personalInformationArticle=Dn.z.fill_personal_information,this.uploadIdCardArticle=Dn.z.upload_id_card,this.videoProctoredGuidlinesArticle=Dn.z.guidelines_video_proctored_assessment,this.resumeTestArticle=Dn.z.resume_test,this.wecpSupportLiveTestArticle=Dn.z.wecp_support_during_live_test,this.privacyPolicyArticle=Dn.z.privacy_policy_and_terms_of_use,this.candidateResultArticle=Dn.z.my_test_results,this.screenSharePermission=Dn.z.grant_screen_share_access_for_test,this.createSupportTicketLink=Dn.z.create_ticket,this.helpArticles=Dn.z.all_articles,this.showWindowTimerEndModal=!1,this.emailVerificationCheckError="",this.sendCodeBtnState=he.J.DISABLED,this.verifyCodeBtnState=he.J.DISABLED,this.cornerstoneAccessBtnState=he.J.DISABLED,this.isEmailVerified=!0,this.registeredInCornerstone=!1,r.select(ki).pipe((0,Te.t)(this)).subscribe(s=>{this.username=s}),r.select(aa).pipe((0,Te.t)(this)).subscribe(s=>{this.instructions=s}),r.select(Hr).pipe((0,Te.t)(this)).subscribe(s=>{this.quiz=s}),r.select(ks).pipe((0,Te.t)(this)).subscribe(s=>{this.navigation=s}),r.select(qU).pipe((0,Te.t)(this)).subscribe(s=>{this.tabStateMap=s}),r.select(du).pipe((0,Te.t)(this)).subscribe(s=>{this.systemChecks=s,this.systemChecks?.computed?.state===ur.COMPLETED&&this.systemChecks?.computed?.error&&(0,kn.dS)("[Candidate Instructions] System checks failed",{error:this.systemChecks?.computed?.activeCheck?.error})}),r.select(F1).pipe((0,Te.t)(this)).subscribe(s=>{this.systemCheckConfig=s}),r.select(EU).pipe((0,Te.t)(this)).subscribe(s=>{this.blockMobile=s}),r.select(OU).pipe((0,Te.t)(this)).subscribe(s=>{this.blockNonChromeBrowsers=s}),r.select(SU).pipe((0,Te.t)(this)).subscribe(s=>{this.isCandidateIdRequired=s}),r.select(z1).pipe((0,Te.t)(this)).subscribe(s=>{this.isQuizVideoProctored=s}),r.select(MU).pipe((0,Te.t)(this)).subscribe(s=>{this.isCopyPasteEnabled=s}),r.select(NU).pipe((0,Te.t)(this)).subscribe(s=>{this.isScreenRecordingOn=s}),r.select(AU).pipe((0,Te.t)(this)).subscribe(s=>{this.isScreenRecordingWithoutAudioOn=s}),r.select(TU).pipe((0,Te.t)(this)).subscribe(s=>{this.isDisableMultiScreenOn=s}),r.select(IU).pipe((0,Te.t)(this)).subscribe(s=>{this.isCustomerInstructionSet=s}),r.select(H1).pipe((0,Te.t)(this)).subscribe(s=>{this.formData=s}),r.select(B1).pipe((0,Te.t)(this)).subscribe(s=>{this.data=s}),r.select(pu).pipe((0,Te.t)(this)).subscribe(s=>{this.candidateIdWebCamStatus=s}),r.select(Q1).pipe((0,Te.t)(this)).subscribe(s=>{this.candidateIdImageDetails=s}),r.select(mu).pipe((0,Te.t)(this)).subscribe(s=>{this.photoVerificationWebcamStatus=s,this.photoVerificationWebcamStatus?.apiError&&(0,kn.dS)("[Candidate Instructions] Photo verification failed",{error:this.photoVerificationWebcamStatus.apiError})}),r.select(V1).pipe((0,Te.t)(this)).subscribe(s=>{this.photoVerificationDetails=s}),r.select(kU).pipe((0,Te.t)(this)).subscribe(s=>{this.isPhotoComponentLoaded=s}),r.select(DU).pipe((0,Te.t)(this)).subscribe(s=>{this.photoCompArgs=s}),r.select(U1).pipe((0,Te.t)(this)).subscribe(s=>{this.password=s}),r.select(xU).pipe((0,Te.t)(this)).subscribe(s=>{this.showWindowTimerWarning=s,this.initiateQuizWindowCountdown()}),this._store.dispatch(Gh()),this.initTab(),this.triggerWindowTimerEndInterval=setInterval(()=>{if(this.quiz.enableTime){const s=new Date(this.quiz.endTime).getTime()-Date.now();s<=this.WINDOW_TIMER_END_WARNING&&s>=0&&this._store.dispatch(Gc())}else clearInterval(this.triggerWindowTimerEndInterval)},1e3)}ngOnInit(){if(window.electronAPI&&window.electronAPI.appId){if(window.electronAPI.appId!==z.N.sherlockAppId)return void alert("Unauthorized application detected. Please use the official application.");Yu.Mc({isScreenRecordingWithoutAudioOn:!1}).then(r=>{r&&!r.error?.code?this._screenShareService.setScreenShareStream(r.stream):console.error("Screen sharing check failed")}).then(()=>{console.log("System checks submitted successfully.")}).catch(r=>{console.error("An error occurred:",r.message)})}navigator.mediaDevices.addEventListener("devicechange",()=>{this._screenShareService.deviceChangeHandler()}),this.resetModal()}ngAfterViewInit(){this.el.nativeElement.style.setProperty("--header-height",this.data.testLogo?"154px":"143px")}resetModal(){this.verificationCodeModal={show:!1,verificationCode:"",error:""}}gotoNextTab(){$(".content-top")[0]?.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"}),(0,kn.dS)(`[Candidate Instructions] Move to next tab from ${this.navigation.activeTab.name}`,{quizId:this.quiz._id,currentTab:this.navigation.activeTab.name,nextTab:this.navigation.tabs[this.navigation.activeTabIndex+1].name}),this._store.dispatch(Kh()),this.navigation.activeTab.visited||this.initTab()}gotoTab(r){this._store.dispatch(Xh({tabType:r}))}initTab(){var r=this;return(0,Le.Z)(function*(){switch(r.navigation.activeTab.type){case yt.SYSTEM_CHECK:yield r.initiateSystemChecks();break;case yt.PERSONAL_INFO:r.initPersonalInformation();break;case yt.CANDIDATE_ID:r.initCandidateId();break;case yt.PHOTO_VERIFICATION:r.initPhotoVerification()}})()}runSystemChecksAgain(){(0,kn.dS)("[Candidate Instructions] Rerun System checks",{error:this.systemChecks?.computed?.activeCheck?.error}),this.initiateSystemChecks()}submitSystemChecks(){this.gotoNextTab()}initiateSystemChecks(){var r=this;return(0,Le.Z)(function*(){r.systemChecks&&r.systemChecks?.computed.state===ur.COMPLETED&&!r.systemChecks.computed?.error?r.gotoNextTab():(r._store.dispatch(jc()),yield r.runSystemCheck())})()}runSystemCheck(){var r=this;return(0,Le.Z)(function*(){r._store.dispatch(jc())})()}onSystemChecksUpdateHandler(r){this._store.dispatch(Kc({systemChecks:r}))}initPersonalInformation(){this._store.dispatch(t1())}submitPersonalInfo(){if(this._store.dispatch(n1()),this.formData.isInvalid){let r=Object.keys(this.formData.errors)[0].substring(1);$(`#personal-information-input-${r}`)[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}else{const r=this.instructions.integrations?.find(n=>"cornerstone"===n.system);if(this.quiz.cornerstoneLOId&&r&&"active"===r.status&&this.isQuizPublic())return void this.hasRegisteredInCornerstone();if(this.isQuizPublic()&&!this.isEmailVerified)return void(this.emailVerificationCheckError="Please verify email");this.gotoNextTab()}}hasRegisteredInCornerstone(){if(!this.isEmailVerified)return void(this.emailVerificationCheckError="Please verify email");if(this.emailVerificationCheckError)return;this.cornerstoneAccessBtnState=he.J.LOADING;const n=this.formData.value.map(i=>i.formelementId?{key:i.key,value:i.value,formelementId:i.formelementId}:{key:i.key,value:i.value})?.find(i=>"CornerstoneUsername"===i?.key)?.value;this._testManagementService.hasRegisteredInCornerstone("test",{cornerstoneUsername:n,cornerstoneLOId:this.quiz.cornerstoneLOId},(i,a)=>{i?(this.emailVerificationCheckError=i,this.registeredInCornerstone=!1,this.cornerstoneAccessBtnState=he.J.ERROR):this.gotoNextTab()})}fileUploadHandler(r,n){this._store.dispatch(Xc({fileKey:r.fileKey,fileName:r.fileName,control_index:n}))}removeFile(r){this._store.dispatch(Xc({fileKey:"",fileName:"",control_index:r}))}onWebcamError(r,n){let i;i="NotAllowedError"===n.mediaStreamError?.name?{code:"no_webcam_access",msg:"Access to webcam denied"}:{msg:n.message},r===_n.CANDIDATE_ID?this._store.dispatch(i1({error:i})):r===_n.PHOTO_VERIFICATION&&this._store.dispatch(m1({error:i}))}captureImage(r){r===_n.CANDIDATE_ID?this._store.dispatch(a1()):r===_n.PHOTO_VERIFICATION&&this._store.dispatch(f1())}onImageSnapped(r){r===_n.CANDIDATE_ID?(this._store.dispatch(o1()),this.candidateIdUploaded=!0):r===_n.PHOTO_VERIFICATION&&this._store.dispatch(g1())}onImageDrawn(r,n){r===_n.CANDIDATE_ID?this.uploadCandidateId(n.image):r===_n.PHOTO_VERIFICATION&&this.analyzeImage(n)}reloadWebcam(r){r===_n.CANDIDATE_ID?this._store.dispatch(l1()):r===_n.PHOTO_VERIFICATION&&this._store.dispatch(_1())}retakePhoto(r){r===_n.CANDIDATE_ID?(this._store.dispatch(d1()),this.candidateIdUploaded=!1):r===_n.PHOTO_VERIFICATION&&(this.hidePhotoVerificationStepsTooltip(),this._store.dispatch(x1()))}initCandidateId(){this._store.dispatch(r1())}submitCandidateId(){this.gotoNextTab()}uploadCandidateId(r){this._store.dispatch(s1());const n={submissionType:"bucket:tests",testId:this.quiz._id,hash:"/candidateId",contentType:r._mimeType};this.instructions.quiz.authentication||(n.user=this.formData.value[1].value),this._testPortalService.generateCustomWriteSignature(n,(i,a)=>{if(i)this._store.dispatch(c1({error:{errorCode:"server_error",errorMessage:i}}));else{const o=this.dataURItoBlob(r._imageAsDataUrl),c=new XMLHttpRequest;c.open("PUT",a.url,!0),c.setRequestHeader("Content-Type",r._mimeType),c.send(o),c.onreadystatechange=d=>{4===c.readyState&&this._store.dispatch(u1({key:a.key,imageAsDataUrl:r._imageAsDataUrl}))}}})}dataURItoBlob(r){const n=atob(r.split(",")[1]),i=r.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(n.length);for(var o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return new Blob([a],{type:i})}submitPhotoVerification(){this.gotoNextTab()}initPhotoVerification(){this._store.dispatch(p1())}analyzeImage(r){this._store.dispatch(h1());const n={submissionType:"bucket:tests",testId:this.quiz._id,hash:"/baseImage",contentType:r.image._mimeType};this.instructions.quiz.authentication||(n.user=this.formData.value[1].value),this._testPortalService.generateCustomWriteSignature(n,(i,a)=>{if(i)this._store.dispatch(eu({error:{errorCode:"server_error",errorMessage:"Unable to upload image"}}));else{const o=this.dataURItoBlob(r.image._imageAsDataUrl),c=new XMLHttpRequest;c.open("PUT",a.url,!0),c.setRequestHeader("Content-Type",r.image._mimeType),c.send(o),c.onreadystatechange=()=>{4===c.readyState&&(200===c.status?this.imageAnalysisHandler(a.key,r):this._store.dispatch(eu({error:{errorCode:"server_error",errorMessage:"Unable to upload image"}})))}}})}imageAnalysisHandler(r,n){this._store.dispatch(v1({key:r,imageAsDataUrl:n.image.imageAsDataUrl})),this.instructions.quiz.proctoring.skipBaseImageAnalysis?this._store.dispatch(Es({})):this.faceApiBaseImage(r,n)}faceApiBaseImage(r,n){this._testPortalService.faceApiBaseImage(r,n.width,n.height,(i,a)=>{i?this.rekognitionApi(r,n.image):!a||a.errorMessage?this._store.dispatch(Qa({error:{errorCode:"server_error",errorMessage:"Some error occurred while analyzing the image"}})):a.violation?this.instructions.quiz.proctoring.useBaseImageFallback?this.rekognitionApi(r,n.image):(this._store.dispatch(Qa({error:{errorCode:"server_error",errorMessage:a.message}})),this.showPhotoVerificationStepsTooltip()):this._store.dispatch(Es({faceApiBoxArgs:a}))})}rekognitionApi(r,n){this._testPortalService.getFaceAnalysis({key:r},(i,a)=>{i?this._store.dispatch(Qa({error:{errorCode:"server_error",errorMessage:"Some error occurred while analyzing the image"}})):1===a.FaceDetails.length?this._store.dispatch(Es({rekognitionBoxArgs:a})):(this._store.dispatch(Qa(0===a.FaceDetails.length?{error:{errorCode:"server_error",errorMessage:"No Face Detected"}}:{error:{errorCode:"server_error",errorMessage:"More than 1 Face Detected"}})),this.showPhotoVerificationStepsTooltip())})}getFollowInstructionsTooltip(){return'\n\t\t<div\n\t\t\tstyle="margin-left: -14px; margin-right: -14px; margin-top: -12px; margin-bottom: -12px"\n\t\t\tclass="grid row-gap-4 padding-vertical-12 padding-horizontal-16  bg-gray-50"\n\t\t>\n\t\t\t<div class="text-font-inter text-sm text-gray-900 font-weight-500">\n\t\t\t\tFollow these steps to click a better picture\n\t\t\t</div>\n\t\t</div>\n\t\t\t'}showPhotoVerificationStepsTooltip(){$("#photo-verification-steps").popup("show"),setTimeout(()=>{$("#photo-verification-steps").popup("hide")},4e3)}hidePhotoVerificationStepsTooltip(){$("#photo-verification-steps").popup("hide")}submitLivenessCheck(){this.gotoNextTab()}saveRecordedVideoToS3({recordedBlobs:r,key:n,identifier:i,data:a}){if(!r.length)return;const o=new File(r,ee.P.getRandomString(15),{type:"video/webm"}),d=new Date,p={submissionType:"bucket:liveness-check",id:new Date(d.getTime()-6e4*d.getTimezoneOffset()).toISOString().split("T")[0],hash:`/${n}`,contentType:o.type,user:i,metadata:{data:JSON.stringify(a)}};this._testPortalService.generateCustomWriteSignature(p,(l,u)=>{l?console.error(JSON.stringify(l)):((l,u)=>{const m=u.url,g=new XMLHttpRequest;g.open("PUT",m,!0),g.setRequestHeader("Content-Type",l.type),g.setRequestHeader("x-amz-meta-data",JSON.stringify(a)),g.send(l),g.onreadystatechange=()=>{4===g.readyState&&(200===g.status?console.log("Video uploaded successfuly"):g.status||console.error("Unable to upload liveness check video"))}})(o,u)})}submitInstructions(){this.gotoNextTab()}startTest(){const r=this.formData.value.map(a=>a.formelementId?{key:a.key,value:a.value,formelementId:a.formelementId}:{key:a.key,value:a.value});this.isCandidateIdRequired&&r.push({key:"Candidate Id",value:this.candidateIdImageDetails.key});const n=ee.P.getRandomString(32);ee.P.setToSessionStorage("sessionId",n);const i={_id:this.instructions.invite?._id||this.quiz._id,...this.photoVerificationDetails?.key&&{imageUrl:this.photoVerificationDetails.key},formdata:r,sessionId:n,...this.quiz.needsAccessKey&&{accessKey:this.password}};this.startTestBtnState=he.J.LOADING,this._testPortalService.createTest(i,(a,o)=>{if(a){let c;if(this.startTestBtnState=he.J.ERROR,"login_window_expired"===a.errorMessage){const d=this.data.testWindowTimeAbsolute.endTime;c=d?`The test had to be started before ${new Date(d).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}. Please contact the administrator for the next steps.`:"The login window for the test has expired. Please contact the administrator for the next steps.",(0,kn.dS)("[Candidate Instructions] Start Test Fail",{quizId:this.quiz._id,reason:"login_window_expired"})}else c=a.errorMessage?a.errorMessage:"Something went wrong. Please check your internet connection and try again";(0,kn.dS)("[Candidate Instructions] Start Test Fail",{quizId:this.quiz._id,reason:a?.errorMessage||"unknown_reason"}),alert(c),"The credit limit of the org is exhausted"===c&&window?.electronAPI?.closeTestWindow()}else{const c=i?.formdata?.find(d=>"Email"===d?.key)?.value;(0,kn.dS)("[Candidate Instructions] Start Test Success",{quizId:this.quiz._id,...c?{email:c}:{}}),localStorage.removeItem(`${this.username}${o.quizId}counts`),this._router.navigateByUrl("tests/"+o._id)}})}preventNonNumericalInput(r,n){"number"===r&&(n=n||window.event,String.fromCharCode(typeof n.which>"u"?n.keyCode:n.which).match(/^[0-9]+$/)||n.preventDefault())}initiateQuizWindowCountdown(){if(clearInterval(this.triggerWindowTimerEndInterval),this.showWindowTimerWarning){const r=new Date(this.quiz.endTime);this.quizWindowTimeString=this.formatTime(r.getTime()-(new Date).getTime()),this.quizWindowCountdownInterval=setInterval(()=>{const n=(new Date).getTime(),i=r.getTime()-n;i<=0?(this._store.dispatch(Gc()),clearInterval(this.quizWindowCountdownInterval),this.quizWindowTimeString="00 : 00 : 00",this.showWindowTimerEndModal=!0,(0,kn.dS)("[Instructions Form] Test window end timer",{action:"Time window to enter the test expired",currentTab:this.navigation.activeTab.type,quizOrInviteId:this._activatedRoute.snapshot.params.quizOrInviteId||""})):i<=this.WINDOW_TIMER_END_WARNING&&(this.quizWindowTimeString=this.formatTime(i))},1e3)}}formatTime(r){const n=Math.floor(r/6e4),i=Math.floor(r%6e4/1e3);return`00 : ${(n<10&&n>=0?"0":"")+n} : ${(i<10&&i>=0?"0":"")+i} `}ngOnDestroy(){clearInterval(this.triggerWindowTimerEndInterval),clearInterval(this.quizWindowCountdownInterval)}closeTab(){window.open("","_self").close(),this.timerAcknowledgeState={loading:!0,processed:!1},setTimeout(()=>{this.timerAcknowledgeState={loading:!1,processed:!0}},3e3)}isQuizPublic(){return!this.formData?.controls[1].isDisabled&&this._activatedRoute.snapshot.params.quizOrInviteId===this.quiz._id}sendEmailVerificationOTP(){const r=this.formData.controls[1].controls.value.value?.toLowerCase();!r||0==r.length||this.formData.controls[1].errors._value||(this.sendCodeBtnState=he.J.LOADING,this._testManagementService.initiateEmailVerification(this.quiz._id,{email:r,quizId:this.quiz._id},(n,i)=>{n?this.sendCodeBtnState=he.J.ERROR:(this.verificationCodeModal.show=!0,this.sendCodeBtnState=he.J.NORMAL)}))}confirmVerificationCode(){this.verifyCodeBtnState=he.J.LOADING;const r=this.formData.controls[1].controls.value.value?.toLowerCase();this._testManagementService.verifyEmailVerificationCode(this.quiz._id,{email:r,otp:this.verificationCodeModal.verificationCode,quizId:this.quiz._id},(n,i)=>{n?(this.verifyCodeBtnState=he.J.ERROR,this.verificationCodeModal.error=n):(this.isEmailVerified=!0,this.resetModal(),this.emailVerificationCheckError="")})}handleEmailInputChange(){this.emailVerificationCheckError=""}};function ez(t,r){1&t&&e._UZ(0,"candidate-instructions-landing")}function tz(t,r){1&t&&e._UZ(0,"candidate-instructions-form")}ca.\u0275fac=function(r){return new(r||ca)(e.Y36(J.yh),e.Y36(ct.X),e.Y36(Eh.v),e.Y36(gt.F0),e.Y36(zo.d),e.Y36(gt.gz),e.Y36(e.SBq))},ca.\u0275cmp=e.Xpm({type:ca,selectors:[["candidate-instructions-form"]],decls:51,vars:22,consts:[[1,"width-100vw","height-100vh","absolute-scroll"],[1,"width-100","height-100","layout","flex","flex-col"],[1,"header"],[1,"padding-horizontal-24","padding-top-24","padding-bottom-8","flex","items-center","client-logo-box"],[3,"src","ngClass"],["class","flex margin-horizontal-auto",4,"ngIf"],[1,"padding-vertical-8","padding-horizontal-24","text-lg","font-weight-500","break-word","quiz-name","overflow-ellipses"],[1,"padding-horizontal-24","padding-vertical-8","quiz-summary","flex","col-gap-28","text-gray-500","font-weight-500"],[1,"ui","clock","outline","icon"],[1,"text-sm","margin-left-8"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.21967 1.21967C1.07902 1.36032 1 1.55109 1 1.75V3.25C1 3.44891 1.07902 3.63968 1.21967 3.78033C1.36032 3.92098 1.55109 4 1.75 4H12.25C12.4489 4 12.6397 3.92098 12.7803 3.78033C12.921 3.63968 13 3.44891 13 3.25V1.75C13 1.55109 12.921 1.36032 12.7803 1.21967C12.6397 1.07902 12.4489 1 12.25 1H1.75C1.55109 1 1.36032 1.07902 1.21967 1.21967Z","stroke","#71717A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M1.21967 7.21967C1.07902 7.36032 1 7.55109 1 7.75V12.25C1 12.4489 1.07902 12.6397 1.21967 12.7803C1.36032 12.921 1.55109 13 1.75 13H6.25C6.44891 13 6.63968 12.921 6.78033 12.7803C6.92098 12.6397 7 12.4489 7 12.25V7.75C7 7.55109 6.92098 7.36032 6.78033 7.21967C6.63968 7.07902 6.44891 7 6.25 7H1.75C1.55109 7 1.36032 7.07902 1.21967 7.21967Z","stroke","#71717A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M10.2197 7.21967C10.079 7.36032 10 7.55109 10 7.75V12.25C10 12.4489 10.079 12.6397 10.2197 12.7803C10.3603 12.921 10.5511 13 10.75 13H12.25C12.4489 13 12.6397 12.921 12.7803 12.7803C12.921 12.6397 13 12.4489 13 12.25V7.75C13 7.55109 12.921 7.36032 12.7803 7.21967C12.6397 7.07902 12.4489 7 12.25 7H10.75C10.5511 7 10.3603 7.07902 10.2197 7.21967Z","stroke","#71717A","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"body"],[1,"nav","height-100"],[1,"text-sm","padding-horizontal-24","margin-bottom-12","text-gray-500"],[1,"flex","flex-col","padding-horizontal-16"],[4,"ngFor","ngForOf"],[1,"padding-vertical-16","padding-horizontal-24","flex","items-center"],[1,"text-sm","text-gray-700","margin-right-8"],["src","https://wecp-logos-and-banners.s3.ap-south-1.amazonaws.com/wecp-new-logo.svg",1,"footer-branding-logo"],[1,"content","height-100"],[4,"ngIf"],["id","verificationCodeModal","modal-new","",1,"ui","tiny","modal","text-font-inter",3,"autofocus","show"],[1,"padding-vertical-32","padding-horizontal-48","common-border-bottom","tw-text-center"],["id","otp",1,"custom-input"],[1,"text-weight-600","mb-1","text-lg"],[1,"margin-vertical-16"],["autofocus","","type","text","maxlength","6","oninput","this.value = this.value.replace(/[^0-9]/g, '')","autocomplete","one-time-code","placeholder","******",1,"width-100","padding-vertical-8","shadow-mds","text-center","!tw-text-lg","!tw-text-black","!tw-font-semibold","tracking-widest","border-1","border-gray-300","rounded-4","margin-top-8","margin-bottom-12",3,"ngModel","ngModelChange"],["class","text-red-600 text-xs",4,"ngIf"],[1,"button","blue-button","text-white","width-100","padding-vertical-12",3,"disabled","ngClass","click"],[1,"flex","margin-horizontal-auto"],[1,"flex","padding-vertical-16","padding-horizontal-12","bg-red-50","rounded-8","gap-24","border-red-300","border-1","slide-down",2,"height","52px"],[1,"text-red-600","font-weight-400"],[2,"width","105px"],[1,"flex","gap-4","items-center"],["width","17","height","16","viewBox","0 0 17 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.5 1.5C5.5 1.22386 5.72386 1 6 1H10C10.2761 1 10.5 1.22386 10.5 1.5C10.5 1.77614 10.2761 2 10 2H6C5.72386 2 5.5 1.77614 5.5 1.5ZM8 5C7.72386 5 7.5 5.22386 7.5 5.5V9.5C7.5 9.77614 7.72386 10 8 10C8.27614 10 8.5 9.77614 8.5 9.5V5.5C8.5 5.22386 8.27614 5 8 5ZM14 9C14 12.3137 11.3137 15 8 15C4.68629 15 2 12.3137 2 9C2 5.68629 4.68629 3 8 3C11.3137 3 14 5.68629 14 9ZM13 9C13 6.23858 10.7614 4 8 4C5.23858 4 3 6.23858 3 9C3 11.7614 5.23858 14 8 14C10.7614 14 13 11.7614 13 9ZM12.9532 2.64188C12.7579 2.44662 12.4413 2.44662 12.2461 2.64188C12.0508 2.83715 12.0508 3.15373 12.2461 3.34899L13.649 4.75189C13.8442 4.94715 14.1608 4.94715 14.3561 4.75189C14.5513 4.55663 14.5513 4.24005 14.3561 4.04478L12.9532 2.64188Z","fill","#DC2626"],[1,"text-red-500"],["class","flex items-center padding-8 cursor-pointer completed-section",3,"ngClass","click",4,"ngIf"],["class","flex items-center padding-8 ongoing-section",4,"ngIf"],["class","flex items-center padding-8 pending-section",4,"ngIf"],["class","failed-section flex items-center padding-8",4,"ngIf"],[1,"flex","items-center","padding-8","cursor-pointer","completed-section",3,"ngClass","click"],[1,"flex","items-center"],["width","20","viewBox","0 0 20 20","fill","currentColor","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.0004 19.6004C12.5465 19.6004 14.9883 18.589 16.7886 16.7886C18.589 14.9883 19.6004 12.5465 19.6004 10.0004C19.6004 7.45431 18.589 5.01251 16.7886 3.21217C14.9883 1.41182 12.5465 0.400391 10.0004 0.400391C7.45431 0.400391 5.01251 1.41182 3.21217 3.21217C1.41182 5.01251 0.400391 7.45431 0.400391 10.0004C0.400391 12.5465 1.41182 14.9883 3.21217 16.7886C5.01251 18.589 7.45431 19.6004 10.0004 19.6004ZM14.4488 8.44879C14.6674 8.22247 14.7883 7.91935 14.7856 7.60471C14.7829 7.29007 14.6567 6.9891 14.4342 6.76661C14.2117 6.54412 13.9107 6.41792 13.5961 6.41518C13.2814 6.41245 12.9783 6.5334 12.752 6.75199L8.80039 10.7036L7.24879 9.15199C7.02247 8.9334 6.71934 8.81245 6.40471 8.81518C6.09007 8.81792 5.7891 8.94412 5.56661 9.16661C5.34412 9.3891 5.21792 9.69007 5.21518 10.0047C5.21245 10.3193 5.3334 10.6225 5.55199 10.8488L7.95199 13.2488C8.17702 13.4738 8.48219 13.6001 8.80039 13.6001C9.11859 13.6001 9.42376 13.4738 9.64879 13.2488L14.4488 8.44879Z"],[1,"text-sm","font-weight-500","margin-left-8","overflow-ellipses"],[1,"flex","items-center","padding-8","ongoing-section"],["width","20","viewBox","0 0 24 24","fill","none","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","items-center","padding-8","pending-section"],["width","20","fill","none","viewBox","0 0 24 24","stroke","currentColor"],[1,"failed-section","flex","items-center","padding-8"],["width","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-red-700"],["d","M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 11.1819 18.7672 12.3522 18.3149 13.4442C17.8626 14.5361 17.1997 15.5282 16.364 16.364C15.5282 17.1997 14.5361 17.8626 13.4442 18.3149C12.3522 18.7672 11.1819 19 10 19C8.8181 19 7.64778 18.7672 6.55585 18.3149C5.46392 17.8626 4.47177 17.1997 3.63604 16.364C2.80031 15.5282 2.13738 14.5361 1.68508 13.4442C1.23279 12.3522 1 11.1819 1 10C1 7.61305 1.94821 5.32387 3.63604 3.63604C5.32387 1.94821 7.61305 1 10 1C12.3869 1 14.6761 1.94821 16.364 3.63604C18.0518 5.32387 19 7.61305 19 10Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"content-left","slide-up"],[1,"content-top"],[1,"padding-horizontal-12"],[3,"config","systemChecks","onSystemChecksUpdate"],["class","padding-vertical-32 flex col-gap-8 row-gap-12",4,"ngIf"],[1,"content-right","slide-up"],[1,"width-100","padding-horizontal-16"],[1,"text-sm","text-gray-600","font-weight-500"],[1,"margin-top-8","grid","gap-4","margin-left-24"],[1,"flex","text-gray-600","text-sm","items-center"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"margin-right-8","margin-top-4",2,"width","20px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"margin-top-32"],[1,"text-gray-800","font-weight-500","text-sm"],[1,"text-gray-600","text-sm","margin-bottom-4"],[1,"grid",2,"row-gap","2px"],["target","_blank",1,"text-sm",3,"href"],[1,"padding-vertical-16"],["href","mailto:candidate@wecreateproblems.com","target","_blank"],[1,"padding-vertical-32","flex","col-gap-8","row-gap-12"],["class","button",3,"ngClass","click",4,"ngIf"],["class","button blue-button",3,"click",4,"ngIf"],[1,"button",3,"ngClass","click"],[1,"button","blue-button",3,"click"],[1,"padding-horizontal-16","padding-bottom-24"],[1,"text-gray-700","font-weight-500","text-sm","border-bottom-gray-100","padding-bottom-8"],[1,"margin-top-16","grid","row-gap-20"],["id","personal-information-input-0",1,"custom-input"],[1,"label"],[1,"required"],["type","text","placeholder","Enter your full name",3,"ngrxFormControlState","ngClass"],["class","error-msg",4,"ngIf"],["id","personal-information-input-1",1,"custom-input"],[1,"flex","gap-4"],["type","email","placeholder","someone@example.com",3,"ngrxFormControlState","ngClass","input"],["id","personal-information-input-0","class","custom-input",4,"ngIf"],[3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"padding-horizontal-24","padding-vertical-8"],[1,"button","blue-button",3,"ngClass","click"],["class","padding-horizontal-24 padding-bottom-16 text-red-700 text-xs",4,"ngIf"],[1,"error-msg"],["type","text","placeholder","Enter your cornerstone username",3,"ngrxFormControlState","ngClass"],[3,"id"],[1,"custom-input"],[3,"ngrxFormControlState","type","ngClass","inputmode","pattern","keypress"],["dropdown-new","",1,"ui","selection","dropdown",3,"ngrxFormControlState","clearable","ngClass"],[1,"dropdown","icon"],[1,"default","text"],[1,"menu"],[1,"item"],[1,"flex"],[3,"keyToUse","uploadedKey","uploadedFileName","fileUploaded","fileRemoved"],["d","M3.16699 10.6665V11.3332C3.16699 11.8636 3.37771 12.3723 3.75278 12.7474C4.12785 13.1225 4.63656 13.3332 5.16699 13.3332H11.8337C12.3641 13.3332 12.8728 13.1225 13.2479 12.7474C13.6229 12.3723 13.8337 11.8636 13.8337 11.3332V10.6665M11.167 5.33317L8.50033 2.6665M8.50033 2.6665L5.83366 5.33317M8.50033 2.6665V10.6665","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"margin-left-8"],[1,"padding-top-4","text-gray-400","text-sm","font-weight-500"],[1,"padding-horizontal-24","padding-bottom-16","text-red-700","text-xs"],[3,"ngClass"],[1,"padding-horizontal-16","padding-bottom-16"],[1,"text-gray-700","text-sm","font-weight-500"],[1,"text-sm","text-gray-600","border-bottom-gray-100","padding-top-4","padding-bottom-8"],[1,"margin-top-24"],[1,"flex","items-center","justify-center","position-relative"],[3,"photoCompArgs","onWebcamError","captureImage","onImageSnapped","onImageDrawn","reloadWebcam","retakePhoto","onNext"],["photoComponent",""],["id","photo-overlay","class","box flex",4,"ngIf"],["id","photo-overlay",1,"box","flex"],[1,"top","left"],[1,"top","right"],[1,"bottom","left"],[1,"bottom","right"],["id","photo-verification-steps","popup-no-target","","on","manual","data-position","left center",1,"margin-top-8","grid","gap-4","margin-left-24"],[3,"quizId","onNext","saveRecordedVideo"],[1,"padding-bottom-8","border-bottom-gray-100"],[1,"text-gray-400","text-sm","font-weight-500"],[1,"grid","gap-8","padding-vertical-16","border-bottom-gray-100"],[1,"padding-vertical-16","border-bottom-gray-100"],[1,"margin-right-12","flex","items-center"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"text-orange-700",2,"width","20px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"text-orange-700","text-sm"],["class","padding-vertical-16 border-bottom-gray-100",4,"ngIf"],[1,"text-sm","text-gray-400"],[1,"flex","flex-wrap","margin-top-8","gap-4"],["class","text-sm padding-horizontal-8 text-gray-600 bg-gray-100 rounded-4",4,"ngFor","ngForOf"],[1,"text-sm","text-gray-700","margin-top-8"],["target","_blank",1,"",3,"href"],["class","padding-vertical-8",4,"ngIf"],[1,"greenTickIcon","cursor-pointer"],[1,"cursor-pointer","margin-left-8",2,"margin-right","0"],[1,"text-sm","text-gray-800","margin-left-8"],[1,"text-sm","padding-horizontal-8","text-gray-600","bg-gray-100","rounded-4"],[1,"padding-vertical-8"],[1,"button","blue-button","margin-top-16",3,"ngClass","click"],[1,"text-gray-800","text-sm","font-weight-500"],[1,"margin-top-16"],["placeholder","No description set.",1,"preview-editor",3,"data","modules","readOnly"],["modal-new","",1,"ui","tiny","modal","rounded-8",3,"show"],[1,"flex","text-font-inter","text-gray-600","text-base","font-weight-500","padding-vertical-12","padding-horizontal-16"],[1,"divider","width-100","border-bottom-solid","border-gray-200"],[1,"padding-vertical-24","padding-horizontal-16","common-border-bottom"],[1,"text-base","font-weight-500"],[1,"text-font-inter","text-gray-600","text-sm","font-weight-400"],["class","text-red-600 font-weight-400 text-size-12 padding-vertical-12",4,"ngIf"],[1,"divider","border-bottom-solid","border-gray-200"],[1,"flex","justify-end","items-center","col-gap-12","padding-vertical-12","padding-horizontal-16"],[1,"button","bg-blue-600","flex","items-center","margin-0-important",3,"ngClass","disabled","click"],[1,"text-white","text-size-14","font-weight-500"],[1,"text-red-600","font-weight-400","text-size-12","padding-vertical-12"],[1,"text-red-600","text-xs"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.YNc(5,VB,10,1,"div",5),e.qZA(),e.TgZ(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7)(9,"div"),e._UZ(10,"i",8),e.TgZ(11,"span",9),e._uU(12),e.qZA()(),e.TgZ(13,"div"),e.O4$(),e.TgZ(14,"svg",10),e._UZ(15,"path",11)(16,"path",12)(17,"path",13),e.qZA(),e.kcU(),e.TgZ(18,"span",9),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",14)(21,"div",15)(22,"div")(23,"div",16),e._uU(24,"Before we begin"),e.qZA(),e.TgZ(25,"div",17),e.YNc(26,GB,5,4,"div",18),e.qZA()(),e.TgZ(27,"div",19)(28,"span",20),e._uU(29,"Powered by"),e.qZA(),e._UZ(30,"img",21),e.qZA()(),e.TgZ(31,"div",22),e.YNc(32,aF,44,10,"ng-container",23),e.YNc(33,OF,61,22,"ng-container",23),e.YNc(34,LF,17,21,"ng-container",23),e.YNc(35,RF,55,6,"ng-container",23),e.YNc(36,$F,78,21,"ng-container",23),e.YNc(37,jF,44,10,"ng-container",23),e.qZA()()()(),e.YNc(38,KF,15,6,"ng-container",23),e.TgZ(39,"div",24)(40,"div",25)(41,"div",26)(42,"div",27)(43,"div"),e._uU(44,"Verify your email"),e.qZA()(),e.TgZ(45,"div",28)(46,"input",29),e.NdJ("ngModelChange",function(a){return n.verificationCodeModal.verificationCode=a}),e.qZA(),e.YNc(47,XF,2,1,"div",30),e.qZA()(),e.TgZ(48,"div")(49,"button",31),e.NdJ("click",function(){return n.confirmVerificationCode()}),e._uU(50," Verify otp "),e.qZA()()()()),2&r&&(e.xp6(4),e.Q6J("src",n.data.testLogo||"https://wecp-logos-and-banners.s3.ap-south-1.amazonaws.com/wecp-new-logo.svg",e.LSH)("ngClass",n.data.testLogo?"client-logo":"wecp-logo"),e.xp6(1),e.Q6J("ngIf",n.showWindowTimerWarning),e.xp6(2),e.hij(" ",n.data.name," "),e.xp6(5),e.hij("",n.data.durationInMin," mins"),e.xp6(7),e.hij("",n.data.totalQuestions," Questions"),e.xp6(7),e.Q6J("ngForOf",n.navigation.tabs),e.xp6(6),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.SYSTEM_CHECK),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.PERSONAL_INFO),e.xp6(1),e.Q6J("ngIf",n.isPhotoComponentLoaded),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.LIVENESS_CHECK),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.INSTRUCTIONS),e.xp6(1),e.Q6J("ngIf",n.navigation.activeTab.type===n.TabTypeEnum.CUSTOMER_INSTRUCTIONS),e.xp6(1),e.Q6J("ngIf",n.showWindowTimerEndModal&&n.quiz.enableTime),e.xp6(1),e.Q6J("autofocus",!1)("show",n.verificationCodeModal.show),e.xp6(7),e.Q6J("ngModel",n.verificationCodeModal.verificationCode),e.xp6(1),e.Q6J("ngIf",n.verificationCodeModal.error),e.xp6(2),e.Q6J("disabled",!(null!=n.verificationCodeModal.verificationCode&&n.verificationCodeModal.verificationCode.length&&6==(null==n.verificationCodeModal.verificationCode?null:n.verificationCodeModal.verificationCode.length)))("ngClass",e.VKq(20,Bo,n.verifyCodeBtnState===n.BtnStateEnum.LOADING)))},directives:[Ue.mk,Ue.O5,Ue.sg,Os.q,xe.i6,xe.CR,xe.I_,Pu.u,xa.Y,OB,Ho.P,QB,Qo.g,di.m,Qe.Fj,Qe.nD,Qe.JJ,Qe.On],pipes:[Ue.OU],styles:[".border-right-gray-100[_ngcontent-%COMP%]{border-right:1px solid var(--gray-100)}.border-left-gray-100[_ngcontent-%COMP%]{border-left:1px solid var(--gray-100)}.border-top-gray-100[_ngcontent-%COMP%]{border-top:1px solid var(--gray-100)}.border-bottom-gray-100[_ngcontent-%COMP%]{border-bottom:1px solid var(--gray-100)}a[_ngcontent-%COMP%]{color:var(--blue-800)!important}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.header[_ngcontent-%COMP%]{border-bottom:1px solid var(--gray-200);position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{display:flex;position:fixed;top:var(--header-height);width:100%;height:calc(100% - var(--header-height));padding:0}.nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;border-right:1px solid var(--gray-200);padding-top:20px;width:20%}.completed-section[_ngcontent-%COMP%]{color:var(--green-800)}.ongoing-section[_ngcontent-%COMP%]{color:var(--blue-800);background-color:var(--blue-50);border-radius:4px;font-weight:500}.pending-section[_ngcontent-%COMP%]{color:var(--gray-800);opacity:.5}.failed-section[_ngcontent-%COMP%]{color:var(--red-600)}.hover-on-section[_ngcontent-%COMP%]:hover{background-color:var(--gray-50)}.content[_ngcontent-%COMP%]{width:80%;overflow:auto;display:flex;overflow-x:hidden}.content-left[_ngcontent-%COMP%]{width:57.1428571429%;margin-bottom:24px}.content-right[_ngcontent-%COMP%]{width:42.8571428571%;height:100%;padding-top:20px;padding-bottom:20px;border:1px solid var(--gray-100);background-color:var(--gray-50);--tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.content-top[_ngcontent-%COMP%]{padding-bottom:20px}.angle-icon-container[_ngcontent-%COMP%]{width:20px;height:20px}.angle-icon-container[_ngcontent-%COMP%]   i.icon.angle.right[_ngcontent-%COMP%]{color:var(--gray-400);width:6px;height:10px}[_nghost-%COMP%]     .progress-bar-container{width:min(256px,100%)}[_nghost-%COMP%]     .upload-button{max-width:min(256px,100%)}.globeIcon[_ngcontent-%COMP%], .greenTickIcon[_ngcontent-%COMP%], .userIcon[_ngcontent-%COMP%], .clockIcon[_ngcontent-%COMP%]{width:15px;height:15px;background-size:15px 15px}.ui.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{opacity:1!important;outline:none;z-index:1;width:18.5px;height:18px}.ui.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.ui.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px;color:var(--gray-800);font-weight:500}.ui.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px}.ui.table[_ngcontent-%COMP%]   td.center-align[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .ql-container{border:none;height:auto;max-height:50vh;overflow:auto}[_nghost-%COMP%]     .ql-editor{font-family:Inter}[_ngcontent-%COMP%]::-webkit-scrollbar, app-quill-editor[_ngcontent-%COMP%]     ::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track, app-quill-editor[_ngcontent-%COMP%]     ::-webkit-scrollbar-track{background-color:inherit!important}@media only screen and (max-width: 800px){.header[_ngcontent-%COMP%]{height:50px;min-height:50px;background-color:var(--gray-700);color:#fafafa;display:flex;align-items:center;justify-content:center}.body[_ngcontent-%COMP%]{top:50px;height:calc(100% - 50px)}.quiz-summary[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%], .client-logo-box[_ngcontent-%COMP%]{display:none!important}.content[_ngcontent-%COMP%]{margin-left:0;width:100%;display:block}.content-left[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.content-right[_ngcontent-%COMP%]{width:100%;height:auto}.ui.table[_ngcontent-%COMP%]:not(.unstackable)   tbody[_ngcontent-%COMP%], .ui.table[_ngcontent-%COMP%]:not(.unstackable)   tr[_ngcontent-%COMP%], .ui.table[_ngcontent-%COMP%]:not(.unstackable)   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .ui.table[_ngcontent-%COMP%]:not(.unstackable)   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{display:table-row!important}[_nghost-%COMP%]     .ql-container{height:auto;max-height:60vh;overflow:auto}}.box[_ngcontent-%COMP%]{width:380px;height:285px;position:absolute;margin:0 48px 48px;border-radius:30px;background:transparent;border:46px solid rgba(0,0,0,.5)}#photo-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:40px;height:37px}.top[_ngcontent-%COMP%]{top:-1px;border-top:5px solid black}.right[_ngcontent-%COMP%]{right:-1px;border-right:5px solid black}.bottom[_ngcontent-%COMP%]{bottom:-1px;border-bottom:5px solid black}.left[_ngcontent-%COMP%]{left:-1px;border-left:5px solid black}.slide-down[_ngcontent-%COMP%]{position:relative;top:-100px;animation:slideFromTop 1s forwards}@keyframes slideFromTop{0%{top:-100px}to{top:0}}","*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%], .text-base[_ngcontent-%COMP%], .text-xl[_ngcontent-%COMP%]{line-height:150%}.button[_ngcontent-%COMP%]{margin-bottom:0}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px!important;height:5px!important}i[_ngcontent-%COMP%]{margin-right:0!important}"]}),ca=(0,fe.gn)([(0,Te.c)()],ca);let ua=class{constructor(r,n){this._sharedClient=r,this._store=n,this.PageEnum=ta,n.select(vU).pipe((0,Te.t)(this)).subscribe(i=>{this.page=i}),this._store.dispatch(Vh())}ngOnInit(){this._sharedClient.showLoading=!1,this._sharedClient.showHeaderLoading=!1}};ua.\u0275fac=function(r){return new(r||ua)(e.Y36(ao.h),e.Y36(J.yh))},ua.\u0275cmp=e.Xpm({type:ua,selectors:[["candidate-instructions"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(r,n){1&r&&(e.YNc(0,ez,1,0,"candidate-instructions-landing",0),e.YNc(1,tz,1,0,"candidate-instructions-form",0)),2&r&&(e.Q6J("ngIf",n.page===n.PageEnum.LANDING),e.xp6(1),e.Q6J("ngIf",n.page===n.PageEnum.FORM))},directives:[Ue.O5,sa,ca],styles:["","*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.text-xs[_ngcontent-%COMP%], .text-sm[_ngcontent-%COMP%], .text-base[_ngcontent-%COMP%], .text-xl[_ngcontent-%COMP%]{line-height:150%}.button[_ngcontent-%COMP%]{margin-bottom:0}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px!important;height:5px!important}i[_ngcontent-%COMP%]{margin-right:0!important}"]}),ua=(0,fe.gn)([(0,Te.c)()],ua);const gu=(0,J.ZF)("candidateFeedbackState"),nz=(0,J.P1)(gu,t=>t.initDataLoadState),rz=(0,J.P1)(gu,t=>t.feedbackFormArray),iz=(0,J.P1)(gu,t=>t.submitFeedbackApiStatus);let az=(()=>{class t{constructor(){this.width="auto",this.height="auto"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["bubble-illustration-18"]],inputs:{width:"width",height:"height"},decls:86,vars:4,consts:[["version","1.1","id","\u0421\u043b\u043e\u0439_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 467 545.5",0,"xml","space","preserve",2,"enable-background","new 0 0 467 545.5"],["type","text/css"],["id","BG","width","467","height","545.5",1,"st0"],["id","Ornament_9_"],["id","XMLID_428_","d","M407.8,418.3c-20.1-29.7-57.4-46.2-92.9-41.6c-0.8,0.1-1.6,0.2-2.3,0.3\n\t\tc-3.4-6.1-7.9-11.5-13.1-16c-15.2-12.9-35.1-18.3-54.5-20.8c-20.3-2.6-40.9-2.3-61.1,0.6c-40.4,5.8-79.3,22.3-111.4,47.6\n\t\tc-4,3.2-8,6.5-11.8,10c-0.7,0.6,0.3,1.7,1,1c27.8-25.2,61.8-43.1,98.1-52.3c18.3-4.7,37.2-7.1,56.1-7.2c18.4-0.1,37.4,1.7,55,7.4\n\t\tc16.3,5.3,31.5,14.9,40.1,29.9c-15.8,2.7-33.5,9.9-40.1,25.3c-5.8,13.4-0.4,32.5,15.9,34.4c17.1,2,30.2-13.9,32.2-29.4\n\t\tc1.3-10.1-1-20.2-5.7-29.2c35.4-5.4,73.1,10.9,93.2,40.6C407,419.9,408.3,419.1,407.8,418.3z M312.7,380.6\n\t\tc7.4,15.5,7.7,36.6-6.5,48.5c-6.4,5.4-15.7,8.6-23.9,5.4c-8.2-3.2-12.3-11.9-12.3-20.3c0-19.8,19.9-30.6,36.8-34.5\n\t\tc1.6-0.4,3.3-0.7,4.9-1C312.1,379.4,312.4,380,312.7,380.6z",1,"st1"],["id","XMLID_396_","d","M103,189.7c-0.1,0-0.3,0-0.4-0.1l-28.4-18.6c-0.2-0.1-0.3-0.4-0.3-0.6c0-0.3,0.2-0.5,0.4-0.6\n\t\tc1.1-0.6,27.5-14.8,30.5-15.7c0.2-0.1,0.5,0,0.7,0.1c0.2,0.1,0.3,0.4,0.3,0.6l-2,34.3c0,0.3-0.2,0.5-0.4,0.6\n\t\tC103.2,189.6,103.1,189.7,103,189.7z M76,170.4l26.3,17.3l1.8-31.9C99.7,157.8,84.8,165.7,76,170.4z",1,"st1"],["id","Window_8_"],["id","XMLID_414_","d","M197.1,188.2h-25.5c-0.9,0-0.9,1.5,0,1.5h25.5C198.1,189.7,198.1,188.2,197.1,188.2z",1,"st2"],["id","XMLID_409_","d","M197.1,207.8h-25.5c-0.9,0-0.9,1.5,0,1.5h25.5C198.1,209.3,198.1,207.8,197.1,207.8z",1,"st2"],["id","XMLID_1242_","d","M317.8,308.3H126.5c-0.4,0-0.7-0.3-0.7-0.7V93.3c0-0.4,0.3-0.7,0.7-0.7h191.3\n\t\tc0.4,0,0.7,0.3,0.7,0.7v214.3C318.5,308,318.2,308.3,317.8,308.3z M127.3,306.9H317V94H127.3V306.9z",1,"st3"],["id","XMLID_398_","x","152.6","y","122.4","width","88.6","height","47.4",1,"st2"],["id","XMLID_618_","d","M241.3,135.3v34.5h-88.6v-23.5c3.7,0.9,7.4,2.9,10.8,5.4c0.6-1.1,1.3-2.1,2.3-3.1\n\t\tc0.1-0.1,0.3-0.2,0.4-0.3c3.1-4.8,8.1-8.2,14-8.7c8.8-0.7,16.2,5.2,19,13c2.8-0.8,5.6-0.8,8.4,0.1\n\t\tC213.2,138.9,227.8,132.3,241.3,135.3z",1,"st1"],["id","XMLID_392_","d","M163.9,194.6c-2.4,2.7-6.7,2.3-9.1-0.3c-2.4-2.6-2.3-6.2,0.3-8.6c2.6-2.4,6.7-2.8,9.1-0.2\n\t\tC166.7,188.1,167.1,191,163.9,194.6z",1,"st4"],["id","XMLID_389_","d","M163.9,214.8c-2.4,2.7-6.7,2.3-9.1-0.3c-2.4-2.6-2.3-6.2,0.3-8.6c2.6-2.4,6.7-2.8,9.1-0.2\n\t\tC166.7,208.3,167.1,211.2,163.9,214.8z",1,"st4"],["id","XMLID_622_","d","M105.7,110.6c-0.4,0-0.7-0.3-0.7-0.7V74.5c0-0.4,0.3-0.7,0.7-0.7h29.8c0.4,0,0.7,0.3,0.7,0.7\n\t\ts-0.3,0.7-0.7,0.7h-29.1v34.6C106.5,110.3,106.1,110.6,105.7,110.6z",1,"st3"],["id","XMLID_621_","d","M137.1,331h-31.4c-0.4,0-0.7-0.3-0.7-0.7v-29.8c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7\n\t\tv29.1h30.6c0.4,0,0.7,0.3,0.7,0.7C137.9,330.6,137.5,331,137.1,331z",1,"st3"],["id","XMLID_620_","d","M337.7,331h-31.9c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7H337v-29.1c0-0.4,0.3-0.7,0.7-0.7\n\t\tc0.4,0,0.7,0.3,0.7,0.7v29.8C338.4,330.6,338.1,331,337.7,331z",1,"st3"],["id","Rosette"],["id","XMLID_377_","points","291,91.6 297.7,61.4 265.5,68 276.6,93.5 \t",1,"st5"],["id","XMLID_373_","points","290.5,83.9 301.4,66.5 314,93.4 292.7,95.6 \t",1,"st5"],["id","XMLID_372_","points","281.5,90.1 265.1,72.5 253.8,101.4 280.5,101.9 \t",1,"st5"],["id","XMLID_365_","points","278.5,92.8 257.2,105.6 282,122.7 292.3,99.4 \t",1,"st5"],["id","XMLID_364_","points","283.7,99.9 286.1,122.7 312.1,106.1 298.2,90.1 \t",1,"st5"],["id","XMLID_362_","points","271.1,105.8 227.7,261.4 263,241.2 284.3,269.5 293.9,100.3 \t",1,"st5"],["id","XMLID_357_","points","278.8,112.8 297.5,102.9 347.2,210.6 322.9,198.9 311.5,223.5 \t",1,"st5"],["id","XMLID_355_","d","M293.1,100.9c-4.7,5.3-13.3,4.5-18.1-0.6c-4.8-5.2-4.6-12.3,0.6-17.2s13.3-5.5,18.1-0.3\n\t\tC298.6,87.9,299.5,93.7,293.1,100.9z",1,"st0"],["id","XMLID_339_","d","M289.1,122.2v28.4c0,0.9,1.5,0.9,1.5,0v-28.4C290.6,121.3,289.1,121.3,289.1,122.2z",1,"st0"],["id","XMLID_334_","d","M293.3,116c-1.8-4.1-3.7-8.1-5.5-12.2c-0.4-0.9-1.7-0.1-1.3,0.7l5.5,12.2\n\t\tC292.4,117.6,293.7,116.9,293.3,116z",1,"st0"],["id","XMLID_328_","d","M274.7,95.5l-6.9,2.9c-0.9,0.4-0.1,1.6,0.7,1.3l6.9-2.9C276.3,96.4,275.6,95.1,274.7,95.5z",1,"st0"],["id","XMLID_326_","d","M285.7,69.1c-0.7,4.2-1.3,8.5-2,12.7c-0.1,0.9,1.3,1.3,1.4,0.4c0.7-4.2,1.3-8.5,2-12.7\n\t\tC287.3,68.6,285.9,68.2,285.7,69.1z",1,"st0"],["id","XMLID_325_","d","M299.1,82.5l-5.4,5.4c-0.7,0.7,0.4,1.7,1,1l5.4-5.4C300.8,82.9,299.8,81.8,299.1,82.5z",1,"st0"],["id","XMLID_323_","d","M283.2,104.1v7.8c0,0.9,1.5,0.9,1.5,0v-7.8C284.7,103.1,283.2,103.1,283.2,104.1z",1,"st0"],["id","XMLID_322_","d","M274.4,130.6c-3.2,14.7-6.5,29.4-9.7,44.1c-0.2,0.9,1.2,1.3,1.4,0.4\n\t\tc3.2-14.7,6.5-29.4,9.7-44.1C276.1,130.1,274.6,129.7,274.4,130.6z",1,"st0"],["id","XMLID_321_","d","M293.2,122.3l-20.6-7.7c-0.9-0.3-1.3,1.1-0.4,1.4c6.9,2.6,13.7,5.1,20.6,7.7\n\t\tC293.7,124,294.1,122.6,293.2,122.3z",1,"st0"],["id","Lines_5_"],["id","XMLID_320_","d","M314.2,21.1c-2.3,8.2-4.6,16.3-6.9,24.5c-0.3,0.9,1.2,1.3,1.4,0.4c2.3-8.2,4.6-16.3,6.9-24.5\n\t\t\tC315.9,20.5,314.5,20.1,314.2,21.1z",1,"st5"],["id","XMLID_319_","d","M365.6,65.9c-5.9,3.3-11.8,6.5-17.6,9.8c-0.8,0.5-0.1,1.7,0.7,1.3c5.9-3.3,11.8-6.5,17.6-9.8\n\t\t\tC367.1,66.7,366.4,65.4,365.6,65.9z",1,"st5"],["id","XMLID_318_","d","M235.7,54.2c-3-2.9-5.9-5.9-8.9-8.8c-0.7-0.7-1.7,0.4-1,1c3,2.9,5.9,5.9,8.9,8.8\n\t\t\tC235.4,55.9,236.4,54.9,235.7,54.2z",1,"st5"],["id","XMLID_316_","d","M362.9,89c-3.3,0.4-6.5,0.7-9.8,1.1c-0.9,0.1-0.9,1.6,0,1.5c3.3-0.4,6.5-0.7,9.8-1.1\n\t\t\tC363.8,90.3,363.8,88.9,362.9,89z",1,"st5"],["id","Woman_4_"],["id","Legs_10_"],["id","XMLID_315_","d","M117.9,417.9c-2.2,1.5-36.8,30.9-36.8,30.9l55.9,56.6c0,0,11.8-8.1,5.1-22.1\n\t\t\tc-6.6-14-1.5-28,6.6-39L117.9,417.9z",1,"st5"],["id","XMLID_314_","d","M193.6,459.7c-0.5,2.6-3.5,47.9-3.5,47.9h79.6c0,0,2.4-14.7-12.2-19.7\n\t\t\tc-14.6-5-21.1-18.4-23.3-31.9L193.6,459.7z",1,"st5"],["id","XMLID_407_","d","M232.5,287.5l-0.8-0.1l-14.7-2l-1.5-0.2l-12.1-1.6l-2.6-0.4h0l-1.5-0.2l-14.7-2l-1.5-0.2\n\t\t\tl-5.1-0.7c1.8-5,3.5-10.4,5.1-15.9c0.5-1.7,1-3.3,1.5-5c0.4-1.5,0.9-3,1.3-4.6c4.5,0.4,8.9,0.8,13.4,1.1c0.5,0,1,0.1,1.5,0.1\n\t\t\tc4.9,0.4,9.8,0.7,14.7,1.1c0.5,0,1,0.1,1.5,0.1c4.9,0.3,9.8,0.6,14.7,1h0C232.6,274.4,232.5,287.5,232.5,287.5z",1,"st6"],["id","XMLID_404_","d","M247.2,480.2l-14-1.6l-1.5-0.2l-14.7-1.8l-1.5-0.2l-14.7-1.7l-1.5-0.2l-8.1-1l8-159.5\n\t\t\tl0.1-1.1l1.5-29.2l0-0.5l0.1-3.1l0.6-11l14,8.3l1.5,0.9l14.7,8.8l0.8,0.5c0.1,2.5,0.4,6.2,0.6,10.7\n\t\t\tC236.2,344,247.2,480.2,247.2,480.2z",1,"st6"],["id","XMLID_402_","d","M203.8,280.1c-0.1,1.1-0.2,2.3-0.4,3.4c-0.7,7.1-1.6,14-2.6,20.8c-0.5,3.2-0.9,6.3-1.5,9.4\n\t\t\tc0,0.1,0,0.2-0.1,0.4c-3.8,23-9,43.7-14.7,61.9c-0.5,1.6-1,3.1-1.5,4.7c-4.8,14.9-9.9,28-14.7,39.1c-0.5,1.1-1,2.3-1.5,3.4\n\t\t\tc-5.7,12.7-10.9,22.6-14.7,29.4c-0.5,0.9-1,1.8-1.5,2.5c-3.2,5.5-5.1,8.3-5.1,8.3l-9.6-9l-1.5-1.4L119.9,439l-1.5-1.4l-12.5-11.8\n\t\t\tc4.5-4.1,8.6-8.3,12.5-12.8c0.5-0.6,1-1.1,1.5-1.7c5.2-6.1,10-12.9,14.7-21.1c0.5-0.8,1-1.7,1.5-2.6c4.8-8.6,9.6-18.7,14.7-30.9\n\t\t\tc0.5-1.2,1-2.4,1.5-3.6c4.6-11.3,9.4-24.4,14.7-39.8c0.5-1.4,1-2.9,1.5-4.3c3-8.9,6.2-18.5,9.6-28.9H203.8z",1,"st6"],["id","XMLID_310_","d","M119.9,411.3V439l-1.5-1.4V413C118.9,412.5,119.4,411.9,119.9,411.3z",1,"st0"],["id","XMLID_309_","d","M136.1,387.6v66.6l-1.5-1.4v-62.7C135.1,389.4,135.6,388.5,136.1,387.6z",1,"st0"],["id","XMLID_308_","d","M152.3,353.1v99.3c-0.5,0.9-1,1.8-1.5,2.5v-98.3C151.3,355.5,151.8,354.3,152.3,353.1z",1,"st0"],["id","XMLID_307_","d","M168.4,309v110.7c-0.5,1.1-1,2.3-1.5,3.4V313.3C167.5,311.9,168,310.5,168.4,309z",1,"st0"],["id","XMLID_306_","d","M184.6,259.2v116.7c-0.5,1.6-1,3.1-1.5,4.7V264.2C183.6,262.5,184.1,260.9,184.6,259.2z",1,"st0"],["id","XMLID_305_","d","M200.8,255.8v218.9l-1.5-0.2V255.7C199.8,255.8,200.3,255.8,200.8,255.8z",1,"st0"],["id","XMLID_304_","d","M217,257v219.6l-1.5-0.2V256.9C216,256.9,216.5,257,217,257z",1,"st0"],["id","XMLID_302_","d","M233.2,298.3v180.3l-1.5-0.2V258h0c0.9,16.4,0.8,29.6,0.8,29.6\n\t\t\tC232.7,290.1,232.9,293.7,233.2,298.3z",1,"st0"],["id","XMLID_300_","d","M139.2,461.1c-2.3-0.3-4.6-0.6-6.9-1c-0.9-0.1-1.3,1.3-0.4,1.4c2.3,0.3,4.6,0.6,6.9,1\n\t\t\tC139.8,462.6,140.2,461.2,139.2,461.1z",1,"st6"],["id","XMLID_299_","d","M136.9,468.1c-2.3,0.7-4.6,1.3-6.9,2c-0.9,0.3-0.5,1.7,0.4,1.4c2.3-0.7,4.6-1.3,6.9-2\n\t\t\tC138.2,469.3,137.8,467.8,136.9,468.1z",1,"st6"],["id","XMLID_298_","d","M242.4,481.6c-2,1.6-3.9,3.3-5.9,4.9c-0.7,0.6,0.3,1.6,1,1c2-1.6,3.9-3.3,5.9-4.9\n\t\t\tC244.2,482.1,243.2,481,242.4,481.6z",1,"st6"],["id","XMLID_296_","d","M247.3,485.6c-2,2-3.9,3.9-5.9,5.9c-0.7,0.7,0.4,1.7,1,1c2-2,3.9-3.9,5.9-5.9\n\t\t\tC249.1,485.9,248,484.9,247.3,485.6z",1,"st6"],["id","XMLID_295_","d","M200.2,284.9c-0.5-0.3-1-0.6-1.5-1c-2.3-1.5-4.6-3-6.9-4.5c-0.8-0.5,0-1.8,0.8-1.3\n\t\t\tc2,1.3,4,2.6,6,4c0.5,0.3,1,0.7,1.5,1C200.1,283.7,200.1,284.3,200.2,284.9z",1,"st0"],["id","Body_10_","d","M238.3,269.8c-1.6-25.9-6.2-70.7-19.7-75.7c-7.7-2.9-17.3,1.4-22,12.5\n\t\tc-5.4,12.9-10.5,30.8-16.8,48c-0.5,1.4-1,2.7-1.5,4.1C198.6,263.2,219.2,266.9,238.3,269.8z",1,"st7"],["id","Hand_2_1_"],["id","XMLID_293_","d","M200.8,219.8c-23.5-75-11.8-112.5,5.9-132.4s59.8-26.2,60.1-23.5C267,66.6,256,69,256,69\n\t\t\ts11.5-3.9,11.8-1c0.2,2.9-11,6.6-11,6.6s11-5.9,11.8-1.5c0.7,4.4-12.3,8.3-12.3,8.3s12-6.4,12.5-2.9c0.5,3.4-16.8,11.2-16.8,11.2\n\t\t\ts11.2,0.4,11.4,5c0.2,4.7-21.8-1.7-26.5,1.7c-4.7,3.4-37,28-29.7,69.9c7.4,41.9,9.8,43.4,9.3,44.1S200.8,219.8,200.8,219.8z",1,"st8"],["id","XMLID_413_","d","M183.9,179.6c4.4,15.7,11.8,23.9,16.9,40.2c0,0,15.2-8.6,15.7-9.3c0.5-0.7-1.8-2.1-8.5-39.4\n\t\t\tC202.2,173,189.9,178.5,183.9,179.6z",1,"st7"],["id","XMLID_291_","d","M267.9,67.7c-2.3-1.6-5-0.7-7.6,0c-3.7,1-7.3,2.3-10.9,3.8c-0.9,0.4-0.1,1.6,0.7,1.3\n\t\t\tc2.6-1.1,5.3-2.1,8.1-2.9c2.5-0.7,6.5-2.4,8.9-0.8C268,69.5,268.7,68.3,267.9,67.7z",1,"st9"],["id","XMLID_290_","d","M268.6,72.7c-1.8-1.6-3.7-1.3-5.8-0.4c-4,1.6-7.8,3.9-11.7,5.9c-0.8,0.4-0.1,1.7,0.7,1.3\n\t\t\tc2.1-1.1,4.3-2.2,6.4-3.2c2.2-1.1,6.9-4.5,9.3-2.4C268.3,74.4,269.3,73.3,268.6,72.7z",1,"st9"],["id","XMLID_286_","d","M269.2,78.5c-1.1-2.6-3.9-1.4-5.9-0.6c-3.6,1.5-7.1,3.2-10.4,5.2c-0.8,0.5-0.1,1.8,0.7,1.3\n\t\t\tc1.7-1,13-8,14.3-5.1C268.3,80.1,269.6,79.3,269.2,78.5z",1,"st9"],["id","XMLID_285_","d","M266.3,63.7c-2.2-1.5-4.6-1-7.1-0.5c-4.1,0.8-8.3,1.7-12.4,2.5c-0.9,0.2-0.5,1.6,0.4,1.4\n\t\t\tc2.8-0.6,5.7-1.2,8.5-1.7c3-0.6,7.1-2.2,9.9-0.4C266.4,65.4,267.1,64.2,266.3,63.7z",1,"st9"],["id","XMLID_283_","d","M263.4,94c-3,2.3-9,1-12.5,0.8c-4.1-0.1-8.2-0.3-12.3-0.4c-0.9,0-0.9,1.4,0,1.5\n\t\t\tc5.1,0.2,10.1,0.3,15.2,0.5c3.3,0.1,7.5,1,10.3-1.1C264.9,94.7,264.1,93.4,263.4,94z",1,"st9"],["id","Hand_16_"],["id","XMLID_406_","d","M316.8,62.2c-2.8,0.7,1.3,7.8,3.7,11.7c-2.3-3.4-7.7-11-8.9-8.5c-1.2,2.4,3.5,12.3,5.2,15.6\n\t\t\tc-1.7-3.1-7.5-13.1-10.8-11.9c-2,0.8-0.7,4.6,1.1,8.2c-1.4-1.8-2.9-3.1-4.1-2.3c-2.6,1.7,4.3,17.2,6,20.8c-1.2-2.5-5.2-10.1-9-8.1\n\t\t\tc-4.4,2.5,16.7,30.4,11.8,60.8c-3.4,20.8-28.3,41.4-55.6,53.4c0.4,8,0.2,15.9-0.1,23.9c51-8.9,84.5-53.1,89.5-83.2\n\t\t\tC351.6,107.3,320.7,61.2,316.8,62.2z",1,"st8"],["id","XMLID_405_","d","M262.6,198.9c-14.4,7.2-29.9,12-43.4,13.3c0,0-43.7,22.5,2.3,26.6\n\t\t\tc15.5,1.4,29.9-0.6,42.8-4.8L262.6,198.9z",1,"st7"],["id","XMLID_277_","d","M231.5,238l-2.9-0.5c-0.9-0.2-1.3,1.3-0.4,1.4c1,0.2,2,0.3,2.9,0.5\n\t\t\tC232,239.5,232.4,238.1,231.5,238z",1,"st0"],["id","XMLID_394_","d","M312.7,101.7c-1.7-4-3.4-8-5-12c-1.4-3.3-6.3-11-3.5-14.3c0.6-0.7-0.4-1.8-1-1\n\t\t\tc-2.7,3.3-0.6,7,0.9,10.5c2.4,5.8,4.9,11.5,7.3,17.3C311.6,102.9,313,102.5,312.7,101.7z",1,"st9"],["id","XMLID_270_","d","M316.3,92.2c-1.8-3.3-3.6-6.7-5.4-10c-1.3-2.4-6.9-9.9-4.1-12.3c0.7-0.6-0.3-1.6-1-1\n\t\t\tc-2.7,2.2-0.9,5.4,0.5,7.9c2.9,5.4,5.8,10.9,8.8,16.3C315.4,93.7,316.7,93,316.3,92.2z",1,"st9"],["id","XMLID_269_","d","M320.7,86c-1.6-3.1-3.1-6.2-4.7-9.2c-1.2-2.4-5.9-8.7-3.6-11.2c0.6-0.7-0.4-1.7-1-1\n\t\t\tc-2.2,2.4-0.8,4.9,0.5,7.5c2.5,4.9,5,9.8,7.5,14.8C319.8,87.6,321.1,86.9,320.7,86z",1,"st9"],["id","XMLID_267_","d","M325.1,82.3c-1.4-2.9-2.8-5.7-4.2-8.6c-0.7-1.4-5.6-9.8-3.1-10.5c0.9-0.2,0.5-1.7-0.4-1.4\n\t\t\tc-3.1,0.8-2.1,3.7-1.1,5.9c2.4,5.1,5,10.2,7.6,15.3C324.3,83.9,325.5,83.2,325.1,82.3z",1,"st9"],["id","XMLID_393_","d","M308.4,111.9c-1.1-3.2-2.4-6.4-3.8-9.6c-1.5-3.4-7.5-12-2-14.1c0.9-0.3,0.5-1.8-0.4-1.4\n\t\t\tc-7.7,3,0,13.7,1.9,18.1c4.2,9.9,6.9,20.4,8.4,31c0.1,0.9,1.5,0.5,1.4-0.4C312.8,127.4,311,119.5,308.4,111.9z",1,"st9"],["id","Head_10_"],["id","XMLID_412_","d","M216.5,184.7c-0.6,0.5-7.1,23.8-7.1,23.8s11.8,6.2,11.8,5.4s9.1-31.9,9.1-31.9L216.5,184.7z",1,"st8"],["id","XMLID_410_","d","M204.6,169.5c7.3-15.9,35.1-4.3,26.3,15.1C223.6,200.7,195.6,189.4,204.6,169.5z",1,"st8"],["id","XMLID_263_","d","M204.6,169.5c3-6.6,9.8-13.2,14.1-10.5c3.5,2-1.3,11.7-2.1,15.3c-2.2,0.9-4.8,2.2-5.1,4.8\n\t\t\tc-0.4,3.4,2.4,5.8,5.8,6.5c0.9,2.3,0,6.1-0.1,6.5C208,191.2,198.9,182.1,204.6,169.5z",1,"st3"],["id","XMLID_408_","points","224.9,165.7 230.7,171.5 233.3,166.4 \t\t",1,"st9"],["id","XMLID_261_","d","M222.1,166.1l0.8,0.7c0.7,0.6,1.6-0.6,0.9-1.2l-0.8-0.7C222.2,164.3,221.4,165.5,222.1,166.1\n\t\t\tz",1,"st3"],["id","XMLID_260_","d","M215.5,179.4c0.8,0.2,1.6,0.4,2.4,0.6c0.9,0.2,0.7,1.7-0.2,1.5c-0.8-0.2-1.6-0.4-2.4-0.6\n\t\t\tC214.4,180.6,214.6,179.2,215.5,179.4z",1,"st9"],["id","XMLID_259_","d","M203.6,175.2c-1.7,8.3,6,10.3-0.5,16.6c-6.5,6.4-8.3,13.5-2.2,16.5s0.9,6,10.8,9.4\n\t\t\tc6.2,2.1,35.6-6.4,5.8-32.1l-7.9-0.2L203.6,175.2z",1,"st3"]],template:function(n,i){1&n&&(e.O4$(),e.TgZ(0,"svg",0)(1,"style",1),e._uU(2," .st0 { fill: #ffffff; } .st1 { fill: #eceff8; } .st2 { fill: #dadeeb; } .st3 { fill: #0d0f44; } .st4 { fill: #c0cfff; } .st5 { fill: #ffd550; } .st6 { fill: #475aea; } .st7 { fill: #ff2633; } .st8 { fill: #f3abaa; } .st9 { fill: #e22a38; } "),e.qZA(),e._UZ(3,"rect",2),e.TgZ(4,"g",3),e._UZ(5,"path",4)(6,"path",5),e.qZA(),e.TgZ(7,"g",6),e._UZ(8,"path",7)(9,"path",8)(10,"path",9)(11,"rect",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16),e.qZA(),e.TgZ(18,"g",17),e._UZ(19,"polygon",18)(20,"polygon",19)(21,"polygon",20)(22,"polygon",21)(23,"polygon",22)(24,"polygon",23)(25,"polygon",24)(26,"path",25)(27,"path",26)(28,"path",27)(29,"path",28)(30,"path",29)(31,"path",30)(32,"path",31)(33,"path",32)(34,"path",33),e.TgZ(35,"g",34),e._UZ(36,"path",35)(37,"path",36)(38,"path",37)(39,"path",38),e.qZA()(),e.TgZ(40,"g",39)(41,"g",40),e._UZ(42,"path",41)(43,"path",42)(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46)(48,"path",47)(49,"path",48)(50,"path",49)(51,"path",50)(52,"path",51)(53,"path",52)(54,"path",53)(55,"path",54)(56,"path",55)(57,"path",56)(58,"path",57)(59,"path",58),e.qZA(),e._UZ(60,"path",59),e.TgZ(61,"g",60),e._UZ(62,"path",61)(63,"path",62)(64,"path",63)(65,"path",64)(66,"path",65)(67,"path",66)(68,"path",67),e.qZA(),e.TgZ(69,"g",68),e._UZ(70,"path",69)(71,"path",70)(72,"path",71)(73,"path",72)(74,"path",73)(75,"path",74)(76,"path",75)(77,"path",76),e.qZA(),e.TgZ(78,"g",77),e._UZ(79,"path",78)(80,"path",79)(81,"path",80)(82,"polygon",81)(83,"path",82)(84,"path",83)(85,"path",84),e.qZA()()()),2&n&&e.Udp("width",i.width)("height",i.height)},styles:["[_nghost-%COMP%]{display:block}\n/*# sourceMappingURL=bubble-illustration-18.ts-angular-inline--6.css.map*/"]}),t})();var oz=ke(89646);function sz(t,r){if(1&t&&(e.TgZ(0,"landing-page-layout",4)(1,"div",5),e._uU(2),e.qZA()()),2&t){const n=e.oxw(2).ngIf;e.Q6J("isLoading",!1),e.xp6(2),e.hij(" ",n.error.errorMessage," ")}}function cz(t,r){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.Oqu(n.quizName)}}function uz(t,r){1&t&&(e.ynx(0),e._uU(1," Your interview has ended! "),e.BQk())}function lz(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" Your ",n.quizNomenclatureLower," has been submitted successfully! ")}}function dz(t,r){if(1&t&&(e.YNc(0,cz,2,1,"div",6),e.TgZ(1,"landing-page-layout",7)(2,"div",8)(3,"div",9),e._uU(4,"Congratulations!"),e.qZA(),e.TgZ(5,"div",10),e.YNc(6,uz,2,0,"ng-container",0),e.YNc(7,lz,2,1,"ng-container",0),e.qZA(),e.TgZ(8,"div",11),e._UZ(9,"bubble-illustration-18"),e.qZA(),e.TgZ(10,"div",12),e._uU(11),e.qZA()()()),2&t){const n=e.oxw(3);e.Q6J("ngIf",""!==n.quizName),e.xp6(1),e.Q6J("isLoading",!1)("testLogo",n.clientLogo)("testBanner",n.clientBanner),e.xp6(5),e.Q6J("ngIf",n.isInterview),e.xp6(1),e.Q6J("ngIf",!n.isInterview),e.xp6(4),e.hij(" Redirecting in ",n.redirectUrlTimeLeft," ")}}const pz=function(){return["server_error","test_not_found","test_ongoing"]};function mz(t,r){if(1&t&&(e.ynx(0),e.YNc(1,sz,3,2,"landing-page-layout",2),e.YNc(2,dz,12,7,"ng-template",null,3,e.W1O),e.BQk()),2&t){const n=e.MAs(3),i=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",e.DdM(2,pz).includes(i.error.errorType))("ngIfElse",n)}}function fz(t,r){if(1&t&&(e.TgZ(0,"div",19)(1,"div",20),e._uU(2),e.qZA()()),2&t){const n=e.oxw(3);e.xp6(2),e.Oqu(n.quizName)}}function gz(t,r){1&t&&e._UZ(0,"div",21)}function hz(t,r){1&t&&(e.ynx(0),e._uU(1," Your interview has ended! "),e.BQk())}function vz(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" Your ",n.quizNomenclatureLower," has been submitted successfully! ")}}function _z(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",9),e._uU(2,"Congratulations!"),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,hz,2,0,"ng-container",0),e.YNc(5,vz,2,1,"ng-container",0),e.qZA(),e.TgZ(6,"div",11),e._UZ(7,"bubble-illustration-18"),e.qZA(),e.BQk()),2&t){const n=e.oxw(3);e.xp6(4),e.Q6J("ngIf",n.isInterview),e.xp6(1),e.Q6J("ngIf",!n.isInterview)}}function xz(t,r){1&t&&(e.ynx(0),e._UZ(1,"div",23)(2,"div",23),e.BQk())}function yz(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"*"),e.qZA())}function bz(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",33)(2,"star-rating",34),e.NdJ("updateRating",function(a){e.CHM(n);const o=e.oxw().index;return e.oxw(6).updateStarRating(o,a.toString())}),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw().index;e.xp6(2),e.Q6J("identifier","feedback-"+n)("rating",0)}}function wz(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",38),e.NdJ("click",function(){const o=e.CHM(n).index,c=e.oxw(2).index,d=e.oxw(6);return d.optionClicked(c,o,d.QuestionTypeEnum.OBJECTIVE)}),e.TgZ(1,"div",39),e._UZ(2,"input",40),e.TgZ(3,"label"),e._uU(4),e.qZA()()()}if(2&t){const n=r.$implicit,i=r.index,a=e.oxw(2),o=a.index,c=a.$implicit;e.xp6(2),e.Q6J("name","option-"+o+"-"+i)("id","option"+i)("checked",c.value.selectedIndices[i]?"checked":""),e.xp6(2),e.Oqu(n)}}function Cz(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",35)(2,"div",36),e._UZ(3,"label"),e.YNc(4,wz,5,4,"div",37),e.qZA()(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(4),e.Q6J("ngForOf",n.value.option)}}function Mz(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",38),e.NdJ("click",function(){const o=e.CHM(n).index,c=e.oxw(2).index,d=e.oxw(6);return d.optionClicked(c,o,d.QuestionTypeEnum.MULTIPLE)}),e.TgZ(1,"div",41),e._UZ(2,"input",42),e.TgZ(3,"label"),e._uU(4),e.qZA()()()}if(2&t){const n=r.$implicit,i=r.index,a=e.oxw(2),o=a.index,c=a.$implicit;e.xp6(2),e.Q6J("name","option-"+o+"-"+i)("id","option"+i)("checked",c.value.selectedIndices[i]?"checked":""),e.xp6(2),e.Oqu(n)}}function Sz(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",35)(2,"div",36),e._UZ(3,"label"),e.YNc(4,Mz,5,4,"div",37),e.qZA()(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(4),e.Q6J("ngForOf",n.value.option)}}function Nz(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",43)(2,"div",44),e._UZ(3,"label")(4,"textarea",45),e.qZA()(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(4),e.Q6J("ngrxFormControlState",n.controls.answer)}}function Az(t,r){1&t&&(e.TgZ(0,"div",46),e._uU(1," This is a required question "),e.qZA())}function Tz(t,r){if(1&t&&(e.TgZ(0,"div",29)(1,"div",30)(2,"div",31),e._uU(3),e.YNc(4,yz,2,0,"span",0),e.qZA(),e.TgZ(5,"div"),e.YNc(6,bz,3,2,"ng-container",0),e.YNc(7,Cz,5,1,"ng-container",0),e.YNc(8,Sz,5,1,"ng-container",0),e.YNc(9,Nz,5,1,"ng-container",0),e.qZA(),e.YNc(10,Az,2,0,"div",32),e.qZA()()),2&t){const n=r.$implicit,i=r.index,a=e.oxw(6);e.Q6J("id","feedback-question-"+i),e.xp6(3),e.hij(" ",n.value.question," "),e.xp6(1),e.Q6J("ngIf",n.value.required),e.xp6(2),e.Q6J("ngIf",n.value.type_of_question===a.QuestionTypeEnum.STAR),e.xp6(1),e.Q6J("ngIf",n.value.type_of_question===a.QuestionTypeEnum.OBJECTIVE),e.xp6(1),e.Q6J("ngIf",n.value.type_of_question===a.QuestionTypeEnum.MULTIPLE),e.xp6(1),e.Q6J("ngIf",n.value.type_of_question===a.QuestionTypeEnum.TEXT),e.xp6(1),e.Q6J("ngIf",n.errors._answer||n.errors.missing)}}const Iz=function(t){return{loading:t}};function Ez(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",24),e._uU(2," How did we do? Please give us your feedback, so we can improve your experience "),e.qZA(),e.YNc(3,Tz,11,8,"div",25),e.TgZ(4,"div",26),e._uU(5,"* Required fields"),e.qZA(),e.TgZ(6,"div",27)(7,"button",28),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).validateForm()}),e._uU(8," Submit Feedback "),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw(5);e.xp6(3),e.Q6J("ngForOf",n.feedbackFormArray.controls)("ngForTrackBy",n.trackByFn),e.xp6(4),e.Q6J("ngClass",e.VKq(3,Iz,n.submitFeedbackApiStatus.state===n.ApiStateEnum.LOADING))}}function Oz(t,r){if(1&t&&(e.ynx(0),e.YNc(1,Ez,9,5,"ng-container",0),e.BQk()),2&t){const n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.quizDetails.feedbackModel.length)}}function kz(t,r){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,xz,3,0,"ng-container",0),e.YNc(2,Oz,2,1,"ng-container",0),e.qZA()),2&t){const n=e.oxw(2).ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",n.state===i.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.state===i.ApiStateEnum.LOADED)}}function Dz(t,r){1&t&&(e.TgZ(0,"div",50),e._uU(1," Looks like your feedback has already been submitted! "),e.qZA())}function qz(t,r){1&t&&(e.TgZ(0,"div",50),e._uU(1," Unable to submit your feedback, please try after some time. "),e.qZA())}function Pz(t,r){if(1&t&&(e.TgZ(0,"div",47),e.YNc(1,Dz,2,0,"div",48),e.YNc(2,qz,2,0,"ng-template",null,49,e.W1O),e.qZA()),2&t){const n=e.MAs(3),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf","feedback_already_submitted"===i.submitFeedbackApiStatus.error.errorCode)("ngIfElse",n)}}function Zz(t,r){1&t&&(e.TgZ(0,"div",47)(1,"div",51)(2,"div",52),e._uU(3,"Thank you!"),e.qZA(),e.TgZ(4,"div",53),e._uU(5,"Your response has been submitted"),e.qZA()()())}function Lz(t,r){if(1&t&&(e.ynx(0),e.YNc(1,fz,3,1,"div",14),e.TgZ(2,"landing-page-layout",7)(3,"div")(4,"div",15),e.YNc(5,gz,1,0,"div",16),e.YNc(6,_z,8,2,"ng-container",0),e.qZA(),e.YNc(7,kz,3,2,"div",17),e.YNc(8,Pz,4,2,"div",18),e.YNc(9,Zz,6,0,"div",18),e.qZA()(),e.BQk()),2&t){const n=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",n.state===i.ApiStateEnum.LOADED),e.xp6(1),e.Q6J("isLoading",n.state===i.ApiStateEnum.LOADING)("testLogo",i.clientLogo)("testBanner",i.clientBanner),e.xp6(3),e.Q6J("ngIf",n.state===i.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",n.state===i.ApiStateEnum.LOADED),e.xp6(1),e.Q6J("ngIf",i.submitFeedbackApiStatus.state===i.ApiStateEnum.NOTLOADED||i.submitFeedbackApiStatus.state===i.ApiStateEnum.LOADING),e.xp6(1),e.Q6J("ngIf",i.submitFeedbackApiStatus.state===i.ApiStateEnum.ERROR),e.xp6(1),e.Q6J("ngIf",i.submitFeedbackApiStatus.state===i.ApiStateEnum.LOADED)}}const Rz=function(t,r){return[t,r]};function Uz(t,r){if(1&t&&(e.ynx(0),e.YNc(1,mz,4,3,"ng-container",0),e.YNc(2,Lz,10,9,"ng-container",0),e.BQk()),2&t){const n=r.ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",n.state===i.ApiStateEnum.ERROR),e.xp6(1),e.Q6J("ngIf",e.WLB(2,Rz,i.ApiStateEnum.LOADING,i.ApiStateEnum.LOADED).includes(n.state))}}function Bz(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",54)(1,"div",55),e._uU(2," Congratulations on your efforts \u{1f389} "),e.TgZ(3,"div",56)(4,"div",57),e._uU(5),e.qZA(),e.O4$(),e.TgZ(6,"svg",58),e._UZ(7,"circle",59)(8,"circle",60),e.qZA()()(),e.kcU(),e.TgZ(9,"div"),e._UZ(10,"i",61)(11,"i",62),e.TgZ(12,"div",63)(13,"p",64),e._uU(14," This badge is awarded to recognize your efforts for solving challenges on the WeCP. We hope every problem you attempted would contribute in honing your problem solving skills. "),e.qZA(),e.TgZ(15,"p",65),e._uU(16," Share this badge on LinkedIn to highlight your\xa0passion for problem solving. "),e.qZA()()(),e.TgZ(17,"div",66)(18,"button",67),e.NdJ("click",function(){return e.CHM(n),e.oxw().sharePostOnLinkedIn()}),e.TgZ(19,"div",68)(20,"span",69),e.O4$(),e.TgZ(21,"svg",70),e._UZ(22,"path",71),e.qZA()(),e.kcU(),e.TgZ(23,"span",72),e._uU(24,"Share now"),e.qZA()()(),e.TgZ(25,"div",73),e._uU(26," *This badge does not guarantee candidate selection at any given time or place. "),e.qZA()()()}if(2&t){const n=e.oxw();e.Q6J("autofocus",!1)("show",n.showLinkedInShareModal),e.xp6(5),e.hij(" ",n.linkedInShareTimerCountdown," "),e.xp6(3),e.uIk("stroke-dashoffset",n.linkedInShareTimerCountdown/45*100/100*77.3908)}}const Y1=Vs;let la=class{constructor(r,n,i,a,o){this._store=r,this._sharedClient=n,this._testPortalService=i,this._activatedRoute=a,this.router=o,this.ApiStateEnum=he.V,this.QuestionTypeEnum=on,this.trackByFn=Qh,this.clientLogo="",this.clientBanner="",this.quizName="",this.isInterview=!1,this.quizNomenclature="",this.quizNomenclatureLower="",this.linkedInShareTimerCountdown=45,this.showLinkedInShareModal=!1,this.redirectUrlTimeLeft=5,this.isPreviewTest=!1,this._sharedClient.showLoading=!1,this.initDataLoadState$=r.select(nz).pipe((0,oa.B)()),r.select(rz).pipe((0,Te.t)(this)).subscribe(c=>{this.feedbackFormArray=c}),r.select(iz).pipe((0,Te.t)(this)).subscribe(c=>{this.submitFeedbackApiStatus=c})}ngOnInit(){this.loadFeedbacks()}loadFeedbacks(){this._store.dispatch(T1()),this._testPortalService.getFeedbackForm(this._activatedRoute.snapshot.params.testId,(r,n)=>{if(r){if(this._store.dispatch(uu(r)),"test_ongoing"===r.errorType)return this.router.navigateByUrl(r.data.redirectionURL);this.reDirectUrlHandler()}else this.isPreviewTest=!!n.allowPreview,this.quizDetails=n,this.clientLogo=n.org.testLogo||"",this.clientBanner=n.org.testBanner||"",this.quizName=n.name||"",this.isInterview="interview"===n.class,this.quizNomenclature=n.org?.nomenclature?.quiz?n.org?.nomenclature?.quiz:"Test",this.quizNomenclatureLower=n.org?.nomenclature?.quiz?n.org?.nomenclature?.quiz:"test",this.anotherAttempt=n.retry>1,n.feedbackModel.length?this._store.dispatch(I1({feedbackQuestionArray:n.feedbackModel})):(this._store.dispatch(uu({errorMessage:"No feedback present",errorType:"no_feedback_found"})),this.reDirectUrlHandler())})}reDirectUrlHandler(){const r=setInterval(()=>{if(this.redirectUrlTimeLeft<=0){let n;return clearInterval(r),n=this.quizDetails?.redirectUrl&&""!==this.quizDetails?.redirectUrl?this.quizDetails.redirectUrl:this.getRandomWeCPSocialHandle(),void(window.electronAPI?(window.electronAPI.openExternal(n),window.electronAPI.closeTestWindow()):window.location.href=n)}this.redirectUrlTimeLeft-=1},1e3)}reDirectLinkedInUrlHandler(){const r=setInterval(()=>{if(this.linkedInShareTimerCountdown<=0){let n;return clearInterval(r),n=this.quizDetails?.redirectUrl&&""!==this.quizDetails?.redirectUrl?this.quizDetails.redirectUrl:this.getRandomWeCPSocialHandle(),void(window.electronAPI?(window.electronAPI.openExternal(n),window.electronAPI.closeTestWindow()):window.location.href=n)}this.linkedInShareTimerCountdown-=1},1e3)}sharePostOnLinkedIn(){const i=`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent("https://www.wecreateproblems.com/candidate-experience")}&text=${encodeURIComponent("#wecp #wecpbadge")}`;(0,kn.dS)("Earn Candidate badge",{action:"Share post on linkedIn to earn a candidate badge",testId:this._activatedRoute.snapshot.params.testId,quiz:this.quizDetails._id,org:this.quizDetails.org.name}),window.electronAPI?(window.electronAPI.openExternal(i),window.electronAPI.closeTestWindow()):window.open(i,"_blank")}getRandomWeCPSocialHandle(){return Fe[Math.floor(Math.random()*Fe.length)]}updateStarRating(r,n){this._store.dispatch(E1({questionIndex:r,rating:n}))}optionClicked(r,n,i){this._store.dispatch(O1({questionIndex:r,optionIndex:n,questionType:i}))}validateForm(){if(this._store.dispatch(k1()),this.feedbackFormArray.isInvalid){this._store.dispatch(D1());let r=Object.keys(this.feedbackFormArray.errors)[0].substring(1);$(`#feedback-question-${r}`)[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}else this.submitFeedbackForm()}submitFeedbackForm(){Y1.isFullscreen&&Y1.exit();const r=ee.P.deepClone(this.feedbackFormArray.value);r.forEach(a=>{delete a.required}),this._testPortalService.saveFeedback(this._activatedRoute.snapshot.params.testId,{qapairs:r,userId:this.quizDetails.user,quiz:this.quizDetails._id,org:this.quizDetails.org.name,group:this.quizDetails.group},(a,o)=>{a?this._store.dispatch(P1({error:a})):(this._store.dispatch(q1()),this.isPreviewTest||this.anotherAttempt?this.reDirectUrlHandler():(this.showLinkedInShareModal=!0,this.reDirectLinkedInUrlHandler()))})}};la.\u0275fac=function(r){return new(r||la)(e.Y36(J.yh),e.Y36(ao.h),e.Y36(ct.X),e.Y36(gt.gz),e.Y36(gt.F0))},la.\u0275cmp=e.Xpm({type:la,selectors:[["candidate-feedback"]],decls:3,vars:4,consts:[[4,"ngIf"],["class","ui tiny modal text-font-inter","modal-new","","style","width: min-content",3,"autofocus","show",4,"ngIf"],["leftSideCSS","bg-gray-100",3,"isLoading",4,"ngIf","ngIfElse"],["other_error",""],["leftSideCSS","bg-gray-100",3,"isLoading"],[1,"flex","items-center","text-gray-400","text-base"],["class","mobile-header quiz-name",4,"ngIf"],[3,"isLoading","testLogo","testBanner"],[1,"message-holder","padding-vertical-8"],[1,"congratulation-message","text-xl","font-weight-500"],[1,"message","text-3xl","font-weight-700","padding-top-12","break-word"],[1,"illustration-holder"],[1,"text-sm","text-gray-500","font-weight-500","margin-top-40"],[1,"mobile-header","quiz-name"],["class","mobile-header",4,"ngIf"],[1,"message-holder"],["class","pulse-loader","style","width: 100%; height: 50px",4,"ngIf"],["class","feedback-questions border-top margin-top-32",4,"ngIf"],["class","border-top margin-top-32",4,"ngIf"],[1,"mobile-header"],[1,"quiz-name","break-word"],[1,"pulse-loader",2,"width","100%","height","50px"],[1,"feedback-questions","border-top","margin-top-32"],[1,"pulse-loader","margin-top-32",2,"width","100%","height","150px"],[1,"feedback-questions-title","text-base","text-blue-600","font-weight-500","margin-top-32"],["class","margin-top-32",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-xs","font-weight-400","padding-vertical-24","float-right"],[1,"submit-button"],[1,"button","blue-button",3,"ngClass","click"],[1,"margin-top-32",3,"id"],[1,"feedback-questions-main"],[1,"text-sm","text-gray-600","font-weight-500"],["class","text-xs font-weight-500 text-orange-600",4,"ngIf"],[1,"ui","form","flex"],[3,"identifier","rating","updateRating"],[1,"ui","form"],[1,"grouped","fields"],["class","field padding-top-4",3,"click",4,"ngFor","ngForOf"],[1,"field","padding-top-4",3,"click"],[1,"ui","radio","checkbox"],["type","radio",3,"name","id","checked"],[1,"ui","checkbox"],["type","checkbox",3,"name","id","checked"],[1,"ui","form","padding-bottom-8"],[1,"field"],["rows","2",3,"ngrxFormControlState"],[1,"text-xs","font-weight-500","text-orange-600"],[1,"border-top","margin-top-32"],["class","text-base font-weight-500 text-orange-600 margin-top-32",4,"ngIf","ngIfElse"],["server_error",""],[1,"text-base","font-weight-500","text-orange-600","margin-top-32"],[1,"margin-top-32"],[1,"text-lg","font-weight-700","text-gray-500"],[1,"text-base","text-gray-400","font-weight-500"],["modal-new","",1,"ui","tiny","modal","text-font-inter",2,"width","min-content",3,"autofocus","show"],[1,"flex","padding-horizontal-24","padding-vertical-16","text-gray-900","font-weight-600","text-size-20","text-center","line-height-28"],[1,"linkedIn-share-timer","flex","margin-left-auto"],[1,"text","text-gray-900","font-weight-500","text-size-14","line-height-20"],["width","26.286px","height","26.286px","viewBox","0 0 26.286 26.286","fill","#F4F4F5","stroke-width","1.64286",1,"linkedIn-share-timer-svg"],["cx","13.1423","cy","13.1424","r","12.3214","stroke","#2563EB","stroke-width","1.64286"],["cx","13.1423","cy","13.1424","r","12.3214","stroke","#F4F4F5",1,"progress","two"],[1,"candidateBadgeGif","position-absolute"],[1,"candidateBadge",2,"width","599px","height","355px"],[1,"padding-horizontal-24"],[1,"text-size-14","line-height-160","font-weight-500","text-gray-900","margin-top-16"],[1,"text-size-14","line-height-160","font-weight-500","text-gray-900"],[1,"padding-horizontal-24","padding-vertical-16"],[1,"flex","width-100","button","linkedIn-button","rounded-4","items-center",3,"click"],[1,"flex","margin-horizontal-auto","flex-end"],[1,"linkedIn-icon","flex","fit-content-width","padding-right-4"],["xmlns","http://www.w3.org/2000/svg","width","17","height","17","viewBox","0 0 17 17","fill","none"],["d","M14.7687 1.14355C15.2044 1.14355 15.6223 1.31664 15.9304 1.62474C16.2385 1.93283 16.4116 2.3507 16.4116 2.78641V14.2864C16.4116 14.7221 16.2385 15.14 15.9304 15.4481C15.6223 15.7562 15.2044 15.9293 14.7687 15.9293H3.26871C2.833 15.9293 2.41513 15.7562 2.10704 15.4481C1.79894 15.14 1.62585 14.7221 1.62585 14.2864V2.78641C1.62585 2.3507 1.79894 1.93283 2.10704 1.62474C2.41513 1.31664 2.833 1.14355 3.26871 1.14355H14.7687ZM14.358 13.8757V9.52213C14.358 8.81191 14.0759 8.13079 13.5737 7.62859C13.0715 7.1264 12.3904 6.84427 11.6801 6.84427C10.9819 6.84427 10.1687 7.27141 9.77443 7.91213V7.00034H7.48264V13.8757H9.77443V9.82605C9.77443 9.19355 10.2837 8.67605 10.9162 8.67605C11.2212 8.67605 11.5137 8.79721 11.7294 9.01288C11.9451 9.22855 12.0662 9.52106 12.0662 9.82605V13.8757H14.358ZM4.813 5.7107C5.179 5.7107 5.53 5.56531 5.78881 5.30651C6.04761 5.0477 6.193 4.6967 6.193 4.3307C6.193 3.56677 5.57693 2.94248 4.813 2.94248C4.44482 2.94248 4.09172 3.08874 3.83138 3.34908C3.57104 3.60942 3.42478 3.96252 3.42478 4.3307C3.42478 5.09463 4.04907 5.7107 4.813 5.7107ZM5.95478 13.8757V7.00034H3.67943V13.8757H5.95478Z","fill","white"],[1,"flex","font-weight-600","text-center","text-white","margin-left-4"],[1,"text-size-12","font-weight-400","text-gray-500","text-center","margin-top-8"]],template:function(r,n){1&r&&(e.YNc(0,Uz,3,5,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Bz,27,4,"div",1)),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,n.initDataLoadState$)),e.xp6(2),e.Q6J("ngIf",!n.isInterview&&n.showLinkedInShareModal))},directives:[Ue.O5,Is.U,az,Ue.sg,oz.T,xe.i6,xe.CR,xe.I_,Ue.mk,di.m],pipes:[Ue.Ov],styles:["*[_ngcontent-%COMP%]:not(i){font-family:Inter!important}.cover-photo[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.border-top[_ngcontent-%COMP%]{border-top:1px solid var(--gray-200)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:inherit!important}.ui.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .ui.checkbox[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{height:22px!important;width:22px!important}.ui.radio.checkbox[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before, .ui.radio.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before, .ui.checkbox[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before, .ui.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{height:20px!important;width:20px!important}.ui.radio.checkbox[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .ui.radio.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{background-color:var(--blue-600)!important;height:20px!important;width:20px!important;transform:scale(.5)}.ui.radio.checkbox[_ngcontent-%COMP%]{min-height:22px}.ui.checkbox[_ngcontent-%COMP%]{line-height:22px}.ui.radio.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:2.5em}.ui.checkbox[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .ui.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{height:20px!important;width:20px!important;transform:scale(.86666667)}.ui.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{color:var(--blue-600)}.illustration-container[_ngcontent-%COMP%]{margin:auto;min-width:300px}.quiz-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin-left:40px;margin-right:40px}.client-logo-holder[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px;padding-top:24px!important;padding-bottom:8px!important}.ui.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.submit-button[_ngcontent-%COMP%]{padding-top:40px}@media only screen and (max-width: 800px){landing-page-layout[_ngcontent-%COMP%]     .client-logo-container{display:none}.left-side[_ngcontent-%COMP%]{width:100%;display:flex}.content[_ngcontent-%COMP%]{margin:auto}.right-side[_ngcontent-%COMP%]{display:none}.feedback-questions-holder[_ngcontent-%COMP%]{margin-top:5%;display:initial}.client-logo-holder[_ngcontent-%COMP%]{display:none}.mobile-header[_ngcontent-%COMP%]{height:50px;min-height:50px;background-color:var(--gray-700);color:#fafafa;display:flex;align-items:center;justify-content:center;width:100%;top:0;position:fixed;z-index:10}.congratulation-message[_ngcontent-%COMP%]{font-size:16px;line-height:24px;text-align:center}.message[_ngcontent-%COMP%]{font-size:20px;line-height:30px;color:#16a34a;text-align:center}.illustration-holder[_ngcontent-%COMP%]{height:150px;width:150px;margin:auto}.message-holder[_ngcontent-%COMP%]{margin-top:50px}}@media only screen and (min-width: 800px) and (max-width: 1200px){.left-side[_ngcontent-%COMP%]{width:50%;margin-right:4px}.right-side[_ngcontent-%COMP%]{width:50%}.mobile-header[_ngcontent-%COMP%], .illustration-holder[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 1200px){.left-side[_ngcontent-%COMP%]{width:50%;margin-right:4px}.right-side[_ngcontent-%COMP%]{width:50%}.mobile-header[_ngcontent-%COMP%], .illustration-holder[_ngcontent-%COMP%]{display:none}.feedback-questions-title[_ngcontent-%COMP%]{width:70%}}.line-height-28[_ngcontent-%COMP%]{line-height:28px}.linkedIn-button[_ngcontent-%COMP%]{background:#0b66c2;box-shadow:0 .821px 2.464px #0000001a,0 .821px 1.643px #0000000f;font-size:15px}.linkedIn-icon[_ngcontent-%COMP%]{border-right:1px solid white}.candidateBadgeGif[_ngcontent-%COMP%]{width:110px;height:210px;left:37.5%;margin-top:10px}.timer[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border:1.7px solid #fff;clip:rect(0,100px,200px,0);transition:border-color 1s ease}.timer-container[_ngcontent-%COMP%]{position:relative;width:26.286px;height:26.286px}.linkedIn-share-timer[_ngcontent-%COMP%]{display:inline-block;position:relative}.linkedIn-share-timer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:10px;text-align:center;font-weight:500;line-height:15px}.linkedIn-share-timer-svg[_ngcontent-%COMP%]{display:block;margin:auto;overflow:visible}.linkedIn-share-timer[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{fill:none;stroke-width:2px;stroke:#a1a1aa}.linkedIn-share-timer[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{fill:none;stroke-width:1.64286;stroke-linecap:round;stroke-dasharray:77.3908;transform:rotate(-90deg);transform-origin:center;transition:stroke .5s ease}"]}),la=(0,fe.gn)([(0,Te.c)()],la);var $1=ke(84401);const Fz=[{path:"",component:St,children:[{path:"",redirectTo:"/error/404",pathMatch:"full"},{path:"diagnostics",component:(()=>{class t{constructor(n,i,a){this._testPortalService=n,this._sharedClient=i,this._activatedRoute=a,this.ApiStateEnum=he.V,this.recoverApiInfo={state:he.V.LOADING},this.isMobile=!1,this._sharedClient.showLoading=!1,this._sharedClient.showHeaderLoading=!1}ngOnInit(){return(0,Le.Z)(function*(){})()}checkMobile(){var n=this;return(0,Le.Z)(function*(){try{return(yield n.loadDetectRTC()).isMobileDevice}catch(i){return console.error(JSON.stringify(i)),!1}})()}recover(n){var i=this;return(0,Le.Z)(function*(){i.recoverApiInfo={state:he.V.LOADING};try{const a=i.getLocalStorageData(),o=yield i.getS3Link(n);yield i.uploadToS3(a,o.url,o.key),setTimeout(()=>{i.recoverApiInfo={state:he.V.LOADED}},1e4)}catch(a){console.error(JSON.stringify(a)),i.recoverApiInfo={state:he.V.ERROR,error:{errorCode:"unknown",errorMessage:"Failed to recover data"}}}})()}loadDetectRTC(){return new Promise((n,i)=>{$1.load(()=>{n($1)})})}getLocalStorageData(){const n={};for(let i of Object.keys(localStorage))n[i]=localStorage.getItem(i);return n}getS3Link(n){const c={key:`tests-recovery/${ee.P.isEmpty(n)?`random-${ee.P.getRandomString(32)}`:n}`,contentType:"application/json"};return new Promise((d,s)=>{this._testPortalService.generateWriteSignatureForRecovery((p,l)=>{l?s(l):d({url:p.url,key:p.key})},c)})}uploadToS3(n,i,a){const o=new File([JSON.stringify(n)],`${a}.json`,{type:"application/json"});return fetch(i,{method:"PUT",body:o})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(ct.X),e.Y36(ao.h),e.Y36(gt.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["diagnostic"]],decls:4,vars:2,consts:[[3,"isLoading","testLogo"],[1,"margin-vertical-auto","text-font-inter"],[1,"text-red-600"]],template:function(n,i){1&n&&(e.TgZ(0,"landing-page-layout",0)(1,"div",1)(2,"div",2),e._uU(3,"This link has expired."),e.qZA()()()),2&n&&e.Q6J("isLoading",!1)("testLogo","https://assets.wecreateproblems.com/testLogo/infosys/Neha18OQOn8")},directives:[Is.U],styles:[""]}),t})()},{path:":quizOrInviteId/instructions",component:ua},{path:":testId",component:ea,resolve:{data:Th}},{path:":testId/feedback",component:la},{path:":testId/proctor",component:tR,resolve:{data:Ih}}]}];let zz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Th,Ih,Zs.I,zo.d,hu],imports:[[Ue.ez,Qe.u5,be.m,Hs.Tm,Xe.fX,gt.Bz.forChild(Fz),J.Aw.forRoot(hU),ML.FT.instrument({maxAge:25,logOnly:z.N.production}),xe.j9,Zu.G$,Js._t],gt.Bz]}),t})()},93298:function(xn,Pt){var gt;!function(Ue){"use strict";var Qe=Math.cosh||function(z){return Math.abs(z)<1e-9?1-z:.5*(Math.exp(z)+Math.exp(-z))},be=Math.sinh||function(z){return Math.abs(z)<1e-9?z:.5*(Math.exp(z)-Math.exp(-z))},ct=function(){throw SyntaxError("Invalid Param")};function St(z,Y){var F=Math.abs(z),Q=Math.abs(Y);return 0===z?Math.log(Q):0===Y?Math.log(F):F<3e3&&Q<3e3?.5*Math.log(z*z+Y*Y):(z/=2,Y/=2,.5*Math.log(z*z+Y*Y)+Math.LN2)}function fe(z,Y){if(!(this instanceof fe))return new fe(z,Y);var F=function(z,Y){var F={re:0,im:0};if(null==z)F.re=F.im=0;else if(void 0!==Y)F.re=z,F.im=Y;else switch(typeof z){case"object":if("im"in z&&"re"in z)F.re=z.re,F.im=z.im;else if("abs"in z&&"arg"in z){if(!Number.isFinite(z.abs)&&Number.isFinite(z.arg))return fe.INFINITY;F.re=z.abs*Math.cos(z.arg),F.im=z.abs*Math.sin(z.arg)}else if("r"in z&&"phi"in z){if(!Number.isFinite(z.r)&&Number.isFinite(z.phi))return fe.INFINITY;F.re=z.r*Math.cos(z.phi),F.im=z.r*Math.sin(z.phi)}else 2===z.length?(F.re=z[0],F.im=z[1]):ct();break;case"string":F.im=F.re=0;var Q=z.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),H=1,me=0;null===Q&&ct();for(var te=0;te<Q.length;te++){var xe=Q[te];" "===xe||"\t"===xe||"\n"===xe||("+"===xe?H++:"-"===xe?me++:"i"===xe||"I"===xe?(H+me===0&&ct()," "===Q[te+1]||isNaN(Q[te+1])?F.im+=parseFloat((me%2?"-":"")+"1"):(F.im+=parseFloat((me%2?"-":"")+Q[te+1]),te++),H=me=0):((H+me===0||isNaN(xe))&&ct(),"i"===Q[te+1]||"I"===Q[te+1]?(F.im+=parseFloat((me%2?"-":"")+xe),te++):F.re+=parseFloat((me%2?"-":"")+xe),H=me=0))}H+me>0&&ct();break;case"number":F.im=0,F.re=z;break;default:ct()}return isNaN(F.re)||isNaN(F.im),F}(z,Y);this.re=F.re,this.im=F.im}fe.prototype={re:0,im:0,sign:function(){var z=this.abs();return new fe(this.re/z,this.im/z)},add:function(z,Y){var F=new fe(z,Y);return this.isInfinite()&&F.isInfinite()?fe.NAN:this.isInfinite()||F.isInfinite()?fe.INFINITY:new fe(this.re+F.re,this.im+F.im)},sub:function(z,Y){var F=new fe(z,Y);return this.isInfinite()&&F.isInfinite()?fe.NAN:this.isInfinite()||F.isInfinite()?fe.INFINITY:new fe(this.re-F.re,this.im-F.im)},mul:function(z,Y){var F=new fe(z,Y);return this.isInfinite()&&F.isZero()||this.isZero()&&F.isInfinite()?fe.NAN:this.isInfinite()||F.isInfinite()?fe.INFINITY:0===F.im&&0===this.im?new fe(this.re*F.re,0):new fe(this.re*F.re-this.im*F.im,this.re*F.im+this.im*F.re)},div:function(z,Y){var F=new fe(z,Y);if(this.isZero()&&F.isZero()||this.isInfinite()&&F.isInfinite())return fe.NAN;if(this.isInfinite()||F.isZero())return fe.INFINITY;if(this.isZero()||F.isInfinite())return fe.ZERO;z=this.re,Y=this.im;var me,te,Q=F.re,H=F.im;return 0===H?new fe(z/Q,Y/Q):Math.abs(Q)<Math.abs(H)?new fe((z*(te=Q/H)+Y)/(me=Q*te+H),(Y*te-z)/me):new fe((z+Y*(te=H/Q))/(me=H*te+Q),(Y-z*te)/me)},pow:function(z,Y){var F=new fe(z,Y);if(z=this.re,Y=this.im,F.isZero())return fe.ONE;if(0===F.im){if(0===Y&&z>0)return new fe(Math.pow(z,F.re),0);if(0===z)switch((F.re%4+4)%4){case 0:return new fe(Math.pow(Y,F.re),0);case 1:return new fe(0,Math.pow(Y,F.re));case 2:return new fe(-Math.pow(Y,F.re),0);case 3:return new fe(0,-Math.pow(Y,F.re))}}if(0===z&&0===Y&&F.re>0&&F.im>=0)return fe.ZERO;var Q=Math.atan2(Y,z),H=St(z,Y);return z=Math.exp(F.re*H-F.im*Q),Y=F.im*H+F.re*Q,new fe(z*Math.cos(Y),z*Math.sin(Y))},sqrt:function(){var Q,H,z=this.re,Y=this.im,F=this.abs();if(z>=0){if(0===Y)return new fe(Math.sqrt(z),0);Q=.5*Math.sqrt(2*(F+z))}else Q=Math.abs(Y)/Math.sqrt(2*(F-z));return H=z<=0?.5*Math.sqrt(2*(F-z)):Math.abs(Y)/Math.sqrt(2*(F+z)),new fe(Q,Y<0?-H:H)},exp:function(){var z=Math.exp(this.re);return new fe(z*Math.cos(this.im),z*Math.sin(this.im))},expm1:function(){var z=this.re,Y=this.im;return new fe(Math.expm1(z)*Math.cos(Y)+function(z){var Y=Math.PI/4;if(-Y>z||z>Y)return Math.cos(z)-1;var F=z*z;return F*(F*(F*(F*(F*(F*(F*(F/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(Y),Math.exp(z)*Math.sin(Y))},log:function(){var z=this.re,Y=this.im;return new fe(St(z,Y),Math.atan2(Y,z))},abs:function(){return z=this.re,Y=this.im,F=Math.abs(z),Q=Math.abs(Y),F<3e3&&Q<3e3?Math.sqrt(F*F+Q*Q):(F<Q?(F=Q,Q=z/Y):Q=Y/z,F*Math.sqrt(1+Q*Q));var z,Y,F,Q},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var z=this.re,Y=this.im;return new fe(Math.sin(z)*Qe(Y),Math.cos(z)*be(Y))},cos:function(){var z=this.re,Y=this.im;return new fe(Math.cos(z)*Qe(Y),-Math.sin(z)*be(Y))},tan:function(){var z=2*this.re,Y=2*this.im,F=Math.cos(z)+Qe(Y);return new fe(Math.sin(z)/F,be(Y)/F)},cot:function(){var z=2*this.re,Y=2*this.im,F=Math.cos(z)-Qe(Y);return new fe(-Math.sin(z)/F,be(Y)/F)},sec:function(){var z=this.re,Y=this.im,F=.5*Qe(2*Y)+.5*Math.cos(2*z);return new fe(Math.cos(z)*Qe(Y)/F,Math.sin(z)*be(Y)/F)},csc:function(){var z=this.re,Y=this.im,F=.5*Qe(2*Y)-.5*Math.cos(2*z);return new fe(Math.sin(z)*Qe(Y)/F,-Math.cos(z)*be(Y)/F)},asin:function(){var z=this.re,Y=this.im,F=new fe(Y*Y-z*z+1,-2*z*Y).sqrt(),Q=new fe(F.re-Y,F.im+z).log();return new fe(Q.im,-Q.re)},acos:function(){var z=this.re,Y=this.im,F=new fe(Y*Y-z*z+1,-2*z*Y).sqrt(),Q=new fe(F.re-Y,F.im+z).log();return new fe(Math.PI/2-Q.im,Q.re)},atan:function(){var z=this.re,Y=this.im;if(0===z){if(1===Y)return new fe(0,1/0);if(-1===Y)return new fe(0,-1/0)}var F=z*z+(1-Y)*(1-Y),Q=new fe((1-Y*Y-z*z)/F,-2*z/F).log();return new fe(-.5*Q.im,.5*Q.re)},acot:function(){var z=this.re,Y=this.im;if(0===Y)return new fe(Math.atan2(1,z),0);var F=z*z+Y*Y;return 0!==F?new fe(z/F,-Y/F).atan():new fe(0!==z?z/0:0,0!==Y?-Y/0:0).atan()},asec:function(){var z=this.re,Y=this.im;if(0===z&&0===Y)return new fe(0,1/0);var F=z*z+Y*Y;return 0!==F?new fe(z/F,-Y/F).acos():new fe(0!==z?z/0:0,0!==Y?-Y/0:0).acos()},acsc:function(){var z=this.re,Y=this.im;if(0===z&&0===Y)return new fe(Math.PI/2,1/0);var F=z*z+Y*Y;return 0!==F?new fe(z/F,-Y/F).asin():new fe(0!==z?z/0:0,0!==Y?-Y/0:0).asin()},sinh:function(){var z=this.re,Y=this.im;return new fe(be(z)*Math.cos(Y),Qe(z)*Math.sin(Y))},cosh:function(){var z=this.re,Y=this.im;return new fe(Qe(z)*Math.cos(Y),be(z)*Math.sin(Y))},tanh:function(){var z=2*this.re,Y=2*this.im,F=Qe(z)+Math.cos(Y);return new fe(be(z)/F,Math.sin(Y)/F)},coth:function(){var z=2*this.re,Y=2*this.im,F=Qe(z)-Math.cos(Y);return new fe(be(z)/F,-Math.sin(Y)/F)},csch:function(){var z=this.re,Y=this.im,F=Math.cos(2*Y)-Qe(2*z);return new fe(-2*be(z)*Math.cos(Y)/F,2*Qe(z)*Math.sin(Y)/F)},sech:function(){var z=this.re,Y=this.im,F=Math.cos(2*Y)+Qe(2*z);return new fe(2*Qe(z)*Math.cos(Y)/F,-2*be(z)*Math.sin(Y)/F)},asinh:function(){var z=this.im;this.im=-this.re,this.re=z;var Y=this.asin();return this.re=-this.im,this.im=z,z=Y.re,Y.re=-Y.im,Y.im=z,Y},acosh:function(){var z=this.acos();if(z.im<=0){var Y=z.re;z.re=-z.im,z.im=Y}else Y=z.im,z.im=-z.re,z.re=Y;return z},atanh:function(){var z=this.re,Y=this.im,F=z>1&&0===Y,Q=1-z,H=1+z,me=Q*Q+Y*Y,te=0!==me?new fe((H*Q-Y*Y)/me,(Y*Q+H*Y)/me):new fe(-1!==z?z/0:0,0!==Y?Y/0:0),xe=te.re;return te.re=St(te.re,te.im)/2,te.im=Math.atan2(te.im,xe)/2,F&&(te.im=-te.im),te},acoth:function(){var z=this.re,Y=this.im;if(0===z&&0===Y)return new fe(0,Math.PI/2);var F=z*z+Y*Y;return 0!==F?new fe(z/F,-Y/F).atanh():new fe(0!==z?z/0:0,0!==Y?-Y/0:0).atanh()},acsch:function(){var z=this.re,Y=this.im;if(0===Y)return new fe(0!==z?Math.log(z+Math.sqrt(z*z+1)):1/0,0);var F=z*z+Y*Y;return 0!==F?new fe(z/F,-Y/F).asinh():new fe(0!==z?z/0:0,0!==Y?-Y/0:0).asinh()},asech:function(){var z=this.re,Y=this.im;if(this.isZero())return fe.INFINITY;var F=z*z+Y*Y;return 0!==F?new fe(z/F,-Y/F).acosh():new fe(0!==z?z/0:0,0!==Y?-Y/0:0).acosh()},inverse:function(){if(this.isZero())return fe.INFINITY;if(this.isInfinite())return fe.ZERO;var z=this.re,Y=this.im,F=z*z+Y*Y;return new fe(z/F,-Y/F)},conjugate:function(){return new fe(this.re,-this.im)},neg:function(){return new fe(-this.re,-this.im)},ceil:function(z){return z=Math.pow(10,z||0),new fe(Math.ceil(this.re*z)/z,Math.ceil(this.im*z)/z)},floor:function(z){return z=Math.pow(10,z||0),new fe(Math.floor(this.re*z)/z,Math.floor(this.im*z)/z)},round:function(z){return z=Math.pow(10,z||0),new fe(Math.round(this.re*z)/z,Math.round(this.im*z)/z)},equals:function(z,Y){var F=new fe(z,Y);return Math.abs(F.re-this.re)<=fe.EPSILON&&Math.abs(F.im-this.im)<=fe.EPSILON},clone:function(){return new fe(this.re,this.im)},toString:function(){var z=this.re,Y=this.im,F="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(z)<fe.EPSILON&&(z=0),Math.abs(Y)<fe.EPSILON&&(Y=0),0===Y?F+z:(0!==z?(F+=z,F+=" ",Y<0?(Y=-Y,F+="-"):F+="+",F+=" "):Y<0&&(Y=-Y,F+="-"),1!==Y&&(F+=Y),F+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},fe.ZERO=new fe(0,0),fe.ONE=new fe(1,0),fe.I=new fe(0,1),fe.PI=new fe(Math.PI,0),fe.E=new fe(Math.E,0),fe.INFINITY=new fe(1/0,1/0),fe.NAN=new fe(NaN,NaN),fe.EPSILON=1e-15,void 0!==(gt=function(){return fe}.apply(Pt,[]))&&(xn.exports=gt)}()},18992:function(xn,Pt,ke){var gt;!function(Ue){"use strict";var Le,fe,Y,Qe=9e15,be=1e9,Xe="0123456789abcdef",e="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ct="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",St={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Qe,maxE:Qe,crypto:!1},F=!0,Q="[DecimalError] ",H=Q+"Invalid argument: ",me=Q+"Precision limit exceeded",te=Q+"crypto unavailable",xe="[object Decimal]",he=Math.floor,Fe=Math.pow,Yt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,At=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,on=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ot=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$e=1e7,mn=e.length-1,lr=ct.length-1,qe={toStringTag:xe};function sn(C){var I,k,q,L=C.length-1,R="",K=C[0];if(L>0){for(R+=K,I=1;I<L;I++)(k=7-(q=C[I]+"").length)&&(R+=or(k)),R+=q;(k=7-(q=(K=C[I])+"").length)&&(R+=or(k))}else if(0===K)return"0";for(;K%10==0;)K/=10;return R+K}function Sn(C,I,k){if(C!==~~C||C<I||C>k)throw Error(H+C)}function Dr(C,I,k,q){var L,R,K,ae;for(R=C[0];R>=10;R/=10)--I;return--I<0?(I+=7,L=0):(L=Math.ceil((I+1)/7),I%=7),R=Fe(10,7-I),ae=C[L]%R|0,null==q?I<3?(0==I?ae=ae/100|0:1==I&&(ae=ae/10|0),K=k<4&&99999==ae||k>3&&49999==ae||5e4==ae||0==ae):K=(k<4&&ae+1==R||k>3&&ae+1==R/2)&&(C[L+1]/R/100|0)==Fe(10,I-2)-1||(ae==R/2||0==ae)&&0==(C[L+1]/R/100|0):I<4?(0==I?ae=ae/1e3|0:1==I?ae=ae/100|0:2==I&&(ae=ae/10|0),K=(q||k<4)&&9999==ae||!q&&k>3&&4999==ae):K=((q||k<4)&&ae+1==R||!q&&k>3&&ae+1==R/2)&&(C[L+1]/R/1e3|0)==Fe(10,I-3)-1,K}function qr(C,I,k){for(var q,R,L=[0],K=0,ae=C.length;K<ae;){for(R=L.length;R--;)L[R]*=I;for(L[0]+=Xe.indexOf(C.charAt(K++)),q=0;q<L.length;q++)L[q]>k-1&&(void 0===L[q+1]&&(L[q+1]=0),L[q+1]+=L[q]/k|0,L[q]%=k)}return L.reverse()}qe.absoluteValue=qe.abs=function(){var C=new this.constructor(this);return C.s<0&&(C.s=1),et(C)},qe.ceil=function(){return et(new this.constructor(this),this.e+1,2)},qe.clampedTo=qe.clamp=function(C,I){var q=this,L=q.constructor;if(C=new L(C),I=new L(I),!C.s||!I.s)return new L(NaN);if(C.gt(I))throw Error(H+I);return q.cmp(C)<0?C:q.cmp(I)>0?I:new L(q)},qe.comparedTo=qe.cmp=function(C){var I,k,q,L,R=this,K=R.d,ae=(C=new R.constructor(C)).d,ue=R.s,se=C.s;if(!K||!ae)return ue&&se?ue!==se?ue:K===ae?0:!K^ue<0?1:-1:NaN;if(!K[0]||!ae[0])return K[0]?ue:ae[0]?-se:0;if(ue!==se)return ue;if(R.e!==C.e)return R.e>C.e^ue<0?1:-1;for(I=0,k=(q=K.length)<(L=ae.length)?q:L;I<k;++I)if(K[I]!==ae[I])return K[I]>ae[I]^ue<0?1:-1;return q===L?0:q>L^ue<0?1:-1},qe.cosine=qe.cos=function(){var C,I,k=this,q=k.constructor;return k.d?k.d[0]?(I=q.rounding,q.precision=(C=q.precision)+Math.max(k.e,k.sd())+7,q.rounding=1,k=function ma(C,I){var k,q,L;if(I.isZero())return I;(q=I.d.length)<32?L=(1/Mr(4,k=Math.ceil(q/3))).toString():(k=16,L="2.3283064365386962890625e-10"),C.precision+=k,I=Vn(C,1,I.times(L),new C(1));for(var R=k;R--;){var K=I.times(I);I=K.times(K).minus(K).times(8).plus(1)}return C.precision-=k,I}(q,Sr(q,k)),q.precision=C,q.rounding=I,et(2==Y||3==Y?k.neg():k,C,I,!0)):new q(1):new q(NaN)},qe.cubeRoot=qe.cbrt=function(){var C,I,k,q,L,R,K,ae,ue,se,ge=this,Se=ge.constructor;if(!ge.isFinite()||ge.isZero())return new Se(ge);for(F=!1,(R=ge.s*Fe(ge.s*ge,1/3))&&Math.abs(R)!=1/0?q=new Se(R.toString()):(k=sn(ge.d),(R=((C=ge.e)-k.length+1)%3)&&(k+=1==R||-2==R?"0":"00"),R=Fe(k,1/3),C=he((C+1)/3)-(C%3==(C<0?-1:2)),(q=new Se(k=R==1/0?"5e"+C:(k=R.toExponential()).slice(0,k.indexOf("e")+1)+C)).s=ge.s),K=(C=Se.precision)+3;;)if(se=(ue=(ae=q).times(ae).times(ae)).plus(ge),q=Vt(se.plus(ge).times(ae),se.plus(ue),K+2,1),sn(ae.d).slice(0,K)===(k=sn(q.d)).slice(0,K)){if("9999"!=(k=k.slice(K-3,K+1))&&(L||"4999"!=k)){(!+k||!+k.slice(1)&&"5"==k.charAt(0))&&(et(q,C+1,1),I=!q.times(q).times(q).eq(ge));break}if(!L&&(et(ae,C+1,0),ae.times(ae).times(ae).eq(ge))){q=ae;break}K+=4,L=1}return F=!0,et(q,C,Se.rounding,I)},qe.decimalPlaces=qe.dp=function(){var C,I=this.d,k=NaN;if(I){if(k=7*((C=I.length-1)-he(this.e/7)),C=I[C])for(;C%10==0;C/=10)k--;k<0&&(k=0)}return k},qe.dividedBy=qe.div=function(C){return Vt(this,new this.constructor(C))},qe.dividedToIntegerBy=qe.divToInt=function(C){var k=this.constructor;return et(Vt(this,new k(C),0,1,1),k.precision,k.rounding)},qe.equals=qe.eq=function(C){return 0===this.cmp(C)},qe.floor=function(){return et(new this.constructor(this),this.e+1,3)},qe.greaterThan=qe.gt=function(C){return this.cmp(C)>0},qe.greaterThanOrEqualTo=qe.gte=function(C){var I=this.cmp(C);return 1==I||0===I},qe.hyperbolicCosine=qe.cosh=function(){var C,I,k,q,L,R=this,K=R.constructor,ae=new K(1);if(!R.isFinite())return new K(R.s?1/0:NaN);if(R.isZero())return ae;q=K.rounding,K.precision=(k=K.precision)+Math.max(R.e,R.sd())+4,K.rounding=1,(L=R.d.length)<32?I=(1/Mr(4,C=Math.ceil(L/3))).toString():(C=16,I="2.3283064365386962890625e-10"),R=Vn(K,1,R.times(I),new K(1),!0);for(var ue,se=C,ge=new K(8);se--;)ue=R.times(R),R=ae.minus(ue.times(ge.minus(ue.times(ge))));return et(R,K.precision=k,K.rounding=q,!0)},qe.hyperbolicSine=qe.sinh=function(){var C,I,k,q,L=this,R=L.constructor;if(!L.isFinite()||L.isZero())return new R(L);if(k=R.rounding,R.precision=(I=R.precision)+Math.max(L.e,L.sd())+4,R.rounding=1,(q=L.d.length)<3)L=Vn(R,2,L,L,!0);else{C=1.4*Math.sqrt(q),L=Vn(R,2,L=L.times(1/Mr(5,C=C>16?16:0|C)),L,!0);for(var K,ae=new R(5),ue=new R(16),se=new R(20);C--;)K=L.times(L),L=L.times(ae.plus(K.times(ue.times(K).plus(se))))}return R.precision=I,R.rounding=k,et(L,I,k,!0)},qe.hyperbolicTangent=qe.tanh=function(){var C,I,k=this,q=k.constructor;return k.isFinite()?k.isZero()?new q(k):(I=q.rounding,q.precision=(C=q.precision)+7,q.rounding=1,Vt(k.sinh(),k.cosh(),q.precision=C,q.rounding=I)):new q(k.s)},qe.inverseCosine=qe.acos=function(){var C,I=this,k=I.constructor,q=I.abs().cmp(1),L=k.precision,R=k.rounding;return-1!==q?0===q?I.isNeg()?Zn(k,L,R):new k(0):new k(NaN):I.isZero()?Zn(k,L+4,R).times(.5):(k.precision=L+6,k.rounding=1,I=I.asin(),C=Zn(k,L+4,R).times(.5),k.precision=L,k.rounding=R,C.minus(I))},qe.inverseHyperbolicCosine=qe.acosh=function(){var C,I,k=this,q=k.constructor;return k.lte(1)?new q(k.eq(1)?0:NaN):k.isFinite()?(I=q.rounding,q.precision=(C=q.precision)+Math.max(Math.abs(k.e),k.sd())+4,q.rounding=1,F=!1,k=k.times(k).minus(1).sqrt().plus(k),F=!0,q.precision=C,q.rounding=I,k.ln()):new q(k)},qe.inverseHyperbolicSine=qe.asinh=function(){var C,I,k=this,q=k.constructor;return!k.isFinite()||k.isZero()?new q(k):(I=q.rounding,q.precision=(C=q.precision)+2*Math.max(Math.abs(k.e),k.sd())+6,q.rounding=1,F=!1,k=k.times(k).plus(1).sqrt().plus(k),F=!0,q.precision=C,q.rounding=I,k.ln())},qe.inverseHyperbolicTangent=qe.atanh=function(){var C,I,k,q,L=this,R=L.constructor;return L.isFinite()?L.e>=0?new R(L.abs().eq(1)?L.s/0:L.isZero()?L:NaN):(C=R.precision,I=R.rounding,q=L.sd(),Math.max(q,C)<2*-L.e-1?et(new R(L),C,I,!0):(R.precision=k=q-L.e,L=Vt(L.plus(1),new R(1).minus(L),k+C,1),R.precision=C+4,R.rounding=1,L=L.ln(),R.precision=C,R.rounding=I,L.times(.5))):new R(NaN)},qe.inverseSine=qe.asin=function(){var C,I,k,q,L=this,R=L.constructor;return L.isZero()?new R(L):(I=L.abs().cmp(1),k=R.precision,q=R.rounding,-1!==I?0===I?((C=Zn(R,k+4,q).times(.5)).s=L.s,C):new R(NaN):(R.precision=k+6,R.rounding=1,L=L.div(new R(1).minus(L.times(L)).sqrt().plus(1)).atan(),R.precision=k,R.rounding=q,L.times(2)))},qe.inverseTangent=qe.atan=function(){var C,I,k,q,L,R,K,ae,ue,se=this,ge=se.constructor,Se=ge.precision,De=ge.rounding;if(se.isFinite()){if(se.isZero())return new ge(se);if(se.abs().eq(1)&&Se+4<=lr)return(K=Zn(ge,Se+4,De).times(.25)).s=se.s,K}else{if(!se.s)return new ge(NaN);if(Se+4<=lr)return(K=Zn(ge,Se+4,De).times(.5)).s=se.s,K}for(ge.precision=ae=Se+10,ge.rounding=1,C=k=Math.min(28,ae/7+2|0);C;--C)se=se.div(se.times(se).plus(1).sqrt().plus(1));for(F=!1,I=Math.ceil(ae/7),q=1,ue=se.times(se),K=new ge(se),L=se;-1!==C;)if(L=L.times(ue),R=K.minus(L.div(q+=2)),L=L.times(ue),void 0!==(K=R.plus(L.div(q+=2))).d[I])for(C=I;K.d[C]===R.d[C]&&C--;);return k&&(K=K.times(2<<k-1)),F=!0,et(K,ge.precision=Se,ge.rounding=De,!0)},qe.isFinite=function(){return!!this.d},qe.isInteger=qe.isInt=function(){return!!this.d&&he(this.e/7)>this.d.length-2},qe.isNaN=function(){return!this.s},qe.isNegative=qe.isNeg=function(){return this.s<0},qe.isPositive=qe.isPos=function(){return this.s>0},qe.isZero=function(){return!!this.d&&0===this.d[0]},qe.lessThan=qe.lt=function(C){return this.cmp(C)<0},qe.lessThanOrEqualTo=qe.lte=function(C){return this.cmp(C)<1},qe.logarithm=qe.log=function(C){var I,k,q,L,R,K,ae,ue,se=this,ge=se.constructor,Se=ge.precision,De=ge.rounding;if(null==C)C=new ge(10),I=!0;else{if(k=(C=new ge(C)).d,C.s<0||!k||!k[0]||C.eq(1))return new ge(NaN);I=C.eq(10)}if(k=se.d,se.s<0||!k||!k[0]||se.eq(1))return new ge(k&&!k[0]?-1/0:1!=se.s?NaN:k?0:1/0);if(I)if(k.length>1)R=!0;else{for(L=k[0];L%10==0;)L/=10;R=1!==L}if(F=!1,K=Hn(se,ae=Se+5),q=I?dr(ge,ae+10):Hn(C,ae),Dr((ue=Vt(K,q,ae,1)).d,L=Se,De))do{if(K=Hn(se,ae+=10),q=I?dr(ge,ae+10):Hn(C,ae),ue=Vt(K,q,ae,1),!R){+sn(ue.d).slice(L+1,L+15)+1==1e14&&(ue=et(ue,Se+1,0));break}}while(Dr(ue.d,L+=10,De));return F=!0,et(ue,Se,De)},qe.minus=qe.sub=function(C){var I,k,q,L,R,K,ae,ue,se,ge,Se,De,rt=this,ft=rt.constructor;if(C=new ft(C),!rt.d||!C.d)return rt.s&&C.s?rt.d?C.s=-C.s:C=new ft(C.d||rt.s!==C.s?rt:NaN):C=new ft(NaN),C;if(rt.s!=C.s)return C.s=-C.s,rt.plus(C);if(De=C.d,ae=ft.precision,ue=ft.rounding,!(se=rt.d)[0]||!De[0]){if(De[0])C.s=-C.s;else{if(!se[0])return new ft(3===ue?-0:0);C=new ft(rt)}return F?et(C,ae,ue):C}if(k=he(C.e/7),ge=he(rt.e/7),se=se.slice(),R=ge-k){for((Se=R<0)?(I=se,R=-R,K=De.length):(I=De,k=ge,K=se.length),R>(q=Math.max(Math.ceil(ae/7),K)+2)&&(R=q,I.length=1),I.reverse(),q=R;q--;)I.push(0);I.reverse()}else{for((Se=(q=se.length)<(K=De.length))&&(K=q),q=0;q<K;q++)if(se[q]!=De[q]){Se=se[q]<De[q];break}R=0}for(Se&&(I=se,se=De,De=I,C.s=-C.s),q=De.length-(K=se.length);q>0;--q)se[K++]=0;for(q=De.length;q>R;){if(se[--q]<De[q]){for(L=q;L&&0===se[--L];)se[L]=$e-1;--se[L],se[q]+=$e}se[q]-=De[q]}for(;0===se[--K];)se.pop();for(;0===se[0];se.shift())--k;return se[0]?(C.d=se,C.e=Vr(se,k),F?et(C,ae,ue):C):new ft(3===ue?-0:0)},qe.modulo=qe.mod=function(C){var I,k=this,q=k.constructor;return C=new q(C),!k.d||!C.s||C.d&&!C.d[0]?new q(NaN):!C.d||k.d&&!k.d[0]?et(new q(k),q.precision,q.rounding):(F=!1,9==q.modulo?(I=Vt(k,C.abs(),0,3,1)).s*=C.s:I=Vt(k,C,0,q.modulo,1),I=I.times(C),F=!0,k.minus(I))},qe.naturalExponential=qe.exp=function(){return ii(this)},qe.naturalLogarithm=qe.ln=function(){return Hn(this)},qe.negated=qe.neg=function(){var C=new this.constructor(this);return C.s=-C.s,et(C)},qe.plus=qe.add=function(C){var I,k,q,L,R,K,ae,ue,se,ge,Se=this,De=Se.constructor;if(C=new De(C),!Se.d||!C.d)return Se.s&&C.s?Se.d||(C=new De(C.d||Se.s===C.s?Se:NaN)):C=new De(NaN),C;if(Se.s!=C.s)return C.s=-C.s,Se.minus(C);if(ge=C.d,ae=De.precision,ue=De.rounding,!(se=Se.d)[0]||!ge[0])return ge[0]||(C=new De(Se)),F?et(C,ae,ue):C;if(R=he(Se.e/7),q=he(C.e/7),se=se.slice(),L=R-q){for(L<0?(k=se,L=-L,K=ge.length):(k=ge,q=R,K=se.length),L>(K=(R=Math.ceil(ae/7))>K?R+1:K+1)&&(L=K,k.length=1),k.reverse();L--;)k.push(0);k.reverse()}for((K=se.length)-(L=ge.length)<0&&(L=K,k=ge,ge=se,se=k),I=0;L;)I=(se[--L]=se[L]+ge[L]+I)/$e|0,se[L]%=$e;for(I&&(se.unshift(I),++q),K=se.length;0==se[--K];)se.pop();return C.d=se,C.e=Vr(se,q),F?et(C,ae,ue):C},qe.precision=qe.sd=function(C){var I,k=this;if(void 0!==C&&C!==!!C&&1!==C&&0!==C)throw Error(H+C);return k.d?(I=Gn(k.d),C&&k.e+1>I&&(I=k.e+1)):I=NaN,I},qe.round=function(){var C=this,I=C.constructor;return et(new I(C),C.e+1,I.rounding)},qe.sine=qe.sin=function(){var C,I,k=this,q=k.constructor;return k.isFinite()?k.isZero()?new q(k):(I=q.rounding,q.precision=(C=q.precision)+Math.max(k.e,k.sd())+7,q.rounding=1,k=function en(C,I){var k,q=I.d.length;if(q<3)return I.isZero()?I:Vn(C,2,I,I);k=1.4*Math.sqrt(q),I=Vn(C,2,I=I.times(1/Mr(5,k=k>16?16:0|k)),I);for(var L,R=new C(5),K=new C(16),ae=new C(20);k--;)L=I.times(I),I=I.times(R.plus(L.times(K.times(L).minus(ae))));return I}(q,Sr(q,k)),q.precision=C,q.rounding=I,et(Y>2?k.neg():k,C,I,!0)):new q(NaN)},qe.squareRoot=qe.sqrt=function(){var C,I,k,q,L,R,K=this,ae=K.d,ue=K.e,se=K.s,ge=K.constructor;if(1!==se||!ae||!ae[0])return new ge(!se||se<0&&(!ae||ae[0])?NaN:ae?K:1/0);for(F=!1,0==(se=Math.sqrt(+K))||se==1/0?(((I=sn(ae)).length+ue)%2==0&&(I+="0"),se=Math.sqrt(I),ue=he((ue+1)/2)-(ue<0||ue%2),q=new ge(I=se==1/0?"5e"+ue:(I=se.toExponential()).slice(0,I.indexOf("e")+1)+ue)):q=new ge(se.toString()),k=(ue=ge.precision)+3;;)if(q=(R=q).plus(Vt(K,R,k+2,1)).times(.5),sn(R.d).slice(0,k)===(I=sn(q.d)).slice(0,k)){if("9999"!=(I=I.slice(k-3,k+1))&&(L||"4999"!=I)){(!+I||!+I.slice(1)&&"5"==I.charAt(0))&&(et(q,ue+1,1),C=!q.times(q).eq(K));break}if(!L&&(et(R,ue+1,0),R.times(R).eq(K))){q=R;break}k+=4,L=1}return F=!0,et(q,ue,ge.rounding,C)},qe.tangent=qe.tan=function(){var C,I,k=this,q=k.constructor;return k.isFinite()?k.isZero()?new q(k):(I=q.rounding,q.precision=(C=q.precision)+10,q.rounding=1,(k=k.sin()).s=1,k=Vt(k,new q(1).minus(k.times(k)).sqrt(),C+10,0),q.precision=C,q.rounding=I,et(2==Y||4==Y?k.neg():k,C,I,!0)):new q(NaN)},qe.times=qe.mul=function(C){var I,k,q,L,R,K,ae,ue,se,Se=this.constructor,De=this.d,rt=(C=new Se(C)).d;if(C.s*=this.s,!(De&&De[0]&&rt&&rt[0]))return new Se(!C.s||De&&!De[0]&&!rt||rt&&!rt[0]&&!De?NaN:De&&rt?0*C.s:C.s/0);for(k=he(this.e/7)+he(C.e/7),(ue=De.length)<(se=rt.length)&&(R=De,De=rt,rt=R,K=ue,ue=se,se=K),R=[],q=K=ue+se;q--;)R.push(0);for(q=se;--q>=0;){for(I=0,L=ue+q;L>q;)ae=R[L]+rt[q]*De[L-q-1]+I,R[L--]=ae%$e|0,I=ae/$e|0;R[L]=(R[L]+I)%$e|0}for(;!R[--K];)R.pop();return I?++k:R.shift(),C.d=R,C.e=Vr(R,k),F?et(C,Se.precision,Se.rounding):C},qe.toBinary=function(C,I){return Jr(this,2,C,I)},qe.toDecimalPlaces=qe.toDP=function(C,I){var k=this,q=k.constructor;return k=new q(k),void 0===C?k:(Sn(C,0,be),void 0===I?I=q.rounding:Sn(I,0,8),et(k,C+k.e+1,I))},qe.toExponential=function(C,I){var k,q=this,L=q.constructor;return void 0===C?k=zn(q,!0):(Sn(C,0,be),void 0===I?I=L.rounding:Sn(I,0,8),k=zn(q=et(new L(q),C+1,I),!0,C+1)),q.isNeg()&&!q.isZero()?"-"+k:k},qe.toFixed=function(C,I){var k,q,L=this,R=L.constructor;return void 0===C?k=zn(L):(Sn(C,0,be),void 0===I?I=R.rounding:Sn(I,0,8),k=zn(q=et(new R(L),C+L.e+1,I),!1,C+q.e+1)),L.isNeg()&&!L.isZero()?"-"+k:k},qe.toFraction=function(C){var I,k,q,L,R,K,ae,ue,se,ge,Se,De,rt=this,ft=rt.d,ht=rt.constructor;if(!ft)return new ht(rt);if(se=k=new ht(1),q=ue=new ht(0),R=(I=new ht(q)).e=Gn(ft)-rt.e-1,I.d[0]=Fe(10,(K=R%7)<0?7+K:K),null==C)C=R>0?I:se;else{if(!(ae=new ht(C)).isInt()||ae.lt(se))throw Error(H+ae);C=ae.gt(I)?R>0?I:se:ae}for(F=!1,ae=new ht(sn(ft)),ge=ht.precision,ht.precision=R=7*ft.length*2;Se=Vt(ae,I,0,1,1),1!=(L=k.plus(Se.times(q))).cmp(C);)k=q,q=L,se=ue.plus(Se.times(L=se)),ue=L,I=ae.minus(Se.times(L=I)),ae=L;return L=Vt(C.minus(k),q,0,1,1),ue=ue.plus(L.times(se)),k=k.plus(L.times(q)),ue.s=se.s=rt.s,De=Vt(se,q,R,1).minus(rt).abs().cmp(Vt(ue,k,R,1).minus(rt).abs())<1?[se,q]:[ue,k],ht.precision=ge,F=!0,De},qe.toHexadecimal=qe.toHex=function(C,I){return Jr(this,16,C,I)},qe.toNearest=function(C,I){var k=this,q=k.constructor;if(k=new q(k),null==C){if(!k.d)return k;C=new q(1),I=q.rounding}else{if(C=new q(C),void 0===I?I=q.rounding:Sn(I,0,8),!k.d)return C.s?k:C;if(!C.d)return C.s&&(C.s=k.s),C}return C.d[0]?(F=!1,k=Vt(k,C,0,I,1).times(C),F=!0,et(k)):(C.s=k.s,k=C),k},qe.toNumber=function(){return+this},qe.toOctal=function(C,I){return Jr(this,8,C,I)},qe.toPower=qe.pow=function(C){var I,k,q,L,R,K,ae=this,ue=ae.constructor,se=+(C=new ue(C));if(!(ae.d&&C.d&&ae.d[0]&&C.d[0]))return new ue(Fe(+ae,se));if((ae=new ue(ae)).eq(1))return ae;if(q=ue.precision,R=ue.rounding,C.eq(1))return et(ae,q,R);if((I=he(C.e/7))>=C.d.length-1&&(k=se<0?-se:se)<=9007199254740991)return L=qi(ue,ae,k,q),C.s<0?new ue(1).div(L):et(L,q,R);if((K=ae.s)<0){if(I<C.d.length-1)return new ue(NaN);if(0==(1&C.d[I])&&(K=1),0==ae.e&&1==ae.d[0]&&1==ae.d.length)return ae.s=K,ae}return(I=0!=(k=Fe(+ae,se))&&isFinite(k)?new ue(k+"").e:he(se*(Math.log("0."+sn(ae.d))/Math.LN10+ae.e+1)))>ue.maxE+1||I<ue.minE-1?new ue(I>0?K/0:0):(F=!1,ue.rounding=ae.s=1,k=Math.min(12,(I+"").length),(L=ii(C.times(Hn(ae,q+k)),q)).d&&Dr((L=et(L,q+5,1)).d,q,R)&&+sn((L=et(ii(C.times(Hn(ae,(I=q+10)+k)),I),I+5,1)).d).slice(q+1,q+15)+1==1e14&&(L=et(L,q+1,0)),L.s=K,F=!0,ue.rounding=R,et(L,q,R))},qe.toPrecision=function(C,I){var k,q=this,L=q.constructor;return void 0===C?k=zn(q,q.e<=L.toExpNeg||q.e>=L.toExpPos):(Sn(C,1,be),void 0===I?I=L.rounding:Sn(I,0,8),k=zn(q=et(new L(q),C,I),C<=q.e||q.e<=L.toExpNeg,C)),q.isNeg()&&!q.isZero()?"-"+k:k},qe.toSignificantDigits=qe.toSD=function(C,I){var q=this.constructor;return void 0===C?(C=q.precision,I=q.rounding):(Sn(C,1,be),void 0===I?I=q.rounding:Sn(I,0,8)),et(new q(this),C,I)},qe.toString=function(){var C=this,I=C.constructor,k=zn(C,C.e<=I.toExpNeg||C.e>=I.toExpPos);return C.isNeg()&&!C.isZero()?"-"+k:k},qe.truncated=qe.trunc=function(){return et(new this.constructor(this),this.e+1,1)},qe.valueOf=qe.toJSON=function(){var C=this,I=C.constructor,k=zn(C,C.e<=I.toExpNeg||C.e>=I.toExpPos);return C.isNeg()?"-"+k:k};var Vt=function(){function C(q,L,R){var K,ae=0,ue=q.length;for(q=q.slice();ue--;)q[ue]=(K=q[ue]*L+ae)%R|0,ae=K/R|0;return ae&&q.unshift(ae),q}function I(q,L,R,K){var ae,ue;if(R!=K)ue=R>K?1:-1;else for(ae=ue=0;ae<R;ae++)if(q[ae]!=L[ae]){ue=q[ae]>L[ae]?1:-1;break}return ue}function k(q,L,R,K){for(var ae=0;R--;)q[R]-=ae,q[R]=(ae=q[R]<L[R]?1:0)*K+q[R]-L[R];for(;!q[0]&&q.length>1;)q.shift()}return function(q,L,R,K,ae,ue){var se,ge,Se,De,rt,ft,ht,Wn,tn,Xn,Wt,An,Hi,pr,va,Qi,ci,_a,er,ui,Nr=q.constructor,li=q.s==L.s?1:-1,On=q.d,Gt=L.d;if(!(On&&On[0]&&Gt&&Gt[0]))return new Nr(q.s&&L.s&&(On?!Gt||On[0]!=Gt[0]:Gt)?On&&0==On[0]||!Gt?0*li:li/0:NaN);for(ue?(rt=1,ge=q.e-L.e):(ue=$e,ge=he(q.e/(rt=7))-he(L.e/rt)),er=Gt.length,ci=On.length,Xn=(tn=new Nr(li)).d=[],Se=0;Gt[Se]==(On[Se]||0);Se++);if(Gt[Se]>(On[Se]||0)&&ge--,null==R?(pr=R=Nr.precision,K=Nr.rounding):pr=ae?R+(q.e-L.e)+1:R,pr<0)Xn.push(1),ft=!0;else{if(pr=pr/rt+2|0,Se=0,1==er){for(De=0,Gt=Gt[0],pr++;(Se<ci||De)&&pr--;Se++)Xn[Se]=(va=De*ue+(On[Se]||0))/Gt|0,De=va%Gt|0;ft=De||Se<ci}else{for((De=ue/(Gt[0]+1)|0)>1&&(Gt=C(Gt,De,ue),On=C(On,De,ue),er=Gt.length,ci=On.length),Qi=er,An=(Wt=On.slice(0,er)).length;An<er;)Wt[An++]=0;(ui=Gt.slice()).unshift(0),_a=Gt[0],Gt[1]>=ue/2&&++_a;do{De=0,(se=I(Gt,Wt,er,An))<0?(Hi=Wt[0],er!=An&&(Hi=Hi*ue+(Wt[1]||0)),(De=Hi/_a|0)>1?(De>=ue&&(De=ue-1),1==(se=I(ht=C(Gt,De,ue),Wt,Wn=ht.length,An=Wt.length))&&(De--,k(ht,er<Wn?ui:Gt,Wn,ue))):(0==De&&(se=De=1),ht=Gt.slice()),(Wn=ht.length)<An&&ht.unshift(0),k(Wt,ht,An,ue),-1==se&&(se=I(Gt,Wt,er,An=Wt.length))<1&&(De++,k(Wt,er<An?ui:Gt,An,ue)),An=Wt.length):0===se&&(De++,Wt=[0]),Xn[Se++]=De,se&&Wt[0]?Wt[An++]=On[Qi]||0:(Wt=[On[Qi]],An=1)}while((Qi++<ci||void 0!==Wt[0])&&pr--);ft=void 0!==Wt[0]}Xn[0]||Xn.shift()}if(1==rt)tn.e=ge,fe=ft;else{for(Se=1,De=Xn[0];De>=10;De/=10)Se++;tn.e=Se+ge*rt-1,et(tn,ae?R+tn.e+1:R,K,ft)}return tn}}();function et(C,I,k,q){var L,R,K,ae,ue,se,ge,Se,De,rt=C.constructor;e:if(null!=I){if(!(Se=C.d))return C;for(L=1,ae=Se[0];ae>=10;ae/=10)L++;if((R=I-L)<0)R+=7,ue=(ge=Se[De=0])/Fe(10,L-(K=I)-1)%10|0;else if((De=Math.ceil((R+1)/7))>=(ae=Se.length)){if(!q)break e;for(;ae++<=De;)Se.push(0);ge=ue=0,L=1,K=(R%=7)-7+1}else{for(ge=ae=Se[De],L=1;ae>=10;ae/=10)L++;ue=(K=(R%=7)-7+L)<0?0:ge/Fe(10,L-K-1)%10|0}if(q=q||I<0||void 0!==Se[De+1]||(K<0?ge:ge%Fe(10,L-K-1)),se=k<4?(ue||q)&&(0==k||k==(C.s<0?3:2)):ue>5||5==ue&&(4==k||q||6==k&&(R>0?K>0?ge/Fe(10,L-K):0:Se[De-1])%10&1||k==(C.s<0?8:7)),I<1||!Se[0])return Se.length=0,se?(Se[0]=Fe(10,(7-(I-=C.e+1)%7)%7),C.e=-I||0):Se[0]=C.e=0,C;if(0==R?(Se.length=De,ae=1,De--):(Se.length=De+1,ae=Fe(10,7-R),Se[De]=K>0?(ge/Fe(10,L-K)%Fe(10,K)|0)*ae:0),se)for(;;){if(0==De){for(R=1,K=Se[0];K>=10;K/=10)R++;for(K=Se[0]+=ae,ae=1;K>=10;K/=10)ae++;R!=ae&&(C.e++,Se[0]==$e&&(Se[0]=1));break}if(Se[De]+=ae,Se[De]!=$e)break;Se[De--]=0,ae=1}for(R=Se.length;0===Se[--R];)Se.pop()}return F&&(C.e>rt.maxE?(C.d=null,C.e=NaN):C.e<rt.minE&&(C.e=0,C.d=[0])),C}function zn(C,I,k){if(!C.isFinite())return ai(C);var q,L=C.e,R=sn(C.d),K=R.length;return I?(k&&(q=k-K)>0?R=R.charAt(0)+"."+R.slice(1)+or(q):K>1&&(R=R.charAt(0)+"."+R.slice(1)),R=R+(C.e<0?"e":"e+")+C.e):L<0?(R="0."+or(-L-1)+R,k&&(q=k-K)>0&&(R+=or(q))):L>=K?(R+=or(L+1-K),k&&(q=k-L-1)>0&&(R=R+"."+or(q))):((q=L+1)<K&&(R=R.slice(0,q)+"."+R.slice(q)),k&&(q=k-K)>0&&(L+1===K&&(R+="."),R+=or(q))),R}function Vr(C,I){var k=C[0];for(I*=7;k>=10;k/=10)I++;return I}function dr(C,I,k){if(I>mn)throw F=!0,k&&(C.precision=k),Error(me);return et(new C(e),I,1,!0)}function Zn(C,I,k){if(I>lr)throw Error(me);return et(new C(ct),I,k,!0)}function Gn(C){var I=C.length-1,k=7*I+1;if(I=C[I]){for(;I%10==0;I/=10)k--;for(I=C[0];I>=10;I/=10)k++}return k}function or(C){for(var I="";C--;)I+="0";return I}function qi(C,I,k,q){var L,R=new C(1),K=Math.ceil(q/7+4);for(F=!1;;){if(k%2&&ce((R=R.times(I)).d,K)&&(L=!0),0===(k=he(k/2))){k=R.d.length-1,L&&0===R.d[k]&&++R.d[k];break}ce((I=I.times(I)).d,K)}return F=!0,R}function Ln(C){return 1&C.d[C.d.length-1]}function Pi(C,I,k){for(var q,L=new C(I[0]),R=0;++R<I.length;){if(!(q=new C(I[R])).s){L=q;break}L[k](q)&&(L=q)}return L}function ii(C,I){var k,q,L,R,K,ae,ue,se=0,ge=0,Se=0,De=C.constructor,rt=De.rounding,ft=De.precision;if(!C.d||!C.d[0]||C.e>17)return new De(C.d?C.d[0]?C.s<0?0:1/0:1:C.s?C.s<0?0:C:NaN);for(null==I?(F=!1,ue=ft):ue=I,ae=new De(.03125);C.e>-2;)C=C.times(ae),Se+=5;for(ue+=q=Math.log(Fe(2,Se))/Math.LN10*2+5|0,k=R=K=new De(1),De.precision=ue;;){if(R=et(R.times(C),ue,1),k=k.times(++ge),sn((ae=K.plus(Vt(R,k,ue,1))).d).slice(0,ue)===sn(K.d).slice(0,ue)){for(L=Se;L--;)K=et(K.times(K),ue,1);if(null!=I)return De.precision=ft,K;if(!(se<3&&Dr(K.d,ue-q,rt,se)))return et(K,De.precision=ft,rt,F=!0);De.precision=ue+=10,k=R=ae=new De(1),ge=0,se++}K=ae}}function Hn(C,I){var k,q,L,R,K,ae,ue,se,ge,Se,De,rt=1,ht=C,Wn=ht.d,tn=ht.constructor,Xn=tn.rounding,Wt=tn.precision;if(ht.s<0||!Wn||!Wn[0]||!ht.e&&1==Wn[0]&&1==Wn.length)return new tn(Wn&&!Wn[0]?-1/0:1!=ht.s?NaN:Wn?0:ht);if(null==I?(F=!1,ge=Wt):ge=I,tn.precision=ge+=10,q=(k=sn(Wn)).charAt(0),!(Math.abs(R=ht.e)<15e14))return se=dr(tn,ge+2,Wt).times(R+""),ht=Hn(new tn(q+"."+k.slice(1)),ge-10).plus(se),tn.precision=Wt,null==I?et(ht,Wt,Xn,F=!0):ht;for(;q<7&&1!=q||1==q&&k.charAt(1)>3;)q=(k=sn((ht=ht.times(C)).d)).charAt(0),rt++;for(R=ht.e,q>1?(ht=new tn("0."+k),R++):ht=new tn(q+"."+k.slice(1)),Se=ht,ue=K=ht=Vt(ht.minus(1),ht.plus(1),ge,1),De=et(ht.times(ht),ge,1),L=3;;){if(K=et(K.times(De),ge,1),sn((se=ue.plus(Vt(K,new tn(L),ge,1))).d).slice(0,ge)===sn(ue.d).slice(0,ge)){if(ue=ue.times(2),0!==R&&(ue=ue.plus(dr(tn,ge+2,Wt).times(R+""))),ue=Vt(ue,new tn(rt),ge,1),null!=I)return tn.precision=Wt,ue;if(!Dr(ue.d,ge-10,Xn,ae))return et(ue,tn.precision=Wt,Xn,F=!0);tn.precision=ge+=10,se=K=ht=Vt(Se.minus(1),Se.plus(1),ge,1),De=et(ht.times(ht),ge,1),L=ae=1}ue=se,L+=2}}function ai(C){return String(C.s*C.s/0)}function Zi(C,I){var k,q,L;for((k=I.indexOf("."))>-1&&(I=I.replace(".","")),(q=I.search(/e/i))>0?(k<0&&(k=q),k+=+I.slice(q+1),I=I.substring(0,q)):k<0&&(k=I.length),q=0;48===I.charCodeAt(q);q++);for(L=I.length;48===I.charCodeAt(L-1);--L);if(I=I.slice(q,L)){if(L-=q,C.e=k=k-q-1,C.d=[],q=(k+1)%7,k<0&&(q+=7),q<L){for(q&&C.d.push(+I.slice(0,q)),L-=7;q<L;)C.d.push(+I.slice(q,q+=7));q=7-(I=I.slice(q)).length}else q-=L;for(;q--;)I+="0";C.d.push(+I),F&&(C.e>C.constructor.maxE?(C.d=null,C.e=NaN):C.e<C.constructor.minE&&(C.e=0,C.d=[0]))}else C.e=0,C.d=[0];return C}function Vn(C,I,k,q,L){var R,K,ae,ue,ge=C.precision,Se=Math.ceil(ge/7);for(F=!1,ue=k.times(k),ae=new C(q);;){if(K=Vt(ae.times(ue),new C(I++*I++),ge,1),ae=L?q.plus(K):q.minus(K),q=Vt(K.times(ue),new C(I++*I++),ge,1),void 0!==(K=ae.plus(q)).d[Se]){for(R=Se;K.d[R]===ae.d[R]&&R--;);if(-1==R)break}R=ae,ae=q,q=K,K=R}return F=!0,K.d.length=Se+1,K}function Mr(C,I){for(var k=C;--I;)k*=C;return k}function Sr(C,I){var k,q=I.s<0,L=Zn(C,C.precision,1),R=L.times(.5);if((I=I.abs()).lte(R))return Y=q?4:1,I;if((k=I.divToInt(L)).isZero())Y=q?3:2;else{if((I=I.minus(k.times(L))).lte(R))return Y=Ln(k)?q?2:3:q?4:1,I;Y=Ln(k)?q?1:4:q?3:2}return I.minus(L).abs()}function Jr(C,I,k,q){var L,R,K,ae,ue,se,ge,Se,De,rt=C.constructor,ft=void 0!==k;if(ft?(Sn(k,1,be),void 0===q?q=rt.rounding:Sn(q,0,8)):(k=rt.precision,q=rt.rounding),C.isFinite()){for(ft?(L=2,16==I?k=4*k-3:8==I&&(k=3*k-2)):L=I,(K=(ge=zn(C)).indexOf("."))>=0&&(ge=ge.replace(".",""),(De=new rt(1)).e=ge.length-K,De.d=qr(zn(De),10,L),De.e=De.d.length),R=ue=(Se=qr(ge,10,L)).length;0==Se[--ue];)Se.pop();if(Se[0]){if(K<0?R--:((C=new rt(C)).d=Se,C.e=R,Se=(C=Vt(C,De,k,q,0,L)).d,R=C.e,se=fe),K=Se[k],ae=L/2,se=se||void 0!==Se[k+1],se=q<4?(void 0!==K||se)&&(0===q||q===(C.s<0?3:2)):K>ae||K===ae&&(4===q||se||6===q&&1&Se[k-1]||q===(C.s<0?8:7)),Se.length=k,se)for(;++Se[--k]>L-1;)Se[k]=0,k||(++R,Se.unshift(1));for(ue=Se.length;!Se[ue-1];--ue);for(K=0,ge="";K<ue;K++)ge+=Xe.charAt(Se[K]);if(ft){if(ue>1)if(16==I||8==I){for(K=16==I?4:3,--ue;ue%K;ue++)ge+="0";for(ue=(Se=qr(ge,L,I)).length;!Se[ue-1];--ue);for(K=1,ge="1.";K<ue;K++)ge+=Xe.charAt(Se[K])}else ge=ge.charAt(0)+"."+ge.slice(1);ge=ge+(R<0?"p":"p+")+R}else if(R<0){for(;++R;)ge="0"+ge;ge="0."+ge}else if(++R>ue)for(R-=ue;R--;)ge+="0";else R<ue&&(ge=ge.slice(0,R)+"."+ge.slice(R))}else ge=ft?"0p+0":"0";ge=(16==I?"0x":2==I?"0b":8==I?"0o":"")+ge}else ge=ai(C);return C.s<0?"-"+ge:ge}function ce(C,I){if(C.length>I)return C.length=I,!0}function _e(C){return new this(C).abs()}function Ne(C){return new this(C).acos()}function ve(C){return new this(C).acosh()}function Ye(C,I){return new this(C).plus(I)}function st(C){return new this(C).asin()}function pt(C){return new this(C).asinh()}function tt(C){return new this(C).atan()}function Je(C){return new this(C).atanh()}function _t(C,I){C=new this(C),I=new this(I);var k,q=this.precision,L=this.rounding,R=q+4;return C.s&&I.s?C.d||I.d?!I.d||C.isZero()?(k=I.s<0?Zn(this,q,L):new this(0)).s=C.s:!C.d||I.isZero()?(k=Zn(this,R,1).times(.5)).s=C.s:I.s<0?(this.precision=R,this.rounding=1,k=this.atan(Vt(C,I,R,1)),I=Zn(this,R,1),this.precision=q,this.rounding=L,k=C.s<0?k.minus(I):k.plus(I)):k=this.atan(Vt(C,I,R,1)):(k=Zn(this,R,1).times(I.s>0?.25:.75)).s=C.s:k=new this(NaN),k}function Kn(C){return new this(C).cbrt()}function Rn(C){return et(C=new this(C),C.e+1,2)}function Jn(C,I,k){return new this(C).clamp(I,k)}function Wr(C){if(!C||"object"!=typeof C)throw Error(Q+"Object expected");var I,k,q,L=!0===C.defaults,R=["precision",1,be,"rounding",0,8,"toExpNeg",-Qe,0,"toExpPos",0,Qe,"maxE",0,Qe,"minE",-Qe,0,"modulo",0,9];for(I=0;I<R.length;I+=3)if(k=R[I],L&&(this[k]=St[k]),void 0!==(q=C[k])){if(!(he(q)===q&&q>=R[I+1]&&q<=R[I+2]))throw Error(H+k+": "+q);this[k]=q}if(k="crypto",L&&(this[k]=St[k]),void 0!==(q=C[k])){if(!0!==q&&!1!==q&&0!==q&&1!==q)throw Error(H+k+": "+q);if(q){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(te);this[k]=!0}else this[k]=!1}return this}function fa(C){return new this(C).cos()}function ga(C){return new this(C).cosh()}function Ri(C,I){return new this(C).div(I)}function oi(C){return new this(C).exp()}function ha(C){return et(C=new this(C),C.e+1,3)}function si(){var C,I,k=new this(0);for(F=!1,C=0;C<arguments.length;)if((I=new this(arguments[C++])).d)k.d&&(k=k.plus(I.times(I)));else{if(I.s)return F=!0,new this(1/0);k=I}return F=!0,k.sqrt()}function Ui(C){return C instanceof Le||C&&C.toStringTag===xe||!1}function Bi(C){return new this(C).ln()}function un(C,I){return new this(C).log(I)}function Nn(C){return new this(C).log(2)}function vn(C){return new this(C).log(10)}function $a(){return Pi(this,arguments,"lt")}function ja(){return Pi(this,arguments,"gt")}function Yr(C,I){return new this(C).mod(I)}function Ga(C,I){return new this(C).mul(I)}function Ka(C,I){return new this(C).pow(I)}function Xa(C){var I,k,q,L,R=0,K=new this(1),ae=[];if(void 0===C?C=this.precision:Sn(C,1,be),q=Math.ceil(C/7),this.crypto)if(crypto.getRandomValues)for(I=crypto.getRandomValues(new Uint32Array(q));R<q;)(L=I[R])>=429e7?I[R]=crypto.getRandomValues(new Uint32Array(1))[0]:ae[R++]=L%1e7;else{if(!crypto.randomBytes)throw Error(te);for(I=crypto.randomBytes(q*=4);R<q;)(L=I[R]+(I[R+1]<<8)+(I[R+2]<<16)+((127&I[R+3])<<24))>=214e7?crypto.randomBytes(4).copy(I,R):(ae.push(L%1e7),R+=4);R=q/4}else for(;R<q;)ae[R++]=1e7*Math.random()|0;for(C%=7,(q=ae[--R])&&C&&(L=Fe(10,7-C),ae[R]=(q/L|0)*L);0===ae[R];R--)ae.pop();if(R<0)k=0,ae=[0];else{for(k=-1;0===ae[0];k-=7)ae.shift();for(q=1,L=ae[0];L>=10;L/=10)q++;q<7&&(k-=7-q)}return K.e=k,K.d=ae,K}function eo(C){return et(C=new this(C),C.e+1,this.rounding)}function Fi(C){return(C=new this(C)).d?C.d[0]?C.s:0*C.s:C.s||NaN}function to(C){return new this(C).sin()}function no(C){return new this(C).sinh()}function ro(C){return new this(C).sqrt()}function io(C,I){return new this(C).sub(I)}function $r(){var C=0,I=arguments,k=new this(I[C]);for(F=!1;k.s&&++C<I.length;)k=k.plus(I[C]);return F=!0,et(k,this.precision,this.rounding)}function yr(C){return new this(C).tan()}function zi(C){return new this(C).tanh()}function $t(C){return et(C=new this(C),C.e+1,1)}(Le=function Li(C){var I,k,q;function L(R){var K,ae,ue,se=this;if(!(se instanceof L))return new L(R);if(se.constructor=L,Ui(R))return se.s=R.s,void(F?!R.d||R.e>L.maxE?(se.e=NaN,se.d=null):R.e<L.minE?(se.e=0,se.d=[0]):(se.e=R.e,se.d=R.d.slice()):(se.e=R.e,se.d=R.d?R.d.slice():R.d));if("number"==(ue=typeof R)){if(0===R)return se.s=1/R<0?-1:1,se.e=0,void(se.d=[0]);if(R<0?(R=-R,se.s=-1):se.s=1,R===~~R&&R<1e7){for(K=0,ae=R;ae>=10;ae/=10)K++;return void(F?K>L.maxE?(se.e=NaN,se.d=null):K<L.minE?(se.e=0,se.d=[0]):(se.e=K,se.d=[R]):(se.e=K,se.d=[R]))}return 0*R!=0?(R||(se.s=NaN),se.e=NaN,void(se.d=null)):Zi(se,R.toString())}if("string"!==ue)throw Error(H+R);return 45===(ae=R.charCodeAt(0))?(R=R.slice(1),se.s=-1):(43===ae&&(R=R.slice(1)),se.s=1),ot.test(R)?Zi(se,R):function Qn(C,I){var k,q,L,R,K,ae,ue,se,ge;if(I.indexOf("_")>-1){if(I=I.replace(/(\d)_(?=\d)/g,"$1"),ot.test(I))return Zi(C,I)}else if("Infinity"===I||"NaN"===I)return+I||(C.s=NaN),C.e=NaN,C.d=null,C;if(At.test(I))k=16,I=I.toLowerCase();else if(Yt.test(I))k=2;else{if(!on.test(I))throw Error(H+I);k=8}for((R=I.search(/p/i))>0?(ue=+I.slice(R+1),I=I.substring(2,R)):I=I.slice(2),R=I.indexOf("."),q=C.constructor,(K=R>=0)&&(R=(ae=(I=I.replace(".","")).length)-R,L=qi(q,new q(k),R,2*R)),R=ge=(se=qr(I,k,$e)).length-1;0===se[R];--R)se.pop();return R<0?new q(0*C.s):(C.e=Vr(se,ge),C.d=se,F=!1,K&&(C=Vt(C,L,4*ae)),ue&&(C=C.times(Math.abs(ue)<54?Fe(2,ue):Le.pow(2,ue))),F=!0,C)}(se,R)}if(L.prototype=qe,L.ROUND_UP=0,L.ROUND_DOWN=1,L.ROUND_CEIL=2,L.ROUND_FLOOR=3,L.ROUND_HALF_UP=4,L.ROUND_HALF_DOWN=5,L.ROUND_HALF_EVEN=6,L.ROUND_HALF_CEIL=7,L.ROUND_HALF_FLOOR=8,L.EUCLID=9,L.config=L.set=Wr,L.clone=Li,L.isDecimal=Ui,L.abs=_e,L.acos=Ne,L.acosh=ve,L.add=Ye,L.asin=st,L.asinh=pt,L.atan=tt,L.atanh=Je,L.atan2=_t,L.cbrt=Kn,L.ceil=Rn,L.clamp=Jn,L.cos=fa,L.cosh=ga,L.div=Ri,L.exp=oi,L.floor=ha,L.hypot=si,L.ln=Bi,L.log=un,L.log10=vn,L.log2=Nn,L.max=$a,L.min=ja,L.mod=Yr,L.mul=Ga,L.pow=Ka,L.random=Xa,L.round=eo,L.sign=Fi,L.sin=to,L.sinh=no,L.sqrt=ro,L.sub=io,L.sum=$r,L.tan=yr,L.tanh=zi,L.trunc=$t,void 0===C&&(C={}),C&&!0!==C.defaults)for(q=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],I=0;I<q.length;)C.hasOwnProperty(k=q[I++])||(C[k]=this[k]);return L.config(C),L}(St)).prototype.constructor=Le,Le.default=Le.Decimal=Le,e=new Le(e),ct=new Le(ct),void 0!==(gt=function(){return Le}.call(Pt,ke,Pt,xn))&&(xn.exports=gt)}()},46725:xn=>{"use strict";var Pt=Object.assign||function(Qe){for(var be=1;be<arguments.length;be++){var Xe=arguments[be];for(var e in Xe)Object.prototype.hasOwnProperty.call(Xe,e)&&(Qe[e]=Xe[e])}return Qe},ke={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},gt={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Ue=function(be,Xe){return Pt({},be,Xe)};xn.exports=function(Qe){for(var be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Xe=be.preserveFormatting,e=void 0!==Xe&&Xe,ct=be.escapeMapFn,St=void 0===ct?Ue:ct,Le=String(Qe),fe="",z=St(Pt({},ke),e?Pt({},gt):{}),Y=Object.keys(z),F=function(){var H=!1;Y.forEach(function(me,te){H||Le.length>=me.length&&Le.slice(0,me.length)===me&&(fe+=z[Y[te]],Le=Le.slice(me.length,Le.length),H=!0)}),H||(fe+=Le.slice(0,1),Le=Le.slice(1,Le.length))};Le;)F();return fe}},48751:function(xn,Pt){var gt;!function(Ue){"use strict";var be={s:1,n:0,d:1};function Xe(Q,H){if(isNaN(Q=parseInt(Q,10)))throw F.InvalidParameter;return Q*H}function e(Q,H){if(0===H)throw F.DivisionByZero;var me=Object.create(F.prototype);me.s=Q<0?-1:1;var te=Y(Q=Q<0?-Q:Q,H);return me.n=Q/te,me.d=H/te,me}function ct(Q){for(var H={},me=Q,te=2,xe=4;xe<=me;){for(;me%te==0;)me/=te,H[te]=(H[te]||0)+1;xe+=1+2*te++}return me!==Q?me>1&&(H[me]=(H[me]||0)+1):H[Q]=(H[Q]||0)+1,H}var St=function(Q,H){var lr,me=0,te=1,xe=1,he=0,Fe=0,Yt=0,At=1,on=1,ot=0,$e=1,ee=1,J=1,mn=1e7;if(null!=Q)if(void 0!==H){if(xe=(me=Q)*(te=H),me%1!=0||te%1!=0)throw F.NonIntegerParameter}else switch(typeof Q){case"object":if("d"in Q&&"n"in Q)me=Q.n,te=Q.d,"s"in Q&&(me*=Q.s);else{if(!(0 in Q))throw F.InvalidParameter;me=Q[0],1 in Q&&(te=Q[1])}xe=me*te;break;case"number":if(Q<0&&(xe=Q,Q=-Q),Q%1==0)me=Q;else if(Q>0){for(Q>=1&&(Q/=on=Math.pow(10,Math.floor(1+Math.log(Q)/Math.LN10)));$e<=mn&&J<=mn;){if(Q===(lr=(ot+ee)/($e+J))){$e+J<=mn?(me=ot+ee,te=$e+J):J>$e?(me=ee,te=J):(me=ot,te=$e);break}Q>lr?(ot+=ee,$e+=J):(ee+=ot,J+=$e),$e>mn?(me=ee,te=J):(me=ot,te=$e)}me*=on}else(isNaN(Q)||isNaN(H))&&(te=me=NaN);break;case"string":if(null===($e=Q.match(/\d+|./g)))throw F.InvalidParameter;if("-"===$e[ot]?(xe=-1,ot++):"+"===$e[ot]&&ot++,$e.length===ot+1?Fe=Xe($e[ot++],xe):"."===$e[ot+1]||"."===$e[ot]?("."!==$e[ot]&&(he=Xe($e[ot++],xe)),(1+ ++ot===$e.length||"("===$e[ot+1]&&")"===$e[ot+3]||"'"===$e[ot+1]&&"'"===$e[ot+3])&&(Fe=Xe($e[ot],xe),At=Math.pow(10,$e[ot].length),ot++),("("===$e[ot]&&")"===$e[ot+2]||"'"===$e[ot]&&"'"===$e[ot+2])&&(Yt=Xe($e[ot+1],xe),on=Math.pow(10,$e[ot+1].length)-1,ot+=3)):"/"===$e[ot+1]||":"===$e[ot+1]?(Fe=Xe($e[ot],xe),At=Xe($e[ot+2],1),ot+=3):"/"===$e[ot+3]&&" "===$e[ot+1]&&(he=Xe($e[ot],xe),Fe=Xe($e[ot+2],xe),At=Xe($e[ot+4],1),ot+=5),$e.length<=ot){xe=me=Yt+(te=At*on)*he+on*Fe;break}default:throw F.InvalidParameter}if(0===te)throw F.DivisionByZero;be.s=xe<0?-1:1,be.n=Math.abs(me),be.d=Math.abs(te)};function Y(Q,H){if(!Q)return H;if(!H)return Q;for(;;){if(!(Q%=H))return H;if(!(H%=Q))return Q}}function F(Q,H){if(St(Q,H),!(this instanceof F))return e(be.s*be.n,be.d);Q=Y(be.d,be.n),this.s=be.s,this.n=be.n/Q,this.d=be.d/Q}F.DivisionByZero=new Error("Division by Zero"),F.InvalidParameter=new Error("Invalid argument"),F.NonIntegerParameter=new Error("Parameters must be integer"),F.prototype={s:1,n:0,d:1,abs:function(){return e(this.n,this.d)},neg:function(){return e(-this.s*this.n,this.d)},add:function(Q,H){return St(Q,H),e(this.s*this.n*be.d+be.s*this.d*be.n,this.d*be.d)},sub:function(Q,H){return St(Q,H),e(this.s*this.n*be.d-be.s*this.d*be.n,this.d*be.d)},mul:function(Q,H){return St(Q,H),e(this.s*be.s*this.n*be.n,this.d*be.d)},div:function(Q,H){return St(Q,H),e(this.s*be.s*this.n*be.d,this.d*be.n)},clone:function(){return e(this.s*this.n,this.d)},mod:function(Q,H){if(isNaN(this.n)||isNaN(this.d))return new F(NaN);if(void 0===Q)return e(this.s*this.n%this.d,1);if(St(Q,H),0===be.n&&0===this.d)throw F.DivisionByZero;return e(this.s*(be.d*this.n)%(be.n*this.d),be.d*this.d)},gcd:function(Q,H){return St(Q,H),e(Y(be.n,this.n)*Y(be.d,this.d),be.d*this.d)},lcm:function(Q,H){return St(Q,H),0===be.n&&0===this.n?e(0,1):e(be.n*this.n,Y(be.n,this.n)*Y(be.d,this.d))},ceil:function(Q){return Q=Math.pow(10,Q||0),isNaN(this.n)||isNaN(this.d)?new F(NaN):e(Math.ceil(Q*this.s*this.n/this.d),Q)},floor:function(Q){return Q=Math.pow(10,Q||0),isNaN(this.n)||isNaN(this.d)?new F(NaN):e(Math.floor(Q*this.s*this.n/this.d),Q)},round:function(Q){return Q=Math.pow(10,Q||0),isNaN(this.n)||isNaN(this.d)?new F(NaN):e(Math.round(Q*this.s*this.n/this.d),Q)},inverse:function(){return e(this.s*this.d,this.n)},pow:function(Q,H){if(St(Q,H),1===be.d)return be.s<0?e(Math.pow(this.s*this.d,be.n),Math.pow(this.n,be.n)):e(Math.pow(this.s*this.n,be.n),Math.pow(this.d,be.n));if(this.s<0)return null;var me=ct(this.n),te=ct(this.d),xe=1,he=1;for(var Fe in me)if("1"!==Fe){if("0"===Fe){xe=0;break}if(me[Fe]*=be.n,me[Fe]%be.d!=0)return null;me[Fe]/=be.d,xe*=Math.pow(Fe,me[Fe])}for(var Fe in te)if("1"!==Fe){if(te[Fe]*=be.n,te[Fe]%be.d!=0)return null;te[Fe]/=be.d,he*=Math.pow(Fe,te[Fe])}return be.s<0?e(he,xe):e(xe,he)},equals:function(Q,H){return St(Q,H),this.s*this.n*be.d==be.s*be.n*this.d},compare:function(Q,H){St(Q,H);var me=this.s*this.n*be.d-be.s*be.n*this.d;return(0<me)-(me<0)},simplify:function(Q){if(isNaN(this.n)||isNaN(this.d))return this;Q=Q||.001;for(var H=this.abs(),me=H.toContinued(),te=1;te<me.length;te++){for(var xe=e(me[te-1],1),he=te-2;he>=0;he--)xe=xe.inverse().add(me[he]);if(xe.sub(H).abs().valueOf()<Q)return xe.mul(this.s)}return this},divisible:function(Q,H){return St(Q,H),!(!(be.n*this.d)||this.n*be.d%(be.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(Q){var H,me="",te=this.n,xe=this.d;return this.s<0&&(me+="-"),1===xe?me+=te:(Q&&(H=Math.floor(te/xe))>0&&(me+=H,me+=" ",te%=xe),me+=te,me+="/",me+=xe),me},toLatex:function(Q){var H,me="",te=this.n,xe=this.d;return this.s<0&&(me+="-"),1===xe?me+=te:(Q&&(H=Math.floor(te/xe))>0&&(me+=H,te%=xe),me+="\\frac{",me+=te,me+="}{",me+=xe,me+="}"),me},toContinued:function(){var Q,H=this.n,me=this.d,te=[];if(isNaN(H)||isNaN(me))return te;do{te.push(Math.floor(H/me)),Q=H%me,H=me,me=Q}while(1!==H);return te},toString:function(Q){var H=this.n,me=this.d;if(isNaN(H)||isNaN(me))return"NaN";Q=Q||15;var te=function fe(Q,H){for(;H%2==0;H/=2);for(;H%5==0;H/=5);if(1===H)return 0;for(var me=10%H,te=1;1!==me;te++)if(me=10*me%H,te>2e3)return 0;return te}(0,me),xe=function z(Q,H,me){for(var te=1,xe=function Le(Q,H,me){for(var te=1;H>0;Q=Q*Q%me,H>>=1)1&H&&(te=te*Q%me);return te}(10,me,H),he=0;he<300;he++){if(te===xe)return he;te=10*te%H,xe=10*xe%H}return 0}(0,me,te),he=this.s<0?"-":"";if(he+=H/me|0,H%=me,(H*=10)&&(he+="."),te){for(var Fe=xe;Fe--;)he+=H/me|0,H%=me,H*=10;for(he+="(",Fe=te;Fe--;)he+=H/me|0,H%=me,H*=10;he+=")"}else for(Fe=Q;H&&Fe--;)he+=H/me|0,H%=me,H*=10;return he}},void 0!==(gt=function(){return F}.apply(Pt,[]))&&(xn.exports=gt)}()},90723:xn=>{xn.exports=function Pt(ke,gt){"use strict";var Q,H,Ue=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Qe=/(^[ ]*|[ ]*$)/g,be=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Xe=/^0x[0-9a-f]+$/i,e=/^0/,ct=function(xe){return Pt.insensitive&&(""+xe).toLowerCase()||""+xe},St=ct(ke).replace(Qe,"")||"",Le=ct(gt).replace(Qe,"")||"",fe=St.replace(Ue,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),z=Le.replace(Ue,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Y=parseInt(St.match(Xe),16)||1!==fe.length&&St.match(be)&&Date.parse(St),F=parseInt(Le.match(Xe),16)||Y&&Le.match(be)&&Date.parse(Le)||null;if(F){if(Y<F)return-1;if(Y>F)return 1}for(var me=0,te=Math.max(fe.length,z.length);me<te;me++){if(Q=!(fe[me]||"").match(e)&&parseFloat(fe[me])||fe[me]||0,H=!(z[me]||"").match(e)&&parseFloat(z[me])||z[me]||0,isNaN(Q)!==isNaN(H))return isNaN(Q)?1:-1;if(typeof Q!=typeof H&&(Q+="",H+=""),Q<H)return-1;if(Q>H)return 1}return 0}},38914:xn=>{!function(){"use strict";var Pt=typeof window<"u"&&typeof window.document<"u"?window.document:{},ke=xn.exports,gt=function(){for(var be,Xe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=0,ct=Xe.length,St={};e<ct;e++)if((be=Xe[e])&&be[1]in Pt){for(e=0;e<be.length;e++)St[Xe[0][e]]=be[e];return St}return!1}(),Ue={change:gt.fullscreenchange,error:gt.fullscreenerror},Qe={request:function(be,Xe){return new Promise(function(e,ct){var St=function(){this.off("change",St),e()}.bind(this);this.on("change",St);var Le=(be=be||Pt.documentElement)[gt.requestFullscreen](Xe);Le instanceof Promise&&Le.then(St).catch(ct)}.bind(this))},exit:function(){return new Promise(function(be,Xe){if(this.isFullscreen){var e=function(){this.off("change",e),be()}.bind(this);this.on("change",e);var ct=Pt[gt.exitFullscreen]();ct instanceof Promise&&ct.then(e).catch(Xe)}else be()}.bind(this))},toggle:function(be,Xe){return this.isFullscreen?this.exit():this.request(be,Xe)},onchange:function(be){this.on("change",be)},onerror:function(be){this.on("error",be)},on:function(be,Xe){var e=Ue[be];e&&Pt.addEventListener(e,Xe,!1)},off:function(be,Xe){var e=Ue[be];e&&Pt.removeEventListener(e,Xe,!1)},raw:gt};gt?(Object.defineProperties(Qe,{isFullscreen:{get:function(){return Boolean(Pt[gt.fullscreenElement])}},element:{enumerable:!0,get:function(){return Pt[gt.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(Pt[gt.fullscreenEnabled])}}}),ke?xn.exports=Qe:window.screenfull=Qe):ke?xn.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},28952:xn=>{"use strict";var Pt=256,Ue=[],Qe=typeof global>"u"?window:global,be=Math.pow(Pt,6),Xe=Math.pow(2,52),e=2*Xe,St=Math.random;function Le(Q){var H,me=Q.length,te=this,xe=0,he=te.i=te.j=0,Fe=te.S=[];for(me||(Q=[me++]);xe<Pt;)Fe[xe]=xe++;for(xe=0;xe<Pt;xe++)Fe[xe]=Fe[he=255&he+Q[xe%me]+(H=Fe[xe])],Fe[he]=H;(te.g=function(Yt){for(var At,on=0,ot=te.i,$e=te.j,ee=te.S;Yt--;)At=ee[ot=255&ot+1],on=on*Pt+ee[255&(ee[ot]=ee[$e=255&$e+At])+(ee[$e]=At)];return te.i=ot,te.j=$e,on})(Pt)}function fe(Q,H){var xe,me=[],te=(typeof Q)[0];if(H&&"o"==te)for(xe in Q)try{me.push(fe(Q[xe],H-1))}catch{}return me.length?me:"s"==te?Q:Q+"\0"}function z(Q,H){for(var te,me=Q+"",xe=0;xe<me.length;)H[255&xe]=255&(te^=19*H[255&xe])+me.charCodeAt(xe++);return F(H)}function Y(Q){try{return Qe.crypto.getRandomValues(Q=new Uint8Array(Pt)),F(Q)}catch{return[+new Date,Qe,Qe.navigator&&Qe.navigator.plugins,Qe.screen,F(Ue)]}}function F(Q){return String.fromCharCode.apply(0,Q)}xn.exports=function(Q,H){if(H&&!0===H.global)return H.global=!1,Math.random=xn.exports(Q,H),H.global=!0,Math.random;var me=H&&H.entropy||!1,te=[],he=(z(fe(me?[Q,F(Ue)]:0 in arguments?Q:Y(),3),te),new Le(te));return z(F(he.S),Ue),function(){for(var Fe=he.g(6),Yt=be,At=0;Fe<Xe;)Fe=(Fe+At)*Pt,Yt*=Pt,At=he.g(1);for(;Fe>=e;)Fe/=2,Yt/=2,At>>>=1;return(Fe+At)/Yt}},xn.exports.resetGlobal=function(){Math.random=St},z(Math.random(),Ue)},56715:function(xn,Pt){"use strict";var ke,Ue;ke=function(){function Qe(){return!0}function be(){return!1}function Xe(){}return function e(){var ct=[{name:"number",test:function(ce){return"number"==typeof ce}},{name:"string",test:function(ce){return"string"==typeof ce}},{name:"boolean",test:function(ce){return"boolean"==typeof ce}},{name:"Function",test:function(ce){return"function"==typeof ce}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ce){return ce instanceof Date}},{name:"RegExp",test:function(ce){return ce instanceof RegExp}},{name:"Object",test:function(ce){return"object"==typeof ce&&null!==ce&&ce.constructor===Object}},{name:"null",test:function(ce){return null===ce}},{name:"undefined",test:function(ce){return void 0===ce}}],St={name:"any",test:Qe},Le=[],fe=[],z={types:ct,conversions:fe,ignore:Le};function Y(ce){var _e=en(z.types,function(ve){return ve.name===ce});if(_e)return _e;if("any"===ce)return St;var Ne=en(z.types,function(ve){return ve.name.toLowerCase()===ce.toLowerCase()});throw new TypeError('Unknown type "'+ce+'"'+(Ne?'. Did you mean "'+Ne.name+'"?':""))}function F(ce){return ce===St?999:z.types.indexOf(ce)}function Q(ce){var _e=en(z.types,function(Ne){return Ne.test(ce)});if(_e)return _e.name;throw new TypeError("Value has unknown type. Value: "+ce)}function te(ce){return ce.map(function(_e){var Ne=_e.types.map(ee);return(_e.restParam?"...":"")+Ne.join("|")}).join(",")}function xe(ce,_e){var Ne=0===ce.indexOf("..."),Ye=(Ne?ce.length>3?ce.slice(3):"any":ce).split("|").map(or).filter(qi).filter(Gn),st=function qr(ce,_e){var Ne={};return ce.forEach(function(ve){-1===_e.indexOf(ve.from)&&-1!==_e.indexOf(ve.to)&&!Ne[ve.from]&&(Ne[ve.from]=ve)}),Object.keys(Ne).map(function(ve){return Ne[ve]})}(_e,Ye),pt=Ye.map(function(Je){var _t=Y(Je);return{name:Je,typeIndex:F(_t),test:_t.test,conversion:null,conversionIndex:-1}}),tt=st.map(function(Je){var _t=Y(Je.from);return{name:Je.from,typeIndex:F(_t),test:_t.test,conversion:Je,conversionIndex:_e.indexOf(Je)}});return{types:pt.concat(tt),restParam:Ne}}function Fe(ce){var _e=Hn(ce);return!!_e&&_e.restParam}function Yt(ce){return ce.types.some(function(_e){return null!=_e.conversion})}function At(ce){if(!ce||0===ce.types.length)return Qe;if(1===ce.types.length)return Y(ce.types[0].name).test;if(2===ce.types.length){var _e=Y(ce.types[0].name).test,Ne=Y(ce.types[1].name).test;return function(st){return _e(st)||Ne(st)}}var ve=ce.types.map(function(Ye){return Y(Ye.name).test});return function(st){for(var pt=0;pt<ve.length;pt++)if(ve[pt](st))return!0;return!1}}function on(ce){var _e,Ne,ve;if(Fe(ce)){var Ye=(_e=function ii(ce){return ce.slice(0,ce.length-1)}(ce).map(At)).length,st=At(Hn(ce));return function(Je){for(var _t=0;_t<_e.length;_t++)if(!_e[_t](Je[_t]))return!1;return function(tt){for(var Je=Ye;Je<tt.length;Je++)if(!st(tt[Je]))return!1;return!0}(Je)&&Je.length>=Ye+1}}return 0===ce.length?function(Je){return 0===Je.length}:1===ce.length?(Ne=At(ce[0]),function(Je){return Ne(Je[0])&&1===Je.length}):2===ce.length?(Ne=At(ce[0]),ve=At(ce[1]),function(Je){return Ne(Je[0])&&ve(Je[1])&&2===Je.length}):(_e=ce.map(At),function(Je){for(var _t=0;_t<_e.length;_t++)if(!_e[_t](Je[_t]))return!1;return Je.length===_e.length})}function ot(ce,_e){return _e<ce.params.length?ce.params[_e]:Fe(ce.params)?Hn(ce.params):null}function $e(ce,_e,Ne){var ve=ot(ce,_e);return(ve?Ne?ve.types.filter(J):ve.types:[]).map(ee)}function ee(ce){return ce.name}function J(ce){return null==ce.conversion}function mn(ce,_e){var Ne=function Vn(ce){for(var _e={},Ne=0;Ne<ce.length;Ne++)_e[ce[Ne]]=!0;return Object.keys(_e)}(Mr(ce,function(ve){return $e(ve,_e,!1)}));return-1!==Ne.indexOf("any")?["any"]:Ne}function lr(ce,_e,Ne){var ve,Ye,tt,st=ce||"unnamed",pt=Ne;for(tt=0;tt<_e.length;tt++){var Je=pt.filter(function(Jn){var Wr=At(ot(Jn,tt));return(tt<Jn.params.length||Fe(Jn.params))&&Wr(_e[tt])});if(0===Je.length){if((Ye=mn(pt,tt)).length>0){var _t=Q(_e[tt]);return(ve=new TypeError("Unexpected type of argument in function "+st+" (expected: "+Ye.join(" or ")+", actual: "+_t+", index: "+tt+")")).data={category:"wrongType",fn:st,index:tt,actual:_t,expected:Ye},ve}}else pt=Je}var Kn=pt.map(function(Jn){return Fe(Jn.params)?1/0:Jn.params.length});if(_e.length<Math.min.apply(null,Kn))return Ye=mn(pt,tt),(ve=new TypeError("Too few arguments in function "+st+" (expected: "+Ye.join(" or ")+", index: "+_e.length+")")).data={category:"tooFewArgs",fn:st,index:_e.length,expected:Ye},ve;var Rn=Math.max.apply(null,Kn);return _e.length>Rn?((ve=new TypeError("Too many arguments in function "+st+" (expected: "+Rn+", actual: "+_e.length+")")).data={category:"tooManyArgs",fn:st,index:_e.length,expectedLength:Rn},ve):((ve=new TypeError('Arguments of type "'+_e.join(", ")+'" do not match any of the defined signatures of function '+st+".")).data={category:"mismatch",actual:_e.map(Q)},ve)}function qe(ce){for(var _e=999,Ne=0;Ne<ce.types.length;Ne++)J(ce.types[Ne])&&(_e=Math.min(_e,ce.types[Ne].typeIndex));return _e}function sn(ce){for(var _e=999,Ne=0;Ne<ce.types.length;Ne++)J(ce.types[Ne])||(_e=Math.min(_e,ce.types[Ne].conversionIndex));return _e}function Sn(ce,_e){var Ne;return 0!=(Ne=ce.restParam-_e.restParam)||0!=(Ne=Yt(ce)-Yt(_e))||0!=(Ne=qe(ce)-qe(_e))?Ne:sn(ce)-sn(_e)}function Dr(ce,_e){var ve,Ye,Ne=Math.min(ce.params.length,_e.params.length);if(0!=(Ye=ce.params.some(Yt)-_e.params.some(Yt)))return Ye;for(ve=0;ve<Ne;ve++)if(0!=(Ye=Yt(ce.params[ve])-Yt(_e.params[ve])))return Ye;for(ve=0;ve<Ne;ve++)if(0!==(Ye=Sn(ce.params[ve],_e.params[ve])))return Ye;return ce.params.length-_e.params.length}function Vt(ce){var _e,Ne,ve,Ye,st=[],pt=[];switch(ce.types.forEach(function(tt){tt.conversion&&(st.push(Y(tt.conversion.from).test),pt.push(tt.conversion.convert))}),pt.length){case 0:return function(Je){return Je};case 1:return _e=st[0],ve=pt[0],function(Je){return _e(Je)?ve(Je):Je};case 2:return _e=st[0],Ne=st[1],ve=pt[0],Ye=pt[1],function(Je){return _e(Je)?ve(Je):Ne(Je)?Ye(Je):Je};default:return function(Je){for(var _t=0;_t<pt.length;_t++)if(st[_t](Je))return pt[_t](Je);return Je}}}function zn(ce,_e){return function Ne(ve,Ye,st){if(Ye<ve.length){var Je,pt=ve[Ye],tt=_e?pt.types.filter(J):pt.types;if(pt.restParam){var _t=tt.filter(J);Je=_t.length<tt.length?[_t,tt]:[tt]}else Je=tt.map(function(Rn){return[Rn]});return Mr(Je,function(Rn){return Ne(ve,Ye+1,st.concat([Rn]))})}return[st.map(function(Rn,Jn){return{types:Rn,restParam:Jn===ve.length-1&&Fe(ve)}})]}(ce,0,[])}function dr(ce,_e){if(0===Object.keys(_e).length)throw new SyntaxError("No signatures provided");var Ne=[];Object.keys(_e).map(function($t){return function he(ce,_e,Ne){var ve=[];return""!==ce.trim()&&(ve=ce.split(",").map(or).map(function(Ye,st,pt){var tt=xe(Ye,Ne);if(tt.restParam&&st!==pt.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ye+'": only allowed for the last parameter');return tt})),ve.some(Pi)?null:{params:ve,fn:_e}}($t,_e[$t],z.conversions)}).filter(Ln).forEach(function($t){var C=en(Ne,function(I){return function Vr(ce,_e){for(var Ne=Math.max(ce.params.length,_e.params.length),ve=0;ve<Ne;ve++)if(!Qn($e(ce,ve,!0),$e(_e,ve,!0)))return!1;var pt=ce.params.length,tt=_e.params.length,Je=Fe(ce.params),_t=Fe(_e.params);return Je?_t?pt===tt:tt>=pt:_t?pt>=tt:pt===tt}(I,$t)});if(C)throw new TypeError('Conflicting signatures "'+te(C.params)+'" and "'+te($t.params)+'".');Ne.push($t)});var ve=Mr(Ne,function($t){return($t?zn($t.params,!1):[]).map(function(I){return{params:I,fn:$t.fn}})}).filter(Ln);ve.sort(Dr);var Ye=ve[0]&&ve[0].params.length<=2&&!Fe(ve[0].params),st=ve[1]&&ve[1].params.length<=2&&!Fe(ve[1].params),pt=ve[2]&&ve[2].params.length<=2&&!Fe(ve[2].params),tt=ve[3]&&ve[3].params.length<=2&&!Fe(ve[3].params),Je=ve[4]&&ve[4].params.length<=2&&!Fe(ve[4].params),_t=ve[5]&&ve[5].params.length<=2&&!Fe(ve[5].params),Kn=Ye&&st&&pt&&tt&&Je&&_t,Rn=ve.map(function($t){return on($t.params)}),Jn=Ye?At(ve[0].params[0]):be,Wr=st?At(ve[1].params[0]):be,fa=pt?At(ve[2].params[0]):be,ga=tt?At(ve[3].params[0]):be,Li=Je?At(ve[4].params[0]):be,Ri=_t?At(ve[5].params[0]):be,oi=Ye?At(ve[0].params[1]):be,ha=st?At(ve[1].params[1]):be,si=pt?At(ve[2].params[1]):be,Ui=tt?At(ve[3].params[1]):be,Bi=Je?At(ve[4].params[1]):be,un=_t?At(ve[5].params[1]):be,Nn=ve.map(function($t){return function ma(ce,_e){var Ne=_e;if(ce.some(Yt)){var ve=Fe(ce),Ye=ce.map(Vt);Ne=function(){for(var Je=[],_t=ve?arguments.length-1:arguments.length,Kn=0;Kn<_t;Kn++)Je[Kn]=Ye[Kn](arguments[Kn]);return ve&&(Je[_t]=arguments[_t].map(Ye[_t])),_e.apply(this,Je)}}var st=Ne;if(Fe(ce)){var pt=ce.length-1;st=function(){return Ne.apply(this,ai(arguments,0,pt).concat([ai(arguments,pt)]))}}return st}($t.params,$t.fn)}),vn=Ye?Nn[0]:Xe,$a=st?Nn[1]:Xe,ja=pt?Nn[2]:Xe,Yr=tt?Nn[3]:Xe,Ga=Je?Nn[4]:Xe,Ka=_t?Nn[5]:Xe,Xa=Ye?ve[0].params.length:-1,eo=st?ve[1].params.length:-1,Fi=pt?ve[2].params.length:-1,to=tt?ve[3].params.length:-1,no=Je?ve[4].params.length:-1,ro=_t?ve[5].params.length:-1,io=Kn?6:0,$r=ve.length,yr=function(){for(var C=io;C<$r;C++)if(Rn[C](arguments))return Nn[C].apply(this,arguments);return z.onMismatch(ce,arguments,ve)},zi=function $t(C,I){return arguments.length===Xa&&Jn(C)&&oi(I)?vn.apply($t,arguments):arguments.length===eo&&Wr(C)&&ha(I)?$a.apply($t,arguments):arguments.length===Fi&&fa(C)&&si(I)?ja.apply($t,arguments):arguments.length===to&&ga(C)&&Ui(I)?Yr.apply($t,arguments):arguments.length===no&&Li(C)&&Bi(I)?Ga.apply($t,arguments):arguments.length===ro&&Ri(C)&&un(I)?Ka.apply($t,arguments):yr.apply($t,arguments)};try{Object.defineProperty(zi,"name",{value:ce})}catch{}return zi.signatures=function et(ce){var _e={};return ce.forEach(function(Ne){Ne.params.some(Yt)||zn(Ne.params,!0).forEach(function(ve){_e[te(ve)]=Ne.fn})}),_e}(ve),zi}function Zn(ce,_e,Ne){throw lr(ce,_e,Ne)}function Gn(ce){return-1===z.ignore.indexOf(ce)}function or(ce){return ce.trim()}function qi(ce){return!!ce}function Ln(ce){return null!==ce}function Pi(ce){return 0===ce.types.length}function Hn(ce){return ce[ce.length-1]}function ai(ce,_e,Ne){return Array.prototype.slice.call(ce,_e,Ne)}function Zi(ce,_e){return-1!==ce.indexOf(_e)}function Qn(ce,_e){for(var Ne=0;Ne<ce.length;Ne++)if(Zi(_e,ce[Ne]))return!0;return!1}function en(ce,_e){for(var Ne=0;Ne<ce.length;Ne++)if(_e(ce[Ne]))return ce[Ne]}function Mr(ce,_e){return Array.prototype.concat.apply([],ce.map(_e))}function Sr(ce){for(var _e="",Ne=0;Ne<ce.length;Ne++){var ve=ce[Ne];if(("object"==typeof ve.signatures||"string"==typeof ve.signature)&&""!==ve.name)if(""===_e)_e=ve.name;else if(_e!==ve.name){var Ye=new Error("Function names do not match (expected: "+_e+", actual: "+ve.name+")");throw Ye.data={actual:ve.name,expected:_e},Ye}}return _e}function Jr(ce){var _e,Ne={};function ve(tt,Je){if(Ne.hasOwnProperty(tt)&&Je!==Ne[tt])throw(_e=new Error('Signature "'+tt+'" is defined twice')).data={signature:tt},_e}for(var Ye=0;Ye<ce.length;Ye++){var st=ce[Ye];if("object"==typeof st.signatures)for(var pt in st.signatures)st.signatures.hasOwnProperty(pt)&&(ve(pt,st.signatures[pt]),Ne[pt]=st.signatures[pt]);else{if("string"!=typeof st.signature)throw(_e=new TypeError("Function is no typed-function (index: "+Ye+")")).data={index:Ye},_e;ve(st.signature,st),Ne[st.signature]=st}}return Ne}return(z=dr("typed",{"string, Object":dr,Object:function(ce){var _e=[];for(var Ne in ce)ce.hasOwnProperty(Ne)&&_e.push(ce[Ne]);return dr(Sr(_e),ce)},"...Function":function(ce){return dr(Sr(ce),Jr(ce))},"string, ...Function":function(ce,_e){return dr(ce,Jr(_e))}})).create=e,z.types=ct,z.conversions=fe,z.ignore=Le,z.onMismatch=Zn,z.throwMismatchError=Zn,z.createError=lr,z.convert=function me(ce,_e){var Ne=Q(ce);if(_e===Ne)return ce;for(var ve=0;ve<z.conversions.length;ve++){var Ye=z.conversions[ve];if(Ye.from===Ne&&Ye.to===_e)return Ye.convert(ce)}throw new Error("Cannot convert from "+Ne+" to "+_e)},z.find=function H(ce,_e){if(!ce.signatures)throw new TypeError("Function is no typed-function");var Ne;if("string"==typeof _e){Ne=_e.split(",");for(var ve=0;ve<Ne.length;ve++)Ne[ve]=Ne[ve].trim()}else{if(!Array.isArray(_e))throw new TypeError("String array or a comma separated string expected");Ne=_e}var Ye=Ne.join(","),st=ce.signatures[Ye];if(st)return st;throw new TypeError("Signature not found (signature: "+(ce.name||"unnamed")+"("+Ne.join(", ")+"))")},z.addType=function(ce,_e){if(!ce||"string"!=typeof ce.name||"function"!=typeof ce.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==_e)for(var Ne=0;Ne<z.types.length;Ne++)if("Object"===z.types[Ne].name)return void z.types.splice(Ne,0,ce);z.types.push(ce)},z.addConversion=function(ce){if(!ce||"string"!=typeof ce.from||"string"!=typeof ce.to||"function"!=typeof ce.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");z.conversions.push(ce)},z}()},void 0!==(Ue=ke.apply(Pt,[]))&&(xn.exports=Ue)}}]);

//# debugId=ebe42ece-318e-5e73-8bd1-66eae0379e2c
